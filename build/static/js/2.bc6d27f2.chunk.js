/*! For license information please see 2.bc6d27f2.chunk.js.LICENSE.txt */
(this.webpackJsonpmyreactversion=this.webpackJsonpmyreactversion||[]).push([[2],[function(t,e,n){"use strict";t.exports=n(55)},function(t,e,n){(function(n){var r,i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}window.cash=function(){var t,e=document,n=window,r=Array.prototype,i=r.slice,o=r.filter,a=r.push,s=function(){},u=function(t){return"function"===typeof t&&t.call},l=function(t){return"string"===typeof t},c=/^#[\w-]*$/,h=/^\.[\w-]*$/,f=/<.+>/,p=/^\w+$/;function d(t,n){return n=n||e,h.test(t)?n.getElementsByClassName(t.slice(1)):p.test(t)?n.getElementsByTagName(t):n.querySelectorAll(t)}function v(n){if(!t){var r=(t=e.implementation.createHTMLDocument(null)).createElement("base");r.href=e.location.href,t.head.appendChild(r)}return t.body.innerHTML=n,t.body.childNodes}function g(t){"loading"!==e.readyState?t():e.addEventListener("DOMContentLoaded",t)}function y(t,r){if(!t)return this;if(t.cash&&t!==n)return t;var i,o=t,a=0;if(l(t))o=c.test(t)?e.getElementById(t.slice(1)):f.test(t)?v(t):d(t,r);else if(u(t))return g(t),this;if(!o)return this;if(o.nodeType||o===n)this[0]=o,this.length=1;else for(i=this.length=o.length;a<i;a++)this[a]=o[a];return this}function m(t,e){return new y(t,e)}var _=m.fn=m.prototype=y.prototype={cash:!0,length:0,push:a,splice:r.splice,map:r.map,init:y};function b(t,e){for(var n=t.length,r=0;r<n&&!1!==e.call(t[r],t[r],r,t);r++);}function w(t,e){var n=t&&(t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector);return!!n&&n.call(t,e)}function x(t){return l(t)?w:t.cash?function(e){return t.is(e)}:function(t,e){return t===e}}function E(t){return m(i.call(t).filter((function(t,e,n){return n.indexOf(t)===e})))}Object.defineProperty(_,"constructor",{value:m}),m.parseHTML=v,m.noop=s,m.isFunction=u,m.isString=l,m.extend=_.extend=function(t){t=t||{};var e=i.call(arguments),n=e.length,r=1;for(1===e.length&&(t=this,r=0);r<n;r++)if(e[r])for(var o in e[r])e[r].hasOwnProperty(o)&&(t[o]=e[r][o]);return t},m.extend({merge:function(t,e){for(var n=+e.length,r=t.length,i=0;i<n;r++,i++)t[r]=e[i];return t.length=r,t},each:b,matches:w,unique:E,isArray:Array.isArray,isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}});var S=m.uid="_cash"+Date.now();function C(t){return t[S]=t[S]||{}}function k(t,e,n){return C(t)[e]=n}function T(t,e){var n=C(t);return void 0===n[e]&&(n[e]=t.dataset?t.dataset[e]:m(t).attr("data-"+e)),n[e]}_.extend({data:function(t,e){if(l(t))return void 0===e?T(this[0],t):this.each((function(n){return k(n,t,e)}));for(var n in t)this.data(n,t[n]);return this},removeData:function(t){return this.each((function(e){return function(t,e){var n=C(t);n?delete n[e]:t.dataset?delete t.dataset[e]:m(t).removeAttr("data-"+name)}(e,t)}))}});var I=/\S+/g;function A(t){return l(t)&&t.match(I)}function M(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}function P(t,e,n){t.classList?t.classList.add(e):n.indexOf(" "+e+" ")&&(t.className+=" "+e)}function O(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(e,"")}_.extend({addClass:function(t){var e=A(t);return e?this.each((function(t){var n=" "+t.className+" ";b(e,(function(e){P(t,e,n)}))})):this},attr:function(t,e){if(t){if(l(t))return void 0===e?this[0]?this[0].getAttribute?this[0].getAttribute(t):this[0][t]:void 0:this.each((function(n){n.setAttribute?n.setAttribute(t,e):n[t]=e}));for(var n in t)this.attr(n,t[n]);return this}},hasClass:function(t){var e=!1,n=A(t);return n&&n.length&&this.each((function(t){return!(e=M(t,n[0]))})),e},prop:function(t,e){if(l(t))return void 0===e?this[0][t]:this.each((function(n){n[t]=e}));for(var n in t)this.prop(n,t[n]);return this},removeAttr:function(t){return this.each((function(e){e.removeAttribute?e.removeAttribute(t):delete e[t]}))},removeClass:function(t){if(!arguments.length)return this.attr("class","");var e=A(t);return e?this.each((function(t){b(e,(function(e){O(t,e)}))})):this},removeProp:function(t){return this.each((function(e){delete e[t]}))},toggleClass:function(t,e){if(void 0!==e)return this[e?"addClass":"removeClass"](t);var n=A(t);return n?this.each((function(t){var e=" "+t.className+" ";b(n,(function(n){M(t,n)?O(t,n):P(t,n,e)}))})):this}}),_.extend({add:function(t,e){return E(m.merge(this,m(t,e)))},each:function(t){return b(this,t),this},eq:function(t){return m(this.get(t))},filter:function(t){if(!t)return this;var e=u(t)?t:x(t);return m(o.call(this,(function(n){return e(n,t)})))},first:function(){return this.eq(0)},get:function(t){return void 0===t?i.call(this):t<0?this[t+this.length]:this[t]},index:function(t){var e=t?m(t)[0]:this[0],n=t?this:m(e).parent().children();return i.call(n).indexOf(e)},last:function(){return this.eq(-1)}});var N=function(){var t=/(?:^\w|[A-Z]|\b\w)/g,e=/[\s-_]+/g;return function(n){return n.replace(t,(function(t,e){return t[0===e?"toLowerCase":"toUpperCase"]()})).replace(e,"")}}(),D=function(){var t={},e=document.createElement("div").style;return function(n){if(n=N(n),t[n])return t[n];var r=n.charAt(0).toUpperCase()+n.slice(1);return b((n+" "+["webkit","moz","ms","o"].join(r+" ")+r).split(" "),(function(r){if(r in e)return t[r]=n=t[n]=r,!1})),t[n]}}();function R(t,e){return parseInt(n.getComputedStyle(t[0],null)[e],10)||0}function L(t,e,n){var r,i=T(t,"_cashEvents"),o=i&&i[e];o&&(n?(t.removeEventListener(e,n),(r=o.indexOf(n))>=0&&o.splice(r,1)):(b(o,(function(n){t.removeEventListener(e,n)})),o=[]))}function F(t,e){return"&"+encodeURIComponent(t)+"="+encodeURIComponent(e).replace(/%20/g,"+")}function j(t){var e=t.type;if(!e)return null;switch(e.toLowerCase()){case"select-one":return function(t){var e=t.selectedIndex;return e>=0?t.options[e].value:null}(t);case"select-multiple":return function(t){var e=[];return b(t.options,(function(t){t.selected&&e.push(t.value)})),e.length?e:null}(t);case"radio":case"checkbox":return t.checked?t.value:null;default:return t.value?t.value:null}}function B(t,e,n){var r=l(e);r||!e.length?b(t,r?function(t){return t.insertAdjacentHTML(n?"afterbegin":"beforeend",e)}:function(t,r){return function(t,e,n){if(n){var r=t.childNodes[0];t.insertBefore(e,r)}else t.appendChild(e)}(t,0===r?e:e.cloneNode(!0),n)}):b(e,(function(e){return B(t,e,n)}))}m.prefixedProp=D,m.camelCase=N,_.extend({css:function(t,e){if(l(t))return t=D(t),arguments.length>1?this.each((function(n){return n.style[t]=e})):n.getComputedStyle(this[0])[t];for(var r in t)this.css(r,t[r]);return this}}),b(["Width","Height"],(function(t){var e=t.toLowerCase();_[e]=function(){return this[0].getBoundingClientRect()[e]},_["inner"+t]=function(){return this[0]["client"+t]},_["outer"+t]=function(e){return this[0]["offset"+t]+(e?R(this,"margin"+("Width"===t?"Left":"Top"))+R(this,"margin"+("Width"===t?"Right":"Bottom")):0)}})),_.extend({off:function(t,e){return this.each((function(n){return L(n,t,e)}))},on:function(t,e,n,r){var i;if(!l(t)){for(var o in t)this.on(o,e,t[o]);return this}return u(e)&&(n=e,e=null),"ready"===t?(g(n),this):(e&&(i=n,n=function(t){for(var n=t.target;!w(n,e);){if(n===this||null===n)return!1;n=n.parentNode}n&&i.call(n,t)}),this.each((function(e){var i=n;r&&(i=function(){n.apply(this,arguments),L(e,t,i)}),function(t,e,n){var r=T(t,"_cashEvents")||k(t,"_cashEvents",{});r[e]=r[e]||[],r[e].push(n),t.addEventListener(e,n)}(e,t,i)})))},one:function(t,e,n){return this.on(t,e,n,!0)},ready:g,trigger:function(t,e){if(document.createEvent){var n=document.createEvent("HTMLEvents");return n.initEvent(t,!0,!1),n=this.extend(n,e),this.each((function(t){return t.dispatchEvent(n)}))}}}),_.extend({serialize:function(){var t="";return b(this[0].elements||this,(function(e){if(!e.disabled&&"FIELDSET"!==e.tagName){var n=e.name;switch(e.type.toLowerCase()){case"file":case"reset":case"submit":case"button":break;case"select-multiple":var r=j(e);null!==r&&b(r,(function(e){t+=F(n,e)}));break;default:var i=j(e);null!==i&&(t+=F(n,i))}}})),t.substr(1)},val:function(t){return void 0===t?j(this[0]):this.each((function(e){return e.value=t}))}}),_.extend({after:function(t){return m(t).insertAfter(this),this},append:function(t){return B(this,t),this},appendTo:function(t){return B(m(t),this),this},before:function(t){return m(t).insertBefore(this),this},clone:function(){return m(this.map((function(t){return t.cloneNode(!0)})))},empty:function(){return this.html(""),this},html:function(t){if(void 0===t)return this[0].innerHTML;var e=t.nodeType?t[0].outerHTML:t;return this.each((function(t){return t.innerHTML=e}))},insertAfter:function(t){var e=this;return m(t).each((function(t,n){var r=t.parentNode,i=t.nextSibling;e.each((function(t){r.insertBefore(0===n?t:t.cloneNode(!0),i)}))})),this},insertBefore:function(t){var e=this;return m(t).each((function(t,n){var r=t.parentNode;e.each((function(e){r.insertBefore(0===n?e:e.cloneNode(!0),t)}))})),this},prepend:function(t){return B(this,t,!0),this},prependTo:function(t){return B(m(t),this,!0),this},remove:function(){return this.each((function(t){if(t.parentNode)return t.parentNode.removeChild(t)}))},text:function(t){return void 0===t?this[0].textContent:this.each((function(e){return e.textContent=t}))}});var V=e.documentElement;return _.extend({position:function(){var t=this[0];return{left:t.offsetLeft,top:t.offsetTop}},offset:function(){var t=this[0].getBoundingClientRect();return{top:t.top+n.pageYOffset-V.clientTop,left:t.left+n.pageXOffset-V.clientLeft}},offsetParent:function(){return m(this[0].offsetParent)}}),_.extend({children:function(t){var e=[];return this.each((function(t){a.apply(e,t.children)})),e=E(e),t?e.filter((function(e){return w(e,t)})):e},closest:function(t){return!t||this.length<1?m():this.is(t)?this.filter(t):this.parent().closest(t)},is:function(t){if(!t)return!1;var e=!1,n=x(t);return this.each((function(r){return!(e=n(r,t))})),e},find:function(t){if(!t||t.nodeType)return m(t&&this.has(t).length?t:null);var e=[];return this.each((function(n){a.apply(e,d(t,n))})),E(e)},has:function(t){var e=l(t)?function(e){return 0!==d(t,e).length}:function(e){return e.contains(t)};return this.filter(e)},next:function(){return m(this[0].nextElementSibling)},not:function(t){if(!t)return this;var e=x(t);return this.filter((function(n){return!e(n,t)}))},parent:function(){var t=[];return this.each((function(e){e&&e.parentNode&&t.push(e.parentNode)})),E(t)},parents:function(t){var n,r=[];return this.each((function(i){for(n=i;n&&n.parentNode&&n!==e.body.parentNode;)n=n.parentNode,(!t||t&&w(n,t))&&r.push(n)})),E(r)},prev:function(){return m(this[0].previousElementSibling)},siblings:function(t){var e=this.parent().children(t),n=this[0];return e.filter((function(t){return t!==n}))}}),m}();var l=function(){function t(e,n,r){u(this,t),n instanceof Element||console.error(Error(n+" is not an HTML Element"));var i=e.getInstance(n);i&&i.destroy(),this.el=n,this.$el=cash(n)}return o(t,null,[{key:"init",value:function(t,e,n){var r=null;if(e instanceof Element)r=new t(e,n);else if(e&&(e.jquery||e.cash||e instanceof NodeList)){for(var i=[],o=0;o<e.length;o++)i.push(new t(e[o],n));r=i}return r}}]),t}();!function(t){t.Package?M={}:t.M={},M.jQueryLoaded=!!t.jQuery}(window),void 0===(r=function(){return M}.apply(e,[]))||(t.exports=r),M.keys={TAB:9,ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40},M.tabPressed=!1,M.keyDown=!1;document.addEventListener("keydown",(function(t){M.keyDown=!0,t.which!==M.keys.TAB&&t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ARROW_UP||(M.tabPressed=!0)}),!0),document.addEventListener("keyup",(function(t){M.keyDown=!1,t.which!==M.keys.TAB&&t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ARROW_UP||(M.tabPressed=!1)}),!0),document.addEventListener("focus",(function(t){M.keyDown&&document.body.classList.add("keyboard-focused")}),!0),document.addEventListener("blur",(function(t){document.body.classList.remove("keyboard-focused")}),!0),M.initializeJqueryWrapper=function(t,e,n){jQuery.fn[e]=function(r){if(t.prototype[r]){var i=Array.prototype.slice.call(arguments,1);if("get"===r.slice(0,3)){var o=this.first()[0][n];return o[r].apply(o,i)}return this.each((function(){var t=this[n];t[r].apply(t,i)}))}if("object"===typeof r||!r)return t.init(this,arguments[0]),this;jQuery.error("Method "+r+" does not exist on jQuery."+e)}},M.AutoInit=function(t){var e=t||document.body,n={Autocomplete:e.querySelectorAll(".autocomplete:not(.no-autoinit)"),Carousel:e.querySelectorAll(".carousel:not(.no-autoinit)"),Chips:e.querySelectorAll(".chips:not(.no-autoinit)"),Collapsible:e.querySelectorAll(".collapsible:not(.no-autoinit)"),Datepicker:e.querySelectorAll(".datepicker:not(.no-autoinit)"),Dropdown:e.querySelectorAll(".dropdown-trigger:not(.no-autoinit)"),Materialbox:e.querySelectorAll(".materialboxed:not(.no-autoinit)"),Modal:e.querySelectorAll(".modal:not(.no-autoinit)"),Parallax:e.querySelectorAll(".parallax:not(.no-autoinit)"),Pushpin:e.querySelectorAll(".pushpin:not(.no-autoinit)"),ScrollSpy:e.querySelectorAll(".scrollspy:not(.no-autoinit)"),FormSelect:e.querySelectorAll("select:not(.no-autoinit)"),Sidenav:e.querySelectorAll(".sidenav:not(.no-autoinit)"),Tabs:e.querySelectorAll(".tabs:not(.no-autoinit)"),TapTarget:e.querySelectorAll(".tap-target:not(.no-autoinit)"),Timepicker:e.querySelectorAll(".timepicker:not(.no-autoinit)"),Tooltip:e.querySelectorAll(".tooltipped:not(.no-autoinit)"),FloatingActionButton:e.querySelectorAll(".fixed-action-btn:not(.no-autoinit)")};for(var r in n){M[r].init(n[r])}},M.objectSelectorString=function(t){return((t.prop("tagName")||"")+(t.attr("id")||"")+(t.attr("class")||"")).replace(/\s/g,"")},M.guid=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(),M.escapeHash=function(t){return t.replace(/(:|\.|\[|\]|,|=|\/)/g,"\\$1")},M.elementOrParentIsFixed=function(t){var e=$(t),n=e.add(e.parents()),r=!1;return n.each((function(){if("fixed"===$(this).css("position"))return r=!0,!1})),r},M.checkWithinContainer=function(t,e,n){var r={top:!1,right:!1,bottom:!1,left:!1},i=t.getBoundingClientRect(),o=t===document.body?Math.max(i.bottom,window.innerHeight):i.bottom,a=t.scrollLeft,s=t.scrollTop,u=e.left-a,l=e.top-s;return(u<i.left+n||u<n)&&(r.left=!0),(u+e.width>i.right-n||u+e.width>window.innerWidth-n)&&(r.right=!0),(l<i.top+n||l<n)&&(r.top=!0),(l+e.height>o-n||l+e.height>window.innerHeight-n)&&(r.bottom=!0),r},M.checkPossibleAlignments=function(t,e,n,r){var i={top:!0,right:!0,bottom:!0,left:!0,spaceOnTop:null,spaceOnRight:null,spaceOnBottom:null,spaceOnLeft:null},o="visible"===getComputedStyle(e).overflow,a=e.getBoundingClientRect(),s=Math.min(a.height,window.innerHeight),u=Math.min(a.width,window.innerWidth),l=t.getBoundingClientRect(),c=e.scrollLeft,h=e.scrollTop,f=n.left-c,p=n.top-h,d=n.top+l.height-h;return i.spaceOnRight=o?window.innerWidth-(l.left+n.width):u-(f+n.width),i.spaceOnRight<0&&(i.left=!1),i.spaceOnLeft=o?l.right-n.width:f-n.width+l.width,i.spaceOnLeft<0&&(i.right=!1),i.spaceOnBottom=o?window.innerHeight-(l.top+n.height+r):s-(p+n.height+r),i.spaceOnBottom<0&&(i.top=!1),i.spaceOnTop=o?l.bottom-(n.height+r):d-(n.height-r),i.spaceOnTop<0&&(i.bottom=!1),i},M.getOverflowParent=function(t){return null==t?null:t===document.body||"visible"!==getComputedStyle(t).overflow?t:M.getOverflowParent(t.parentElement)},M.getIdFromTrigger=function(t){var e=t.getAttribute("data-target");return e||(e=(e=t.getAttribute("href"))?e.slice(1):""),e},M.getDocumentScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},M.getDocumentScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};var c=Date.now||function(){return(new Date).getTime()};M.throttle=function(t,e,n){var r=void 0,i=void 0,o=void 0,a=null,s=0;n||(n={});var u=function(){s=!1===n.leading?0:c(),a=null,o=t.apply(r,i),r=i=null};return function(){var l=c();s||!1!==n.leading||(s=l);var h=e-(l-s);return r=this,i=arguments,h<=0?(clearTimeout(a),a=null,s=l,o=t.apply(r,i),r=i=null):a||!1===n.trailing||(a=setTimeout(u,h)),o}};var h={scope:{}};h.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},h.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:"undefined"!=typeof n&&null!=n?n:t},h.global=h.getGlobal(this),h.SYMBOL_PREFIX="jscomp_symbol_",h.initSymbol=function(){h.initSymbol=function(){},h.global.Symbol||(h.global.Symbol=h.Symbol)},h.symbolCounter_=0,h.Symbol=function(t){return h.SYMBOL_PREFIX+(t||"")+h.symbolCounter_++},h.initSymbolIterator=function(){h.initSymbol();var t=h.global.Symbol.iterator;t||(t=h.global.Symbol.iterator=h.global.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&h.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return h.arrayIterator(this)}}),h.initSymbolIterator=function(){}},h.arrayIterator=function(t){var e=0;return h.iteratorPrototype((function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}))},h.iteratorPrototype=function(t){return h.initSymbolIterator(),(t={next:t})[h.global.Symbol.iterator]=function(){return this},t},h.array=h.array||{},h.iteratorFromArray=function(t,e){h.initSymbolIterator(),t instanceof String&&(t+="");var n=0,r={next:function(){if(n<t.length){var i=n++;return{value:e(i,t[i]),done:!1}}return r.next=function(){return{done:!0,value:void 0}},r.next()}};return r[Symbol.iterator]=function(){return r},r},h.polyfill=function(t,e,n,r){if(e){for(n=h.global,t=t.split("."),r=0;r<t.length-1;r++){var i=t[r];i in n||(n[i]={}),n=n[i]}(e=e(r=n[t=t[t.length-1]]))!=r&&null!=e&&h.defineProperty(n,t,{configurable:!0,writable:!0,value:e})}},h.polyfill("Array.prototype.keys",(function(t){return t||function(){return h.iteratorFromArray(this,(function(t){return t}))}}),"es6-impl","es3");var f=this;M.anime=function(){function t(t){if(!M.col(t))try{return document.querySelectorAll(t)}catch(e){}}function e(t,e){for(var n=t.length,r=2<=arguments.length?arguments[1]:void 0,i=[],o=0;o<n;o++)if(o in t){var a=t[o];e.call(r,a,o,t)&&i.push(a)}return i}function n(t){return t.reduce((function(t,e){return t.concat(M.arr(e)?n(e):e)}),[])}function r(e){return M.arr(e)?e:(M.str(e)&&(e=t(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function i(t,e){return t.some((function(t){return t===e}))}function o(t){var e,n={};for(e in t)n[e]=t[e];return n}function a(t,e){var n,r=o(t);for(n in t)r[n]=e.hasOwnProperty(n)?e[n]:t[n];return r}function s(t,e){var n,r=o(t);for(n in e)r[n]=M.und(t[n])?e[n]:t[n];return r}function u(t){if(t=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t))return t[2]}function l(t,e){return M.fnc(t)?t(e.target,e.id,e.total):t}function c(t,e){if(e in t.style)return getComputedStyle(t).getPropertyValue(e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function h(t,e){return M.dom(t)&&i(A,e)?"transform":M.dom(t)&&(t.getAttribute(e)||M.svg(t)&&t[e])?"attribute":M.dom(t)&&"transform"!==e&&c(t,e)?"css":null!=t[e]?"object":void 0}function p(t,n){switch(h(t,n)){case"transform":return function(t,n){var r=function(t){return-1<t.indexOf("translate")||"perspective"===t?"px":-1<t.indexOf("rotate")||-1<t.indexOf("skew")?"deg":void 0}(n);if(r=-1<n.indexOf("scale")?1:0+r,!(t=t.style.transform))return r;for(var i=[],o=[],a=[],s=/(\w+)\((.+?)\)/g;i=s.exec(t);)o.push(i[1]),a.push(i[2]);return(t=e(a,(function(t,e){return o[e]===n}))).length?t[0]:r}(t,n);case"css":return c(t,n);case"attribute":return t.getAttribute(n)}return t[n]||0}function d(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var r=u(t)||0;switch(e=parseFloat(e),t=parseFloat(t.replace(n[0],"")),n[0][0]){case"+":return e+t+r;case"-":return e-t+r;case"*":return e*t+r}}function v(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function g(t){t=t.points;for(var e,n=0,r=0;r<t.numberOfItems;r++){var i=t.getItem(r);0<r&&(n+=v(e,i)),e=i}return n}function y(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return 2*Math.PI*t.getAttribute("r");case"rect":return 2*t.getAttribute("width")+2*t.getAttribute("height");case"line":return v({x:t.getAttribute("x1"),y:t.getAttribute("y1")},{x:t.getAttribute("x2"),y:t.getAttribute("y2")});case"polyline":return g(t);case"polygon":var e=t.points;return g(t)+v(e.getItem(e.numberOfItems-1),e.getItem(0))}}function m(t,e){function n(n){return n=void 0===n?0:n,t.el.getPointAtLength(1<=e+n?e+n:0)}var r=n(),i=n(-1),o=n(1);switch(t.property){case"x":return r.x;case"y":return r.y;case"angle":return 180*Math.atan2(o.y-i.y,o.x-i.x)/Math.PI}}function _(t,e){var n,r=/-?\d*\.?\d+/g;if(n=M.pth(t)?t.totalLength:t,M.col(n))if(M.rgb(n)){var i=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n);n=i?"rgba("+i[1]+",1)":n}else n=M.hex(n)?function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,r){return e+e+n+n+r+r}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+(t=parseInt(e[1],16))+","+parseInt(e[2],16)+","+(e=parseInt(e[3],16))+",1)"}(n):M.hsl(n)?function(t){function e(t,e,n){return 0>n&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:.5>n?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var n=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t);t=parseInt(n[1])/360;var r=parseInt(n[2])/100,i=parseInt(n[3])/100;if(n=n[4]||1,0==r)i=r=t=i;else{var o=.5>i?i*(1+r):i+r-i*r,a=2*i-o;i=e(a,o,t+1/3),r=e(a,o,t),t=e(a,o,t-1/3)}return"rgba("+255*i+","+255*r+","+255*t+","+n+")"}(n):void 0;else i=(i=u(n))?n.substr(0,n.length-i.length):n,n=e&&!/\s/g.test(n)?i+e:i;return{original:n+="",numbers:n.match(r)?n.match(r).map(Number):[0],strings:M.str(t)||e?n.split(r):[]}}function b(t){return e(t=t?n(M.arr(t)?t.map(r):r(t)):[],(function(t,e,n){return n.indexOf(t)===e}))}function w(t,e){var n=o(e);if(M.arr(t)){var i=t.length;2!==i||M.obj(t[0])?M.fnc(e.duration)||(n.duration=e.duration/i):t={value:t}}return r(t).map((function(t,n){return n=n?0:e.delay,t=M.obj(t)&&!M.pth(t)?t:{value:t},M.und(t.delay)&&(t.delay=n),t})).map((function(t){return s(t,n)}))}function x(t,e){var n;return t.tweens.map((function(r){var i=(r=function(t,e){var n,r={};for(n in t){var i=l(t[n],e);M.arr(i)&&1===(i=i.map((function(t){return l(t,e)}))).length&&(i=i[0]),r[n]=i}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}(r,e)).value,o=p(e.target,t.name),a=n?n.to.original:o,s=(a=M.arr(i)?i[0]:a,d(M.arr(i)?i[1]:i,a));return o=u(s)||u(a)||u(o),r.from=_(a,o),r.to=_(s,o),r.start=n?n.end:t.offset,r.end=r.start+r.delay+r.duration,r.easing=function(t){return M.arr(t)?P.apply(this,t):O[t]}(r.easing),r.elasticity=(1e3-Math.min(Math.max(r.elasticity,1),999))/1e3,r.isPath=M.pth(i),r.isColor=M.col(r.from.original),r.isColor&&(r.round=1),n=r}))}function E(t,e,n,r){var i="delay"===t;return e.length?(i?Math.min:Math.max).apply(Math,e.map((function(e){return e[t]}))):i?r.delay:n.offset+r.delay+r.duration}function S(t){var r,i=a(T,t),o=a(I,t),u=function(t){var e=b(t);return e.map((function(t,n){return{target:t,id:n,total:e.length}}))}(t.targets),l=[],c=s(i,o);for(r in t)c.hasOwnProperty(r)||"targets"===r||l.push({name:r,offset:c.offset,tweens:w(t[r],o)});return t=function(t,r){return e(n(t.map((function(t){return r.map((function(e){var n=h(t.target,e.name);if(n){var r=x(e,t);e={type:n,property:e.name,animatable:t,tweens:r,duration:r[r.length-1].end,delay:r[0].delay}}else e=void 0;return e}))}))),(function(t){return!M.und(t)}))}(u,l),s(i,{children:[],animatables:u,animations:t,duration:E("duration",t,i,o),delay:E("delay",t,i,o)})}function C(t){function n(){return window.Promise&&new Promise((function(t){return f=t}))}function r(t){return d.reversed?d.duration-t:t}function i(t){for(var n=0,r={},i=d.animations,o=i.length;n<o;){var a=i[n],s=a.animatable,u=(l=a.tweens)[p=l.length-1];p&&(u=e(l,(function(e){return t<e.end}))[0]||u);for(var l=Math.min(Math.max(t-u.start-u.delay,0),u.duration)/u.duration,h=isNaN(l)?1:u.easing(l,u.elasticity),f=(l=u.to.strings,u.round),p=[],v=void 0,g=(v=u.to.numbers.length,0);g<v;g++){var y=void 0,_=(y=u.to.numbers[g],u.from.numbers[g]);y=u.isPath?m(u.value,h*y):_+h*(y-_),f&&(u.isColor&&2<g||(y=Math.round(y*f)/f)),p.push(y)}if(u=l.length)for(v=l[0],h=0;h<u;h++)f=l[h+1],g=p[h],isNaN(g)||(v=f?v+(g+f):v+(g+" "));else v=p[0];N[a.type](s.target,a.property,v,r,s.id),a.currentValue=v,n++}if(n=Object.keys(r).length)for(i=0;i<n;i++)k||(k=c(document.body,"transform")?"transform":"-webkit-transform"),d.animatables[i].target.style[k]=r[i].join(" ");d.currentTime=t,d.progress=t/d.duration*100}function o(t){d[t]&&d[t](d)}function a(){d.remaining&&!0!==d.remaining&&d.remaining--}function s(t){var e=d.duration,s=d.offset,c=s+d.delay,v=d.currentTime,g=d.reversed,y=r(t);if(d.children.length){var m=d.children,_=m.length;if(y>=d.currentTime)for(var b=0;b<_;b++)m[b].seek(y);else for(;_--;)m[_].seek(y)}(y>=c||!e)&&(d.began||(d.began=!0,o("begin")),o("run")),y>s&&y<e?i(y):(y<=s&&0!==v&&(i(0),g&&a()),(y>=e&&v!==e||!e)&&(i(e),g||a())),o("update"),t>=e&&(d.remaining?(l=u,"alternate"===d.direction&&(d.reversed=!d.reversed)):(d.pause(),d.completed||(d.completed=!0,o("complete"),"Promise"in window&&(f(),p=n()))),h=0)}t=void 0===t?{}:t;var u,l,h=0,f=null,p=n(),d=S(t);return d.reset=function(){var t=d.direction,e=d.loop;for(d.currentTime=0,d.progress=0,d.paused=!0,d.began=!1,d.completed=!1,d.reversed="reverse"===t,d.remaining="alternate"===t&&1===e?2:e,i(0),t=d.children.length;t--;)d.children[t].reset()},d.tick=function(t){u=t,l||(l=u),s((h+u-l)*C.speed)},d.seek=function(t){s(r(t))},d.pause=function(){var t=D.indexOf(d);-1<t&&D.splice(t,1),d.paused=!0},d.play=function(){d.paused&&(d.paused=!1,l=0,h=r(d.currentTime),D.push(d),R||L())},d.reverse=function(){d.reversed=!d.reversed,l=0,h=r(d.currentTime)},d.restart=function(){d.pause(),d.reset(),d.play()},d.finished=p,d.reset(),d.autoplay&&d.play(),d}var k,T={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},I={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},A="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),M={arr:function(t){return Array.isArray(t)},obj:function(t){return-1<Object.prototype.toString.call(t).indexOf("Object")},pth:function(t){return M.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},dom:function(t){return t.nodeType||M.svg(t)},str:function(t){return"string"===typeof t},fnc:function(t){return"function"===typeof t},und:function(t){return"undefined"===typeof t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return M.hex(t)||M.rgb(t)||M.hsl(t)}},P=function(){function t(t,e,n){return(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t}return function(e,n,r,i){if(0<=e&&1>=e&&0<=r&&1>=r){var o=new Float32Array(11);if(e!==n||r!==i)for(var a=0;11>a;++a)o[a]=t(.1*a,e,r);return function(a){if(e===n&&r===i)return a;if(0===a)return 0;if(1===a)return 1;for(var s=0,u=1;10!==u&&o[u]<=a;++u)s+=.1;--u,u=s+(a-o[u])/(o[u+1]-o[u])*.1;var l=3*(1-3*r+3*e)*u*u+2*(3*r-6*e)*u+3*e;if(.001<=l){for(s=0;4>s&&0!==(l=3*(1-3*r+3*e)*u*u+2*(3*r-6*e)*u+3*e);++s){var c=t(u,e,r)-a;u-=c/l}a=u}else if(0===l)a=u;else{u=s,s+=.1;var h=0;do{0<(l=t(c=u+(s-u)/2,e,r)-a)?s=c:u=c}while(1e-7<Math.abs(l)&&10>++h);a=c}return t(a,n,i)}}}}(),O=function(){function t(t,e){return 0===t||1===t?t:-Math.pow(2,10*(t-1))*Math.sin(2*(t-1-e/(2*Math.PI)*Math.asin(1))*Math.PI/e)}var e,n="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),r={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],t],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,n){return 1-t(1-e,n)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,n){return.5>e?t(2*e,n)/2:1-t(-2*e+2,n)/2}]},i={linear:P(.25,.25,.75,.75)},o={};for(e in r)o.type=e,r[o.type].forEach(function(t){return function(e,r){i["ease"+t.type+n[r]]=M.fnc(e)?e:P.apply(f,e)}}(o)),o={type:o.type};return i}(),N={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,r,i){r[i]||(r[i]=[]),r[i].push(e+"("+n+")")}},D=[],R=0,L=function(){function t(){R=requestAnimationFrame(e)}function e(e){var n=D.length;if(n){for(var r=0;r<n;)D[r]&&D[r].tick(e),r++;t()}else cancelAnimationFrame(R),R=0}return t}();return C.version="2.2.0",C.speed=1,C.running=D,C.remove=function(t){t=b(t);for(var e=D.length;e--;)for(var n=D[e],r=n.animations,o=r.length;o--;)i(t,r[o].animatable.target)&&(r.splice(o,1),r.length||n.pause())},C.getValue=p,C.path=function(e,n){var r=M.str(e)?t(e)[0]:e,i=n||100;return function(t){return{el:r,property:t,totalLength:y(r)*(i/100)}}},C.setDashoffset=function(t){var e=y(t);return t.setAttribute("stroke-dasharray",e),e},C.bezier=P,C.easings=O,C.timeline=function(t){var e=C(t);return e.pause(),e.duration=0,e.add=function(n){return e.children.forEach((function(t){t.began=!0,t.completed=!0})),r(n).forEach((function(n){var r=s(n,a(I,t||{}));r.targets=r.targets||t.targets,n=e.duration;var i=r.offset;r.autoplay=!1,r.direction=e.direction,r.offset=M.und(i)?n:d(i,n),e.began=!0,e.completed=!0,e.seek(r.offset),(r=C(r)).began=!0,r.completed=!0,r.duration>n&&(e.duration=r.duration),e.children.push(r)})),e.seek(0),e.reset(),e.autoplay&&e.restart(),e},e},C.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},C}(),function(t,e){"use strict";var n={accordion:!0,onOpenStart:void 0,onOpenEnd:void 0,onCloseStart:void 0,onCloseEnd:void 0,inDuration:300,outDuration:300},r=function(r){function l(e,n){u(this,l);var r=a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));r.el.M_Collapsible=r,r.options=t.extend({},l.defaults,n),r.$headers=r.$el.children("li").children(".collapsible-header"),r.$headers.attr("tabindex",0),r._setupEventHandlers();var i=r.$el.children("li.active").children(".collapsible-body");return r.options.accordion?i.first().css("display","block"):i.css("display","block"),r}return s(l,r),o(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Collapsible=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleCollapsibleClickBound=this._handleCollapsibleClick.bind(this),this._handleCollapsibleKeydownBound=this._handleCollapsibleKeydown.bind(this),this.el.addEventListener("click",this._handleCollapsibleClickBound),this.$headers.each((function(e){e.addEventListener("keydown",t._handleCollapsibleKeydownBound)}))}},{key:"_removeEventHandlers",value:function(){var t=this;this.el.removeEventListener("click",this._handleCollapsibleClickBound),this.$headers.each((function(e){e.removeEventListener("keydown",t._handleCollapsibleKeydownBound)}))}},{key:"_handleCollapsibleClick",value:function(e){var n=t(e.target).closest(".collapsible-header");if(e.target&&n.length){var r=n.closest(".collapsible");if(r[0]===this.el){var i=n.closest("li"),o=r.children("li"),a=i[0].classList.contains("active"),s=o.index(i);a?this.close(s):this.open(s)}}}},{key:"_handleCollapsibleKeydown",value:function(t){13===t.keyCode&&this._handleCollapsibleClickBound(t)}},{key:"_animateIn",value:function(t){var n=this,r=this.$el.children("li").eq(t);if(r.length){var i=r.children(".collapsible-body");e.remove(i[0]),i.css({display:"block",overflow:"hidden",height:0,paddingTop:"",paddingBottom:""});var o=i.css("padding-top"),a=i.css("padding-bottom"),s=i[0].scrollHeight;i.css({paddingTop:0,paddingBottom:0}),e({targets:i[0],height:s,paddingTop:o,paddingBottom:a,duration:this.options.inDuration,easing:"easeInOutCubic",complete:function(t){i.css({overflow:"",paddingTop:"",paddingBottom:"",height:""}),"function"===typeof n.options.onOpenEnd&&n.options.onOpenEnd.call(n,r[0])}})}}},{key:"_animateOut",value:function(t){var n=this,r=this.$el.children("li").eq(t);if(r.length){var i=r.children(".collapsible-body");e.remove(i[0]),i.css("overflow","hidden"),e({targets:i[0],height:0,paddingTop:0,paddingBottom:0,duration:this.options.outDuration,easing:"easeInOutCubic",complete:function(){i.css({height:"",overflow:"",padding:"",display:""}),"function"===typeof n.options.onCloseEnd&&n.options.onCloseEnd.call(n,r[0])}})}}},{key:"open",value:function(e){var n=this,r=this.$el.children("li").eq(e);if(r.length&&!r[0].classList.contains("active")){if("function"===typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,r[0]),this.options.accordion){var i=this.$el.children("li");this.$el.children("li.active").each((function(e){var r=i.index(t(e));n.close(r)}))}r[0].classList.add("active"),this._animateIn(e)}}},{key:"close",value:function(t){var e=this.$el.children("li").eq(t);e.length&&e[0].classList.contains("active")&&("function"===typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,e[0]),e[0].classList.remove("active"),this._animateOut(t))}}],[{key:"init",value:function(t,e){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Collapsible}},{key:"defaults",get:function(){return n}}]),l}(l);M.Collapsible=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"collapsible","M_Collapsible")}(cash,M.anime),function(t,e){"use strict";var n={alignment:"left",autoFocus:!0,constrainWidth:!0,container:null,coverTrigger:!0,closeOnClick:!0,hover:!1,inDuration:150,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onItemClick:null},r=function(r){function l(e,n){u(this,l);var r=a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return r.el.M_Dropdown=r,l._dropdowns.push(r),r.id=M.getIdFromTrigger(e),r.dropdownEl=document.getElementById(r.id),r.$dropdownEl=t(r.dropdownEl),r.options=t.extend({},l.defaults,n),r.isOpen=!1,r.isScrollable=!1,r.isTouchMoving=!1,r.focusedIndex=-1,r.filterQuery=[],r.options.container?t(r.options.container).append(r.dropdownEl):r.$el.after(r.dropdownEl),r._makeDropdownFocusable(),r._resetFilterQueryBound=r._resetFilterQuery.bind(r),r._handleDocumentClickBound=r._handleDocumentClick.bind(r),r._handleDocumentTouchmoveBound=r._handleDocumentTouchmove.bind(r),r._handleDropdownClickBound=r._handleDropdownClick.bind(r),r._handleDropdownKeydownBound=r._handleDropdownKeydown.bind(r),r._handleTriggerKeydownBound=r._handleTriggerKeydown.bind(r),r._setupEventHandlers(),r}return s(l,r),o(l,[{key:"destroy",value:function(){this._resetDropdownStyles(),this._removeEventHandlers(),l._dropdowns.splice(l._dropdowns.indexOf(this),1),this.el.M_Dropdown=void 0}},{key:"_setupEventHandlers",value:function(){this.el.addEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.addEventListener("click",this._handleDropdownClickBound),this.options.hover?(this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.addEventListener("mouseleave",this._handleMouseLeaveBound)):(this._handleClickBound=this._handleClick.bind(this),this.el.addEventListener("click",this._handleClickBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.removeEventListener("click",this._handleDropdownClickBound),this.options.hover?(this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.removeEventListener("mouseleave",this._handleMouseLeaveBound)):this.el.removeEventListener("click",this._handleClickBound)}},{key:"_setupTemporaryEventHandlers",value:function(){document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound),document.body.addEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.addEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_removeTemporaryEventHandlers",value:function(){document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound),document.body.removeEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.removeEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_handleClick",value:function(t){t.preventDefault(),this.open()}},{key:"_handleMouseEnter",value:function(){this.open()}},{key:"_handleMouseLeave",value:function(e){var n=e.toElement||e.relatedTarget,r=!!t(n).closest(".dropdown-content").length,i=!1,o=t(n).closest(".dropdown-trigger");o.length&&o[0].M_Dropdown&&o[0].M_Dropdown.isOpen&&(i=!0),i||r||this.close()}},{key:"_handleDocumentClick",value:function(e){var n=this,r=t(e.target);this.options.closeOnClick&&r.closest(".dropdown-content").length&&!this.isTouchMoving?setTimeout((function(){n.close()}),0):!r.closest(".dropdown-trigger").length&&r.closest(".dropdown-content").length||setTimeout((function(){n.close()}),0),this.isTouchMoving=!1}},{key:"_handleTriggerKeydown",value:function(t){t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ENTER||this.isOpen||(t.preventDefault(),this.open())}},{key:"_handleDocumentTouchmove",value:function(e){t(e.target).closest(".dropdown-content").length&&(this.isTouchMoving=!0)}},{key:"_handleDropdownClick",value:function(e){if("function"===typeof this.options.onItemClick){var n=t(e.target).closest("li")[0];this.options.onItemClick.call(this,n)}}},{key:"_handleDropdownKeydown",value:function(e){if(e.which===M.keys.TAB)e.preventDefault(),this.close();else if(e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ARROW_UP||!this.isOpen)if(e.which===M.keys.ENTER&&this.isOpen){var n=this.dropdownEl.children[this.focusedIndex],r=t(n).find("a, button").first();r.length?r[0].click():n.click()}else e.which===M.keys.ESC&&this.isOpen&&(e.preventDefault(),this.close());else{e.preventDefault();var i=e.which===M.keys.ARROW_DOWN?1:-1,o=this.focusedIndex,a=!1;do{if(o+=i,this.dropdownEl.children[o]&&-1!==this.dropdownEl.children[o].tabIndex){a=!0;break}}while(o<this.dropdownEl.children.length&&o>=0);a&&(this.focusedIndex=o,this._focusFocusedItem())}var s=String.fromCharCode(e.which).toLowerCase();if(s&&-1===[9,13,27,38,40].indexOf(e.which)){this.filterQuery.push(s);var u=this.filterQuery.join(""),l=t(this.dropdownEl).find("li").filter((function(e){return 0===t(e).text().toLowerCase().indexOf(u)}))[0];l&&(this.focusedIndex=t(l).index(),this._focusFocusedItem())}this.filterTimeout=setTimeout(this._resetFilterQueryBound,1e3)}},{key:"_resetFilterQuery",value:function(){this.filterQuery=[]}},{key:"_resetDropdownStyles",value:function(){this.$dropdownEl.css({display:"",width:"",height:"",left:"",top:"","transform-origin":"",transform:"",opacity:""})}},{key:"_makeDropdownFocusable",value:function(){this.dropdownEl.tabIndex=0,t(this.dropdownEl).children().each((function(t){t.getAttribute("tabindex")||t.setAttribute("tabindex",0)}))}},{key:"_focusFocusedItem",value:function(){this.focusedIndex>=0&&this.focusedIndex<this.dropdownEl.children.length&&this.options.autoFocus&&this.dropdownEl.children[this.focusedIndex].focus()}},{key:"_getDropdownPosition",value:function(){this.el.offsetParent.getBoundingClientRect();var t=this.el.getBoundingClientRect(),e=this.dropdownEl.getBoundingClientRect(),n=e.height,r=e.width,i=t.left-e.left,o=t.top-e.top,a={left:i,top:o,height:n,width:r},s=this.dropdownEl.offsetParent?this.dropdownEl.offsetParent:this.dropdownEl.parentNode,u=M.checkPossibleAlignments(this.el,s,a,this.options.coverTrigger?0:t.height),l="top",c=this.options.alignment;if(o+=this.options.coverTrigger?0:t.height,this.isScrollable=!1,u.top||(u.bottom?l="bottom":(this.isScrollable=!0,u.spaceOnTop>u.spaceOnBottom?(l="bottom",n+=u.spaceOnTop,o-=u.spaceOnTop):n+=u.spaceOnBottom)),!u[c]){var h="left"===c?"right":"left";u[h]?c=h:u.spaceOnLeft>u.spaceOnRight?(c="right",r+=u.spaceOnLeft,i-=u.spaceOnLeft):(c="left",r+=u.spaceOnRight)}return"bottom"===l&&(o=o-e.height+(this.options.coverTrigger?t.height:0)),"right"===c&&(i=i-e.width+t.width),{x:i,y:o,verticalAlignment:l,horizontalAlignment:c,height:n,width:r}}},{key:"_animateIn",value:function(){var t=this;e.remove(this.dropdownEl),e({targets:this.dropdownEl,opacity:{value:[0,1],easing:"easeOutQuad"},scaleX:[.3,1],scaleY:[.3,1],duration:this.options.inDuration,easing:"easeOutQuint",complete:function(e){if(t.options.autoFocus&&t.dropdownEl.focus(),"function"===typeof t.options.onOpenEnd){var n=e.animatables[0].target;t.options.onOpenEnd.call(n,t.el)}}})}},{key:"_animateOut",value:function(){var t=this;e.remove(this.dropdownEl),e({targets:this.dropdownEl,opacity:{value:0,easing:"easeOutQuint"},scaleX:.3,scaleY:.3,duration:this.options.outDuration,easing:"easeOutQuint",complete:function(e){if(t._resetDropdownStyles(),"function"===typeof t.options.onCloseEnd){e.animatables[0].target;t.options.onCloseEnd.call(t,t.el)}}})}},{key:"_placeDropdown",value:function(){var t=this.options.constrainWidth?this.el.getBoundingClientRect().width:this.dropdownEl.getBoundingClientRect().width;this.dropdownEl.style.width=t+"px";var e=this._getDropdownPosition();this.dropdownEl.style.left=e.x+"px",this.dropdownEl.style.top=e.y+"px",this.dropdownEl.style.height=e.height+"px",this.dropdownEl.style.width=e.width+"px",this.dropdownEl.style.transformOrigin=("left"===e.horizontalAlignment?"0":"100%")+" "+("top"===e.verticalAlignment?"0":"100%")}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,"function"===typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._resetDropdownStyles(),this.dropdownEl.style.display="block",this._placeDropdown(),this._animateIn(),this._setupTemporaryEventHandlers())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.focusedIndex=-1,"function"===typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._animateOut(),this._removeTemporaryEventHandlers(),this.options.autoFocus&&this.el.focus())}},{key:"recalculateDimensions",value:function(){this.isOpen&&(this.$dropdownEl.css({width:"",height:"",left:"",top:"","transform-origin":""}),this._placeDropdown())}}],[{key:"init",value:function(t,e){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Dropdown}},{key:"defaults",get:function(){return n}}]),l}(l);r._dropdowns=[],window.M.Dropdown=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"dropdown","M_Dropdown")}(cash,M.anime),function(t,e){"use strict";var n={opacity:.5,inDuration:250,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0,dismissible:!0,startingTop:"4%",endingTop:"10%"},r=function(r){function l(e,n){u(this,l);var r=a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return r.el.M_Modal=r,r.options=t.extend({},l.defaults,n),r.isOpen=!1,r.id=r.$el.attr("id"),r._openingTrigger=void 0,r.$overlay=t('<div class="modal-overlay"></div>'),r.el.tabIndex=0,r._nthModalOpened=0,l._count++,r._setupEventHandlers(),r}return s(l,r),o(l,[{key:"destroy",value:function(){l._count--,this._removeEventHandlers(),this.el.removeAttribute("style"),this.$overlay.remove(),this.el.M_Modal=void 0}},{key:"_setupEventHandlers",value:function(){this._handleOverlayClickBound=this._handleOverlayClick.bind(this),this._handleModalCloseClickBound=this._handleModalCloseClick.bind(this),1===l._count&&document.body.addEventListener("click",this._handleTriggerClick),this.$overlay[0].addEventListener("click",this._handleOverlayClickBound),this.el.addEventListener("click",this._handleModalCloseClickBound)}},{key:"_removeEventHandlers",value:function(){0===l._count&&document.body.removeEventListener("click",this._handleTriggerClick),this.$overlay[0].removeEventListener("click",this._handleOverlayClickBound),this.el.removeEventListener("click",this._handleModalCloseClickBound)}},{key:"_handleTriggerClick",value:function(e){var n=t(e.target).closest(".modal-trigger");if(n.length){var r=M.getIdFromTrigger(n[0]),i=document.getElementById(r).M_Modal;i&&i.open(n),e.preventDefault()}}},{key:"_handleOverlayClick",value:function(){this.options.dismissible&&this.close()}},{key:"_handleModalCloseClick",value:function(e){t(e.target).closest(".modal-close").length&&this.close()}},{key:"_handleKeydown",value:function(t){27===t.keyCode&&this.options.dismissible&&this.close()}},{key:"_handleFocus",value:function(t){this.el.contains(t.target)||this._nthModalOpened!==l._modalsOpen||this.el.focus()}},{key:"_animateIn",value:function(){var n=this;t.extend(this.el.style,{display:"block",opacity:0}),t.extend(this.$overlay[0].style,{display:"block",opacity:0}),e({targets:this.$overlay[0],opacity:this.options.opacity,duration:this.options.inDuration,easing:"easeOutQuad"});var r={targets:this.el,duration:this.options.inDuration,easing:"easeOutCubic",complete:function(){"function"===typeof n.options.onOpenEnd&&n.options.onOpenEnd.call(n,n.el,n._openingTrigger)}};this.el.classList.contains("bottom-sheet")?(t.extend(r,{bottom:0,opacity:1}),e(r)):(t.extend(r,{top:[this.options.startingTop,this.options.endingTop],opacity:1,scaleX:[.8,1],scaleY:[.8,1]}),e(r))}},{key:"_animateOut",value:function(){var n=this;e({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuart"});var r={targets:this.el,duration:this.options.outDuration,easing:"easeOutCubic",complete:function(){n.el.style.display="none",n.$overlay.remove(),"function"===typeof n.options.onCloseEnd&&n.options.onCloseEnd.call(n,n.el)}};this.el.classList.contains("bottom-sheet")?(t.extend(r,{bottom:"-100%",opacity:0}),e(r)):(t.extend(r,{top:[this.options.endingTop,this.options.startingTop],opacity:0,scaleX:.8,scaleY:.8}),e(r))}},{key:"open",value:function(t){if(!this.isOpen)return this.isOpen=!0,l._modalsOpen++,this._nthModalOpened=l._modalsOpen,this.$overlay[0].style.zIndex=1e3+2*l._modalsOpen,this.el.style.zIndex=1e3+2*l._modalsOpen+1,this._openingTrigger=t?t[0]:void 0,"function"===typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el,this._openingTrigger),this.options.preventScrolling&&(document.body.style.overflow="hidden"),this.el.classList.add("open"),this.el.insertAdjacentElement("afterend",this.$overlay[0]),this.options.dismissible&&(this._handleKeydownBound=this._handleKeydown.bind(this),this._handleFocusBound=this._handleFocus.bind(this),document.addEventListener("keydown",this._handleKeydownBound),document.addEventListener("focus",this._handleFocusBound,!0)),e.remove(this.el),e.remove(this.$overlay[0]),this._animateIn(),this.el.focus(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,l._modalsOpen--,this._nthModalOpened=0,"function"===typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this.el.classList.remove("open"),0===l._modalsOpen&&(document.body.style.overflow=""),this.options.dismissible&&(document.removeEventListener("keydown",this._handleKeydownBound),document.removeEventListener("focus",this._handleFocusBound,!0)),e.remove(this.el),e.remove(this.$overlay[0]),this._animateOut(),this}}],[{key:"init",value:function(t,e){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Modal}},{key:"defaults",get:function(){return n}}]),l}(l);r._modalsOpen=0,r._count=0,M.Modal=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"modal","M_Modal")}(cash,M.anime),function(t,e){"use strict";var n={inDuration:275,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null},r=function(r){function l(e,n){u(this,l);var r=a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return r.el.M_Materialbox=r,r.options=t.extend({},l.defaults,n),r.overlayActive=!1,r.doneAnimating=!0,r.placeholder=t("<div></div>").addClass("material-placeholder"),r.originalWidth=0,r.originalHeight=0,r.originInlineStyles=r.$el.attr("style"),r.caption=r.el.getAttribute("data-caption")||"",r.$el.before(r.placeholder),r.placeholder.append(r.$el),r._setupEventHandlers(),r}return s(l,r),o(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Materialbox=void 0,t(this.placeholder).after(this.el).remove(),this.$el.removeAttr("style")}},{key:"_setupEventHandlers",value:function(){this._handleMaterialboxClickBound=this._handleMaterialboxClick.bind(this),this.el.addEventListener("click",this._handleMaterialboxClickBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleMaterialboxClickBound)}},{key:"_handleMaterialboxClick",value:function(t){!1===this.doneAnimating||this.overlayActive&&this.doneAnimating?this.close():this.open()}},{key:"_handleWindowScroll",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowResize",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowEscape",value:function(t){27===t.keyCode&&this.doneAnimating&&this.overlayActive&&this.close()}},{key:"_makeAncestorsOverflowVisible",value:function(){this.ancestorsChanged=t();for(var e=this.placeholder[0].parentNode;null!==e&&!t(e).is(document);){var n=t(e);"visible"!==n.css("overflow")&&(n.css("overflow","visible"),void 0===this.ancestorsChanged?this.ancestorsChanged=n:this.ancestorsChanged=this.ancestorsChanged.add(n)),e=e.parentNode}}},{key:"_animateImageIn",value:function(){var t=this,n={targets:this.el,height:[this.originalHeight,this.newHeight],width:[this.originalWidth,this.newWidth],left:M.getDocumentScrollLeft()+this.windowWidth/2-this.placeholder.offset().left-this.newWidth/2,top:M.getDocumentScrollTop()+this.windowHeight/2-this.placeholder.offset().top-this.newHeight/2,duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){t.doneAnimating=!0,"function"===typeof t.options.onOpenEnd&&t.options.onOpenEnd.call(t,t.el)}};this.maxWidth=this.$el.css("max-width"),this.maxHeight=this.$el.css("max-height"),"none"!==this.maxWidth&&(n.maxWidth=this.newWidth),"none"!==this.maxHeight&&(n.maxHeight=this.newHeight),e(n)}},{key:"_animateImageOut",value:function(){var t=this,n={targets:this.el,width:this.originalWidth,height:this.originalHeight,left:0,top:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.placeholder.css({height:"",width:"",position:"",top:"",left:""}),t.attrWidth&&t.$el.attr("width",t.attrWidth),t.attrHeight&&t.$el.attr("height",t.attrHeight),t.$el.removeAttr("style"),t.originInlineStyles&&t.$el.attr("style",t.originInlineStyles),t.$el.removeClass("active"),t.doneAnimating=!0,t.ancestorsChanged.length&&t.ancestorsChanged.css("overflow",""),"function"===typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t,t.el)}};e(n)}},{key:"_updateVars",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.caption=this.el.getAttribute("data-caption")||""}},{key:"open",value:function(){var n=this;this._updateVars(),this.originalWidth=this.el.getBoundingClientRect().width,this.originalHeight=this.el.getBoundingClientRect().height,this.doneAnimating=!1,this.$el.addClass("active"),this.overlayActive=!0,"function"===typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this.placeholder.css({width:this.placeholder[0].getBoundingClientRect().width+"px",height:this.placeholder[0].getBoundingClientRect().height+"px",position:"relative",top:0,left:0}),this._makeAncestorsOverflowVisible(),this.$el.css({position:"absolute","z-index":1e3,"will-change":"left, top, width, height"}),this.attrWidth=this.$el.attr("width"),this.attrHeight=this.$el.attr("height"),this.attrWidth&&(this.$el.css("width",this.attrWidth+"px"),this.$el.removeAttr("width")),this.attrHeight&&(this.$el.css("width",this.attrHeight+"px"),this.$el.removeAttr("height")),this.$overlay=t('<div id="materialbox-overlay"></div>').css({opacity:0}).one("click",(function(){n.doneAnimating&&n.close()})),this.$el.before(this.$overlay);var r=this.$overlay[0].getBoundingClientRect();this.$overlay.css({width:this.windowWidth+"px",height:this.windowHeight+"px",left:-1*r.left+"px",top:-1*r.top+"px"}),e.remove(this.el),e.remove(this.$overlay[0]),e({targets:this.$overlay[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}),""!==this.caption&&(this.$photocaption&&e.remove(this.$photoCaption[0]),this.$photoCaption=t('<div class="materialbox-caption"></div>'),this.$photoCaption.text(this.caption),t("body").append(this.$photoCaption),this.$photoCaption.css({display:"inline"}),e({targets:this.$photoCaption[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}));var i=0,o=this.originalWidth/this.windowWidth,a=this.originalHeight/this.windowHeight;this.newWidth=0,this.newHeight=0,o>a?(i=this.originalHeight/this.originalWidth,this.newWidth=.9*this.windowWidth,this.newHeight=.9*this.windowWidth*i):(i=this.originalWidth/this.originalHeight,this.newWidth=.9*this.windowHeight*i,this.newHeight=.9*this.windowHeight),this._animateImageIn(),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),this._handleWindowResizeBound=this._handleWindowResize.bind(this),this._handleWindowEscapeBound=this._handleWindowEscape.bind(this),window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleWindowResizeBound),window.addEventListener("keyup",this._handleWindowEscapeBound)}},{key:"close",value:function(){var t=this;this._updateVars(),this.doneAnimating=!1,"function"===typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),e.remove(this.el),e.remove(this.$overlay[0]),""!==this.caption&&e.remove(this.$photoCaption[0]),window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleWindowResizeBound),window.removeEventListener("keyup",this._handleWindowEscapeBound),e({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.overlayActive=!1,t.$overlay.remove()}}),this._animateImageOut(),""!==this.caption&&e({targets:this.$photoCaption[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.$photoCaption.remove()}})}}],[{key:"init",value:function(t,e){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Materialbox}},{key:"defaults",get:function(){return n}}]),l}(l);M.Materialbox=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"materialbox","M_Materialbox")}(cash,M.anime),function(t){"use strict";var e={responsiveThreshold:0},n=function(n){function r(e,n){u(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,n));return i.el.M_Parallax=i,i.options=t.extend({},r.defaults,n),i._enabled=window.innerWidth>i.options.responsiveThreshold,i.$img=i.$el.find("img").first(),i.$img.each((function(){this.complete&&t(this).trigger("load")})),i._updateParallax(),i._setupEventHandlers(),i._setupStyles(),r._parallaxes.push(i),i}return s(r,n),o(r,[{key:"destroy",value:function(){r._parallaxes.splice(r._parallaxes.indexOf(this),1),this.$img[0].style.transform="",this._removeEventHandlers(),this.$el[0].M_Parallax=void 0}},{key:"_setupEventHandlers",value:function(){this._handleImageLoadBound=this._handleImageLoad.bind(this),this.$img[0].addEventListener("load",this._handleImageLoadBound),0===r._parallaxes.length&&(r._handleScrollThrottled=M.throttle(r._handleScroll,5),window.addEventListener("scroll",r._handleScrollThrottled),r._handleWindowResizeThrottled=M.throttle(r._handleWindowResize,5),window.addEventListener("resize",r._handleWindowResizeThrottled))}},{key:"_removeEventHandlers",value:function(){this.$img[0].removeEventListener("load",this._handleImageLoadBound),0===r._parallaxes.length&&(window.removeEventListener("scroll",r._handleScrollThrottled),window.removeEventListener("resize",r._handleWindowResizeThrottled))}},{key:"_setupStyles",value:function(){this.$img[0].style.opacity=1}},{key:"_handleImageLoad",value:function(){this._updateParallax()}},{key:"_updateParallax",value:function(){var t=this.$el.height()>0?this.el.parentNode.offsetHeight:500,e=this.$img[0].offsetHeight-t,n=this.$el.offset().top+t,r=this.$el.offset().top,i=M.getDocumentScrollTop(),o=window.innerHeight,a=e*((i+o-r)/(t+o));this._enabled?n>i&&r<i+o&&(this.$img[0].style.transform="translate3D(-50%, "+a+"px, 0)"):this.$img[0].style.transform=""}}],[{key:"init",value:function(t,e){return i(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Parallax}},{key:"_handleScroll",value:function(){for(var t=0;t<r._parallaxes.length;t++){var e=r._parallaxes[t];e._updateParallax.call(e)}}},{key:"_handleWindowResize",value:function(){for(var t=0;t<r._parallaxes.length;t++){var e=r._parallaxes[t];e._enabled=window.innerWidth>e.options.responsiveThreshold}}},{key:"defaults",get:function(){return e}}]),r}(l);n._parallaxes=[],M.Parallax=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"parallax","M_Parallax")}(cash),function(t,e){"use strict";var n={duration:300,onShow:null,swipeable:!1,responsiveThreshold:1/0},r=function(r){function l(e,n){u(this,l);var r=a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return r.el.M_Tabs=r,r.options=t.extend({},l.defaults,n),r.$tabLinks=r.$el.children("li.tab").children("a"),r.index=0,r._setupActiveTabLink(),r.options.swipeable?r._setupSwipeableTabs():r._setupNormalTabs(),r._setTabsAndTabWidth(),r._createIndicator(),r._setupEventHandlers(),r}return s(l,r),o(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this._indicator.parentNode.removeChild(this._indicator),this.options.swipeable?this._teardownSwipeableTabs():this._teardownNormalTabs(),this.$el[0].M_Tabs=void 0}},{key:"_setupEventHandlers",value:function(){this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound),this._handleTabClickBound=this._handleTabClick.bind(this),this.el.addEventListener("click",this._handleTabClickBound)}},{key:"_removeEventHandlers",value:function(){window.removeEventListener("resize",this._handleWindowResizeBound),this.el.removeEventListener("click",this._handleTabClickBound)}},{key:"_handleWindowResize",value:function(){this._setTabsAndTabWidth(),0!==this.tabWidth&&0!==this.tabsWidth&&(this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+"px",this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+"px")}},{key:"_handleTabClick",value:function(e){var n=this,r=t(e.target).closest("li.tab"),i=t(e.target).closest("a");if(i.length&&i.parent().hasClass("tab"))if(r.hasClass("disabled"))e.preventDefault();else if(!i.attr("target")){this.$activeTabLink.removeClass("active");var o=this.$content;this.$activeTabLink=i,this.$content=t(M.escapeHash(i[0].hash)),this.$tabLinks=this.$el.children("li.tab").children("a"),this.$activeTabLink.addClass("active");var a=this.index;this.index=Math.max(this.$tabLinks.index(i),0),this.options.swipeable?this._tabsCarousel&&this._tabsCarousel.set(this.index,(function(){"function"===typeof n.options.onShow&&n.options.onShow.call(n,n.$content[0])})):this.$content.length&&(this.$content[0].style.display="block",this.$content.addClass("active"),"function"===typeof this.options.onShow&&this.options.onShow.call(this,this.$content[0]),o.length&&!o.is(this.$content)&&(o[0].style.display="none",o.removeClass("active"))),this._setTabsAndTabWidth(),this._animateIndicator(a),e.preventDefault()}}},{key:"_createIndicator",value:function(){var t=this,e=document.createElement("li");e.classList.add("indicator"),this.el.appendChild(e),this._indicator=e,setTimeout((function(){t._indicator.style.left=t._calcLeftPos(t.$activeTabLink)+"px",t._indicator.style.right=t._calcRightPos(t.$activeTabLink)+"px"}),0)}},{key:"_setupActiveTabLink",value:function(){this.$activeTabLink=t(this.$tabLinks.filter('[href="'+location.hash+'"]')),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a.active").first()),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a").first()),this.$tabLinks.removeClass("active"),this.$activeTabLink[0].classList.add("active"),this.index=Math.max(this.$tabLinks.index(this.$activeTabLink),0),this.$activeTabLink.length&&(this.$content=t(M.escapeHash(this.$activeTabLink[0].hash)),this.$content.addClass("active"))}},{key:"_setupSwipeableTabs",value:function(){var e=this;window.innerWidth>this.options.responsiveThreshold&&(this.options.swipeable=!1);var n=t();this.$tabLinks.each((function(e){var r=t(M.escapeHash(e.hash));r.addClass("carousel-item"),n=n.add(r)}));var r=t('<div class="tabs-content carousel carousel-slider"></div>');n.first().before(r),r.append(n),n[0].style.display="";var i=this.$activeTabLink.closest(".tab").index();this._tabsCarousel=M.Carousel.init(r[0],{fullWidth:!0,noWrap:!0,onCycleTo:function(n){var r=e.index;e.index=t(n).index(),e.$activeTabLink.removeClass("active"),e.$activeTabLink=e.$tabLinks.eq(e.index),e.$activeTabLink.addClass("active"),e._animateIndicator(r),"function"===typeof e.options.onShow&&e.options.onShow.call(e,e.$content[0])}}),this._tabsCarousel.set(i)}},{key:"_teardownSwipeableTabs",value:function(){var t=this._tabsCarousel.$el;this._tabsCarousel.destroy(),t.after(t.children()),t.remove()}},{key:"_setupNormalTabs",value:function(){this.$tabLinks.not(this.$activeTabLink).each((function(e){if(e.hash){var n=t(M.escapeHash(e.hash));n.length&&(n[0].style.display="none")}}))}},{key:"_teardownNormalTabs",value:function(){this.$tabLinks.each((function(e){if(e.hash){var n=t(M.escapeHash(e.hash));n.length&&(n[0].style.display="")}}))}},{key:"_setTabsAndTabWidth",value:function(){this.tabsWidth=this.$el.width(),this.tabWidth=Math.max(this.tabsWidth,this.el.scrollWidth)/this.$tabLinks.length}},{key:"_calcRightPos",value:function(t){return Math.ceil(this.tabsWidth-t.position().left-t[0].getBoundingClientRect().width)}},{key:"_calcLeftPos",value:function(t){return Math.floor(t.position().left)}},{key:"updateTabIndicator",value:function(){this._setTabsAndTabWidth(),this._animateIndicator(this.index)}},{key:"_animateIndicator",value:function(t){var n=0,r=0;this.index-t>=0?n=90:r=90;var i={targets:this._indicator,left:{value:this._calcLeftPos(this.$activeTabLink),delay:n},right:{value:this._calcRightPos(this.$activeTabLink),delay:r},duration:this.options.duration,easing:"easeOutQuad"};e.remove(this._indicator),e(i)}},{key:"select",value:function(t){var e=this.$tabLinks.filter('[href="#'+t+'"]');e.length&&e.trigger("click")}}],[{key:"init",value:function(t,e){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Tabs}},{key:"defaults",get:function(){return n}}]),l}(l);window.M.Tabs=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"tabs","M_Tabs")}(cash,M.anime),function(t,e){"use strict";var n={exitDelay:200,enterDelay:0,html:null,margin:5,inDuration:250,outDuration:200,position:"bottom",transitionMovement:10},r=function(r){function l(e,n){u(this,l);var r=a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return r.el.M_Tooltip=r,r.options=t.extend({},l.defaults,n),r.isOpen=!1,r.isHovered=!1,r.isFocused=!1,r._appendTooltipEl(),r._setupEventHandlers(),r}return s(l,r),o(l,[{key:"destroy",value:function(){t(this.tooltipEl).remove(),this._removeEventHandlers(),this.el.M_Tooltip=void 0}},{key:"_appendTooltipEl",value:function(){var t=document.createElement("div");t.classList.add("material-tooltip"),this.tooltipEl=t;var e=document.createElement("div");e.classList.add("tooltip-content"),e.innerHTML=this.options.html,t.appendChild(e),document.body.appendChild(t)}},{key:"_updateTooltipContent",value:function(){this.tooltipEl.querySelector(".tooltip-content").innerHTML=this.options.html}},{key:"_setupEventHandlers",value:function(){this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this._handleFocusBound=this._handleFocus.bind(this),this._handleBlurBound=this._handleBlur.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.el.addEventListener("focus",this._handleFocusBound,!0),this.el.addEventListener("blur",this._handleBlurBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.el.removeEventListener("focus",this._handleFocusBound,!0),this.el.removeEventListener("blur",this._handleBlurBound,!0)}},{key:"open",value:function(e){this.isOpen||(e=void 0===e||void 0,this.isOpen=!0,this.options=t.extend({},this.options,this._getAttributeOptions()),this._updateTooltipContent(),this._setEnterDelayTimeout(e))}},{key:"close",value:function(){this.isOpen&&(this.isHovered=!1,this.isFocused=!1,this.isOpen=!1,this._setExitDelayTimeout())}},{key:"_setExitDelayTimeout",value:function(){var t=this;clearTimeout(this._exitDelayTimeout),this._exitDelayTimeout=setTimeout((function(){t.isHovered||t.isFocused||t._animateOut()}),this.options.exitDelay)}},{key:"_setEnterDelayTimeout",value:function(t){var e=this;clearTimeout(this._enterDelayTimeout),this._enterDelayTimeout=setTimeout((function(){(e.isHovered||e.isFocused||t)&&e._animateIn()}),this.options.enterDelay)}},{key:"_positionTooltip",value:function(){var e,n=this.el,r=this.tooltipEl,i=n.offsetHeight,o=n.offsetWidth,a=r.offsetHeight,s=r.offsetWidth,u=this.options.margin,l=void 0,c=void 0;this.xMovement=0,this.yMovement=0,l=n.getBoundingClientRect().top+M.getDocumentScrollTop(),c=n.getBoundingClientRect().left+M.getDocumentScrollLeft(),"top"===this.options.position?(l+=-a-u,c+=o/2-s/2,this.yMovement=-this.options.transitionMovement):"right"===this.options.position?(l+=i/2-a/2,c+=o+u,this.xMovement=this.options.transitionMovement):"left"===this.options.position?(l+=i/2-a/2,c+=-s-u,this.xMovement=-this.options.transitionMovement):(l+=i+u,c+=o/2-s/2,this.yMovement=this.options.transitionMovement),e=this._repositionWithinScreen(c,l,s,a),t(r).css({top:e.y+"px",left:e.x+"px"})}},{key:"_repositionWithinScreen",value:function(t,e,n,r){var i=M.getDocumentScrollLeft(),o=M.getDocumentScrollTop(),a=t-i,s=e-o,u={left:a,top:s,width:n,height:r},l=this.options.margin+this.options.transitionMovement,c=M.checkWithinContainer(document.body,u,l);return c.left?a=l:c.right&&(a-=a+n-window.innerWidth),c.top?s=l:c.bottom&&(s-=s+r-window.innerHeight),{x:a+i,y:s+o}}},{key:"_animateIn",value:function(){this._positionTooltip(),this.tooltipEl.style.visibility="visible",e.remove(this.tooltipEl),e({targets:this.tooltipEl,opacity:1,translateX:this.xMovement,translateY:this.yMovement,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_animateOut",value:function(){e.remove(this.tooltipEl),e({targets:this.tooltipEl,opacity:0,translateX:0,translateY:0,duration:this.options.outDuration,easing:"easeOutCubic"})}},{key:"_handleMouseEnter",value:function(){this.isHovered=!0,this.isFocused=!1,this.open(!1)}},{key:"_handleMouseLeave",value:function(){this.isHovered=!1,this.isFocused=!1,this.close()}},{key:"_handleFocus",value:function(){M.tabPressed&&(this.isFocused=!0,this.open(!1))}},{key:"_handleBlur",value:function(){this.isFocused=!1,this.close()}},{key:"_getAttributeOptions",value:function(){var t={},e=this.el.getAttribute("data-tooltip"),n=this.el.getAttribute("data-position");return e&&(t.html=e),n&&(t.position=n),t}}],[{key:"init",value:function(t,e){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Tooltip}},{key:"defaults",get:function(){return n}}]),l}(l);M.Tooltip=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"tooltip","M_Tooltip")}(cash,M.anime),function(t){"use strict";var e=e||{},n=document.querySelectorAll.bind(document);function r(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e+=n+":"+t[n]+";");return e}var i={duration:750,show:function(t,e){if(2===t.button)return!1;var n=e||this,o=document.createElement("div");o.className="waves-ripple",n.appendChild(o);var a=function(t){var e,n,r={top:0,left:0},i=t&&t.ownerDocument;return e=i.documentElement,"undefined"!==typeof t.getBoundingClientRect&&(r=t.getBoundingClientRect()),n=function(t){return null!==(e=t)&&e===e.window?t:9===t.nodeType&&t.defaultView;var e}(i),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}}(n),s=t.pageY-a.top,u=t.pageX-a.left,l="scale("+n.clientWidth/100*10+")";"touches"in t&&(s=t.touches[0].pageY-a.top,u=t.touches[0].pageX-a.left),o.setAttribute("data-hold",Date.now()),o.setAttribute("data-scale",l),o.setAttribute("data-x",u),o.setAttribute("data-y",s);var c={top:s+"px",left:u+"px"};o.className=o.className+" waves-notransition",o.setAttribute("style",r(c)),o.className=o.className.replace("waves-notransition",""),c["-webkit-transform"]=l,c["-moz-transform"]=l,c["-ms-transform"]=l,c["-o-transform"]=l,c.transform=l,c.opacity="1",c["-webkit-transition-duration"]=i.duration+"ms",c["-moz-transition-duration"]=i.duration+"ms",c["-o-transition-duration"]=i.duration+"ms",c["transition-duration"]=i.duration+"ms",c["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",c["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",c["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",c["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",o.setAttribute("style",r(c))},hide:function(t){o.touchup(t);var e=this,n=(e.clientWidth,null),a=e.getElementsByClassName("waves-ripple");if(!(a.length>0))return!1;var s=(n=a[a.length-1]).getAttribute("data-x"),u=n.getAttribute("data-y"),l=n.getAttribute("data-scale"),c=350-(Date.now()-Number(n.getAttribute("data-hold")));c<0&&(c=0),setTimeout((function(){var o={top:u+"px",left:s+"px",opacity:"0","-webkit-transition-duration":i.duration+"ms","-moz-transition-duration":i.duration+"ms","-o-transition-duration":i.duration+"ms","transition-duration":i.duration+"ms","-webkit-transform":l,"-moz-transform":l,"-ms-transform":l,"-o-transform":l,transform:l};n.setAttribute("style",r(o)),setTimeout((function(){try{e.removeChild(n)}catch(t){return!1}}),i.duration)}),c)},wrapInput:function(t){for(var e=0;e<t.length;e++){var n=t[e];if("input"===n.tagName.toLowerCase()){var r=n.parentNode;if("i"===r.tagName.toLowerCase()&&-1!==r.className.indexOf("waves-effect"))continue;var i=document.createElement("i");i.className=n.className+" waves-input-wrapper";var o=n.getAttribute("style");o||(o=""),i.setAttribute("style",o),n.className="waves-button-input",n.removeAttribute("style"),r.replaceChild(i,n),i.appendChild(n)}}}},o={touches:0,allowEvent:function(t){var e=!0;return"touchstart"===t.type?o.touches+=1:"touchend"===t.type||"touchcancel"===t.type?setTimeout((function(){o.touches>0&&(o.touches-=1)}),500):"mousedown"===t.type&&o.touches>0&&(e=!1),e},touchup:function(t){o.allowEvent(t)}};function a(e){var n=function(t){if(!1===o.allowEvent(t))return null;for(var e=null,n=t.target||t.srcElement;null!==n.parentNode;){if(!(n instanceof SVGElement)&&-1!==n.className.indexOf("waves-effect")){e=n;break}n=n.parentNode}return e}(e);null!==n&&(i.show(e,n),"ontouchstart"in t&&(n.addEventListener("touchend",i.hide,!1),n.addEventListener("touchcancel",i.hide,!1)),n.addEventListener("mouseup",i.hide,!1),n.addEventListener("mouseleave",i.hide,!1),n.addEventListener("dragend",i.hide,!1))}e.displayEffect=function(e){"duration"in(e=e||{})&&(i.duration=e.duration),i.wrapInput(n(".waves-effect")),"ontouchstart"in t&&document.body.addEventListener("touchstart",a,!1),document.body.addEventListener("mousedown",a,!1)},e.attach=function(e){"input"===e.tagName.toLowerCase()&&(i.wrapInput([e]),e=e.parentNode),"ontouchstart"in t&&e.addEventListener("touchstart",a,!1),e.addEventListener("mousedown",a,!1)},t.Waves=e,document.addEventListener("DOMContentLoaded",(function(){e.displayEffect()}),!1)}(window),function(t,e){"use strict";var n={html:"",displayLength:4e3,inDuration:300,outDuration:375,classes:"",completeCallback:null,activationPercent:.8},r=function(){function r(e){u(this,r),this.options=t.extend({},r.defaults,e),this.message=this.options.html,this.panning=!1,this.timeRemaining=this.options.displayLength,0===r._toasts.length&&r._createContainer(),r._toasts.push(this);var n=this._createToast();n.M_Toast=this,this.el=n,this.$el=t(n),this._animateIn(),this._setTimer()}return o(r,[{key:"_createToast",value:function(){var e=document.createElement("div");return e.classList.add("toast"),this.options.classes.length&&t(e).addClass(this.options.classes),("object"===typeof HTMLElement?this.message instanceof HTMLElement:this.message&&"object"===typeof this.message&&null!==this.message&&1===this.message.nodeType&&"string"===typeof this.message.nodeName)?e.appendChild(this.message):this.message.jquery?t(e).append(this.message[0]):e.innerHTML=this.message,r._container.appendChild(e),e}},{key:"_animateIn",value:function(){e({targets:this.el,top:0,opacity:1,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_setTimer",value:function(){var t=this;this.timeRemaining!==1/0&&(this.counterInterval=setInterval((function(){t.panning||(t.timeRemaining-=20),t.timeRemaining<=0&&t.dismiss()}),20))}},{key:"dismiss",value:function(){var t=this;window.clearInterval(this.counterInterval);var n=this.el.offsetWidth*this.options.activationPercent;this.wasSwiped&&(this.el.style.transition="transform .05s, opacity .05s",this.el.style.transform="translateX("+n+"px)",this.el.style.opacity=0),e({targets:this.el,opacity:0,marginTop:-40,duration:this.options.outDuration,easing:"easeOutExpo",complete:function(){"function"===typeof t.options.completeCallback&&t.options.completeCallback(),t.$el.remove(),r._toasts.splice(r._toasts.indexOf(t),1),0===r._toasts.length&&r._removeContainer()}})}}],[{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Toast}},{key:"_createContainer",value:function(){var t=document.createElement("div");t.setAttribute("id","toast-container"),t.addEventListener("touchstart",r._onDragStart),t.addEventListener("touchmove",r._onDragMove),t.addEventListener("touchend",r._onDragEnd),t.addEventListener("mousedown",r._onDragStart),document.addEventListener("mousemove",r._onDragMove),document.addEventListener("mouseup",r._onDragEnd),document.body.appendChild(t),r._container=t}},{key:"_removeContainer",value:function(){document.removeEventListener("mousemove",r._onDragMove),document.removeEventListener("mouseup",r._onDragEnd),t(r._container).remove(),r._container=null}},{key:"_onDragStart",value:function(e){if(e.target&&t(e.target).closest(".toast").length){var n=t(e.target).closest(".toast")[0].M_Toast;n.panning=!0,r._draggedToast=n,n.el.classList.add("panning"),n.el.style.transition="",n.startingXPos=r._xPos(e),n.time=Date.now(),n.xPos=r._xPos(e)}}},{key:"_onDragMove",value:function(t){if(r._draggedToast){t.preventDefault();var e=r._draggedToast;e.deltaX=Math.abs(e.xPos-r._xPos(t)),e.xPos=r._xPos(t),e.velocityX=e.deltaX/(Date.now()-e.time),e.time=Date.now();var n=e.xPos-e.startingXPos,i=e.el.offsetWidth*e.options.activationPercent;e.el.style.transform="translateX("+n+"px)",e.el.style.opacity=1-Math.abs(n/i)}}},{key:"_onDragEnd",value:function(){if(r._draggedToast){var t=r._draggedToast;t.panning=!1,t.el.classList.remove("panning");var e=t.xPos-t.startingXPos,n=t.el.offsetWidth*t.options.activationPercent;Math.abs(e)>n||t.velocityX>1?(t.wasSwiped=!0,t.dismiss()):(t.el.style.transition="transform .2s, opacity .2s",t.el.style.transform="",t.el.style.opacity=""),r._draggedToast=null}}},{key:"_xPos",value:function(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}},{key:"dismissAll",value:function(){for(var t in r._toasts)r._toasts[t].dismiss()}},{key:"defaults",get:function(){return n}}]),r}();r._toasts=[],r._container=null,r._draggedToast=null,M.Toast=r,M.toast=function(t){return new r(t)}}(cash,M.anime),function(t,e){"use strict";var n={edge:"left",draggable:!0,inDuration:250,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0},r=function(r){function l(e,n){u(this,l);var r=a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return r.el.M_Sidenav=r,r.id=r.$el.attr("id"),r.options=t.extend({},l.defaults,n),r.isOpen=!1,r.isFixed=r.el.classList.contains("sidenav-fixed"),r.isDragged=!1,r.lastWindowWidth=window.innerWidth,r.lastWindowHeight=window.innerHeight,r._createOverlay(),r._createDragTarget(),r._setupEventHandlers(),r._setupClasses(),r._setupFixed(),l._sidenavs.push(r),r}return s(l,r),o(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this._enableBodyScrolling(),this._overlay.parentNode.removeChild(this._overlay),this.dragTarget.parentNode.removeChild(this.dragTarget),this.el.M_Sidenav=void 0,this.el.style.transform="";var t=l._sidenavs.indexOf(this);t>=0&&l._sidenavs.splice(t,1)}},{key:"_createOverlay",value:function(){var t=document.createElement("div");this._closeBound=this.close.bind(this),t.classList.add("sidenav-overlay"),t.addEventListener("click",this._closeBound),document.body.appendChild(t),this._overlay=t}},{key:"_setupEventHandlers",value:function(){0===l._sidenavs.length&&document.body.addEventListener("click",this._handleTriggerClick),this._handleDragTargetDragBound=this._handleDragTargetDrag.bind(this),this._handleDragTargetReleaseBound=this._handleDragTargetRelease.bind(this),this._handleCloseDragBound=this._handleCloseDrag.bind(this),this._handleCloseReleaseBound=this._handleCloseRelease.bind(this),this._handleCloseTriggerClickBound=this._handleCloseTriggerClick.bind(this),this.dragTarget.addEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.addEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.addEventListener("touchmove",this._handleCloseDragBound),this._overlay.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("touchmove",this._handleCloseDragBound),this.el.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&(this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound))}},{key:"_removeEventHandlers",value:function(){1===l._sidenavs.length&&document.body.removeEventListener("click",this._handleTriggerClick),this.dragTarget.removeEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.removeEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.removeEventListener("touchmove",this._handleCloseDragBound),this._overlay.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("touchmove",this._handleCloseDragBound),this.el.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&window.removeEventListener("resize",this._handleWindowResizeBound)}},{key:"_handleTriggerClick",value:function(e){var n=t(e.target).closest(".sidenav-trigger");if(e.target&&n.length){var r=M.getIdFromTrigger(n[0]),i=document.getElementById(r).M_Sidenav;i&&i.open(n),e.preventDefault()}}},{key:"_startDrag",value:function(t){var n=t.targetTouches[0].clientX;this.isDragged=!0,this._startingXpos=n,this._xPos=this._startingXpos,this._time=Date.now(),this._width=this.el.getBoundingClientRect().width,this._overlay.style.display="block",this._initialScrollTop=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop(),this._verticallyScrolling=!1,e.remove(this.el),e.remove(this._overlay)}},{key:"_dragMoveUpdate",value:function(t){var e=t.targetTouches[0].clientX,n=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop();this.deltaX=Math.abs(this._xPos-e),this._xPos=e,this.velocityX=this.deltaX/(Date.now()-this._time),this._time=Date.now(),this._initialScrollTop!==n&&(this._verticallyScrolling=!0)}},{key:"_handleDragTargetDrag",value:function(t){if(this.options.draggable&&!this._isCurrentlyFixed()&&!this._verticallyScrolling){this.isDragged||this._startDrag(t),this._dragMoveUpdate(t);var e=this._xPos-this._startingXpos,n=e>0?"right":"left";e=Math.min(this._width,Math.abs(e)),this.options.edge===n&&(e=0);var r=e,i="translateX(-100%)";"right"===this.options.edge&&(i="translateX(100%)",r=-r),this.percentOpen=Math.min(1,e/this._width),this.el.style.transform=i+" translateX("+r+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleDragTargetRelease",value:function(){this.isDragged&&(this.percentOpen>.2?this.open():this._animateOut(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseDrag",value:function(t){if(this.isOpen){if(!this.options.draggable||this._isCurrentlyFixed()||this._verticallyScrolling)return;this.isDragged||this._startDrag(t),this._dragMoveUpdate(t);var e=this._xPos-this._startingXpos,n=e>0?"right":"left";e=Math.min(this._width,Math.abs(e)),this.options.edge!==n&&(e=0);var r=-e;"right"===this.options.edge&&(r=-r),this.percentOpen=Math.min(1,1-e/this._width),this.el.style.transform="translateX("+r+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleCloseRelease",value:function(){this.isOpen&&this.isDragged&&(this.percentOpen>.8?this._animateIn():this.close(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseTriggerClick",value:function(e){t(e.target).closest(".sidenav-close").length&&!this._isCurrentlyFixed()&&this.close()}},{key:"_handleWindowResize",value:function(){this.lastWindowWidth!==window.innerWidth&&(window.innerWidth>992?this.open():this.close()),this.lastWindowWidth=window.innerWidth,this.lastWindowHeight=window.innerHeight}},{key:"_setupClasses",value:function(){"right"===this.options.edge&&(this.el.classList.add("right-aligned"),this.dragTarget.classList.add("right-aligned"))}},{key:"_removeClasses",value:function(){this.el.classList.remove("right-aligned"),this.dragTarget.classList.remove("right-aligned")}},{key:"_setupFixed",value:function(){this._isCurrentlyFixed()&&this.open()}},{key:"_isCurrentlyFixed",value:function(){return this.isFixed&&window.innerWidth>992}},{key:"_createDragTarget",value:function(){var t=document.createElement("div");t.classList.add("drag-target"),document.body.appendChild(t),this.dragTarget=t}},{key:"_preventBodyScrolling",value:function(){document.body.style.overflow="hidden"}},{key:"_enableBodyScrolling",value:function(){document.body.style.overflow=""}},{key:"open",value:function(){!0!==this.isOpen&&(this.isOpen=!0,"function"===typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._isCurrentlyFixed()?(e.remove(this.el),e({targets:this.el,translateX:0,duration:0,easing:"easeOutQuad"}),this._enableBodyScrolling(),this._overlay.style.display="none"):(this.options.preventScrolling&&this._preventBodyScrolling(),this.isDragged&&1==this.percentOpen||this._animateIn()))}},{key:"close",value:function(){if(!1!==this.isOpen)if(this.isOpen=!1,"function"===typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._isCurrentlyFixed()){var t="left"===this.options.edge?"-105%":"105%";this.el.style.transform="translateX("+t+")"}else this._enableBodyScrolling(),this.isDragged&&0==this.percentOpen?this._overlay.style.display="none":this._animateOut()}},{key:"_animateIn",value:function(){this._animateSidenavIn(),this._animateOverlayIn()}},{key:"_animateSidenavIn",value:function(){var t=this,n="left"===this.options.edge?-1:1;this.isDragged&&(n="left"===this.options.edge?n+this.percentOpen:n-this.percentOpen),e.remove(this.el),e({targets:this.el,translateX:[100*n+"%",0],duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){"function"===typeof t.options.onOpenEnd&&t.options.onOpenEnd.call(t,t.el)}})}},{key:"_animateOverlayIn",value:function(){var n=0;this.isDragged?n=this.percentOpen:t(this._overlay).css({display:"block"}),e.remove(this._overlay),e({targets:this._overlay,opacity:[n,1],duration:this.options.inDuration,easing:"easeOutQuad"})}},{key:"_animateOut",value:function(){this._animateSidenavOut(),this._animateOverlayOut()}},{key:"_animateSidenavOut",value:function(){var t=this,n="left"===this.options.edge?-1:1,r=0;this.isDragged&&(r="left"===this.options.edge?n+this.percentOpen:n-this.percentOpen),e.remove(this.el),e({targets:this.el,translateX:[100*r+"%",105*n+"%"],duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){"function"===typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t,t.el)}})}},{key:"_animateOverlayOut",value:function(){var n=this;e.remove(this._overlay),e({targets:this._overlay,opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t(n._overlay).css("display","none")}})}}],[{key:"init",value:function(t,e){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Sidenav}},{key:"defaults",get:function(){return n}}]),l}(l);r._sidenavs=[],window.M.Sidenav=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"sidenav","M_Sidenav")}(cash,M.anime),function(t,e){"use strict";var n={throttle:100,scrollOffset:200,activeClass:"active",getActiveElement:function(t){return'a[href="#'+t+'"]'}},r=function(r){function l(e,n){u(this,l);var r=a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return r.el.M_ScrollSpy=r,r.options=t.extend({},l.defaults,n),l._elements.push(r),l._count++,l._increment++,r.tickId=-1,r.id=l._increment,r._setupEventHandlers(),r._handleWindowScroll(),r}return s(l,r),o(l,[{key:"destroy",value:function(){l._elements.splice(l._elements.indexOf(this),1),l._elementsInView.splice(l._elementsInView.indexOf(this),1),l._visibleElements.splice(l._visibleElements.indexOf(this.$el),1),l._count--,this._removeEventHandlers(),t(this.options.getActiveElement(this.$el.attr("id"))).removeClass(this.options.activeClass),this.el.M_ScrollSpy=void 0}},{key:"_setupEventHandlers",value:function(){var t=M.throttle(this._handleWindowScroll,200);this._handleThrottledResizeBound=t.bind(this),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),1===l._count&&(window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleThrottledResizeBound),document.body.addEventListener("click",this._handleTriggerClick))}},{key:"_removeEventHandlers",value:function(){0===l._count&&(window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleThrottledResizeBound),document.body.removeEventListener("click",this._handleTriggerClick))}},{key:"_handleTriggerClick",value:function(n){for(var r=t(n.target),i=l._elements.length-1;i>=0;i--){var o=l._elements[i];if(r.is('a[href="#'+o.$el.attr("id")+'"]')){n.preventDefault();var a=o.$el.offset().top+1;e({targets:[document.documentElement,document.body],scrollTop:a-o.options.scrollOffset,duration:400,easing:"easeOutCubic"});break}}}},{key:"_handleWindowScroll",value:function(){l._ticks++;for(var t=M.getDocumentScrollTop(),e=M.getDocumentScrollLeft(),n=e+window.innerWidth,r=t+window.innerHeight,i=l._findElements(t,n,r,e),o=0;o<i.length;o++){var a=i[o];a.tickId<0&&a._enter(),a.tickId=l._ticks}for(var s=0;s<l._elementsInView.length;s++){var u=l._elementsInView[s],c=u.tickId;c>=0&&c!==l._ticks&&(u._exit(),u.tickId=-1)}l._elementsInView=i}},{key:"_enter",value:function(){l._visibleElements=l._visibleElements.filter((function(t){return 0!=t.height()})),l._visibleElements[0]?(t(this.options.getActiveElement(l._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),l._visibleElements[0][0].M_ScrollSpy&&this.id<l._visibleElements[0][0].M_ScrollSpy.id?l._visibleElements.unshift(this.$el):l._visibleElements.push(this.$el)):l._visibleElements.push(this.$el),t(this.options.getActiveElement(l._visibleElements[0].attr("id"))).addClass(this.options.activeClass)}},{key:"_exit",value:function(){var e=this;l._visibleElements=l._visibleElements.filter((function(t){return 0!=t.height()})),l._visibleElements[0]&&(t(this.options.getActiveElement(l._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),l._visibleElements=l._visibleElements.filter((function(t){return t.attr("id")!=e.$el.attr("id")})),l._visibleElements[0]&&t(this.options.getActiveElement(l._visibleElements[0].attr("id"))).addClass(this.options.activeClass))}}],[{key:"init",value:function(t,e){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_ScrollSpy}},{key:"_findElements",value:function(t,e,n,r){for(var i=[],o=0;o<l._elements.length;o++){var a=l._elements[o],s=t+a.options.scrollOffset||200;if(a.$el.height()>0){var u=a.$el.offset().top,c=a.$el.offset().left,h=c+a.$el.width(),f=u+a.$el.height();!(c>e||h<r||u>n||f<s)&&i.push(a)}}return i}},{key:"defaults",get:function(){return n}}]),l}(l);r._elements=[],r._elementsInView=[],r._visibleElements=[],r._count=0,r._increment=0,r._ticks=0,M.ScrollSpy=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"scrollSpy","M_ScrollSpy")}(cash,M.anime),function(t){"use strict";var e={data:{},limit:1/0,onAutocomplete:null,minLength:1,sortFunction:function(t,e,n){return t.indexOf(n)-e.indexOf(n)}},n=function(n){function r(e,n){u(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,n));return i.el.M_Autocomplete=i,i.options=t.extend({},r.defaults,n),i.isOpen=!1,i.count=0,i.activeIndex=-1,i.oldVal,i.$inputField=i.$el.closest(".input-field"),i.$active=t(),i._mousedown=!1,i._setupDropdown(),i._setupEventHandlers(),i}return s(r,n),o(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_Autocomplete=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputBlurBound=this._handleInputBlur.bind(this),this._handleInputKeyupAndFocusBound=this._handleInputKeyupAndFocus.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleContainerMousedownAndTouchstartBound=this._handleContainerMousedownAndTouchstart.bind(this),this._handleContainerMouseupAndTouchendBound=this._handleContainerMouseupAndTouchend.bind(this),this.el.addEventListener("blur",this._handleInputBlurBound),this.el.addEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.addEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("click",this._handleInputClickBound),this.container.addEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),"undefined"!==typeof window.ontouchstart&&(this.container.addEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("blur",this._handleInputBlurBound),this.el.removeEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("click",this._handleInputClickBound),this.container.removeEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),"undefined"!==typeof window.ontouchstart&&(this.container.removeEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_setupDropdown",value:function(){var e=this;this.container=document.createElement("ul"),this.container.id="autocomplete-options-"+M.guid(),t(this.container).addClass("autocomplete-content dropdown-content"),this.$inputField.append(this.container),this.el.setAttribute("data-target",this.container.id),this.dropdown=M.Dropdown.init(this.el,{autoFocus:!1,closeOnClick:!1,coverTrigger:!1,onItemClick:function(n){e.selectOption(t(n))}}),this.el.removeEventListener("click",this.dropdown._handleClickBound)}},{key:"_removeDropdown",value:function(){this.container.parentNode.removeChild(this.container)}},{key:"_handleInputBlur",value:function(){this._mousedown||(this.close(),this._resetAutocomplete())}},{key:"_handleInputKeyupAndFocus",value:function(t){"keyup"===t.type&&(r._keydown=!1),this.count=0;var e=this.el.value.toLowerCase();13!==t.keyCode&&38!==t.keyCode&&40!==t.keyCode&&(this.oldVal===e||!M.tabPressed&&"focus"===t.type||this.open(),this.oldVal=e)}},{key:"_handleInputKeydown",value:function(e){r._keydown=!0;var n=e.keyCode,i=void 0,o=t(this.container).children("li").length;n===M.keys.ENTER&&this.activeIndex>=0?(i=t(this.container).children("li").eq(this.activeIndex)).length&&(this.selectOption(i),e.preventDefault()):n!==M.keys.ARROW_UP&&n!==M.keys.ARROW_DOWN||(e.preventDefault(),n===M.keys.ARROW_UP&&this.activeIndex>0&&this.activeIndex--,n===M.keys.ARROW_DOWN&&this.activeIndex<o-1&&this.activeIndex++,this.$active.removeClass("active"),this.activeIndex>=0&&(this.$active=t(this.container).children("li").eq(this.activeIndex),this.$active.addClass("active")))}},{key:"_handleInputClick",value:function(t){this.open()}},{key:"_handleContainerMousedownAndTouchstart",value:function(t){this._mousedown=!0}},{key:"_handleContainerMouseupAndTouchend",value:function(t){this._mousedown=!1}},{key:"_highlight",value:function(t,e){var n=e.find("img"),r=e.text().toLowerCase().indexOf(""+t.toLowerCase()),i=r+t.length-1,o=e.text().slice(0,r),a=e.text().slice(r,i+1),s=e.text().slice(i+1);e.html("<span>"+o+"<span class='highlight'>"+a+"</span>"+s+"</span>"),n.length&&e.prepend(n)}},{key:"_resetCurrentElement",value:function(){this.activeIndex=-1,this.$active.removeClass("active")}},{key:"_resetAutocomplete",value:function(){t(this.container).empty(),this._resetCurrentElement(),this.oldVal=null,this.isOpen=!1,this._mousedown=!1}},{key:"selectOption",value:function(t){var e=t.text().trim();this.el.value=e,this.$el.trigger("change"),this._resetAutocomplete(),this.close(),"function"===typeof this.options.onAutocomplete&&this.options.onAutocomplete.call(this,e)}},{key:"_renderDropdown",value:function(e,n){var r=this;this._resetAutocomplete();var i=[];for(var o in e)if(e.hasOwnProperty(o)&&-1!==o.toLowerCase().indexOf(n)){if(this.count>=this.options.limit)break;var a={data:e[o],key:o};i.push(a),this.count++}if(this.options.sortFunction){i.sort((function(t,e){return r.options.sortFunction(t.key.toLowerCase(),e.key.toLowerCase(),n.toLowerCase())}))}for(var s=0;s<i.length;s++){var u=i[s],l=t("<li></li>");u.data?l.append('<img src="'+u.data+'" class="right circle"><span>'+u.key+"</span>"):l.append("<span>"+u.key+"</span>"),t(this.container).append(l),this._highlight(n,l)}}},{key:"open",value:function(){var t=this.el.value.toLowerCase();this._resetAutocomplete(),t.length>=this.options.minLength&&(this.isOpen=!0,this._renderDropdown(this.options.data,t)),this.dropdown.isOpen?this.dropdown.recalculateDimensions():this.dropdown.open()}},{key:"close",value:function(){this.dropdown.close()}},{key:"updateData",value:function(t){var e=this.el.value.toLowerCase();this.options.data=t,this.isOpen&&this._renderDropdown(t,e)}}],[{key:"init",value:function(t,e){return i(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Autocomplete}},{key:"defaults",get:function(){return e}}]),r}(l);n._keydown=!1,M.Autocomplete=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"autocomplete","M_Autocomplete")}(cash),function(t){M.updateTextFields=function(){t("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea").each((function(e,n){var r=t(this);e.value.length>0||t(e).is(":focus")||e.autofocus||null!==r.attr("placeholder")?r.siblings("label").addClass("active"):e.validity?r.siblings("label").toggleClass("active",!0===e.validity.badInput):r.siblings("label").removeClass("active")}))},M.validate_field=function(t){var e=null!==t.attr("data-length"),n=parseInt(t.attr("data-length")),r=t[0].value.length;0!==r||!1!==t[0].validity.badInput||t.is(":required")?t.hasClass("validate")&&(t.is(":valid")&&e&&r<=n||t.is(":valid")&&!e?(t.removeClass("invalid"),t.addClass("valid")):(t.removeClass("valid"),t.addClass("invalid"))):t.hasClass("validate")&&(t.removeClass("valid"),t.removeClass("invalid"))},M.textareaAutoResize=function(e){if(e instanceof Element&&(e=t(e)),e.length){var n=t(".hiddendiv").first();n.length||(n=t('<div class="hiddendiv common"></div>'),t("body").append(n));var r=e.css("font-family"),i=e.css("font-size"),o=e.css("line-height"),a=e.css("padding-top"),s=e.css("padding-right"),u=e.css("padding-bottom"),l=e.css("padding-left");i&&n.css("font-size",i),r&&n.css("font-family",r),o&&n.css("line-height",o),a&&n.css("padding-top",a),s&&n.css("padding-right",s),u&&n.css("padding-bottom",u),l&&n.css("padding-left",l),e.data("original-height")||e.data("original-height",e.height()),"off"===e.attr("wrap")&&n.css("overflow-wrap","normal").css("white-space","pre"),n.text(e[0].value+"\n");var c=n.html().replace(/\n/g,"<br>");n.html(c),e[0].offsetWidth>0&&e[0].offsetHeight>0?n.css("width",e.width()+"px"):n.css("width",window.innerWidth/2+"px"),e.data("original-height")<=n.innerHeight()?e.css("height",n.innerHeight()+"px"):e[0].value.length<e.data("previous-length")&&e.css("height",e.data("original-height")+"px"),e.data("previous-length",e[0].value.length)}else console.error("No textarea element found")},t(document).ready((function(){var e="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea";t(document).on("change",e,(function(){0===this.value.length&&null===t(this).attr("placeholder")||t(this).siblings("label").addClass("active"),M.validate_field(t(this))})),t(document).ready((function(){M.updateTextFields()})),t(document).on("reset",(function(n){var r=t(n.target);r.is("form")&&(r.find(e).removeClass("valid").removeClass("invalid"),r.find(e).each((function(e){this.value.length&&t(this).siblings("label").removeClass("active")})),setTimeout((function(){r.find("select").each((function(){this.M_FormSelect&&t(this).trigger("change")}))}),0))})),document.addEventListener("focus",(function(n){t(n.target).is(e)&&t(n.target).siblings("label, .prefix").addClass("active")}),!0),document.addEventListener("blur",(function(n){var r=t(n.target);if(r.is(e)){var i=".prefix";0===r[0].value.length&&!0!==r[0].validity.badInput&&null===r.attr("placeholder")&&(i+=", label"),r.siblings(i).removeClass("active"),M.validate_field(r)}}),!0);t(document).on("keyup","input[type=radio], input[type=checkbox]",(function(e){if(e.which===M.keys.TAB)return t(this).addClass("tabbed"),void t(this).one("blur",(function(e){t(this).removeClass("tabbed")}))}));t(".materialize-textarea").each((function(){var e=t(this);e.data("original-height",e.height()),e.data("previous-length",this.value.length),M.textareaAutoResize(e)})),t(document).on("keyup",".materialize-textarea",(function(){M.textareaAutoResize(t(this))})),t(document).on("keydown",".materialize-textarea",(function(){M.textareaAutoResize(t(this))})),t(document).on("change",'.file-field input[type="file"]',(function(){for(var e=t(this).closest(".file-field").find("input.file-path"),n=t(this)[0].files,r=[],i=0;i<n.length;i++)r.push(n[i].name);e[0].value=r.join(", "),e.trigger("change")}))}))}(cash),function(t,e){"use strict";var n={indicators:!0,height:400,duration:500,interval:6e3},r=function(r){function l(n,r){u(this,l);var i=a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,n,r));return i.el.M_Slider=i,i.options=t.extend({},l.defaults,r),i.$slider=i.$el.find(".slides"),i.$slides=i.$slider.children("li"),i.activeIndex=i.$slides.filter((function(e){return t(e).hasClass("active")})).first().index(),-1!=i.activeIndex&&(i.$active=i.$slides.eq(i.activeIndex)),i._setSliderHeight(),i.$slides.find(".caption").each((function(t){i._animateCaptionIn(t,0)})),i.$slides.find("img").each((function(e){var n="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";t(e).attr("src")!==n&&(t(e).css("background-image",'url("'+t(e).attr("src")+'")'),t(e).attr("src",n))})),i._setupIndicators(),i.$active?i.$active.css("display","block"):(i.$slides.first().addClass("active"),e({targets:i.$slides.first()[0],opacity:1,duration:i.options.duration,easing:"easeOutQuad"}),i.activeIndex=0,i.$active=i.$slides.eq(i.activeIndex),i.options.indicators&&i.$indicators.eq(i.activeIndex).addClass("active")),i.$active.find("img").each((function(t){e({targets:i.$active.find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:i.options.duration,easing:"easeOutQuad"})})),i._setupEventHandlers(),i.start(),i}return s(l,r),o(l,[{key:"destroy",value:function(){this.pause(),this._removeIndicators(),this._removeEventHandlers(),this.el.M_Slider=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleIntervalBound=this._handleInterval.bind(this),this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.options.indicators&&this.$indicators.each((function(e){e.addEventListener("click",t._handleIndicatorClickBound)}))}},{key:"_removeEventHandlers",value:function(){var t=this;this.options.indicators&&this.$indicators.each((function(e){e.removeEventListener("click",t._handleIndicatorClickBound)}))}},{key:"_handleIndicatorClick",value:function(e){var n=t(e.target).index();this.set(n)}},{key:"_handleInterval",value:function(){var t=this.$slider.find(".active").index();this.$slides.length===t+1?t=0:t+=1,this.set(t)}},{key:"_animateCaptionIn",value:function(n,r){var i={targets:n,opacity:0,duration:r,easing:"easeOutQuad"};t(n).hasClass("center-align")?i.translateY=-100:t(n).hasClass("right-align")?i.translateX=100:t(n).hasClass("left-align")&&(i.translateX=-100),e(i)}},{key:"_setSliderHeight",value:function(){this.$el.hasClass("fullscreen")||(this.options.indicators?this.$el.css("height",this.options.height+40+"px"):this.$el.css("height",this.options.height+"px"),this.$slider.css("height",this.options.height+"px"))}},{key:"_setupIndicators",value:function(){var e=this;this.options.indicators&&(this.$indicators=t('<ul class="indicators"></ul>'),this.$slides.each((function(n,r){var i=t('<li class="indicator-item"></li>');e.$indicators.append(i[0])})),this.$el.append(this.$indicators[0]),this.$indicators=this.$indicators.children("li.indicator-item"))}},{key:"_removeIndicators",value:function(){this.$el.find("ul.indicators").remove()}},{key:"set",value:function(t){var n=this;if(t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.activeIndex!=t){this.$active=this.$slides.eq(this.activeIndex);var r=this.$active.find(".caption");this.$active.removeClass("active"),e({targets:this.$active[0],opacity:0,duration:this.options.duration,easing:"easeOutQuad",complete:function(){n.$slides.not(".active").each((function(t){e({targets:t,opacity:0,translateX:0,translateY:0,duration:0,easing:"easeOutQuad"})}))}}),this._animateCaptionIn(r[0],this.options.duration),this.options.indicators&&(this.$indicators.eq(this.activeIndex).removeClass("active"),this.$indicators.eq(t).addClass("active")),e({targets:this.$slides.eq(t)[0],opacity:1,duration:this.options.duration,easing:"easeOutQuad"}),e({targets:this.$slides.eq(t).find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:this.options.duration,delay:this.options.duration,easing:"easeOutQuad"}),this.$slides.eq(t).addClass("active"),this.activeIndex=t,this.start()}}},{key:"pause",value:function(){clearInterval(this.interval)}},{key:"start",value:function(){clearInterval(this.interval),this.interval=setInterval(this._handleIntervalBound,this.options.duration+this.options.interval)}},{key:"next",value:function(){var t=this.activeIndex+1;t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.set(t)}},{key:"prev",value:function(){var t=this.activeIndex-1;t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.set(t)}}],[{key:"init",value:function(t,e){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Slider}},{key:"defaults",get:function(){return n}}]),l}(l);M.Slider=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"slider","M_Slider")}(cash,M.anime),function(t,e){t(document).on("click",".card",(function(n){if(t(this).children(".card-reveal").length){var r=t(n.target).closest(".card");void 0===r.data("initialOverflow")&&r.data("initialOverflow",void 0===r.css("overflow")?"":r.css("overflow"));var i=t(this).find(".card-reveal");t(n.target).is(t(".card-reveal .card-title"))||t(n.target).is(t(".card-reveal .card-title i"))?e({targets:i[0],translateY:0,duration:225,easing:"easeInOutQuad",complete:function(e){var n=e.animatables[0].target;t(n).css({display:"none"}),r.css("overflow",r.data("initialOverflow"))}}):(t(n.target).is(t(".card .activator"))||t(n.target).is(t(".card .activator i")))&&(r.css("overflow","hidden"),i.css({display:"block"}),e({targets:i[0],translateY:"-100%",duration:300,easing:"easeInOutQuad"}))}}))}(cash,M.anime),function(t){"use strict";var e={data:[],placeholder:"",secondaryPlaceholder:"",autocompleteOptions:{},limit:1/0,onChipAdd:null,onChipSelect:null,onChipDelete:null},n=function(n){function r(e,n){u(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,n));return i.el.M_Chips=i,i.options=t.extend({},r.defaults,n),i.$el.addClass("chips input-field"),i.chipsData=[],i.$chips=t(),i._setupInput(),i.hasAutocomplete=Object.keys(i.options.autocompleteOptions).length>0,i.$input.attr("id")||i.$input.attr("id",M.guid()),i.options.data.length&&(i.chipsData=i.options.data,i._renderChips(i.chipsData)),i.hasAutocomplete&&i._setupAutocomplete(),i._setPlaceholder(),i._setupLabel(),i._setupEventHandlers(),i}return s(r,n),o(r,[{key:"getData",value:function(){return this.chipsData}},{key:"destroy",value:function(){this._removeEventHandlers(),this.$chips.remove(),this.el.M_Chips=void 0}},{key:"_setupEventHandlers",value:function(){this._handleChipClickBound=this._handleChipClick.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputFocusBound=this._handleInputFocus.bind(this),this._handleInputBlurBound=this._handleInputBlur.bind(this),this.el.addEventListener("click",this._handleChipClickBound),document.addEventListener("keydown",r._handleChipsKeydown),document.addEventListener("keyup",r._handleChipsKeyup),this.el.addEventListener("blur",r._handleChipsBlur,!0),this.$input[0].addEventListener("focus",this._handleInputFocusBound),this.$input[0].addEventListener("blur",this._handleInputBlurBound),this.$input[0].addEventListener("keydown",this._handleInputKeydownBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleChipClickBound),document.removeEventListener("keydown",r._handleChipsKeydown),document.removeEventListener("keyup",r._handleChipsKeyup),this.el.removeEventListener("blur",r._handleChipsBlur,!0),this.$input[0].removeEventListener("focus",this._handleInputFocusBound),this.$input[0].removeEventListener("blur",this._handleInputBlurBound),this.$input[0].removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleChipClick",value:function(e){var n=t(e.target).closest(".chip"),r=t(e.target).is(".close");if(n.length){var i=n.index();r?(this.deleteChip(i),this.$input[0].focus()):this.selectChip(i)}else this.$input[0].focus()}},{key:"_handleInputFocus",value:function(){this.$el.addClass("focus")}},{key:"_handleInputBlur",value:function(){this.$el.removeClass("focus")}},{key:"_handleInputKeydown",value:function(t){if(r._keydown=!0,13===t.keyCode){if(this.hasAutocomplete&&this.autocomplete&&this.autocomplete.isOpen)return;t.preventDefault(),this.addChip({tag:this.$input[0].value}),this.$input[0].value=""}else 8!==t.keyCode&&37!==t.keyCode||""!==this.$input[0].value||!this.chipsData.length||(t.preventDefault(),this.selectChip(this.chipsData.length-1))}},{key:"_renderChip",value:function(e){if(e.tag){var n=document.createElement("div"),r=document.createElement("i");if(n.classList.add("chip"),n.textContent=e.tag,n.setAttribute("tabindex",0),t(r).addClass("material-icons close"),r.textContent="close",e.image){var i=document.createElement("img");i.setAttribute("src",e.image),n.insertBefore(i,n.firstChild)}return n.appendChild(r),n}}},{key:"_renderChips",value:function(){this.$chips.remove();for(var t=0;t<this.chipsData.length;t++){var e=this._renderChip(this.chipsData[t]);this.$el.append(e),this.$chips.add(e)}this.$el.append(this.$input[0])}},{key:"_setupAutocomplete",value:function(){var t=this;this.options.autocompleteOptions.onAutocomplete=function(e){t.addChip({tag:e}),t.$input[0].value="",t.$input[0].focus()},this.autocomplete=M.Autocomplete.init(this.$input[0],this.options.autocompleteOptions)}},{key:"_setupInput",value:function(){this.$input=this.$el.find("input"),this.$input.length||(this.$input=t("<input></input>"),this.$el.append(this.$input)),this.$input.addClass("input")}},{key:"_setupLabel",value:function(){this.$label=this.$el.find("label"),this.$label.length&&this.$label.setAttribute("for",this.$input.attr("id"))}},{key:"_setPlaceholder",value:function(){void 0!==this.chipsData&&!this.chipsData.length&&this.options.placeholder?t(this.$input).prop("placeholder",this.options.placeholder):(void 0===this.chipsData||this.chipsData.length)&&this.options.secondaryPlaceholder&&t(this.$input).prop("placeholder",this.options.secondaryPlaceholder)}},{key:"_isValid",value:function(t){if(t.hasOwnProperty("tag")&&""!==t.tag){for(var e=!1,n=0;n<this.chipsData.length;n++)if(this.chipsData[n].tag===t.tag){e=!0;break}return!e}return!1}},{key:"addChip",value:function(e){if(this._isValid(e)&&!(this.chipsData.length>=this.options.limit)){var n=this._renderChip(e);this.$chips.add(n),this.chipsData.push(e),t(this.$input).before(n),this._setPlaceholder(),"function"===typeof this.options.onChipAdd&&this.options.onChipAdd.call(this,this.$el,n)}}},{key:"deleteChip",value:function(e){var n=this.$chips.eq(e);this.$chips.eq(e).remove(),this.$chips=this.$chips.filter((function(e){return t(e).index()>=0})),this.chipsData.splice(e,1),this._setPlaceholder(),"function"===typeof this.options.onChipDelete&&this.options.onChipDelete.call(this,this.$el,n[0])}},{key:"selectChip",value:function(t){var e=this.$chips.eq(t);this._selectedChip=e,e[0].focus(),"function"===typeof this.options.onChipSelect&&this.options.onChipSelect.call(this,this.$el,e[0])}}],[{key:"init",value:function(t,e){return i(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Chips}},{key:"_handleChipsKeydown",value:function(e){r._keydown=!0;var n=t(e.target).closest(".chips"),i=e.target&&n.length;if(!t(e.target).is("input, textarea")&&i){var o=n[0].M_Chips;if(8===e.keyCode||46===e.keyCode){e.preventDefault();var a=o.chipsData.length;if(o._selectedChip){var s=o._selectedChip.index();o.deleteChip(s),o._selectedChip=null,a=Math.max(s-1,0)}o.chipsData.length&&o.selectChip(a)}else if(37===e.keyCode){if(o._selectedChip){var u=o._selectedChip.index()-1;if(u<0)return;o.selectChip(u)}}else if(39===e.keyCode&&o._selectedChip){var l=o._selectedChip.index()+1;l>=o.chipsData.length?o.$input[0].focus():o.selectChip(l)}}}},{key:"_handleChipsKeyup",value:function(t){r._keydown=!1}},{key:"_handleChipsBlur",value:function(e){r._keydown||(t(e.target).closest(".chips")[0].M_Chips._selectedChip=null)}},{key:"defaults",get:function(){return e}}]),r}(l);n._keydown=!1,M.Chips=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"chips","M_Chips"),t(document).ready((function(){t(document.body).on("click",".chip .close",(function(){var e=t(this).closest(".chips");e.length&&e[0].M_Chips||t(this).closest(".chip").remove()}))}))}(cash),function(t){"use strict";var e={top:0,bottom:1/0,offset:0,onPositionChange:null},n=function(n){function r(e,n){u(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,n));return i.el.M_Pushpin=i,i.options=t.extend({},r.defaults,n),i.originalOffset=i.el.offsetTop,r._pushpins.push(i),i._setupEventHandlers(),i._updatePosition(),i}return s(r,n),o(r,[{key:"destroy",value:function(){this.el.style.top=null,this._removePinClasses(),this._removeEventHandlers();var t=r._pushpins.indexOf(this);r._pushpins.splice(t,1)}},{key:"_setupEventHandlers",value:function(){document.addEventListener("scroll",r._updateElements)}},{key:"_removeEventHandlers",value:function(){document.removeEventListener("scroll",r._updateElements)}},{key:"_updatePosition",value:function(){var t=M.getDocumentScrollTop()+this.options.offset;this.options.top<=t&&this.options.bottom>=t&&!this.el.classList.contains("pinned")&&(this._removePinClasses(),this.el.style.top=this.options.offset+"px",this.el.classList.add("pinned"),"function"===typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pinned")),t<this.options.top&&!this.el.classList.contains("pin-top")&&(this._removePinClasses(),this.el.style.top=0,this.el.classList.add("pin-top"),"function"===typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-top")),t>this.options.bottom&&!this.el.classList.contains("pin-bottom")&&(this._removePinClasses(),this.el.classList.add("pin-bottom"),this.el.style.top=this.options.bottom-this.originalOffset+"px","function"===typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-bottom"))}},{key:"_removePinClasses",value:function(){this.el.classList.remove("pin-top"),this.el.classList.remove("pinned"),this.el.classList.remove("pin-bottom")}}],[{key:"init",value:function(t,e){return i(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Pushpin}},{key:"_updateElements",value:function(){for(var t in r._pushpins){r._pushpins[t]._updatePosition()}}},{key:"defaults",get:function(){return e}}]),r}(l);n._pushpins=[],M.Pushpin=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"pushpin","M_Pushpin")}(cash),function(t,e){"use strict";var n={direction:"top",hoverEnabled:!0,toolbarEnabled:!1};t.fn.reverse=[].reverse;var r=function(r){function l(e,n){u(this,l);var r=a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return r.el.M_FloatingActionButton=r,r.options=t.extend({},l.defaults,n),r.isOpen=!1,r.$anchor=r.$el.children("a").first(),r.$menu=r.$el.children("ul").first(),r.$floatingBtns=r.$el.find("ul .btn-floating"),r.$floatingBtnsReverse=r.$el.find("ul .btn-floating").reverse(),r.offsetY=0,r.offsetX=0,r.$el.addClass("direction-"+r.options.direction),"top"===r.options.direction?r.offsetY=40:"right"===r.options.direction?r.offsetX=-40:"bottom"===r.options.direction?r.offsetY=-40:r.offsetX=40,r._setupEventHandlers(),r}return s(l,r),o(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_FloatingActionButton=void 0}},{key:"_setupEventHandlers",value:function(){this._handleFABClickBound=this._handleFABClick.bind(this),this._handleOpenBound=this.open.bind(this),this._handleCloseBound=this.close.bind(this),this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.addEventListener("mouseenter",this._handleOpenBound),this.el.addEventListener("mouseleave",this._handleCloseBound)):this.el.addEventListener("click",this._handleFABClickBound)}},{key:"_removeEventHandlers",value:function(){this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.removeEventListener("mouseenter",this._handleOpenBound),this.el.removeEventListener("mouseleave",this._handleCloseBound)):this.el.removeEventListener("click",this._handleFABClickBound)}},{key:"_handleFABClick",value:function(){this.isOpen?this.close():this.open()}},{key:"_handleDocumentClick",value:function(e){t(e.target).closest(this.$menu).length||this.close()}},{key:"open",value:function(){this.isOpen||(this.options.toolbarEnabled?this._animateInToolbar():this._animateInFAB(),this.isOpen=!0)}},{key:"close",value:function(){this.isOpen&&(this.options.toolbarEnabled?(window.removeEventListener("scroll",this._handleCloseBound,!0),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),this._animateOutToolbar()):this._animateOutFAB(),this.isOpen=!1)}},{key:"_animateInFAB",value:function(){var t=this;this.$el.addClass("active");var n=0;this.$floatingBtnsReverse.each((function(r){e({targets:r,opacity:1,scale:[.4,1],translateY:[t.offsetY,0],translateX:[t.offsetX,0],duration:275,delay:n,easing:"easeInOutQuad"}),n+=40}))}},{key:"_animateOutFAB",value:function(){var t=this;this.$floatingBtnsReverse.each((function(n){e.remove(n),e({targets:n,opacity:0,scale:.4,translateY:t.offsetY,translateX:t.offsetX,duration:175,easing:"easeOutQuad",complete:function(){t.$el.removeClass("active")}})}))}},{key:"_animateInToolbar",value:function(){var e,n=this,r=window.innerWidth,i=window.innerHeight,o=this.el.getBoundingClientRect(),a=t('<div class="fab-backdrop"></div>'),s=this.$anchor.css("background-color");this.$anchor.append(a),this.offsetX=o.left-r/2+o.width/2,this.offsetY=i-o.bottom,e=r/a[0].clientWidth,this.btnBottom=o.bottom,this.btnLeft=o.left,this.btnWidth=o.width,this.$el.addClass("active"),this.$el.css({"text-align":"center",width:"100%",bottom:0,left:0,transform:"translateX("+this.offsetX+"px)",transition:"none"}),this.$anchor.css({transform:"translateY("+-this.offsetY+"px)",transition:"none"}),a.css({"background-color":s}),setTimeout((function(){n.$el.css({transform:"",transition:"transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s"}),n.$anchor.css({overflow:"visible",transform:"",transition:"transform .2s"}),setTimeout((function(){n.$el.css({overflow:"hidden","background-color":s}),a.css({transform:"scale("+e+")",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"}),n.$menu.children("li").children("a").css({opacity:1}),n._handleDocumentClickBound=n._handleDocumentClick.bind(n),window.addEventListener("scroll",n._handleCloseBound,!0),document.body.addEventListener("click",n._handleDocumentClickBound,!0)}),100)}),0)}},{key:"_animateOutToolbar",value:function(){var t=this,e=window.innerWidth,n=window.innerHeight,r=this.$el.find(".fab-backdrop"),i=this.$anchor.css("background-color");this.offsetX=this.btnLeft-e/2+this.btnWidth/2,this.offsetY=n-this.btnBottom,this.$el.removeClass("active"),this.$el.css({"background-color":"transparent",transition:"none"}),this.$anchor.css({transition:"none"}),r.css({transform:"scale(0)","background-color":i}),this.$menu.children("li").children("a").css({opacity:""}),setTimeout((function(){r.remove(),t.$el.css({"text-align":"",width:"",bottom:"",left:"",overflow:"","background-color":"",transform:"translate3d("+-t.offsetX+"px,0,0)"}),t.$anchor.css({overflow:"",transform:"translate3d(0,"+t.offsetY+"px,0)"}),setTimeout((function(){t.$el.css({transform:"translate3d(0,0,0)",transition:"transform .2s"}),t.$anchor.css({transform:"translate3d(0,0,0)",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"})}),20)}),200)}}],[{key:"init",value:function(t,e){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_FloatingActionButton}},{key:"defaults",get:function(){return n}}]),l}(l);M.FloatingActionButton=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"floatingActionButton","M_FloatingActionButton")}(cash,M.anime),function(t){"use strict";var e={autoClose:!1,format:"mmm dd, yyyy",parse:null,defaultDate:null,setDefaultDate:!1,disableWeekends:!1,disableDayFn:null,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,container:null,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok",previousMonth:"\u2039",nextMonth:"\u203a",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysAbbrev:["S","M","T","W","T","F","S"]},events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},n=function(n){function r(e,n){u(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,n));i.el.M_Datepicker=i,i.options=t.extend({},r.defaults,n),n&&n.hasOwnProperty("i18n")&&"object"===typeof n.i18n&&(i.options.i18n=t.extend({},r.defaults.i18n,n.i18n)),i.options.minDate&&i.options.minDate.setHours(0,0,0,0),i.options.maxDate&&i.options.maxDate.setHours(0,0,0,0),i.id=M.guid(),i._setupVariables(),i._insertHTMLIntoDOM(),i._setupModal(),i._setupEventHandlers(),i.options.defaultDate||(i.options.defaultDate=new Date(Date.parse(i.el.value)));var o=i.options.defaultDate;return r._isDate(o)?i.options.setDefaultDate?(i.setDate(o,!0),i.setInputValue()):i.gotoDate(o):i.gotoDate(new Date),i.isOpen=!1,i}return s(r,n),o(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),t(this.modalEl).remove(),this.destroySelects(),this.el.M_Datepicker=void 0}},{key:"destroySelects",value:function(){var t=this.calendarEl.querySelector(".orig-select-year");t&&M.FormSelect.getInstance(t).destroy();var e=this.calendarEl.querySelector(".orig-select-month");e&&M.FormSelect.getInstance(e).destroy()}},{key:"_insertHTMLIntoDOM",value:function(){this.options.showClearBtn&&(t(this.clearBtn).css({visibility:""}),this.clearBtn.innerHTML=this.options.i18n.clear),this.doneBtn.innerHTML=this.options.i18n.done,this.cancelBtn.innerHTML=this.options.i18n.cancel,this.options.container?this.$modalEl.appendTo(this.options.container):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var t=this;this.modalEl.id="modal-"+this.id,this.modal=M.Modal.init(this.modalEl,{onCloseEnd:function(){t.isOpen=!1}})}},{key:"toString",value:function(t){var e=this;return t=t||this.options.format,r._isDate(this.date)?t.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g).map((function(t){return e.formats[t]?e.formats[t]():t})).join(""):""}},{key:"setDate",value:function(t,e){if(!t)return this.date=null,this._renderDateDisplay(),this.draw();if("string"===typeof t&&(t=new Date(Date.parse(t))),r._isDate(t)){var n=this.options.minDate,i=this.options.maxDate;r._isDate(n)&&t<n?t=n:r._isDate(i)&&t>i&&(t=i),this.date=new Date(t.getTime()),this._renderDateDisplay(),r._setToStartOfDay(this.date),this.gotoDate(this.date),e||"function"!==typeof this.options.onSelect||this.options.onSelect.call(this,this.date)}}},{key:"setInputValue",value:function(){this.el.value=this.toString(),this.$el.trigger("change",{firedBy:this})}},{key:"_renderDateDisplay",value:function(){var t=r._isDate(this.date)?this.date:new Date,e=this.options.i18n,n=e.weekdaysShort[t.getDay()],i=e.monthsShort[t.getMonth()],o=t.getDate();this.yearTextEl.innerHTML=t.getFullYear(),this.dateTextEl.innerHTML=n+", "+i+" "+o}},{key:"gotoDate",value:function(t){var e=!0;if(r._isDate(t)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),i=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),o=t.getTime();i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),e=o<n.getTime()||i.getTime()<o}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}]),this.adjustCalendars()}}},{key:"adjustCalendars",value:function(){this.calendars[0]=this.adjustCalendar(this.calendars[0]),this.draw()}},{key:"adjustCalendar",value:function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t}},{key:"nextMonth",value:function(){this.calendars[0].month++,this.adjustCalendars()}},{key:"prevMonth",value:function(){this.calendars[0].month--,this.adjustCalendars()}},{key:"render",value:function(t,e,n){var i=this.options,o=new Date,a=r._getDaysInMonth(t,e),s=new Date(t,e,1).getDay(),u=[],l=[];r._setToStartOfDay(o),i.firstDay>0&&(s-=i.firstDay)<0&&(s+=7);for(var c=0===e?11:e-1,h=11===e?0:e+1,f=0===e?t-1:t,p=11===e?t+1:t,d=r._getDaysInMonth(f,c),v=a+s,g=v;g>7;)g-=7;v+=7-g;for(var y=!1,m=0,_=0;m<v;m++){var b=new Date(t,e,m-s+1),w=!!r._isDate(this.date)&&r._compareDates(b,this.date),x=r._compareDates(b,o),E=-1!==i.events.indexOf(b.toDateString()),S=m<s||m>=a+s,C=m-s+1,k=e,T=t,I=i.startRange&&r._compareDates(i.startRange,b),A=i.endRange&&r._compareDates(i.endRange,b),M=i.startRange&&i.endRange&&i.startRange<b&&b<i.endRange;S&&(m<s?(C=d+C,k=c,T=f):(C-=a,k=h,T=p));var P={day:C,month:k,year:T,hasEvent:E,isSelected:w,isToday:x,isDisabled:i.minDate&&b<i.minDate||i.maxDate&&b>i.maxDate||i.disableWeekends&&r._isWeekend(b)||i.disableDayFn&&i.disableDayFn(b),isEmpty:S,isStartRange:I,isEndRange:A,isInRange:M,showDaysInNextAndPreviousMonths:i.showDaysInNextAndPreviousMonths};l.push(this.renderDay(P)),7===++_&&(u.push(this.renderRow(l,i.isRTL,y)),l=[],_=0,y=!1)}return this.renderTable(i,u,n)}},{key:"renderDay",value:function(t){var e=[],n="false";if(t.isEmpty){if(!t.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';e.push("is-outside-current-month"),e.push("is-selection-disabled")}return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&(e.push("is-selected"),n="true"),t.hasEvent&&e.push("has-event"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'" aria-selected="'+n+'"><button class="datepicker-day-button" type="button" data-year="'+t.year+'" data-month="'+t.month+'" data-day="'+t.day+'">'+t.day+"</button></td>"}},{key:"renderRow",value:function(t,e,n){return'<tr class="datepicker-row'+(n?" is-selected":"")+'">'+(e?t.reverse():t).join("")+"</tr>"}},{key:"renderTable",value:function(t,e,n){return'<div class="datepicker-table-wrapper"><table cellpadding="0" cellspacing="0" class="datepicker-table" role="grid" aria-labelledby="'+n+'">'+this.renderHead(t)+this.renderBody(e)+"</table></div>"}},{key:"renderHead",value:function(t){var e=void 0,n=[];for(e=0;e<7;e++)n.push('<th scope="col"><abbr title="'+this.renderDayName(t,e)+'">'+this.renderDayName(t,e,!0)+"</abbr></th>");return"<thead><tr>"+(t.isRTL?n.reverse():n).join("")+"</tr></thead>"}},{key:"renderBody",value:function(t){return"<tbody>"+t.join("")+"</tbody>"}},{key:"renderTitle",value:function(e,n,r,i,o,a){var s,u,l=void 0,c=void 0,h=void 0,f=this.options,p=r===f.minYear,d=r===f.maxYear,v='<div id="'+a+'" class="datepicker-controls" role="heading" aria-live="assertive">',g=!0,y=!0;for(h=[],l=0;l<12;l++)h.push('<option value="'+(r===o?l-n:12+l-n)+'"'+(l===i?' selected="selected"':"")+(p&&l<f.minMonth||d&&l>f.maxMonth?'disabled="disabled"':"")+">"+f.i18n.months[l]+"</option>");for(s='<select class="datepicker-select orig-select-month" tabindex="-1">'+h.join("")+"</select>",t.isArray(f.yearRange)?(l=f.yearRange[0],c=f.yearRange[1]+1):(l=r-f.yearRange,c=1+r+f.yearRange),h=[];l<c&&l<=f.maxYear;l++)l>=f.minYear&&h.push('<option value="'+l+'" '+(l===r?'selected="selected"':"")+">"+l+"</option>");u='<select class="datepicker-select orig-select-year" tabindex="-1">'+h.join("")+"</select>";v+='<button class="month-prev'+(g?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg></button>',v+='<div class="selects-container">',f.showMonthAfterYear?v+=u+s:v+=s+u,v+="</div>",p&&(0===i||f.minMonth>=i)&&(g=!1),d&&(11===i||f.maxMonth<=i)&&(y=!1);return(v+='<button class="month-next'+(y?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg></button>')+"</div>"}},{key:"draw",value:function(t){if(this.isOpen||t){var e,n=this.options,r=n.minYear,i=n.maxYear,o=n.minMonth,a=n.maxMonth,s="";this._y<=r&&(this._y=r,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=i&&(this._y=i,!isNaN(a)&&this._m>a&&(this._m=a)),e="datepicker-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var u=0;u<1;u++)this._renderDateDisplay(),s+=this.renderTitle(this,u,this.calendars[u].year,this.calendars[u].month,this.calendars[0].year,e)+this.render(this.calendars[u].year,this.calendars[u].month,e);this.destroySelects(),this.calendarEl.innerHTML=s;var l=this.calendarEl.querySelector(".orig-select-year"),c=this.calendarEl.querySelector(".orig-select-month");M.FormSelect.init(l,{classes:"select-year",dropdownOptions:{container:document.body,constrainWidth:!1}}),M.FormSelect.init(c,{classes:"select-month",dropdownOptions:{container:document.body,constrainWidth:!1}}),l.addEventListener("change",this._handleYearChange.bind(this)),c.addEventListener("change",this._handleMonthChange.bind(this)),"function"===typeof this.options.onDraw&&this.options.onDraw(this)}}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleInputChangeBound=this._handleInputChange.bind(this),this._handleCalendarClickBound=this._handleCalendarClick.bind(this),this._finishSelectionBound=this._finishSelection.bind(this),this._handleMonthChange=this._handleMonthChange.bind(this),this._closeBound=this.close.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("change",this._handleInputChangeBound),this.calendarEl.addEventListener("click",this._handleCalendarClickBound),this.doneBtn.addEventListener("click",this._finishSelectionBound),this.cancelBtn.addEventListener("click",this._closeBound),this.options.showClearBtn&&(this._handleClearClickBound=this._handleClearClick.bind(this),this.clearBtn.addEventListener("click",this._handleClearClickBound))}},{key:"_setupVariables",value:function(){var e=this;this.$modalEl=t(r._template),this.modalEl=this.$modalEl[0],this.calendarEl=this.modalEl.querySelector(".datepicker-calendar"),this.yearTextEl=this.modalEl.querySelector(".year-text"),this.dateTextEl=this.modalEl.querySelector(".date-text"),this.options.showClearBtn&&(this.clearBtn=this.modalEl.querySelector(".datepicker-clear")),this.doneBtn=this.modalEl.querySelector(".datepicker-done"),this.cancelBtn=this.modalEl.querySelector(".datepicker-cancel"),this.formats={d:function(){return e.date.getDate()},dd:function(){var t=e.date.getDate();return(t<10?"0":"")+t},ddd:function(){return e.options.i18n.weekdaysShort[e.date.getDay()]},dddd:function(){return e.options.i18n.weekdays[e.date.getDay()]},m:function(){return e.date.getMonth()+1},mm:function(){var t=e.date.getMonth()+1;return(t<10?"0":"")+t},mmm:function(){return e.options.i18n.monthsShort[e.date.getMonth()]},mmmm:function(){return e.options.i18n.months[e.date.getMonth()]},yy:function(){return(""+e.date.getFullYear()).slice(2)},yyyy:function(){return e.date.getFullYear()}}}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("change",this._handleInputChangeBound),this.calendarEl.removeEventListener("click",this._handleCalendarClickBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(t){t.which===M.keys.ENTER&&(t.preventDefault(),this.open())}},{key:"_handleCalendarClick",value:function(e){if(this.isOpen){var n=t(e.target);n.hasClass("is-disabled")||(!n.hasClass("datepicker-day-button")||n.hasClass("is-empty")||n.parent().hasClass("is-disabled")?n.closest(".month-prev").length?this.prevMonth():n.closest(".month-next").length&&this.nextMonth():(this.setDate(new Date(e.target.getAttribute("data-year"),e.target.getAttribute("data-month"),e.target.getAttribute("data-day"))),this.options.autoClose&&this._finishSelection()))}}},{key:"_handleClearClick",value:function(){this.date=null,this.setInputValue(),this.close()}},{key:"_handleMonthChange",value:function(t){this.gotoMonth(t.target.value)}},{key:"_handleYearChange",value:function(t){this.gotoYear(t.target.value)}},{key:"gotoMonth",value:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())}},{key:"gotoYear",value:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())}},{key:"_handleInputChange",value:function(t){var e=void 0;t.firedBy!==this&&(e=this.options.parse?this.options.parse(this.el.value,this.options.format):new Date(Date.parse(this.el.value)),r._isDate(e)&&this.setDate(e))}},{key:"renderDayName",value:function(t,e,n){for(e+=t.firstDay;e>=7;)e-=7;return n?t.i18n.weekdaysAbbrev[e]:t.i18n.weekdays[e]}},{key:"_finishSelection",value:function(){this.setInputValue(),this.close()}},{key:"open",value:function(){if(!this.isOpen)return this.isOpen=!0,"function"===typeof this.options.onOpen&&this.options.onOpen.call(this),this.draw(),this.modal.open(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,"function"===typeof this.options.onClose&&this.options.onClose.call(this),this.modal.close(),this}}],[{key:"init",value:function(t,e){return i(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"_isDate",value:function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())}},{key:"_isWeekend",value:function(t){var e=t.getDay();return 0===e||6===e}},{key:"_setToStartOfDay",value:function(t){r._isDate(t)&&t.setHours(0,0,0,0)}},{key:"_getDaysInMonth",value:function(t,e){return[31,r._isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]}},{key:"_isLeapYear",value:function(t){return t%4===0&&t%100!==0||t%400===0}},{key:"_compareDates",value:function(t,e){return t.getTime()===e.getTime()}},{key:"_setToStartOfDay",value:function(t){r._isDate(t)&&t.setHours(0,0,0,0)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Datepicker}},{key:"defaults",get:function(){return e}}]),r}(l);n._template=['<div class= "modal datepicker-modal">','<div class="modal-content datepicker-container">','<div class="datepicker-date-display">','<span class="year-text"></span>','<span class="date-text"></span>',"</div>",'<div class="datepicker-calendar-container">','<div class="datepicker-calendar"></div>','<div class="datepicker-footer">','<button class="btn-flat datepicker-clear waves-effect" style="visibility: hidden;" type="button"></button>','<div class="confirmation-btns">','<button class="btn-flat datepicker-cancel waves-effect" type="button"></button>','<button class="btn-flat datepicker-done waves-effect" type="button"></button>',"</div>","</div>","</div>","</div>","</div>"].join(""),M.Datepicker=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"datepicker","M_Datepicker")}(cash),function(t){"use strict";var e={dialRadius:135,outerRadius:105,innerRadius:70,tickRadius:20,duration:350,container:null,defaultTime:"now",fromNow:0,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok"},autoClose:!1,twelveHour:!0,vibrate:!0,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onSelect:null},n=function(n){function r(e,n){u(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,n));return i.el.M_Timepicker=i,i.options=t.extend({},r.defaults,n),i.id=M.guid(),i._insertHTMLIntoDOM(),i._setupModal(),i._setupVariables(),i._setupEventHandlers(),i._clockSetup(),i._pickerSetup(),i}return s(r,n),o(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),t(this.modalEl).remove(),this.el.M_Timepicker=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleClockClickStartBound=this._handleClockClickStart.bind(this),this._handleDocumentClickMoveBound=this._handleDocumentClickMove.bind(this),this._handleDocumentClickEndBound=this._handleDocumentClickEnd.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.plate.addEventListener("mousedown",this._handleClockClickStartBound),this.plate.addEventListener("touchstart",this._handleClockClickStartBound),t(this.spanHours).on("click",this.showView.bind(this,"hours")),t(this.spanMinutes).on("click",this.showView.bind(this,"minutes"))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(t){t.which===M.keys.ENTER&&(t.preventDefault(),this.open())}},{key:"_handleClockClickStart",value:function(t){t.preventDefault();var e=this.plate.getBoundingClientRect(),n=e.left,i=e.top;this.x0=n+this.options.dialRadius,this.y0=i+this.options.dialRadius,this.moved=!1;var o=r._Pos(t);this.dx=o.x-this.x0,this.dy=o.y-this.y0,this.setHand(this.dx,this.dy,!1),document.addEventListener("mousemove",this._handleDocumentClickMoveBound),document.addEventListener("touchmove",this._handleDocumentClickMoveBound),document.addEventListener("mouseup",this._handleDocumentClickEndBound),document.addEventListener("touchend",this._handleDocumentClickEndBound)}},{key:"_handleDocumentClickMove",value:function(t){t.preventDefault();var e=r._Pos(t),n=e.x-this.x0,i=e.y-this.y0;this.moved=!0,this.setHand(n,i,!1,!0)}},{key:"_handleDocumentClickEnd",value:function(e){var n=this;e.preventDefault(),document.removeEventListener("mouseup",this._handleDocumentClickEndBound),document.removeEventListener("touchend",this._handleDocumentClickEndBound);var i=r._Pos(e),o=i.x-this.x0,a=i.y-this.y0;this.moved&&o===this.dx&&a===this.dy&&this.setHand(o,a),"hours"===this.currentView?this.showView("minutes",this.options.duration/2):this.options.autoClose&&(t(this.minutesView).addClass("timepicker-dial-out"),setTimeout((function(){n.done()}),this.options.duration/2)),"function"===typeof this.options.onSelect&&this.options.onSelect.call(this,this.hours,this.minutes),document.removeEventListener("mousemove",this._handleDocumentClickMoveBound),document.removeEventListener("touchmove",this._handleDocumentClickMoveBound)}},{key:"_insertHTMLIntoDOM",value:function(){this.$modalEl=t(r._template),this.modalEl=this.$modalEl[0],this.modalEl.id="modal-"+this.id;var e=document.querySelector(this.options.container);this.options.container&&e?this.$modalEl.appendTo(e):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var t=this;this.modal=M.Modal.init(this.modalEl,{onOpenStart:this.options.onOpenStart,onOpenEnd:this.options.onOpenEnd,onCloseStart:this.options.onCloseStart,onCloseEnd:function(){"function"===typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t),t.isOpen=!1}})}},{key:"_setupVariables",value:function(){this.currentView="hours",this.vibrate=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,this._canvas=this.modalEl.querySelector(".timepicker-canvas"),this.plate=this.modalEl.querySelector(".timepicker-plate"),this.hoursView=this.modalEl.querySelector(".timepicker-hours"),this.minutesView=this.modalEl.querySelector(".timepicker-minutes"),this.spanHours=this.modalEl.querySelector(".timepicker-span-hours"),this.spanMinutes=this.modalEl.querySelector(".timepicker-span-minutes"),this.spanAmPm=this.modalEl.querySelector(".timepicker-span-am-pm"),this.footer=this.modalEl.querySelector(".timepicker-footer"),this.amOrPm="PM"}},{key:"_pickerSetup",value:function(){var e=t('<button class="btn-flat timepicker-clear waves-effect" style="visibility: hidden;" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.clear+"</button>").appendTo(this.footer).on("click",this.clear.bind(this));this.options.showClearBtn&&e.css({visibility:""});var n=t('<div class="confirmation-btns"></div>');t('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.cancel+"</button>").appendTo(n).on("click",this.close.bind(this)),t('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.done+"</button>").appendTo(n).on("click",this.done.bind(this)),n.appendTo(this.footer)}},{key:"_clockSetup",value:function(){this.options.twelveHour&&(this.$amBtn=t('<div class="am-btn">AM</div>'),this.$pmBtn=t('<div class="pm-btn">PM</div>'),this.$amBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm),this.$pmBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm)),this._buildHoursView(),this._buildMinutesView(),this._buildSVGClock()}},{key:"_buildSVGClock",value:function(){var t=this.options.dialRadius,e=this.options.tickRadius,n=2*t,i=r._createSVGEl("svg");i.setAttribute("class","timepicker-svg"),i.setAttribute("width",n),i.setAttribute("height",n);var o=r._createSVGEl("g");o.setAttribute("transform","translate("+t+","+t+")");var a=r._createSVGEl("circle");a.setAttribute("class","timepicker-canvas-bearing"),a.setAttribute("cx",0),a.setAttribute("cy",0),a.setAttribute("r",4);var s=r._createSVGEl("line");s.setAttribute("x1",0),s.setAttribute("y1",0);var u=r._createSVGEl("circle");u.setAttribute("class","timepicker-canvas-bg"),u.setAttribute("r",e),o.appendChild(s),o.appendChild(u),o.appendChild(a),i.appendChild(o),this._canvas.appendChild(i),this.hand=s,this.bg=u,this.bearing=a,this.g=o}},{key:"_buildHoursView",value:function(){var e=t('<div class="timepicker-tick"></div>');if(this.options.twelveHour)for(var n=1;n<13;n+=1){var r=e.clone(),i=n/6*Math.PI,o=this.options.outerRadius;r.css({left:this.options.dialRadius+Math.sin(i)*o-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(i)*o-this.options.tickRadius+"px"}),r.html(0===n?"00":n),this.hoursView.appendChild(r[0])}else for(var a=0;a<24;a+=1){var s=e.clone(),u=a/6*Math.PI,l=a>0&&a<13?this.options.innerRadius:this.options.outerRadius;s.css({left:this.options.dialRadius+Math.sin(u)*l-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(u)*l-this.options.tickRadius+"px"}),s.html(0===a?"00":a),this.hoursView.appendChild(s[0])}}},{key:"_buildMinutesView",value:function(){for(var e=t('<div class="timepicker-tick"></div>'),n=0;n<60;n+=5){var i=e.clone(),o=n/30*Math.PI;i.css({left:this.options.dialRadius+Math.sin(o)*this.options.outerRadius-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(o)*this.options.outerRadius-this.options.tickRadius+"px"}),i.html(r._addLeadingZero(n)),this.minutesView.appendChild(i[0])}}},{key:"_handleAmPmClick",value:function(e){var n=t(e.target);this.amOrPm=n.hasClass("am-btn")?"AM":"PM",this._updateAmPmView()}},{key:"_updateAmPmView",value:function(){this.options.twelveHour&&(this.$amBtn.toggleClass("text-primary","AM"===this.amOrPm),this.$pmBtn.toggleClass("text-primary","PM"===this.amOrPm))}},{key:"_updateTimeFromInput",value:function(){var t=((this.el.value||this.options.defaultTime||"")+"").split(":");if(this.options.twelveHour&&"undefined"!==typeof t[1]&&(t[1].toUpperCase().indexOf("AM")>0?this.amOrPm="AM":this.amOrPm="PM",t[1]=t[1].replace("AM","").replace("PM","")),"now"===t[0]){var e=new Date(+new Date+this.options.fromNow);t=[e.getHours(),e.getMinutes()],this.options.twelveHour&&(this.amOrPm=t[0]>=12&&t[0]<24?"PM":"AM")}this.hours=+t[0]||0,this.minutes=+t[1]||0,this.spanHours.innerHTML=this.hours,this.spanMinutes.innerHTML=r._addLeadingZero(this.minutes),this._updateAmPmView()}},{key:"showView",value:function(e,n){"minutes"===e&&t(this.hoursView).css("visibility");var r="hours"===e,i=r?this.hoursView:this.minutesView,o=r?this.minutesView:this.hoursView;this.currentView=e,t(this.spanHours).toggleClass("text-primary",r),t(this.spanMinutes).toggleClass("text-primary",!r),o.classList.add("timepicker-dial-out"),t(i).css("visibility","visible").removeClass("timepicker-dial-out"),this.resetClock(n),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout((function(){t(o).css("visibility","hidden")}),this.options.duration)}},{key:"resetClock",value:function(e){var n=this.currentView,r=this[n],i="hours"===n,o=r*(Math.PI/(i?6:30)),a=i&&r>0&&r<13?this.options.innerRadius:this.options.outerRadius,s=Math.sin(o)*a,u=-Math.cos(o)*a,l=this;e?(t(this.canvas).addClass("timepicker-canvas-out"),setTimeout((function(){t(l.canvas).removeClass("timepicker-canvas-out"),l.setHand(s,u)}),e)):this.setHand(s,u)}},{key:"setHand",value:function(t,e,n){var i=this,o=Math.atan2(t,-e),a="hours"===this.currentView,s=Math.PI/(a||n?6:30),u=Math.sqrt(t*t+e*e),l=a&&u<(this.options.outerRadius+this.options.innerRadius)/2,c=l?this.options.innerRadius:this.options.outerRadius;this.options.twelveHour&&(c=this.options.outerRadius),o<0&&(o=2*Math.PI+o);var h=Math.round(o/s);o=h*s,this.options.twelveHour?a?0===h&&(h=12):(n&&(h*=5),60===h&&(h=0)):a?(12===h&&(h=0),h=l?0===h?12:h:0===h?0:h+12):(n&&(h*=5),60===h&&(h=0)),this[this.currentView]!==h&&this.vibrate&&this.options.vibrate&&(this.vibrateTimer||(navigator[this.vibrate](10),this.vibrateTimer=setTimeout((function(){i.vibrateTimer=null}),100))),this[this.currentView]=h,a?this.spanHours.innerHTML=h:this.spanMinutes.innerHTML=r._addLeadingZero(h);var f=Math.sin(o)*(c-this.options.tickRadius),p=-Math.cos(o)*(c-this.options.tickRadius),d=Math.sin(o)*c,v=-Math.cos(o)*c;this.hand.setAttribute("x2",f),this.hand.setAttribute("y2",p),this.bg.setAttribute("cx",d),this.bg.setAttribute("cy",v)}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this._updateTimeFromInput(),this.showView("hours"),this.modal.open())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.modal.close())}},{key:"done",value:function(t,e){var n=this.el.value,i=e?"":r._addLeadingZero(this.hours)+":"+r._addLeadingZero(this.minutes);this.time=i,!e&&this.options.twelveHour&&(i=i+" "+this.amOrPm),this.el.value=i,i!==n&&this.$el.trigger("change"),this.close(),this.el.focus()}},{key:"clear",value:function(){this.done(null,!0)}}],[{key:"init",value:function(t,e){return i(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"_addLeadingZero",value:function(t){return(t<10?"0":"")+t}},{key:"_createSVGEl",value:function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}},{key:"_Pos",value:function(t){return t.targetTouches&&t.targetTouches.length>=1?{x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY}:{x:t.clientX,y:t.clientY}}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Timepicker}},{key:"defaults",get:function(){return e}}]),r}(l);n._template=['<div class= "modal timepicker-modal">','<div class="modal-content timepicker-container">','<div class="timepicker-digital-display">','<div class="timepicker-text-container">','<div class="timepicker-display-column">','<span class="timepicker-span-hours text-primary"></span>',":",'<span class="timepicker-span-minutes"></span>',"</div>",'<div class="timepicker-display-column timepicker-display-am-pm">','<div class="timepicker-span-am-pm"></div>',"</div>","</div>","</div>",'<div class="timepicker-analog-display">','<div class="timepicker-plate">','<div class="timepicker-canvas"></div>','<div class="timepicker-dial timepicker-hours"></div>','<div class="timepicker-dial timepicker-minutes timepicker-dial-out"></div>',"</div>",'<div class="timepicker-footer"></div>',"</div>","</div>","</div>"].join(""),M.Timepicker=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"timepicker","M_Timepicker")}(cash),function(t){"use strict";var e={},n=function(n){function r(e,n){u(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,n));return i.el.M_CharacterCounter=i,i.options=t.extend({},r.defaults,n),i.isInvalid=!1,i.isValidLength=!1,i._setupCounter(),i._setupEventHandlers(),i}return s(r,n),o(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.CharacterCounter=void 0,this._removeCounter()}},{key:"_setupEventHandlers",value:function(){this._handleUpdateCounterBound=this.updateCounter.bind(this),this.el.addEventListener("focus",this._handleUpdateCounterBound,!0),this.el.addEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("focus",this._handleUpdateCounterBound,!0),this.el.removeEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_setupCounter",value:function(){this.counterEl=document.createElement("span"),t(this.counterEl).addClass("character-counter").css({float:"right","font-size":"12px",height:1}),this.$el.parent().append(this.counterEl)}},{key:"_removeCounter",value:function(){t(this.counterEl).remove()}},{key:"updateCounter",value:function(){var e=+this.$el.attr("data-length"),n=this.el.value.length;this.isValidLength=n<=e;var r=n;e&&(r+="/"+e,this._validateInput()),t(this.counterEl).html(r)}},{key:"_validateInput",value:function(){this.isValidLength&&this.isInvalid?(this.isInvalid=!1,this.$el.removeClass("invalid")):this.isValidLength||this.isInvalid||(this.isInvalid=!0,this.$el.removeClass("valid"),this.$el.addClass("invalid"))}}],[{key:"init",value:function(t,e){return i(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_CharacterCounter}},{key:"defaults",get:function(){return e}}]),r}(l);M.CharacterCounter=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"characterCounter","M_CharacterCounter")}(cash),function(t){"use strict";var e={duration:200,dist:-100,shift:0,padding:0,numVisible:5,fullWidth:!1,indicators:!1,noWrap:!1,onCycleTo:null},n=function(n){function r(e,n){u(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,n));return i.el.M_Carousel=i,i.options=t.extend({},r.defaults,n),i.hasMultipleSlides=i.$el.find(".carousel-item").length>1,i.showIndicators=i.options.indicators&&i.hasMultipleSlides,i.noWrap=i.options.noWrap||!i.hasMultipleSlides,i.pressed=!1,i.dragged=!1,i.offset=i.target=0,i.images=[],i.itemWidth=i.$el.find(".carousel-item").first().innerWidth(),i.itemHeight=i.$el.find(".carousel-item").first().innerHeight(),i.dim=2*i.itemWidth+i.options.padding||1,i._autoScrollBound=i._autoScroll.bind(i),i._trackBound=i._track.bind(i),i.options.fullWidth&&(i.options.dist=0,i._setCarouselHeight(),i.showIndicators&&i.$el.find(".carousel-fixed-item").addClass("with-indicators")),i.$indicators=t('<ul class="indicators"></ul>'),i.$el.find(".carousel-item").each((function(e,n){if(i.images.push(e),i.showIndicators){var r=t('<li class="indicator-item"></li>');0===n&&r[0].classList.add("active"),i.$indicators.append(r)}})),i.showIndicators&&i.$el.append(i.$indicators),i.count=i.images.length,i.options.numVisible=Math.min(i.count,i.options.numVisible),i.xform="transform",["webkit","Moz","O","ms"].every((function(t){var e=t+"Transform";return"undefined"===typeof document.body.style[e]||(i.xform=e,!1)})),i._setupEventHandlers(),i._scroll(i.offset),i}return s(r,n),o(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Carousel=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleCarouselTapBound=this._handleCarouselTap.bind(this),this._handleCarouselDragBound=this._handleCarouselDrag.bind(this),this._handleCarouselReleaseBound=this._handleCarouselRelease.bind(this),this._handleCarouselClickBound=this._handleCarouselClick.bind(this),"undefined"!==typeof window.ontouchstart&&(this.el.addEventListener("touchstart",this._handleCarouselTapBound),this.el.addEventListener("touchmove",this._handleCarouselDragBound),this.el.addEventListener("touchend",this._handleCarouselReleaseBound)),this.el.addEventListener("mousedown",this._handleCarouselTapBound),this.el.addEventListener("mousemove",this._handleCarouselDragBound),this.el.addEventListener("mouseup",this._handleCarouselReleaseBound),this.el.addEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.addEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&(this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.$indicators.find(".indicator-item").each((function(e,n){e.addEventListener("click",t._handleIndicatorClickBound)})));var e=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=e.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){var t=this;"undefined"!==typeof window.ontouchstart&&(this.el.removeEventListener("touchstart",this._handleCarouselTapBound),this.el.removeEventListener("touchmove",this._handleCarouselDragBound),this.el.removeEventListener("touchend",this._handleCarouselReleaseBound)),this.el.removeEventListener("mousedown",this._handleCarouselTapBound),this.el.removeEventListener("mousemove",this._handleCarouselDragBound),this.el.removeEventListener("mouseup",this._handleCarouselReleaseBound),this.el.removeEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.removeEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&this.$indicators.find(".indicator-item").each((function(e,n){e.removeEventListener("click",t._handleIndicatorClickBound)})),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleCarouselTap",value:function(e){"mousedown"===e.type&&t(e.target).is("img")&&e.preventDefault(),this.pressed=!0,this.dragged=!1,this.verticalDragged=!1,this.reference=this._xpos(e),this.referenceY=this._ypos(e),this.velocity=this.amplitude=0,this.frame=this.offset,this.timestamp=Date.now(),clearInterval(this.ticker),this.ticker=setInterval(this._trackBound,100)}},{key:"_handleCarouselDrag",value:function(t){var e=void 0,n=void 0,r=void 0;if(this.pressed)if(e=this._xpos(t),n=this._ypos(t),r=this.reference-e,Math.abs(this.referenceY-n)<30&&!this.verticalDragged)(r>2||r<-2)&&(this.dragged=!0,this.reference=e,this._scroll(this.offset+r));else{if(this.dragged)return t.preventDefault(),t.stopPropagation(),!1;this.verticalDragged=!0}if(this.dragged)return t.preventDefault(),t.stopPropagation(),!1}},{key:"_handleCarouselRelease",value:function(t){if(this.pressed)return this.pressed=!1,clearInterval(this.ticker),this.target=this.offset,(this.velocity>10||this.velocity<-10)&&(this.amplitude=.9*this.velocity,this.target=this.offset+this.amplitude),this.target=Math.round(this.target/this.dim)*this.dim,this.noWrap&&(this.target>=this.dim*(this.count-1)?this.target=this.dim*(this.count-1):this.target<0&&(this.target=0)),this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound),this.dragged&&(t.preventDefault(),t.stopPropagation()),!1}},{key:"_handleCarouselClick",value:function(e){if(this.dragged)return e.preventDefault(),e.stopPropagation(),!1;if(!this.options.fullWidth){var n=t(e.target).closest(".carousel-item").index();0!==this._wrap(this.center)-n&&(e.preventDefault(),e.stopPropagation()),this._cycleTo(n)}}},{key:"_handleIndicatorClick",value:function(e){e.stopPropagation();var n=t(e.target).closest(".indicator-item");n.length&&this._cycleTo(n.index())}},{key:"_handleResize",value:function(t){this.options.fullWidth?(this.itemWidth=this.$el.find(".carousel-item").first().innerWidth(),this.imageHeight=this.$el.find(".carousel-item.active").height(),this.dim=2*this.itemWidth+this.options.padding,this.offset=2*this.center*this.itemWidth,this.target=this.offset,this._setCarouselHeight(!0)):this._scroll()}},{key:"_setCarouselHeight",value:function(t){var e=this,n=this.$el.find(".carousel-item.active").length?this.$el.find(".carousel-item.active").first():this.$el.find(".carousel-item").first(),r=n.find("img").first();if(r.length)if(r[0].complete){var i=r.height();if(i>0)this.$el.css("height",i+"px");else{var o=r[0].naturalWidth,a=r[0].naturalHeight,s=this.$el.width()/o*a;this.$el.css("height",s+"px")}}else r.one("load",(function(t,n){e.$el.css("height",t.offsetHeight+"px")}));else if(!t){var u=n.height();this.$el.css("height",u+"px")}}},{key:"_xpos",value:function(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}},{key:"_ypos",value:function(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}},{key:"_wrap",value:function(t){return t>=this.count?t%this.count:t<0?this._wrap(this.count+t%this.count):t}},{key:"_track",value:function(){var t,e,n,r;e=(t=Date.now())-this.timestamp,this.timestamp=t,n=this.offset-this.frame,this.frame=this.offset,r=1e3*n/(1+e),this.velocity=.8*r+.2*this.velocity}},{key:"_autoScroll",value:function(){var t=void 0,e=void 0;this.amplitude&&(t=Date.now()-this.timestamp,(e=this.amplitude*Math.exp(-t/this.options.duration))>2||e<-2?(this._scroll(this.target-e),requestAnimationFrame(this._autoScrollBound)):this._scroll(this.target))}},{key:"_scroll",value:function(e){var n=this;this.$el.hasClass("scrolling")||this.el.classList.add("scrolling"),null!=this.scrollingTimeout&&window.clearTimeout(this.scrollingTimeout),this.scrollingTimeout=window.setTimeout((function(){n.$el.removeClass("scrolling")}),this.options.duration);var r,i,o,a,s=void 0,u=void 0,l=void 0,c=void 0,h=void 0,f=void 0,p=this.center,d=1/this.options.numVisible;if(this.offset="number"===typeof e?e:this.offset,this.center=Math.floor((this.offset+this.dim/2)/this.dim),a=-(o=(i=this.offset-this.center*this.dim)<0?1:-1)*i*2/this.dim,r=this.count>>1,this.options.fullWidth?(l="translateX(0)",f=1):(l="translateX("+(this.el.clientWidth-this.itemWidth)/2+"px) ",l+="translateY("+(this.el.clientHeight-this.itemHeight)/2+"px)",f=1-d*a),this.showIndicators){var v=this.center%this.count,g=this.$indicators.find(".indicator-item.active");g.index()!==v&&(g.removeClass("active"),this.$indicators.find(".indicator-item").eq(v)[0].classList.add("active"))}if(!this.noWrap||this.center>=0&&this.center<this.count){u=this.images[this._wrap(this.center)],t(u).hasClass("active")||(this.$el.find(".carousel-item").removeClass("active"),u.classList.add("active"));var y=l+" translateX("+-i/2+"px) translateX("+o*this.options.shift*a*s+"px) translateZ("+this.options.dist*a+"px)";this._updateItemStyle(u,f,0,y)}for(s=1;s<=r;++s){if(this.options.fullWidth?(c=this.options.dist,h=s===r&&i<0?1-a:1):(c=this.options.dist*(2*s+a*o),h=1-d*(2*s+a*o)),!this.noWrap||this.center+s<this.count){u=this.images[this._wrap(this.center+s)];var m=l+" translateX("+(this.options.shift+(this.dim*s-i)/2)+"px) translateZ("+c+"px)";this._updateItemStyle(u,h,-s,m)}if(this.options.fullWidth?(c=this.options.dist,h=s===r&&i>0?1-a:1):(c=this.options.dist*(2*s-a*o),h=1-d*(2*s-a*o)),!this.noWrap||this.center-s>=0){u=this.images[this._wrap(this.center-s)];var _=l+" translateX("+(-this.options.shift+(-this.dim*s-i)/2)+"px) translateZ("+c+"px)";this._updateItemStyle(u,h,-s,_)}}if(!this.noWrap||this.center>=0&&this.center<this.count){u=this.images[this._wrap(this.center)];var b=l+" translateX("+-i/2+"px) translateX("+o*this.options.shift*a+"px) translateZ("+this.options.dist*a+"px)";this._updateItemStyle(u,f,0,b)}var w=this.$el.find(".carousel-item").eq(this._wrap(this.center));p!==this.center&&"function"===typeof this.options.onCycleTo&&this.options.onCycleTo.call(this,w[0],this.dragged),"function"===typeof this.oneTimeCallback&&(this.oneTimeCallback.call(this,w[0],this.dragged),this.oneTimeCallback=null)}},{key:"_updateItemStyle",value:function(t,e,n,r){t.style[this.xform]=r,t.style.zIndex=n,t.style.opacity=e,t.style.visibility="visible"}},{key:"_cycleTo",value:function(t,e){var n=this.center%this.count-t;this.noWrap||(n<0?Math.abs(n+this.count)<Math.abs(n)&&(n+=this.count):n>0&&Math.abs(n-this.count)<n&&(n-=this.count)),this.target=this.dim*Math.round(this.offset/this.dim),n<0?this.target+=this.dim*Math.abs(n):n>0&&(this.target-=this.dim*n),"function"===typeof e&&(this.oneTimeCallback=e),this.offset!==this.target&&(this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound))}},{key:"next",value:function(t){(void 0===t||isNaN(t))&&(t=1);var e=this.center+t;if(e>=this.count||e<0){if(this.noWrap)return;e=this._wrap(e)}this._cycleTo(e)}},{key:"prev",value:function(t){(void 0===t||isNaN(t))&&(t=1);var e=this.center-t;if(e>=this.count||e<0){if(this.noWrap)return;e=this._wrap(e)}this._cycleTo(e)}},{key:"set",value:function(t,e){if((void 0===t||isNaN(t))&&(t=0),t>this.count||t<0){if(this.noWrap)return;t=this._wrap(t)}this._cycleTo(t,e)}}],[{key:"init",value:function(t,e){return i(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Carousel}},{key:"defaults",get:function(){return e}}]),r}(l);M.Carousel=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"carousel","M_Carousel")}(cash),function(t){"use strict";var e={onOpen:void 0,onClose:void 0},n=function(n){function r(e,n){u(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,n));return i.el.M_TapTarget=i,i.options=t.extend({},r.defaults,n),i.isOpen=!1,i.$origin=t("#"+i.$el.attr("data-target")),i._setup(),i._calculatePositioning(),i._setupEventHandlers(),i}return s(r,n),o(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.TapTarget=void 0}},{key:"_setupEventHandlers",value:function(){this._handleDocumentClickBound=this._handleDocumentClick.bind(this),this._handleTargetClickBound=this._handleTargetClick.bind(this),this._handleOriginClickBound=this._handleOriginClick.bind(this),this.el.addEventListener("click",this._handleTargetClickBound),this.originEl.addEventListener("click",this._handleOriginClickBound);var t=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=t.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleTargetClickBound),this.originEl.removeEventListener("click",this._handleOriginClickBound),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleTargetClick",value:function(t){this.open()}},{key:"_handleOriginClick",value:function(t){this.close()}},{key:"_handleResize",value:function(t){this._calculatePositioning()}},{key:"_handleDocumentClick",value:function(e){t(e.target).closest(".tap-target-wrapper").length||(this.close(),e.preventDefault(),e.stopPropagation())}},{key:"_setup",value:function(){this.wrapper=this.$el.parent()[0],this.waveEl=t(this.wrapper).find(".tap-target-wave")[0],this.originEl=t(this.wrapper).find(".tap-target-origin")[0],this.contentEl=this.$el.find(".tap-target-content")[0],t(this.wrapper).hasClass(".tap-target-wrapper")||(this.wrapper=document.createElement("div"),this.wrapper.classList.add("tap-target-wrapper"),this.$el.before(t(this.wrapper)),this.wrapper.append(this.el)),this.contentEl||(this.contentEl=document.createElement("div"),this.contentEl.classList.add("tap-target-content"),this.$el.append(this.contentEl)),this.waveEl||(this.waveEl=document.createElement("div"),this.waveEl.classList.add("tap-target-wave"),this.originEl||(this.originEl=this.$origin.clone(!0,!0),this.originEl.addClass("tap-target-origin"),this.originEl.removeAttr("id"),this.originEl.removeAttr("style"),this.originEl=this.originEl[0],this.waveEl.append(this.originEl)),this.wrapper.append(this.waveEl))}},{key:"_calculatePositioning",value:function(){var e="fixed"===this.$origin.css("position");if(!e)for(var n=this.$origin.parents(),r=0;r<n.length&&!(e="fixed"==t(n[r]).css("position"));r++);var i=this.$origin.outerWidth(),o=this.$origin.outerHeight(),a=e?this.$origin.offset().top-M.getDocumentScrollTop():this.$origin.offset().top,s=e?this.$origin.offset().left-M.getDocumentScrollLeft():this.$origin.offset().left,u=window.innerWidth,l=window.innerHeight,c=u/2,h=l/2,f=s<=c,p=s>c,d=a<=h,v=a>h,g=s>=.25*u&&s<=.75*u,y=this.$el.outerWidth(),m=this.$el.outerHeight(),_=a+o/2-m/2,b=s+i/2-y/2,w=e?"fixed":"absolute",x=g?y:y/2+i,E=m/2,S=d?m/2:0,C=f&&!g?y/2-i:0,k=i,T=v?"bottom":"top",I=2*i,A=I,P=m/2-A/2,O=y/2-I/2,N={};N.top=d?_+"px":"",N.right=p?u-b-y+"px":"",N.bottom=v?l-_-m+"px":"",N.left=f?b+"px":"",N.position=w,t(this.wrapper).css(N),t(this.contentEl).css({width:x+"px",height:E+"px",top:S+"px",right:"0px",bottom:"0px",left:C+"px",padding:k+"px",verticalAlign:T}),t(this.waveEl).css({top:P+"px",left:O+"px",width:I+"px",height:A+"px"})}},{key:"open",value:function(){this.isOpen||("function"===typeof this.options.onOpen&&this.options.onOpen.call(this,this.$origin[0]),this.isOpen=!0,this.wrapper.classList.add("open"),document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound))}},{key:"close",value:function(){this.isOpen&&("function"===typeof this.options.onClose&&this.options.onClose.call(this,this.$origin[0]),this.isOpen=!1,this.wrapper.classList.remove("open"),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound))}}],[{key:"init",value:function(t,e){return i(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_TapTarget}},{key:"defaults",get:function(){return e}}]),r}(l);M.TapTarget=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"tapTarget","M_TapTarget")}(cash),function(t){"use strict";var e={classes:"",dropdownOptions:{}},n=function(n){function r(e,n){u(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,n));return i.$el.hasClass("browser-default")?a(i):(i.el.M_FormSelect=i,i.options=t.extend({},r.defaults,n),i.isMultiple=i.$el.prop("multiple"),i.el.tabIndex=-1,i._keysSelected={},i._valueDict={},i._setupDropdown(),i._setupEventHandlers(),i)}return s(r,n),o(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_FormSelect=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleSelectChangeBound=this._handleSelectChange.bind(this),this._handleOptionClickBound=this._handleOptionClick.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),t(this.dropdownOptions).find("li:not(.optgroup)").each((function(t){t.addEventListener("click",e._handleOptionClickBound)})),this.el.addEventListener("change",this._handleSelectChangeBound),this.input.addEventListener("click",this._handleInputClickBound)}},{key:"_removeEventHandlers",value:function(){var e=this;t(this.dropdownOptions).find("li:not(.optgroup)").each((function(t){t.removeEventListener("click",e._handleOptionClickBound)})),this.el.removeEventListener("change",this._handleSelectChangeBound),this.input.removeEventListener("click",this._handleInputClickBound)}},{key:"_handleSelectChange",value:function(t){this._setValueToInput()}},{key:"_handleOptionClick",value:function(e){e.preventDefault();var n=t(e.target).closest("li")[0],r=n.id;if(!t(n).hasClass("disabled")&&!t(n).hasClass("optgroup")&&r.length){var i=!0;if(this.isMultiple){var o=t(this.dropdownOptions).find("li.disabled.selected");o.length&&(o.removeClass("selected"),o.find('input[type="checkbox"]').prop("checked",!1),this._toggleEntryFromArray(o[0].id)),i=this._toggleEntryFromArray(r)}else t(this.dropdownOptions).find("li").removeClass("selected"),t(n).toggleClass("selected",i);t(this._valueDict[r].el).prop("selected")!==i&&(t(this._valueDict[r].el).prop("selected",i),this.$el.trigger("change"))}e.stopPropagation()}},{key:"_handleInputClick",value:function(){this.dropdown&&this.dropdown.isOpen&&(this._setValueToInput(),this._setSelectedStates())}},{key:"_setupDropdown",value:function(){var e=this;this.wrapper=document.createElement("div"),t(this.wrapper).addClass("select-wrapper "+this.options.classes),this.$el.before(t(this.wrapper)),this.wrapper.appendChild(this.el),this.el.disabled&&this.wrapper.classList.add("disabled"),this.$selectOptions=this.$el.children("option, optgroup"),this.dropdownOptions=document.createElement("ul"),this.dropdownOptions.id="select-options-"+M.guid(),t(this.dropdownOptions).addClass("dropdown-content select-dropdown "+(this.isMultiple?"multiple-select-dropdown":"")),this.$selectOptions.length&&this.$selectOptions.each((function(n){if(t(n).is("option")){var r=void 0;r=e.isMultiple?e._appendOptionWithIcon(e.$el,n,"multiple"):e._appendOptionWithIcon(e.$el,n),e._addOptionToValueDict(n,r)}else if(t(n).is("optgroup")){var i=t(n).children("option");t(e.dropdownOptions).append(t('<li class="optgroup"><span>'+n.getAttribute("label")+"</span></li>")[0]),i.each((function(t){var n=e._appendOptionWithIcon(e.$el,t,"optgroup-option");e._addOptionToValueDict(t,n)}))}})),this.$el.after(this.dropdownOptions),this.input=document.createElement("input"),t(this.input).addClass("select-dropdown dropdown-trigger"),this.input.setAttribute("type","text"),this.input.setAttribute("readonly","true"),this.input.setAttribute("data-target",this.dropdownOptions.id),this.el.disabled&&t(this.input).prop("disabled","true"),this.$el.before(this.input),this._setValueToInput();var n=t('<svg class="caret" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');if(this.$el.before(n[0]),!this.el.disabled){var r=t.extend({},this.options.dropdownOptions);r.onOpenEnd=function(n){var r=t(e.dropdownOptions).find(".selected").first();if(e.dropdown.isScrollable&&r.length){var i=r[0].getBoundingClientRect().top-e.dropdownOptions.getBoundingClientRect().top;i-=e.dropdownOptions.clientHeight/2,e.dropdownOptions.scrollTop=i}},this.isMultiple&&(r.closeOnClick=!1),this.dropdown=M.Dropdown.init(this.input,r)}this._setSelectedStates()}},{key:"_addOptionToValueDict",value:function(t,e){var n=Object.keys(this._valueDict).length,r=this.dropdownOptions.id+n,i={};e.id=r,i.el=t,i.optionEl=e,this._valueDict[r]=i}},{key:"_removeDropdown",value:function(){t(this.wrapper).find(".caret").remove(),t(this.input).remove(),t(this.dropdownOptions).remove(),t(this.wrapper).before(this.$el),t(this.wrapper).remove()}},{key:"_appendOptionWithIcon",value:function(e,n,r){var i=n.disabled?"disabled ":"",o="optgroup-option"===r?"optgroup-option ":"",a=this.isMultiple?'<label><input type="checkbox"'+i+'"/><span>'+n.innerHTML+"</span></label>":n.innerHTML,s=t("<li></li>"),u=t("<span></span>");u.html(a),s.addClass(i+" "+o),s.append(u);var l=n.getAttribute("data-icon");if(l){var c=t('<img alt="" src="'+l+'">');s.prepend(c)}return t(this.dropdownOptions).append(s[0]),s[0]}},{key:"_toggleEntryFromArray",value:function(e){var n=!this._keysSelected.hasOwnProperty(e),r=t(this._valueDict[e].optionEl);return n?this._keysSelected[e]=!0:delete this._keysSelected[e],r.toggleClass("selected",n),r.find('input[type="checkbox"]').prop("checked",n),r.prop("selected",n),n}},{key:"_setValueToInput",value:function(){var e=[];if(this.$el.find("option").each((function(n){if(t(n).prop("selected")){var r=t(n).text();e.push(r)}})),!e.length){var n=this.$el.find("option:disabled").eq(0);n.length&&""===n[0].value&&e.push(n.text())}this.input.value=e.join(", ")}},{key:"_setSelectedStates",value:function(){for(var e in this._keysSelected={},this._valueDict){var n=this._valueDict[e],r=t(n.el).prop("selected");t(n.optionEl).find('input[type="checkbox"]').prop("checked",r),r?(this._activateOption(t(this.dropdownOptions),t(n.optionEl)),this._keysSelected[e]=!0):t(n.optionEl).removeClass("selected")}}},{key:"_activateOption",value:function(e,n){n&&(this.isMultiple||e.find("li.selected").removeClass("selected"),t(n).addClass("selected"))}},{key:"getSelectedValues",value:function(){var t=[];for(var e in this._keysSelected)t.push(this._valueDict[e].el.value);return t}}],[{key:"init",value:function(t,e){return i(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_FormSelect}},{key:"defaults",get:function(){return e}}]),r}(l);M.FormSelect=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"formSelect","M_FormSelect")}(cash),function(t,e){"use strict";var n={},r=function(r){function l(e,n){u(this,l);var r=a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return r.el.M_Range=r,r.options=t.extend({},l.defaults,n),r._mousedown=!1,r._setupThumb(),r._setupEventHandlers(),r}return s(l,r),o(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeThumb(),this.el.M_Range=void 0}},{key:"_setupEventHandlers",value:function(){this._handleRangeChangeBound=this._handleRangeChange.bind(this),this._handleRangeMousedownTouchstartBound=this._handleRangeMousedownTouchstart.bind(this),this._handleRangeInputMousemoveTouchmoveBound=this._handleRangeInputMousemoveTouchmove.bind(this),this._handleRangeMouseupTouchendBound=this._handleRangeMouseupTouchend.bind(this),this._handleRangeBlurMouseoutTouchleaveBound=this._handleRangeBlurMouseoutTouchleave.bind(this),this.el.addEventListener("change",this._handleRangeChangeBound),this.el.addEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.addEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.addEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("change",this._handleRangeChangeBound),this.el.removeEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_handleRangeChange",value:function(){t(this.value).html(this.$el.val()),t(this.thumb).hasClass("active")||this._showRangeBubble();var e=this._calcRangeOffset();t(this.thumb).addClass("active").css("left",e+"px")}},{key:"_handleRangeMousedownTouchstart",value:function(e){if(t(this.value).html(this.$el.val()),this._mousedown=!0,this.$el.addClass("active"),t(this.thumb).hasClass("active")||this._showRangeBubble(),"input"!==e.type){var n=this._calcRangeOffset();t(this.thumb).addClass("active").css("left",n+"px")}}},{key:"_handleRangeInputMousemoveTouchmove",value:function(){if(this._mousedown){t(this.thumb).hasClass("active")||this._showRangeBubble();var e=this._calcRangeOffset();t(this.thumb).addClass("active").css("left",e+"px"),t(this.value).html(this.$el.val())}}},{key:"_handleRangeMouseupTouchend",value:function(){this._mousedown=!1,this.$el.removeClass("active")}},{key:"_handleRangeBlurMouseoutTouchleave",value:function(){if(!this._mousedown){var n=7+parseInt(this.$el.css("padding-left"))+"px";t(this.thumb).hasClass("active")&&(e.remove(this.thumb),e({targets:this.thumb,height:0,width:0,top:10,easing:"easeOutQuad",marginLeft:n,duration:100})),t(this.thumb).removeClass("active")}}},{key:"_setupThumb",value:function(){this.thumb=document.createElement("span"),this.value=document.createElement("span"),t(this.thumb).addClass("thumb"),t(this.value).addClass("value"),t(this.thumb).append(this.value),this.$el.after(this.thumb)}},{key:"_removeThumb",value:function(){t(this.thumb).remove()}},{key:"_showRangeBubble",value:function(){var n=-7+parseInt(t(this.thumb).parent().css("padding-left"))+"px";e.remove(this.thumb),e({targets:this.thumb,height:30,width:30,top:-30,marginLeft:n,duration:300,easing:"easeOutQuint"})}},{key:"_calcRangeOffset",value:function(){var t=this.$el.width()-15,e=parseFloat(this.$el.attr("max"))||100,n=parseFloat(this.$el.attr("min"))||0;return(parseFloat(this.$el.val())-n)/(e-n)*t}}],[{key:"init",value:function(t,e){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Range}},{key:"defaults",get:function(){return n}}]),l}(l);M.Range=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"range","M_Range"),r.init(t("input[type=range]"))}(cash,M.anime)}).call(this,n(24))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n(63),a=n(12),s=n(10),u=n(25),l=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),c=new a.ErrorFactory("app","Firebase",l),h="@firebase/app",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Logger("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=a.deepCopy(t),this.container=new s.ComponentContainer(e.name),this._addComponent(new s.Component("app",(function(){return u}),"PUBLIC"));try{for(var l=o.__values(this.firebase_.INTERNAL.components.values()),c=l.next();!c.done;c=l.next()){var h=c.value;this._addComponent(h)}}catch(f){r={error:f}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!==typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!==typeof s||!s)throw c.create("bad-app-name",{appName:String(s)});if(a.contains(e,s))throw c.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var l=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&l.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&l.push("and"),a&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(l.join(" "))}u(new s.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},apps:null,SDK_VERSION:"7.9.2",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(t=t||"[DEFAULT]",!a.contains(e,t))throw c.create("no-app",{appName:t});return e[t]}function u(s){var u,l,h=s.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var f=function(t){if(void 0===t&&(t=i()),"function"!==typeof t[h])throw c.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==s.serviceProps&&a.deepExtend(f,s.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,s.multipleInstances?t:[])}}try{for(var d=o.__values(Object.keys(e)),v=d.next();!v.done;v=d.next()){var g=v.value;e[g]._addComponent(s)}}catch(y){u={error:y}}finally{try{v&&!v.done&&(l=d.return)&&l.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[h]:null}return(r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r)}(d);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){a.deepExtend(e,t)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(a.isBrowser()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a.isNode()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),m.apply(void 0,t)};var _=v;!function(t,e){t.INTERNAL.registerComponent(new s.Component("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion(h,"0.5.5",e),t.registerVersion("fire-js","")}(_),e.default=_,e.firebase=_},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return y}));var r=n(19),i=n(16),o=n(0),a=n.n(o),s=n(14),u=(n(27),n(9)),l=n(21),c=n(13),h=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=Object(s.a)(e.props),e}return Object(i.a)(e,t),e.prototype.render=function(){return a.a.createElement(r.b,{history:this.history,children:this.props.children})},e}(a.a.Component);a.a.Component;var f=function(t,e){return"function"===typeof t?t(e):t},p=function(t,e){return"string"===typeof t?Object(s.c)(t,null,null,e):t},d=function(t){return t},v=a.a.forwardRef;"undefined"===typeof v&&(v=d);var g=v((function(t,e){var n=t.innerRef,r=t.navigate,i=t.onClick,o=Object(l.a)(t,["innerRef","navigate","onClick"]),s=o.target,c=Object(u.a)({},o,{onClick:function(t){try{i&&i(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||s&&"_self"!==s||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)||(t.preventDefault(),r())}});return c.ref=d!==v&&e||n,a.a.createElement("a",c)}));var y=v((function(t,e){var n=t.component,i=void 0===n?g:n,o=t.replace,s=t.to,h=t.innerRef,y=Object(l.a)(t,["component","replace","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(t){t||Object(c.a)(!1);var n=t.history,r=p(f(s,t.location),t.location),l=r?n.createHref(r):"",g=Object(u.a)({},y,{href:l,navigate:function(){var e=f(s,t.location);(o?n.replace:n.push)(e)}});return d!==v?g.ref=e||h:g.innerRef=h,a.a.createElement(i,g)}))})),m=function(t){return t},_=a.a.forwardRef;"undefined"===typeof _&&(_=m);_((function(t,e){var n=t["aria-current"],i=void 0===n?"page":n,o=t.activeClassName,s=void 0===o?"active":o,h=t.activeStyle,d=t.className,v=t.exact,g=t.isActive,b=t.location,w=t.strict,x=t.style,E=t.to,S=t.innerRef,C=Object(l.a)(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(t){t||Object(c.a)(!1);var n=b||t.location,o=p(f(E,n),n),l=o.pathname,k=l&&l.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),T=k?Object(r.e)(n.pathname,{path:k,exact:v,strict:w}):null,I=!!(g?g(T,n):T),A=I?function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((function(t){return t})).join(" ")}(d,s):d,M=I?Object(u.a)({},x,{},h):x,P=Object(u.a)({"aria-current":I&&i||null,className:A,style:M,to:o},C);return m!==_?P.ref=e||S:P.innerRef=S,a.a.createElement(y,P)}))}))},function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(65),i=n(12),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,i=e.optional,o=this.normalizeInstanceIdentifier(n);try{var a=this.getOrInitializeService(o);if(!a){if(i)return null;throw Error("Service "+this.name+" is not available")}return a}catch(s){if(i)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(h){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=r.__read(o.value,2),s=a[0],u=a[1],l=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService(l);u.resolve(c)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();var s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=s,e.Provider=a},,function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(64),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|l>>6,p=63&l;u||(p=64,a||(f=64)),r.push(n[c],n[h],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var l=o<<2|a>>4;if(r.push(l),64!==s){var c=a<<4&240|s>>2;if(r.push(c),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},l=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}var p=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,d.prototype.create),i}return r.__extends(e,t),e}(Error),d=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?v(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new p(i,s),l=0,c=Object.keys(r);l<c.length;l++){var h=c[l];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function v(t,e){return t.replace(g,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var g=/\{\$([^}]+)}/g;function y(t){return JSON.parse(t)}var m=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=y(l(o[0])||""),n=y(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}};var _=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=c^u&(l^c),a=1518500249):(o=u^l^c,a=1859775393):r<60?(o=u&l|c&(u|l),a=2400959708):(o=u^l^c,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=c,c=l,l=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();var b=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=w),void 0===r.error&&(r.error=w),void 0===r.complete&&(r.complete=w);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function w(){}function x(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=d,e.FirebaseError=p,e.Sha1=_,e.assert=o,e.assertionError=a,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=l,e.base64Encode=function(t){var e=s(t);return u.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new b(t,e);return n.subscribe.bind(n)},e.decode=m,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=x,e.getUA=f,e.isAdmin=function(t){var e=m(t).claims;return"object"===typeof e&&!0===e.admin},e.isBrowser=function(){return"object"===typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id},e.isElectron=function(){return f().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(e){return!1}},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return f().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=m(t).claims;return!!e&&"object"===typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=m(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=m(t).claims;return"object"===typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=y,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(x(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(x(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!==typeof n)throw new Error(x(t,e,r)+"must be a valid firebase namespace.")}}).call(this,n(24))},function(t,e,n){"use strict";e.a=function(t,e){if(!t)throw new Error("Invariant failed")}},function(t,e,n){"use strict";var r=n(9);function i(t){return"/"===t.charAt(0)}function o(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}var a=function(t,e){void 0===e&&(e="");var n,r=t&&t.split("/")||[],a=e&&e.split("/")||[],s=t&&i(t),u=e&&i(e),l=s||u;if(t&&i(t)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var c=a[a.length-1];n="."===c||".."===c||""===c}else n=!1;for(var h=0,f=a.length;f>=0;f--){var p=a[f];"."===p?o(a,f):".."===p?(o(a,f),h++):h&&(o(a,f),h--)}if(!l)for(;h--;h)a.unshift("..");!l||""===a[0]||a[0]&&i(a[0])||a.unshift("");var d=a.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d};function s(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}var u=function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(Array.isArray(e))return Array.isArray(n)&&e.length===n.length&&e.every((function(e,r){return t(e,n[r])}));if("object"===typeof e||"object"===typeof n){var r=s(e),i=s(n);return r!==e||i!==n?t(r,i):Object.keys(Object.assign({},e,n)).every((function(r){return t(e[r],n[r])}))}return!1},l=n(13);function c(t){return"/"===t.charAt(0)?t:"/"+t}function h(t){return"/"===t.charAt(0)?t.substr(1):t}function f(t,e){return function(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}(t,e)?t.substr(e.length):t}function p(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function d(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function v(t,e,n,i){var o;"string"===typeof t?(o=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t)).state=e:(void 0===(o=Object(r.a)({},t)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==e&&void 0===o.state&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function g(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&u(t.state,e.state)}function y(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,i){if(null!=t){var o="function"===typeof t?t(e,n):t;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(t){var n=!0;function r(){n&&t.apply(void 0,arguments)}return e.push(r),function(){n=!1,e=e.filter((function(t){return t!==r}))}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach((function(t){return t.apply(void 0,n)}))}}}n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return k})),n.d(e,"d",(function(){return I})),n.d(e,"c",(function(){return v})),n.d(e,"f",(function(){return g})),n.d(e,"e",(function(){return d}));var m=!("undefined"===typeof window||!window.document||!window.document.createElement);function _(t,e){e(window.confirm(t))}function b(){try{return window.history.state||{}}catch(t){return{}}}function w(t){void 0===t&&(t={}),m||Object(l.a)(!1);var e=window.history,n=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=t,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,h=void 0===u?_:u,g=o.keyLength,w=void 0===g?6:g,x=t.basename?p(c(t.basename)):"";function E(t){var e=t||{},n=e.key,r=e.state,i=window.location,o=i.pathname+i.search+i.hash;return x&&(o=f(o,x)),v(o,r,n)}function S(){return Math.random().toString(36).substr(2,w)}var C=y();function k(t){Object(r.a)(j,t),j.length=e.length,C.notifyListeners(j.location,j.action)}function T(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||M(E(t.state))}function I(){M(E(b()))}var A=!1;function M(t){if(A)A=!1,k();else{C.confirmTransitionTo(t,"POP",h,(function(e){e?k({action:"POP",location:t}):function(t){var e=j.location,n=O.indexOf(e.key);-1===n&&(n=0);var r=O.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(A=!0,D(i))}(t)}))}}var P=E(b()),O=[P.key];function N(t){return x+d(t)}function D(t){e.go(t)}var R=0;function L(t){1===(R+=t)&&1===t?(window.addEventListener("popstate",T),i&&window.addEventListener("hashchange",I)):0===R&&(window.removeEventListener("popstate",T),i&&window.removeEventListener("hashchange",I))}var F=!1;var j={length:e.length,action:"POP",location:P,createHref:N,push:function(t,r){var i=v(t,r,S(),j.location);C.confirmTransitionTo(i,"PUSH",h,(function(t){if(t){var r=N(i),o=i.key,a=i.state;if(n)if(e.pushState({key:o,state:a},null,r),s)window.location.href=r;else{var u=O.indexOf(j.location.key),l=O.slice(0,u+1);l.push(i.key),O=l,k({action:"PUSH",location:i})}else window.location.href=r}}))},replace:function(t,r){var i=v(t,r,S(),j.location);C.confirmTransitionTo(i,"REPLACE",h,(function(t){if(t){var r=N(i),o=i.key,a=i.state;if(n)if(e.replaceState({key:o,state:a},null,r),s)window.location.replace(r);else{var u=O.indexOf(j.location.key);-1!==u&&(O[u]=i.key),k({action:"REPLACE",location:i})}else window.location.replace(r)}}))},go:D,goBack:function(){D(-1)},goForward:function(){D(1)},block:function(t){void 0===t&&(t=!1);var e=C.setPrompt(t);return F||(L(1),F=!0),function(){return F&&(F=!1,L(-1)),e()}},listen:function(t){var e=C.appendListener(t);return L(1),function(){L(-1),e()}}};return j}var x={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+h(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:h,decodePath:c},slash:{encodePath:c,decodePath:c}};function E(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function S(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function C(t){window.location.replace(E(window.location.href)+"#"+t)}function k(t){void 0===t&&(t={}),m||Object(l.a)(!1);var e=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),t),i=n.getUserConfirmation,o=void 0===i?_:i,a=n.hashType,s=void 0===a?"slash":a,u=t.basename?p(c(t.basename)):"",h=x[s],g=h.encodePath,b=h.decodePath;function w(){var t=b(S());return u&&(t=f(t,u)),v(t)}var k=y();function T(t){Object(r.a)(B,t),B.length=e.length,k.notifyListeners(B.location,B.action)}var I=!1,A=null;function M(){var t,e,n=S(),r=g(n);if(n!==r)C(r);else{var i=w(),a=B.location;if(!I&&(e=i,(t=a).pathname===e.pathname&&t.search===e.search&&t.hash===e.hash))return;if(A===d(i))return;A=null,function(t){if(I)I=!1,T();else{k.confirmTransitionTo(t,"POP",o,(function(e){e?T({action:"POP",location:t}):function(t){var e=B.location,n=D.lastIndexOf(d(e));-1===n&&(n=0);var r=D.lastIndexOf(d(t));-1===r&&(r=0);var i=n-r;i&&(I=!0,R(i))}(t)}))}}(i)}}var P=S(),O=g(P);P!==O&&C(O);var N=w(),D=[d(N)];function R(t){e.go(t)}var L=0;function F(t){1===(L+=t)&&1===t?window.addEventListener("hashchange",M):0===L&&window.removeEventListener("hashchange",M)}var j=!1;var B={length:e.length,action:"POP",location:N,createHref:function(t){var e=document.querySelector("base"),n="";return e&&e.getAttribute("href")&&(n=E(window.location.href)),n+"#"+g(u+d(t))},push:function(t,e){var n=v(t,void 0,void 0,B.location);k.confirmTransitionTo(n,"PUSH",o,(function(t){if(t){var e=d(n),r=g(u+e);if(S()!==r){A=e,function(t){window.location.hash=t}(r);var i=D.lastIndexOf(d(B.location)),o=D.slice(0,i+1);o.push(e),D=o,T({action:"PUSH",location:n})}else T()}}))},replace:function(t,e){var n=v(t,void 0,void 0,B.location);k.confirmTransitionTo(n,"REPLACE",o,(function(t){if(t){var e=d(n),r=g(u+e);S()!==r&&(A=e,C(r));var i=D.indexOf(d(B.location));-1!==i&&(D[i]=e),T({action:"REPLACE",location:n})}}))},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(t){void 0===t&&(t=!1);var e=k.setPrompt(t);return j||(F(1),j=!0),function(){return j&&(j=!1,F(-1)),e()}},listen:function(t){var e=k.appendListener(t);return F(1),function(){F(-1),e()}}};return B}function T(t,e,n){return Math.min(Math.max(t,e),n)}function I(t){void 0===t&&(t={});var e=t,n=e.getUserConfirmation,i=e.initialEntries,o=void 0===i?["/"]:i,a=e.initialIndex,s=void 0===a?0:a,u=e.keyLength,l=void 0===u?6:u,c=y();function h(t){Object(r.a)(b,t),b.length=b.entries.length,c.notifyListeners(b.location,b.action)}function f(){return Math.random().toString(36).substr(2,l)}var p=T(s,0,o.length-1),g=o.map((function(t){return v(t,void 0,"string"===typeof t?f():t.key||f())})),m=d;function _(t){var e=T(b.index+t,0,b.entries.length-1),r=b.entries[e];c.confirmTransitionTo(r,"POP",n,(function(t){t?h({action:"POP",location:r,index:e}):h()}))}var b={length:g.length,action:"POP",location:g[p],index:p,entries:g,createHref:m,push:function(t,e){var r=v(t,e,f(),b.location);c.confirmTransitionTo(r,"PUSH",n,(function(t){if(t){var e=b.index+1,n=b.entries.slice(0);n.length>e?n.splice(e,n.length-e,r):n.push(r),h({action:"PUSH",location:r,index:e,entries:n})}}))},replace:function(t,e){var r=v(t,e,f(),b.location);c.confirmTransitionTo(r,"REPLACE",n,(function(t){t&&(b.entries[b.index]=r,h({action:"REPLACE",location:r}))}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},canGo:function(t){var e=b.index+t;return e>=0&&e<b.entries.length},block:function(t){return void 0===t&&(t=!1),c.setPrompt(t)},listen:function(t){return c.appendListener(t)}};return b}},,function(t,e,n){"use strict";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",(function(){return r}))},function(t,e,n){var r;r=function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=546)}([function(t,e,n){var r=n(166),i=n(16),o=r.mix({},r,{assign:r.mix,merge:r.deepMix,cloneDeep:r.clone,isFinite:isFinite,isNaN:isNaN,snapEqual:r.isNumberEqual,remove:r.pull,inArray:r.contains,toAllPadding:function(t){var e=0,n=0,r=0,i=0;return o.isNumber(t)||o.isString(t)?e=n=r=i=t:o.isArray(t)?(e=t[0],r=o.isNil(t[1])?t[0]:t[1],i=o.isNil(t[2])?t[0]:t[2],n=o.isNil(t[3])?r:t[3]):o.isObject(t)&&(e=t.top||0,r=t.right||0,i=t.bottom||0,n=t.left||0),[e,r,i,n]},getClipByRange:function(t){var e=t.tl,n=t.br;return new i.Rect({attrs:{x:e.x,y:e.y,width:n.x-e.x,height:n.y-e.y}})}});o.Array={groupToMap:r.groupToMap,group:r.group,merge:r.merge,values:r.valuesOfKey,getRange:r.getRange,firstValue:r.firstValue,remove:r.pull},t.exports=o},function(t,e,n){var r=n(150),i={};r.merge(i,r,{mixin:function(t,e){var n=t.CFG?"CFG":"ATTRS";if(t&&e){t._mixins=e,t[n]=t[n]||{};var r={};i.each(e,(function(e){i.augment(t,e);var o=e[n];o&&i.merge(r,o)})),t[n]=i.merge(r,t[n])}}}),t.exports=i},function(t,e,n){var r=n(39),i=n(4);t.exports=function(t,e){if(t)if(i(t))for(var n=0,o=t.length;n<o&&!1!==e(t[n],n);n++);else if(r(t))for(var a in t)if(t.hasOwnProperty(a)&&!1===e(t[a],a))break}},function(t,e,n){var r=n(31),i=n(166),o=i.mix({assign:i.mix,isFinite:isFinite,isNaN:isNaN,Group:r.Group,Event:r.Event},i);t.exports=o},function(t,e,n){var r=n(17),i=Array.isArray?Array.isArray:function(t){return r(t,"Array")};t.exports=i},function(t,e,n){var r=n(0),i=n(132),o={version:"3.5.12",renderer:"canvas",trackingInfo:{},animate:!0,widthRatio:{column:.5,rose:.9999999,multiplePie:1/1.3},showSinglePoint:!1,connectNulls:!1,scales:{},registerTheme:function(t,e){i[t]=e},setTheme:function(t){var e={};e=r.isObject(t)?t:-1!==r.indexOf(Object.keys(i),t)?i[t]:i.default,r.deepMix(o,e)}};o.setTheme("default"),t.exports=o},function(t,e){t.exports=function(t){return null===t||void 0===t}},function(t,e,n){var r=n(1),i=n(331),o=n(133),a=n(76),s=function t(e){t.superclass.constructor.call(this,e)};s.ATTRS={},r.extend(s,o);var u={matrix:"matrix",path:"path",points:"points",lineDash:"lineDash"};r.augment(s,i,{isShape:!0,drawInner:function(t){var e=this._attrs;this.createPath(t);var n=t.globalAlpha;if(this.hasFill()){var i=e.fillOpacity;r.isNil(i)||1===i?t.fill():(t.globalAlpha=i,t.fill(),t.globalAlpha=n)}if(this.hasStroke()&&this._attrs.lineWidth>0){var o=e.strokeOpacity;r.isNil(o)||1===o||(t.globalAlpha=o),t.stroke()}this.afterPath(t)},afterPath:function(){},isHitBox:function(){return!0},isHit:function(t,e){var n=[t,e,1];if(this.invert(n),this.isHitBox()){var r=this.getBBox();if(r&&!a.box(r.minX,r.maxX,r.minY,r.maxY,n[0],n[1]))return!1}var i=this._attrs.clip;return i?(i.invert(n,this.get("canvas")),!!i.isPointInPath(n[0],n[1])&&this.isPointInPath(n[0],n[1])):this.isPointInPath(n[0],n[1])},calculateBox:function(){return null},getHitLineWidth:function(){var t=this._attrs,e=t.lineAppendWidth||0;return(t.lineWidth||0)+e},clearTotalMatrix:function(){this._cfg.totalMatrix=null,this._cfg.region=null},clearBBox:function(){this._cfg.box=null,this._cfg.region=null},getBBox:function(){var t=this._cfg.box;return t||((t=this.calculateBox())&&(t.x=t.minX,t.y=t.minY,t.width=t.maxX-t.minX,t.height=t.maxY-t.minY),this._cfg.box=t),t},clone:function(){var t=null,e=this._attrs,n={};return r.each(e,(function(t,i){u[i]&&r.isArray(e[i])?n[i]=function(t){for(var e=[],n=0;n<t.length;n++)r.isArray(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(e[i]):n[i]=e[i]})),t=new this.constructor({attrs:n}),t._cfg.zIndex=this._cfg.zIndex,t}}),t.exports=s},function(t,e,n){var r=n(65),i=n(227),o=n(120),a=n(0),s=n(5),u=n(294),l=n(9),c=n(300),h=n(298),f=n(299),p=n(313),d=["color","shape","size"];function v(t){return(a.isString(t)||a.isPlainObject(t))&&(t=[t]),a.each(t,(function(e,n){a.isObject(e)||(t[n]={type:e})})),t}var g=function(t){var e,n;n=t,(e=g).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=g.prototype;function g(e){var n;return(n=t.call(this,e)||this).viewTheme=n.get("viewTheme"),a.assign(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n),c,h,f),n.get("container")&&n._initContainer(),n._initOptions(),n}return o.getDefaultCfg=function(){return{_id:null,type:"base",coord:null,attrs:{},view:null,data:[],scales:{},container:null,labelContainer:null,shapeContainer:null,attrOptions:{},styleOptions:null,selectedOptions:null,activedOptions:null,hasDefaultAdjust:!1,adjusts:null,shapeType:null,generatePoints:!1,sortable:!1,labelCfg:null,shareTooltip:!0,tooltipCfg:null,animate:!0,animateCfg:null,visible:!0}},o._initOptions=function(){var t=this.get("adjusts");t&&(t=v(t),this.set("adjusts",t))},o._createScale=function(t,e){var n=this.get("scales"),r=n[t];return r||(r=this.get("view").createScale(t,e),n[t]=r),r},o._setAttrOptions=function(t,e){this.get("attrOptions")[t]=e},o._createAttrOption=function(t,e,n,r){var i={};i.field=e,n?a.isFunction(n)?i.callback=n:i.values=n:"color"!==t&&(i.values=r),this._setAttrOptions(t,i)},o.position=function(t){return this._setAttrOptions("position",{field:t}),this},o.color=function(t,e){var n=this.viewTheme||s;return this._createAttrOption("color",t,e,n.colors),this},o.size=function(t,e){var n=this.viewTheme||s;return this._createAttrOption("size",t,e,n.sizes),this},o.shape=function(t,e){var n=this.viewTheme||s,r=this.get("type"),i=n.shapes[r]||[];return this._createAttrOption("shape",t,e,i),this},o.opacity=function(t,e){var n=this.viewTheme||s;return this._createAttrOption("opacity",t,e,n.opacities),this},o.style=function(t,e){var n,r=this.get("styleOptions");return r||(r={},this.set("styleOptions",r)),a.isObject(t)&&(e=t,t=null),t&&(n=p(t)),r.fields=n,r.style=e,this},o.label=function(t,e,n){var r,i=this.get("labelCfg");return i||(i={},this.set("labelCfg",i)),t&&(r=p(t)),i.fields=r,a.isFunction(e)?(n||(n={}),i.callback=e):a.isObject(e)&&(n=e),i.globalCfg=n,this},o.tooltip=function(t,e){var n,r=this.get("tooltipCfg");return r||(r={}),!1===t?this.set("tooltipCfg",!1):(t&&(n=p(t)),r.fields=n,r.cfg=e),this.set("tooltipCfg",r),this},o.animate=function(t){return this.set("animateCfg",t),this},o.active=function(t,e){return!1===t?this.set("allowActive",!1):a.isObject(t)?(this.set("allowActive",!0),this.set("activedOptions",t)):(this.set("allowActive",!0),this.set("activedOptions",e)),this},o.adjust=function(t){return this.get("hasDefaultAdjust")||(t&&(t=v(t)),this.set("adjusts",t)),this},o.select=function(t,e){return!1===t?this.set("allowSelect",!1):a.isObject(t)?(this.set("allowSelect",!0),this.set("selectedOptions",t)):(this.set("allowSelect",!0),this.set("selectedOptions",e)),this},o.hasAdjust=function(t){var e=this.get("adjusts");if(!t)return!1;var n=!1;return a.each(e,(function(e){if(e.type===t)return n=!0,!1})),n},o.hasStack=function(){var t=this.get("isStacked");return a.isNil(t)&&(t=this.hasAdjust("stack"),this.set("isStacked",t)),t},o.isInCircle=function(){var t=this.get("coord");return t&&t.isPolar},o._initContainer=function(){var t=this.get("shapeContainer");if(!t){var e=this.get("container"),n=this.get("view"),r=n&&n.get("_id");t=e.addGroup({viewId:r,visible:this.get("visible")}),this.set("shapeContainer",t)}},o.init=function(){var t=this;if(t._initContainer(),t._initAttrs(),t.get("tooltipCfg")&&t.get("tooltipCfg").fields){var e=t.get("tooltipCfg").fields;a.each(e,(function(e){t._createScale(e)}))}var n=t._processData();t.get("adjusts")&&t._adjust(n),t.set("dataArray",n)},o._initAttrs=function(){var t=this.get("attrs"),e=this.get("attrOptions"),n=this.get("coord"),i=this.viewTheme||s,o=!1;for(var u in e)if(e.hasOwnProperty(u)){var l=e[u],c=a.upperFirst(u),h=p(l.field);"position"===u&&(l.coord=n,1===h.length&&"theta"===n.type&&(h.unshift("1"),o=!0));for(var f=[],d=0;d<h.length;d++){var v=h[d],g=this._createScale(v);"color"===u&&a.isNil(l.values)&&(g.values.length<=8?l.values=o?i.colors_pie:i.colors:g.values.length<=16?l.values=o?i.colors_pie_16:i.colors_16:l.values=i.colors_24,a.isNil(l.values)&&(l.values=i.colors)),f.push(g)}if("theta"===n.type&&"position"===u&&f.length>1){var y=f[1],m=Math.max.apply(null,y.values);isFinite(m)||(m=1),y.change({nice:!1,min:0,max:m})}l.scales=f;var _=new r[c](l);t[u]=_}},o._processData=function(){for(var t=this.get("data"),e=[],n=this._groupData(t),r=0;r<n.length;r++){var i=n[r],o=this._saveOrigin(i);e.push(this._numberic(o))}return e},o._groupData=function(t){var e=this._getGroupScales().map((function(t){return t.field}));return a.Array.group(t,e)},o._saveOrigin=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],i={};for(var o in r)i[o]=r[o];i._origin=r,e.push(i)}return e},o._numberic=function(t){for(var e=this.getAttr("position").scales,n=[],r=0;r<t.length;r++){for(var i=t[r],o=!0,a=0;a<Math.min(2,e.length);a++){var s=e[a];if(s.isCategory){var u=s.field;i[u]=s.translate(i[u]),Number.isNaN(i[u])&&(o=!1)}}o&&n.push(i)}return n},o._getGroupScales=function(){var t=this.get("groupScales");if(!t){t=[];var e=this.get("attrs");a.each(e,(function(e){if(d.includes(e.type)){var n=e.scales;a.each(n,(function(e){e.isCategory&&-1===a.indexOf(t,e)&&t.push(e)}))}})),this.set("groupScales",t)}return t},o._updateStackRange=function(t,e,n){for(var r=a.Array.merge(n),i=e.min,o=e.max,s=0;s<r.length;s++){var u=r[s];if(a.isArray(u[t])){var l=Math.min.apply(null,u[t]),c=Math.max.apply(null,u[t]);l<i&&(i=l),c>o&&(o=c)}}(i<e.min||o>e.max)&&e.change({min:i,max:o})},o._adjust=function(t){if(t&&t.length){var e=this,n=e.get("adjusts"),r=this.viewTheme||s,o=e.getYScale(),u=e.getXScale(),l=u.field,c=o?o.field:null;a.each(n,(function(n){var s=a.mix({xField:l,yField:c},n),h=a.upperFirst(n.type);if("Dodge"===h){var f=[];if(u.isCategory||u.isIdentity)f.push("x");else{if(o)throw new Error("dodge is not support linear attribute, please use category attribute!");f.push("y")}s.adjustNames=f,s.dodgeRatio=s.dodgeRatio||r.widthRatio.column}else if("Stack"===h){var p=e.get("coord");if(!o){s.height=p.getHeight();var d=e.getDefaultValue("size")||3;s.size=d}!p.isTransposed&&a.isNil(s.reverseOrder)&&(s.reverseOrder=!0)}new i[h](s).processAdjust(t),"Stack"===h&&o&&e._updateStackRange(c,o,t)}))}},o.setCoord=function(t){this.set("coord",t);var e=this.getAttr("position");this.get("shapeContainer").setMatrix(t.matrix),e&&(e.coord=t)},o.paint=function(){var t=this.get("dataArray"),e=[],n=this.getShapeFactory();n.setCoord(this.get("coord")),this.set("shapeFactory",n);var r=this.get("shapeContainer");this._beforeMapping(t);for(var i=0;i<t.length;i++){var o=t[i],s=i;o=this._mapping(o),e.push(o),this.draw(o,r,n,s)}this.get("labelCfg")&&this._addLabels(a.union.apply(null,e),r.get("children")),this.get("sortable")?this.set("dataArray",e):this._sort(e)},o._sort=function(t){var e=this.getXScale(),n=e.field;a.each(t,(function(t){t.sort((function(t,r){return e.translate(t._origin[n])-e.translate(r._origin[n])}))})),this.set("dataArray",t)},o._beforeMapping=function(t){var e=this;if(e.get("sortable")){var n=e.getXScale(),r=n.field;a.each(t,(function(t){t.sort((function(t,e){return n.translate(t[r])-n.translate(e[r])}))}))}e.get("generatePoints")&&(a.each(t,(function(t){e._generatePoints(t)})),a.each(t,(function(e,n){var r=t[n+1];r&&(e[0].nextPoints=r[0].points)})))},o._addLabels=function(t,e){var n=this,r=n.get("type"),i=n.get("viewTheme")||s,o=n.get("coord"),l=u.getLabelsClass(o.type,r),c=n.get("container"),h=a.map(n.get("labelCfg").fields,(function(t){return n._createScale(t)})),f=c.addGroup(l,{_id:this.get("_id"),labelCfg:a.mix({scales:h},n.get("labelCfg")),coord:o,geom:n,geomType:r,yScale:n.getYScale(),viewTheme:i,visible:n.get("visible")});f.showLabels(t,e),n.set("labelContainer",f)},o.getShapeFactory=function(){var t=this.get("shapeFactory");if(!t){var e=this.get("shapeType");t=l.getShapeFactory(e),this.set("shapeFactory",t)}return t},o._generatePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttr("shape"),r=0;r<t.length;r++){var i=t[r],o=this.createShapePointsCfg(i),a=n?this._getAttrValues(n,i):null,s=e.getShapePoints(a,o);i.points=s}},o.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale();return{x:this._normalizeValues(t[e.field],e),y:n?this._normalizeValues(t[n.field],n):t.y?t.y:.1,y0:n?n.scale(this.getYMinValue()):void 0}},o.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max;return e>=0?e:n<=0?n:0},o._normalizeValues=function(t,e){var n=[];if(a.isArray(t))for(var r=0;r<t.length;r++){var i=t[r];n.push(e.scale(i))}else n=e.scale(t);return n},o._mapping=function(t){for(var e=this.get("attrs"),n=[],r=0;r<t.length;r++){var i=t[r],o={};for(var s in o._origin=i._origin,o.points=i.points,o.nextPoints=i.nextPoints,e)if(e.hasOwnProperty(s)){var u=e[s],l=u.names,c=this._getAttrValues(u,i);if(l.length>1)for(var h=0;h<c.length;h++){var f=c[h];o[l[h]]=a.isArray(f)&&1===f.length?f[0]:f}else o[l[0]]=1===c.length?c[0]:c}n.push(o)}return n},o._getAttrValues=function(t,e){for(var n=t.scales,r=[],i=0;i<n.length;i++){var o=n[i],a=o.field;"identity"===o.type?r.push(o.value):r.push(e[a])}return t.mapping.apply(t,r)},o.getAttrValue=function(t,e){var n=this.getAttr(t),r=null;return n&&(r=this._getAttrValues(n,e)[0]),r},o.getDefaultValue=function(t){var e=this.get(t),n=this.getAttr(t);if(n){var r=n.getScale(t);"identity"===r.type&&(e=r.value)}return e},o.draw=function(t,e,n,r){for(var i=0;i<t.length;i++){var o=t[i];this.drawPoint(o,e,n,r+i)}},o.getCallbackCfg=function(t,e,n){if(!t)return e;var r={},i=t.map((function(t){return n[t]}));return a.each(e,(function(t,e){a.isFunction(t)?r[e]=t.apply(null,i):r[e]=t})),r},o._getShapeId=function(t){var e=this.get("_id"),n=this.get("keyFields");if(n&&n.length>0)a.each(n,(function(n){e+="-"+t[n]}));else{var r,i=this.get("type"),o=this.getXScale(),s=this.getYScale(),u=o.field||"x",l=s.field||"y",c=t[l];r=o.isIdentity?o.value:t[u],e+="interval"===i||"schema"===i?"-"+r:"line"===i||"area"===i||"path"===i?"-"+i:"-"+r+"-"+c;var h=this._getGroupScales();a.isEmpty(h)||a.each(h,(function(n){var r=n.field;"identity"!==n.type&&(e+="-"+t[r])}))}return e},o.getDrawCfg=function(t){var e={origin:t,x:t.x,y:t.y,color:t.color,size:t.size,shape:t.shape,isInCircle:this.isInCircle(),opacity:t.opacity},n=this.get("styleOptions");return n&&n.style&&(e.style=this.getCallbackCfg(n.fields,n.style,t._origin)),this.get("generatePoints")&&(e.points=t.points,e.nextPoints=t.nextPoints),this.get("animate")&&(e._id=this._getShapeId(t._origin)),e},o.appendShapeInfo=function(t,e){t&&(t.setSilent("index",e),t.setSilent("coord",this.get("coord")),this.get("animate")&&this.get("animateCfg")&&t.setSilent("animateCfg",this.get("animateCfg")))},o._applyViewThemeShapeStyle=function(t,e,n){var r=this.viewTheme||s,i=n.name;e?e&&(e.indexOf("hollow")>-1||e.indexOf("liquid")>-1)&&(i="hollow"+a.upperFirst(i)):n.defaultShapeType.indexOf("hollow")>-1&&(i="hollow"+a.upperFirst(i));var o=r.shape[i]||{};t.style=a.mix({},o,t.style)},o.drawPoint=function(t,e,n,r){var i=t.shape,o=this.getDrawCfg(t);this._applyViewThemeShapeStyle(o,i,n);var a=n.drawShape(i,o,e);this.appendShapeInfo(a,r)},o.getAttr=function(t){return this.get("attrs")[t]},o.getXScale=function(){return this.getAttr("position").scales[0]},o.getYScale=function(){return this.getAttr("position").scales[1]},o.getShapes=function(){var t=[],e=this.get("shapeContainer").get("children");return a.each(e,(function(e){e.get("origin")&&t.push(e)})),t},o.getAttrsForLegend=function(){var t=this.get("attrs"),e=[];return a.each(t,(function(t){d.includes(t.type)&&e.push(t)})),e},o.getFieldsForLegend=function(){var t=[],e=this.get("attrOptions");return a.each(d,(function(n){var r=e[n];r&&r.field&&a.isString(r.field)&&(t=t.concat(r.field.split("*")))})),a.uniq(t)},o.changeVisible=function(t,e){this.set("visible",t);var n=this.get("shapeContainer");n&&n.set("visible",t);var r=this.get("labelContainer");r&&r.set("visible",t),!e&&n&&n.get("canvas").draw()},o.reset=function(){this.set("attrOptions",{}),this.clearInner()},o.clearInner=function(){this.clearActivedShapes(),this.clearSelected();var t=this.get("shapeContainer");t&&t.clear();var e=this.get("labelContainer");e&&e.remove(),this.set("attrs",{}),this.set("groupScales",null),this.set("labelContainer",null),this.set("xDistance",null),this.set("isStacked",null)},o.clear=function(){this.clearInner(),this.set("scales",{})},o.destroy=function(){this.clear();var e=this.get("shapeContainer");e&&e.remove(),this.offEvents(),t.prototype.destroy.call(this)},o.bindEvents=function(){this.get("view")&&(this._bindActiveAction(),this._bindSelectedAction())},o.offEvents=function(){this.get("view")&&(this._offActiveAction(),this._offSelectedAction())},g}(o);t.exports=g},function(t,e,n){var r=n(0),i=n(25),o=r.PathUtil,a={},s={_coord:null,draw:function(t,e){return this.drawShape?this.drawShape(t,e):null},setCoord:function(t){this._coord=t},parsePath:function(t,e){var n=this._coord;return t=o.parsePathString(t),t=n.isPolar&&!1!==e?i.convertPolarPath(n,t):i.convertNormalPath(n,t)},parsePoint:function(t){return this._coord.convertPoint(t)},parsePoints:function(t){var e=this._coord,n=[];return r.each(t,(function(t){n.push(e.convertPoint(t))})),n}},u={defaultShapeType:null,setCoord:function(t){this._coord=t},getShape:function(t){r.isArray(t)&&(t=t[0]);var e=this[t]||this[this.defaultShapeType];return e._coord=this._coord,e},getShapePoints:function(t,e){var n=this.getShape(t);return(n.getPoints||n.getShapePoints||this.getDefaultPoints)(e)},getDefaultPoints:function(){return[]},getMarkerCfg:function(t,e){var n=this.getShape(t);if(!n.getMarkerCfg){var r=this.defaultShapeType;n=this.getShape(r)}return n.getMarkerCfg(e)},getSelectedCfg:function(){return{}},drawShape:function(t,e,n){var r=this.getShape(t).draw(e,n);return r&&(r.setSilent("origin",e.origin),r._id=e.yIndex?e._id+e.yIndex:e._id,r.name=this.name),r}};a.registerFactory=function(t,e){var n=r.upperFirst(t),i=r.assign({},u,e);return a[n]=i,i.name=t,i},a.registerShape=function(t,e,n){var i=r.upperFirst(t),o=a[i],u=r.assign({},s,n);return o[e]=u,u},a.getShapeFactory=function(t){return t=t||"point",this[r.upperFirst(t)]},t.exports=a},function(t,e){function n(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}t.exports=function(t,e,r,i){return e&&n(t,e),r&&n(t,r),i&&n(t,i),t}},function(t,e,n){var r=n(17);t.exports=function(t){return r(t,"Number")}},function(t,e,n){"use strict";var r=n(89);n.d(e,"f",(function(){return r.h})),n.d(e,"e",(function(){return r.g})),n.d(e,"d",(function(){return r.f}));var i=n(440);n.d(e,"c",(function(){return i.b})),n.d(e,"b",(function(){return i.a}));var o=n(439);n.d(e,"a",(function(){return o.a}))},function(t,e,n){"use strict";n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return c})),e.g=function(t,e){var n=h(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n},e.e=function(t,e){var n=h(t,e);if(n.state>3)throw new Error("too late; already running");return n},e.f=h;var r=n(442),i=n(103),o=n.i(r.a)("start","end","cancel","interrupt"),a=[],s=1,u=2,l=5,c=6;function h(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}e.h=function(t,e,r,h,f,p){var d=t.__transition;if(d){if(r in d)return}else t.__transition={};!function(t,e,r){var o,a=t.__transition;function h(l){var d,v,g,y;if(r.state!==s)return p();for(d in a)if((y=a[d]).name===r.name){if(3===y.state)return n.i(i.timeout)(h);4===y.state?(y.state=c,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete a[d]):+d<e&&(y.state=c,y.timer.stop(),y.on.call("cancel",t,t.__data__,y.index,y.group),delete a[d])}if(n.i(i.timeout)((function(){3===r.state&&(r.state=4,r.timer.restart(f,r.delay,r.time),f(l))})),r.state=u,r.on.call("start",t,t.__data__,r.index,r.group),r.state===u){for(r.state=3,o=new Array(g=r.tween.length),d=0,v=-1;d<g;++d)(y=r.tween[d].value.call(t,t.__data__,r.index,r.group))&&(o[++v]=y);o.length=v+1}}function f(e){for(var n=e<r.duration?r.ease.call(null,e/r.duration):(r.timer.restart(p),r.state=l,1),i=-1,a=o.length;++i<a;)o[i].call(t,n);r.state===l&&(r.on.call("end",t,t.__data__,r.index,r.group),p())}function p(){for(var n in r.state=c,r.timer.stop(),delete a[e],a)return;delete t.__transition}a[e]=r,r.timer=n.i(i.timer)((function(t){r.state=s,r.timer.restart(h,r.delay,r.time),r.delay<=t&&h(t-r.delay)}),0,r.time)}(t,r,{name:e,index:h,group:f,on:o,tween:a,time:p.time,delay:p.delay,duration:p.duration,ease:p.ease,timer:null,state:0})}},function(t,e,n){var r=n(17);t.exports=function(t){return r(t,"Function")}},function(t,e,n){var r=n(17);t.exports=function(t){return r(t,"String")}},function(t,e,n){var r=n(31);t.exports=r},function(t,e){var n={}.toString;t.exports=function(t,e){return n.call(t)==="[object "+e+"]"}},function(t,e,n){"use strict";n.d(e,"c",(function(){return D})),e.b=R;var r=n(505),i=n(506),o=n(493),a=n(487),s=n(216),u=n(492),l=n(496),c=n(498),h=n(501),f=n(508),p=n(484),d=n(500),v=n(499),g=n(507),y=n(491),m=n(490),_=n(483),b=n(218),w=n(502),x=n(485),E=n(509),S=n(494),C=n(503),k=n(497),T=n(482),I=n(495),A=n(504),M=n(486),P=n(488),O=n(99),N=n(489),D=[null];function R(t,e){this._groups=t,this._parents=e}function L(){return new R([[document.documentElement]],D)}R.prototype=L.prototype={constructor:R,select:r.a,selectAll:i.a,filter:o.a,data:a.a,enter:s.a,exit:u.a,join:l.a,merge:c.a,order:h.a,sort:f.a,call:p.a,nodes:d.a,node:v.a,size:g.a,empty:y.a,each:m.a,attr:_.a,style:b.b,property:w.a,classed:x.a,text:E.a,html:S.a,raise:C.a,lower:k.a,append:T.a,insert:I.a,remove:A.a,clone:M.a,datum:P.a,on:O.c,dispatch:N.a},e.a=L},function(t,e){t.exports={FONT_FAMILY:'"-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"'}},function(t,e,n){var r=n(3),i=n(109),o=n(36),a=["min","max","median","start","end"],s=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var s=o.prototype;return s.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{xScales:null,yScales:null,el:null})},s.render=function(){},s.clear=function(){var t=this.get("el");t&&t.remove(),this.set("el",null)},s.destroy=function(){this.clear(),t.prototype.destroy.call(this)},s.changeVisible=function(t){this.set("visible",t);var e=this.get("el");e&&(e.set?e.set("visible",t):e.style.display=t?"":"none")},s.parsePoint=function(t,e){var n,o,a=this.get("xScales"),s=this.get("yScales");if(r.isFunction(e)&&(e=e(a,s)),r.isArray(e)&&r.isString(e[0])&&-1!==e[0].indexOf("%"))return this._parsePercentPoint(t,e);if(r.isArray(e))n=this._getNormalizedValue(e[0],i.getFirstScale(a)),o=this._getNormalizedValue(e[1],i.getFirstScale(s));else for(var u in e){var l=e[u];a[u]&&(n=this._getNormalizedValue(l,a[u])),s[u]&&(o=this._getNormalizedValue(l,s[u],"y"))}return r.isNil(n)||r.isNil(o)||isNaN(n)||isNaN(o)?null:t.convert({x:n,y:o})},s._getNormalizedValue=function(t,e){var n,i;return-1!==r.indexOf(a,t)?"start"===t?n=0:"end"===t?n=1:"median"===t?(i=e.isCategory?(e.values.length-1)/2:(e.min+e.max)/2,n=e.scale(i)):(i=e.isCategory?"min"===t?0:e.values.length-1:e[t],n=e.scale(i)):n=e.scale(t),n},s._parsePercentPoint=function(t,e){var n=parseFloat(e[0])/100,r=parseFloat(e[1])/100,i=t.start,o=t.end,a=Math.min(i.x,o.x),s=Math.min(i.y,o.y);return{x:t.width*n+a,y:t.height*r+s}},o}(o);t.exports=s},function(t,e){t.exports=function(t){return null!==t&&"function"!==typeof t&&isFinite(t.length)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(478);n.d(e,"create",(function(){return r.a}));var i=n(61);n.d(e,"creator",(function(){return i.a}));var o=n(479);n.d(e,"local",(function(){return o.a}));var a=n(214);n.d(e,"matcher",(function(){return a.a}));var s=n(480);n.d(e,"mouse",(function(){return s.a}));var u=n(97);n.d(e,"namespace",(function(){return u.a}));var l=n(98);n.d(e,"namespaces",(function(){return l.a}));var c=n(62);n.d(e,"clientPoint",(function(){return c.a}));var h=n(215);n.d(e,"select",(function(){return h.a}));var f=n(481);n.d(e,"selectAll",(function(){return f.a}));var p=n(18);n.d(e,"selection",(function(){return p.a}));var d=n(100);n.d(e,"selector",(function(){return d.a}));var v=n(219);n.d(e,"selectorAll",(function(){return v.a}));var g=n(218);n.d(e,"style",(function(){return g.a}));var y=n(510);n.d(e,"touch",(function(){return y.a}));var m=n(511);n.d(e,"touches",(function(){return m.a}));var _=n(102);n.d(e,"window",(function(){return _.a}));var b=n(99);n.d(e,"event",(function(){return b.a})),n.d(e,"customEvent",(function(){return b.b}))},function(t,e,n){var r=n(0),i={splitPoints:function(t){var e=[],n=t.x,i=t.y;return i=r.isArray(i)?i:[i],r.each(i,(function(t,i){var o={x:r.isArray(n)?n[i]:n,y:t};e.push(o)})),e},addFillAttrs:function(t,e){e.color&&(t.fill=e.color),r.isNumber(e.opacity)&&(t.opacity=t.fillOpacity=e.opacity)},addStrokeAttrs:function(t,e){e.color&&(t.stroke=e.color),r.isNumber(e.opacity)&&(t.opacity=t.strokeOpacity=e.opacity)}};t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(42),o=s(i),a=s(n(29));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(t,n){u(this,e);var r=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.getParentInfo=function(){return{id:r.id,name:r.name}},r.name=n,r}return c(e,t),r(e,[{key:"getChildContext",value:function(){return{addElement:this.context.addElement,updateElement:this.context.updateElement,deleteElement:this.context.deleteElement,createId:this.context.createId,getParentInfo:this.getParentInfo,getViewId:this.context.getViewId}}},{key:"componentWillMount",value:function(){var t=this.context;this.id=t.createId(),t.addElement(this.name,this.id,this.props,t.getParentInfo(),t.getViewId())}},{key:"componentWillReceiveProps",value:function(t){this.context.updateElement(this.name,this.id,t,this.context.getParentInfo(),this.context.getViewId())}},{key:"componentWillUnmount",value:function(){this.context.deleteElement(this.name,this.id)}},{key:"render",value:function(){var t=this.props.children;return t?t.length&&(t=o.default.createElement("div",null,t)):t=null,t}}]),e}(i.Component);h.contextTypes={addElement:a.default.func,updateElement:a.default.func,deleteElement:a.default.func,createId:a.default.func,getParentInfo:a.default.func,getViewId:a.default.func},h.childContextTypes={addElement:a.default.func,updateElement:a.default.func,deleteElement:a.default.func,createId:a.default.func,getParentInfo:a.default.func,getViewId:a.default.func},h.generateBaseTypedComponent=function(t){var e=function(e){function n(e){return u(this,n),l(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t))}return c(n,e),r(n,[{key:"getChildContext",value:function(){return{addElement:this.context.addElement,updateElement:this.context.updateElement,deleteElement:this.context.deleteElement,createId:this.context.createId,getParentInfo:this.getParentInfo,getViewId:this.context.getViewId}}}]),n}(h);return e.contextTypes={addElement:a.default.func,updateElement:a.default.func,deleteElement:a.default.func,createId:a.default.func,getParentInfo:a.default.func,getViewId:a.default.func},e.childContextTypes={addElement:a.default.func,updateElement:a.default.func,deleteElement:a.default.func,createId:a.default.func,getParentInfo:a.default.func,getViewId:a.default.func},e},e.default=h},function(t,e,n){var r=n(0),i=n(314);function o(t,e){var n=t.getCenter();return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function a(t,e){for(var n=t.length,r=[t[0]],i=1;i<n;i+=2){var o=e.convertPoint({x:t[i],y:t[i+1]});r.push(o.x,o.y)}return r}var s={getLinePath:function(t,e){return function(t,e){if(!t.length)return[];for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];0===r?n.push(["M",o.x,o.y]):n.push(["L",o.x,o.y])}return e&&n.push(["Z"]),n}(t,e)},getSplinePath:function(t,e,n){var o=[],a=t[0],u=null;if(t.length<=2)return s.getLinePath(t,e);r.each(t,(function(t){u&&u.x===t.x&&u.y===t.y||(o.push(t.x),o.push(t.y),u=t)})),n=n||[[0,0],[1,1]];var l=i.catmullRom2bezier(o,e,n);return l.unshift(["M",a.x,a.y]),l},getPointRadius:function(t,e){return o(t,e)},getPointAngle:function(t,e){var n=t.getCenter();return Math.atan2(e.y-n.y,e.x-n.x)},convertNormalPath:function(t,e){var n=[];return r.each(e,(function(e){switch(e[0].toLowerCase()){case"m":case"l":case"c":n.push(a(e,t));break;case"z":default:n.push(e)}})),n},convertPolarPath:function(t,e){var n,i,s=[];return r.each(e,(function(r,u){switch(r[0].toLowerCase()){case"m":case"c":case"q":s.push(a(r,t));break;case"l":n=e[u-1],i=r,(t.isTransposed?n[n.length-2]===i[1]:n[n.length-1]===i[2])?s=s.concat(function(t,e,n){var r=n.isTransposed,i=n.startAngle,a=n.endAngle,s={x:t[1],y:t[2]},u={x:e[1],y:e[2]},l=[],c=r?"y":"x",h=Math.abs(u[c]-s[c])*(a-i),f=u[c]>=s[c]?1:0,p=h>Math.PI?1:0,d=n.convertPoint(u),v=o(n,d);if(v>=.5)if(h===2*Math.PI){var g={x:(u.x+s.x)/2,y:(u.y+s.y)/2},y=n.convertPoint(g);l.push(["A",v,v,0,p,f,y.x,y.y]),l.push(["A",v,v,0,p,f,d.x,d.y])}else l.push(["A",v,v,0,p,f,d.x,d.y]);return l}(n,i,t)):s.push(a(r,t));break;case"z":default:s.push(r)}})),function(t){r.each(t,(function(e,n){if("a"===e[0].toLowerCase()){var r=t[n-1],i=t[n+1];i&&"a"===i[0].toLowerCase()?r&&"l"===r[0].toLowerCase()&&(r[0]="M"):r&&"a"===r[0].toLowerCase()&&i&&"l"===i[0].toLowerCase()&&(i[0]="M")}}))}(s),s}};t.exports=s},function(t,e,n){var r=n(10),i=n(2),o=n(39),a=n(6),s=function(){var t=e.prototype;function e(t){this._initDefaultCfg(),r(this,t),this.init()}return t._initDefaultCfg=function(){this.type="base",this.formatter=null,this.range=[0,1],this.ticks=null,this.values=[]},t.init=function(){},t.getTicks=function(){var t=this,e=t.ticks,n=[];return i(e,(function(e){var r;r=o(e)?e:{text:t.getText(e),tickValue:e,value:t.scale(e)},n.push(r)})),n},t.getText=function(t,e){var n=this.formatter;return t=n?n(t,e):t,!a(t)&&t.toString||(t=""),t.toString()},t.rangeMin=function(){return this.range[0]},t.rangeMax=function(){var t=this.range;return t[t.length-1]},t.invert=function(t){return t},t.translate=function(t){return t},t.scale=function(t){return t},t.clone=function(){var t=this,e=t.constructor,n={};return i(t,(function(e,r){n[r]=t[r]})),new e(n)},t.change=function(t){return this.ticks=null,r(this,t),this.init(),this},e}();t.exports=s},function(t,e,n){"use strict";e.b=S,e.a=C,e.c=function(){return++E};var r=n(22),i=n(519),o=n(520),a=n(521),s=n(522),u=n(523),l=n(525),c=n(526),h=n(527),f=n(528),p=n(529),d=n(530),v=n(531),g=n(532),y=n(533),m=n(534),_=n(535),b=n(536),w=n(63),x=n(524),E=0;function S(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function C(t){return n.i(r.selection)().transition(t)}var k=r.selection.prototype;S.prototype=C.prototype={constructor:S,select:p.a,selectAll:d.a,filter:l.a,merge:c.a,selection:v.a,transition:b.a,call:k.call,nodes:k.nodes,node:k.node,size:k.size,empty:k.empty,each:k.each,on:h.a,attr:i.a,attrTween:o.a,style:g.a,styleTween:y.a,text:m.a,textTween:_.a,remove:f.a,tween:w.a,delay:a.a,duration:s.a,ease:u.a,end:x.a}},function(t,e,n){var r=n(0),i=r.DomUtil,o=["start","process","end","reset"],a=function(){var t=e.prototype;function e(t,e){var n=this,i=n.getDefaultCfg();r.assign(n,i,t),n.view=n.chart=e,n.canvas=e.get("canvas"),n._bindEvents()}return t.getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},t._start=function(t){var e=this;e.preStart&&e.preStart(t),e.start(t),e.onStart&&e.onStart(t)},t._process=function(t){var e=this;e.preProcess&&e.preProcess(t),e.process(t),e.onProcess&&e.onProcess(t)},t._end=function(t){var e=this;e.preEnd&&e.preEnd(t),e.end(t),e.onEnd&&e.onEnd(t)},t._reset=function(t){var e=this;e.preReset&&e.preReset(t),e.reset(t),e.onReset&&e.onReset(t)},t.start=function(){},t.process=function(){},t.end=function(){},t.reset=function(){},t._bindEvents=function(){var t=this,e=t.canvas.get("canvasDOM");t._clearEvents(),r.each(o,(function(n){var o=r.upperFirst(n);t["_on"+o+"Listener"]=i.addEventListener(e,t[n+"Event"],r.wrapBehavior(t,"_"+n))}))},t._clearEvents=function(){var t=this;r.each(o,(function(e){var n="_on"+r.upperFirst(e)+"Listener";t[n]&&t[n].remove()}))},t.destroy=function(){this._clearEvents()},e}();t.exports=a},function(t,e,n){var r=n(224);t.exports=n(541)(r.isElement,!0)},function(t,e,n){t.exports={Axis:n(240),Component:n(66),Guide:n(248),Label:n(252),Legend:n(258),Tooltip:n(263)}},function(t,e,n){t.exports={Canvas:n(328),Group:n(134),Shape:n(7),Arc:n(136),Circle:n(137),Dom:n(138),Ellipse:n(139),Fan:n(140),Image:n(141),Line:n(142),Marker:n(74),Path:n(145),Polygon:n(146),Polyline:n(147),Rect:n(148),Text:n(149),PathSegment:n(50),PathUtil:n(77),Event:n(135),version:"3.3.6"}},function(t,e,n){"use strict";e.b=function(t,e){var o=e-t;return o?i(t,o>180||o<-180?o-360*Math.round(o/360):o):n.i(r.a)(isNaN(t)?e:t)},e.c=function(t){return 1===(t=+t)?o:function(e,i){return i-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,i,t):n.i(r.a)(isNaN(e)?i:e)}},e.a=o;var r=n(209);function i(t,e){return function(n){return t+n*e}}function o(t,e){var o=e-t;return o?i(t,o):n.i(r.a)(isNaN(t)?e:t)}},function(t,e,n){var r=n(10),i=function(){var t=e.prototype;function e(t){this._initDefaultCfg(),r(this,t)}return t._initDefaultCfg=function(){this.adjustNames=["x","y"]},t.processAdjust=function(){},e}();t.exports=i},function(t,e,n){var r=n(15),i=n(4),o=n(6),a=n(10),s=n(2);function u(t,e){return r(e)?e:t.invert(t.scale(e))}var l=function(){function t(t){var e=this;this.type="base",this.name=null,this.method=null,this.values=[],this.scales=[],this.linear=null;var n=null,r=this.callback;if(t.callback){var i=t.callback;n=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=i.apply(void 0,n);return o(s)&&(s=r.apply(e,n)),s}}a(this,t),n&&a(this,{callback:n})}var e=t.prototype;return e._getAttrValue=function(t,e){var n=this.values;if(t.isCategory&&!this.linear)return n[t.translate(e)%n.length];var r=t.scale(e);return this.getLinearValue(r)},e.getLinearValue=function(t){var e=this.values,n=e.length-1,r=Math.floor(n*t),i=n*t-r,o=e[r];return o+((r===n?o:e[r+1])-o)*i},e.callback=function(t){var e=this.scales[0];return"identity"===e.type?e.value:this._getAttrValue(e,t)},e.getNames=function(){for(var t=this.scales,e=this.names,n=Math.min(t.length,e.length),r=[],i=0;i<n;i++)r.push(e[i]);return r},e.getFields=function(){var t=this.scales,e=[];return s(t,(function(t){e.push(t.field)})),e},e.getScale=function(t){return this.scales[this.names.indexOf(t)]},e.mapping=function(){for(var t=this.scales,e=this.callback,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r;if(e){for(var a=0,s=r.length;a<s;a++)r[a]=this._toOriginParam(r[a],t[a]);o=e.apply(this,r)}return o=[].concat(o)},e._toOriginParam=function(t,e){var n=t;if(!e.isLinear)if(i(t)){n=[];for(var r=0,o=t.length;r<o;r++)n.push(u(e,t[r]))}else n=u(e,t);return n},t}();t.exports=l},function(t,e,n){var r=n(36),i=n(3),o=n(108),a=n(110),s=n(19).FONT_FAMILY,u=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var u=r.prototype;return u.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return i.mix({},e,{_id:null,zIndex:4,ticks:null,line:null,tickLine:null,subTickCount:0,subTickLine:null,grid:null,label:{offset:0,offsetX:0,offsetY:0,textStyle:{},autoRotate:!0,autoHide:!1,formatter:null},labelItems:[],title:{autoRotate:!0,textStyle:{}},autoPaint:!0})},u.beforeRender=function(){var t=this.get("title"),e=this.get("label"),n=this.get("grid");t&&this.set("title",i.deepMix({autoRotate:!0,textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:s,textAlign:"center"},offset:48},t)),e&&this.set("label",i.deepMix({autoRotate:!0,autoHide:!0,textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:s},offset:10},e)),n&&this.set("grid",i.deepMix({lineStyle:{lineWidth:1,stroke:"#C0D0E0"}},n))},u.render=function(){this.beforeRender(),this.get("label")&&this.renderLabels(),this.get("autoPaint")&&this.paint(),i.isNil(this.get("title"))||this.renderTitle(),this.get("group").sort()},u.renderLabels=function(){var t=this.get("group"),e=this.get("label"),n=new a({name:"axis-label"});this.set("labelRenderer",n),n.set("labelCfg",e),i.each(["formatter","htmlTemplate","labelLine","textStyle","useHtml"],(function(t){e[t]&&n.set(t,e[t])})),n.set("coord",this.get("coord")),n.set("group",t.addGroup()),n.set("canvas",this.get("canvas"))},u._parseTicks=function(t){for(var e=(t=t||[]).length,n=0;n<e;n++){var r=t[n];i.isObject(r)||(t[n]=this.parseTick(r,n,e))}return this.set("ticks",t),t},u._addTickItem=function(t,e,n,r){void 0===r&&(r="");var i=this.get("tickItems"),o=this.get("subTickItems"),a=this.getTickEnd(e,n,t),s={x1:e.x,y1:e.y,x2:a.x,y2:a.y};i||(i=[]),o||(o=[]),"sub"===r?o.push(s):i.push(s),this.set("tickItems",i),this.set("subTickItems",o)},u._renderLine=function(){var t,e=this.get("line");if(e){t=this.getLinePath(),e=i.mix({path:t},e);var n=this.get("group").addShape("path",{attrs:e});n.name="axis-line",this.get("appendInfo")&&n.setSilent("appendInfo",this.get("appendInfo")),this.set("lineShape",n)}},u._processCatTicks=function(){var t=this.get("label"),e=this.get("tickLine"),n=this.get("ticks");n=this._parseTicks(n);for(var r=this._getNormalizedTicks(n),i=0;i<r.length;i+=3){var o=this.getTickPoint(r[i]),a=this.getTickPoint(r[i+1]),s=this.getTickPoint(r[i+2]),u=Math.floor(i/3),l=n[u];e&&(0===u&&this._addTickItem(u,a,e.length),this._addTickItem(u,s,e.length)),t&&this.addLabel(l,o,u)}},u._getNormalizedTicks=function(t){var e=0;t.length>1&&(e=(t[1].value-t[0].value)/2);for(var n=[],r=0;r<t.length;r++){var o=t[r],a=o.value,s=o.value-e,u=o.value+e;n.push(a,s,u)}var l=i.arrayUtil.getRange(n);return n.map((function(t){return(t-l.min)/(l.max-l.min)}))},u.addLabel=function(t,e,n){var r=this.get("labelItems"),o=this.get("labelRenderer"),a=i.deepMix({},this.get("label"));if(o){var s=this.get("_labelOffset");i.isNil(this.get("label").offset)||(s=this.get("label").offset);var u=this.getSideVector(s,e,n);e={x:e.x+u[0]+a.offsetX,y:e.y+u[1]+a.offsetY},a.text=t.text,a.x=e.x,a.y=e.y,a.point=e,a.textAlign=this.getTextAnchor(u),e.rotate&&(a.rotate=e.rotate),r.push(a)}},u._processTicks=function(){var t=this,e=t.get("label"),n=t.get("subTickCount"),r=t.get("tickLine"),o=t.get("ticks");if(o=t._parseTicks(o),i.each(o,(function(n,i){var o=t.getTickPoint(n.value,i);r&&t._addTickItem(i,o,r.length),e&&t.addLabel(n,o,i)})),n){var a=t.get("subTickLine");i.each(o,(function(e,i){if(i>0){var s=e.value-o[i-1].value;s/=t.get("subTickCount")+1;for(var u=1;u<=n;u++){var l={text:"",value:i?o[i-1].value+u*s:u*s},c=t.getTickPoint(l.value),h=void 0;h=a&&a.length?a.length:parseInt(.6*r.length,10),t._addTickItem(u-1,c,h,"sub")}}}))}},u._addTickLine=function(t,e){var n=i.mix({},e),r=[];i.each(t,(function(t){r.push(["M",t.x1,t.y1]),r.push(["L",t.x2,t.y2])})),delete n.length,n.path=r;var o=this.get("group").addShape("path",{attrs:n});o.name="axis-ticks",o._id=this.get("_id")+"-ticks",o.set("coord",this.get("coord")),this.get("appendInfo")&&o.setSilent("appendInfo",this.get("appendInfo"))},u._renderTicks=function(){var t=this.get("tickItems"),e=this.get("subTickItems");if(!i.isEmpty(t)){var n=this.get("tickLine");this._addTickLine(t,n)}if(!i.isEmpty(e)){var r=this.get("subTickLine")||this.get("tickLine");this._addTickLine(e,r)}},u._renderGrid=function(){var t=this.get("grid");if(t){t.coord=this.get("coord"),t.appendInfo=this.get("appendInfo");var e=this.get("group");this.set("gridGroup",e.addGroup(o,t))}},u._renderLabels=function(){var t=this.get("labelRenderer"),e=this.get("labelItems");t&&(t.set("items",e),t._dryDraw())},u.paint=function(){var t=this.get("tickLine"),e=!0;t&&t.hasOwnProperty("alignWithLabel")&&(e=t.alignWithLabel),this._renderLine();var n=this.get("type");"cat"!==n&&"timeCat"!==n||!1!==e?this._processTicks():this._processCatTicks(),this._renderTicks(),this._renderGrid(),this._renderLabels();var r=this.get("label");r&&r.autoRotate&&this.autoRotateLabels(),r&&r.autoHide&&this.autoHideLabels()},u.parseTick=function(t,e,n){return{text:t,value:e/(n-1)}},u.getTextAnchor=function(t){return Math.abs(t[1]/t[0])>=1?"center":t[0]>0?"start":"end"},u.getMaxLabelWidth=function(t){var e=t.getLabels(),n=0;return i.each(e,(function(t){var e=t.getBBox().width;n<e&&(n=e)})),n},u.getMaxLabelHeight=function(t){var e=t.getLabels(),n=0;return i.each(e,(function(t){var e=t.getBBox().height;n<e&&(n=e)})),n},u.destroy=function(){if(!this.destroyed){var e=this.get("gridGroup");e&&e.remove();var n=this.get("labelRenderer");n&&n.destroy(),this.get("group").destroy(),t.prototype.destroy.call(this)}},u.clear=function(){var t=this.get("group");if(!t.get("destroyed")&&t.get("children").length){var e=this.get("gridGroup");e&&e.clear();var n=this.get("labelRenderer");n&&n.clear(),this.get("group").clear()}},u.autoRotateLabels=function(){},u.autoHideLabels=function(){},u.renderTitle=function(){},u.getLinePath=function(){},u.getTickPoint=function(){},u.getTickEnd=function(){},u.getSideVector=function(){},r}(r);t.exports=u},function(t,e,n){var r=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){return{_id:null,canvas:null,container:null,group:null,capture:!1,coord:null,offset:[0,0],plotRange:null,position:[0,0],visible:!0,zIndex:1}},i._init=function(){},i.clear=function(){},i.destroy=function(){t.prototype.destroy.call(this)},i.beforeRender=function(){},i.render=function(){},i.afterRender=function(){},i.beforeDraw=function(){},i.draw=function(){},i.afterDraw=function(){},i.show=function(){},i.hide=function(){},i.setOffset=function(){},i.setPosition=function(){},i.setVisible=function(){},i.setZIndex=function(){},r}(n(66));t.exports=r},function(t,e,n){var r=n(1),i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,o=/[^\s\,]+/gi,a={};t.exports={parseRadius:function(t){var e=0,n=0,i=0,o=0;return r.isArray(t)?1===t.length?e=n=i=o=t[0]:2===t.length?(e=i=t[0],n=o=t[1]):3===t.length?(e=t[0],n=o=t[1],i=t[2]):(e=t[0],n=t[1],i=t[2],o=t[3]):e=n=i=o=t,{r1:e,r2:n,r3:i,r4:o}},parsePath:function(t){return t=t||[],r.isArray(t)?t:r.isString(t)?(t=t.match(i),r.each(t,(function(e,n){if((e=e.match(o))[0].length>1){var i=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=i}r.each(e,(function(t,n){isNaN(t)||(e[n]=+t)})),t[n]=e})),t):void 0},numberToColor:function(t){var e=a[t];if(!e){for(var n=t.toString(16),r=n.length;r<6;r++)n="0"+n;e="#"+n,a[t]=e}return e}}},function(t,e,n){var r=n(6);t.exports=function(t){return r(t)?"":t.toString()}},function(t,e){var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var e="undefined"===typeof t?"undefined":n(t);return null!==t&&"object"===e||"function"===e}},function(t,e,n){var r=n(86),i=n(17);t.exports=function(t){if(!r(t)||!i(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}},function(t,e,n){"use strict";e.b=function(t,e){var o=e-t;return o?i(t,o>180||o<-180?o-360*Math.round(o/360):o):n.i(r.a)(isNaN(t)?e:t)},e.c=function(t){return 1===(t=+t)?o:function(e,i){return i-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,i,t):n.i(r.a)(isNaN(e)?i:e)}},e.a=o;var r=n(202);function i(t,e){return function(n){return t+n*e}}function o(t,e){var o=e-t;return o?i(t,o):n.i(r.a)(isNaN(t)?e:t)}},function(e,n){e.exports=t},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}var o=n(56),a=n(10),s=o.mat3,u=o.vec3,l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=this.getDefaultCfg();a(this,n,e),this.init()}return i(t,[{key:"getDefaultCfg",value:function(){return{isTransposed:!1,matrix:[1,0,0,0,1,0,0,0,1]}}}]),i(t,[{key:"init",value:function(){var t=this.start,e=this.end,n={x:(t.x+e.x)/2,y:(t.y+e.y)/2};this.center=n,this.width=Math.abs(e.x-t.x),this.height=Math.abs(e.y-t.y)}},{key:"_swapDim",value:function(t){var e=this[t];if(e){var n=e.start;e.start=e.end,e.end=n}}},{key:"getCenter",value:function(){return this.center}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"convertDim",value:function(t,e){var n=this[e],r=n.start;return r+t*(n.end-r)}},{key:"invertDim",value:function(t,e){var n=this[e],r=n.start;return(t-r)/(n.end-r)}},{key:"convertPoint",value:function(t){return t}},{key:"invertPoint",value:function(t){return t}},{key:"applyMatrix",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.matrix,i=[t,e,n];return u.transformMat3(i,i,r),i}},{key:"invertMatrix",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.matrix,i=s.invert([],r),o=[t,e,n];return u.transformMat3(o,o,i),o}},{key:"convert",value:function(t){var e=this.convertPoint(t),n=e.x,r=e.y,i=this.applyMatrix(n,r,1);return{x:i[0],y:i[1]}}},{key:"invert",value:function(t){var e=this.invertMatrix(t.x,t.y,1);return this.invertPoint({x:e[0],y:e[1]})}},{key:"rotate",value:function(t){var e=this.matrix,n=this.center;return s.translate(e,e,[-n.x,-n.y]),s.rotate(e,e,t),s.translate(e,e,[n.x,n.y]),this}},{key:"reflect",value:function(t){switch(t){case"x":this._swapDim("x");break;case"y":this._swapDim("y");break;default:this._swapDim("y")}return this}},{key:"scale",value:function(t,e){var n=this.matrix,r=this.center;return s.translate(n,n,[-r.x,-r.y]),s.scale(n,n,[t,e]),s.translate(n,n,[r.x,r.y]),this}},{key:"translate",value:function(t,e){var n=this.matrix;return s.translate(n,n,[t,e]),this}},{key:"transpose",value:function(){return this.isTransposed=!this.isTransposed,this}}]),t}();t.exports=l},function(t,e,n){var r=n(0),i=n(279),o=n(16).Canvas,a=r.DomUtil,s=n(5),u=n(283),l=n(121),c=n(123),h=n(122),f=n(124);function p(t,e){return r.isEqualWith(t,e,(function(t,e){return t===e}))}var d=function(t){var e,n;function d(){return t.apply(this,arguments)||this}n=t,(e=d).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var v=d.prototype;return v.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix(e,{id:null,forceFit:!1,container:null,wrapperEl:null,canvas:null,width:500,height:500,pixelRatio:null,backPlot:null,frontPlot:null,plotBackground:null,padding:s.plotCfg.padding,background:null,autoPaddingAppend:5,limitInPlot:!1,renderer:s.renderer,views:[]})},v.init=function(){var e=this.get("viewTheme");this._initCanvas(),this._initPlot(),this._initEvents(),t.prototype.init.call(this);var n=new l.Tooltip({chart:this,viewTheme:e,options:{}});this.set("tooltipController",n);var r=new l.Legend({chart:this,viewTheme:e});this.set("legendController",r),this.set("_id","chart"),this.emit("afterinit")},v._isAutoPadding=function(){var t=this.get("padding");return r.isArray(t)?t.includes("auto"):"auto"===t},v._getAutoPadding=function(){for(var t=this.get("padding"),e=this.get("frontPlot").getBBox(),n=this.get("backPlot"),i=h(n,f(this.get("plotRange"))),o=c(e,i),a=[0-o.minY,o.maxX-this.get("width"),o.maxY-this.get("height"),0-o.minX],s=r.toAllPadding(t),u=0;u<s.length;u++)if("auto"===s[u]){var l=Math.max(0,a[u]);s[u]=l+this.get("autoPaddingAppend")}return s},v._initCanvas=function(){var t=this.get("container"),e=this.get("id");!t&&e&&(t=e,this.set("container",e));var n=this.get("width"),i=this.get("height");if(r.isString(t)){if(!(t=document.getElementById(t)))throw new Error("Please specify the container for the chart!");this.set("container",t)}var s=a.createDom('<div style="position:relative;"></div>');t.appendChild(s),this.set("wrapperEl",s),this.get("forceFit")&&(n=a.getWidth(t,n),this.set("width",n));var u=this.get("renderer"),l=new o({containerDOM:s,width:n,height:i,pixelRatio:"svg"===u?1:this.get("pixelRatio"),renderer:u});this.set("canvas",l)},v._initPlot=function(){this._initPlotBack();var t=this.get("canvas"),e=t.addGroup({zIndex:1}),n=t.addGroup({zIndex:0}),r=t.addGroup({zIndex:3});this.set("backPlot",e),this.set("middlePlot",n),this.set("frontPlot",r)},v._initPlotBack=function(){var t=this.get("canvas"),e=this.get("viewTheme"),n=t.addGroup(u,{padding:this.get("padding"),plotBackground:r.mix({},e.plotBackground,this.get("plotBackground")),background:r.mix({},e.background,this.get("background"))});this.set("plot",n),this.set("plotRange",n.get("plotRange"))},v._initEvents=function(){this.get("forceFit")&&window.addEventListener("resize",r.wrapBehavior(this,"_initForceFitEvent"))},v._initForceFitEvent=function(){var t=setTimeout(r.wrapBehavior(this,"forceFit"),200);clearTimeout(this.get("resizeTimer")),this.set("resizeTimer",t)},v._renderLegends=function(){var t=this.get("options").legends;if(r.isNil(t)||!1!==t){var e=this.get("legendController");if(e.options=t||{},e.plotRange=this.get("plotRange"),t&&t.custom)e.addCustomLegend();else{var n=this.getAllGeoms(),i=[];r.each(n,(function(t){var n=t.get("view"),o=t.getAttrsForLegend();r.each(o,(function(o){var a=o.type,s=o.getScale(a);if(s.field&&"identity"!==s.type&&!function(t,e){var n=!1;return r.each(t,(function(t){var r=[].concat(t.values),i=[].concat(e.values);t.type!==e.type||t.field!==e.field||r.sort().toString()!==i.sort().toString()||(n=!0)})),n}(i,s)){i.push(s);var u=n.getFilteredOutValues(s.field);e.addLegend(s,o,t,u)}}))}));var o=this.getYScales();0===i.length&&o.length>1&&e.addMixedLegend(o,n)}e.alignLegends()}},v._renderTooltips=function(){var t=this.get("options");if(r.isNil(t.tooltip)||!1!==t.tooltip){var e=this.get("tooltipController");e.options=t.tooltip||{},e.renderTooltip()}},v.getAllGeoms=function(){var t=[];t=t.concat(this.get("geoms"));var e=this.get("views");return r.each(e,(function(e){t=t.concat(e.get("geoms"))})),t},v.forceFit=function(){if(this&&!this.destroyed){var t=this.get("container"),e=this.get("width"),n=a.getWidth(t,e);if(0!==n&&n!==e){var r=this.get("height");this.changeSize(n,r)}return this}},v.resetPlot=function(){var t=this.get("plot"),e=this.get("padding");p(e,t.get("padding"))||(t.set("padding",e),t.repaint())},v.changeSize=function(t,e){this.get("canvas").changeSize(t,e);var n=this.get("plot");return this.set("width",t),this.set("height",e),n.repaint(),this.set("keepPadding",!0),this.repaint(),this.set("keepPadding",!1),this.emit("afterchangesize"),this},v.changeWidth=function(t){return this.changeSize(t,this.get("height"))},v.changeHeight=function(t){return this.changeSize(this.get("width"),t)},v.view=function(t){(t=t||{}).theme=this.get("theme"),t.parent=this,t.backPlot=this.get("backPlot"),t.middlePlot=this.get("middlePlot"),t.frontPlot=this.get("frontPlot"),t.canvas=this.get("canvas"),r.isNil(t.animate)&&(t.animate=this.get("animate")),t.options=r.mix({},this._getSharedOptions(),t.options);var e=new i(t);return e.set("_id","view"+this.get("views").length),this.get("views").push(e),this.emit("addview",{view:e}),e},v.removeView=function(t){var e=this.get("views");r.Array.remove(e,t),t.destroy()},v._getSharedOptions=function(){var t=this.get("options"),e={};return r.each(["scales","coord","axes"],(function(n){e[n]=r.cloneDeep(t[n])})),e},v.getViewRegion=function(){var t=this.get("plotRange");return{start:t.bl,end:t.tr}},v.legend=function(t,e){var n=this.get("options");n.legends||(n.legends={});var i={};return!1===t?n.legends=!1:r.isObject(t)?i=t:r.isString(t)?i[t]=e:i=e,r.mix(n.legends,i),this},v.tooltip=function(t,e){var n=this.get("options");return n.tooltip||(n.tooltip={}),!1===t?n.tooltip=!1:r.isObject(t)?r.mix(n.tooltip,t):r.mix(n.tooltip,e),this},v.clear=function(){this.emit("beforeclear");for(var e=this.get("views");e.length>0;)e.shift().destroy();t.prototype.clear.call(this);var n=this.get("canvas");return this.resetPlot(),n.draw(),this.emit("afterclear"),this},v.clearInner=function(){var e=this.get("views");r.each(e,(function(t){t.clearInner()}));var n=this.get("tooltipController");if(n&&n.clear(),!this.get("keepLegend")){var i=this.get("legendController");i&&i.clear()}t.prototype.clearInner.call(this)},v.drawComponents=function(){t.prototype.drawComponents.call(this),this.get("keepLegend")||this._renderLegends()},v.render=function(){if(!this.get("keepPadding")&&this._isAutoPadding()){this.beforeRender(),this.drawComponents();var e=this._getAutoPadding(),n=this.get("plot");p(n.get("padding"),e)||(n.set("padding",e),n.repaint())}var i=this.get("middlePlot");if(this.get("limitInPlot")&&!i.attr("clip")){var o=r.getClipByRange(this.get("plotRange"));i.attr("clip",o)}t.prototype.render.call(this),this._renderTooltips()},v.repaint=function(){this.get("keepPadding")||this.resetPlot(),t.prototype.repaint.call(this)},v.changeVisible=function(t){var e=t?"":"none";this.get("wrapperEl").style.display=e},v.toDataURL=function(){var t=this.get("canvas"),e=this.get("renderer"),n=t.get("el"),r="";if("svg"===e){var i=n.cloneNode(!0),o=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),a=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",o);a.replaceChild(i,a.documentElement);var s=(new XMLSerializer).serializeToString(a);r="data:image/svg+xml;charset=utf8,"+encodeURIComponent(s)}else"canvas"===e&&(r=n.toDataURL("image/png"));return r},v.downloadImage=function(t){var e=this,n=document.createElement("a"),r=e.get("renderer"),i=(t||"chart")+("svg"===r?".svg":".png");e.get("canvas").get("timeline").stopAllAnimations(),setTimeout((function(){var t=e.toDataURL();if(window.Blob&&window.URL&&"svg"!==r){for(var o=t.split(","),a=o[0].match(/:(.*?);/)[1],s=atob(o[1]),u=s.length,l=new Uint8Array(u);u--;)l[u]=s.charCodeAt(u);var c=new Blob([l],{type:a});window.navigator.msSaveBlob?window.navigator.msSaveBlob(c,i):n.addEventListener("click",(function(){n.download=i,n.href=window.URL.createObjectURL(c)}))}else n.addEventListener("click",(function(){n.download=i,n.href=t}));var h=document.createEvent("MouseEvents");h.initEvent("click",!1,!1),n.dispatchEvent(h)}),16)},v.showTooltip=function(t){var e=this.getViewsByPoint(t);return e.length&&this.get("tooltipController").showTooltip(t,e),this},v.lockTooltip=function(){return this.get("tooltipController").lockTooltip(),this},v.unlockTooltip=function(){return this.get("tooltipController").unlockTooltip(),this},v.hideTooltip=function(){return this.get("tooltipController").hideTooltip(),this},v.getTooltipItems=function(t){var e=this.getViewsByPoint(t),n=[];return r.each(e,(function(e){var i=e.get("geoms");r.each(i,(function(e){var i=e.get("dataArray"),o=[];r.each(i,(function(n){var r=e.findPoint(t,n);if(r){var i=e.getTipItems(r);o=o.concat(i)}})),n=n.concat(o)}))})),n},v.destroy=function(){this.emit("beforedestroy"),clearTimeout(this.get("resizeTimer"));var e=this.get("canvas"),n=this.get("wrapperEl");n.parentNode.removeChild(n),t.prototype.destroy.call(this),e.destroy(),window.removeEventListener("resize",r.getWrapBehavior(this,"_initForceFitEvent")),this.emit("afterdestroy")},d}(i);t.exports=d},function(t,e,n){var r=n(154),i=n(16),o=n(119),a=n(44),s=n(5),u=n(9),l=n(0),c={version:s.version,Animate:o,Chart:a,Global:s,Scale:r,Shape:u,Util:l,G:i,DomUtil:l.DomUtil,MatrixUtil:l.MatrixUtil,PathUtil:l.PathUtil,track:function(){console.warn("G2 tracks nothing ;-)")}};"undefined"!==typeof window&&(window.G2?console.warn("There are multiple versions of G2. Version "+c.version+"'s reference is 'window.G2_3'"):window.G2=c),t.exports=c},function(t,e,n){var r=n(5),i=n(0),o=i.assign,a=i.isNil,s=i.isArray,u=i.cloneDeep,l=i.wrapBehavior,c=i.getWrapBehavior,h=function(){var t=e.prototype;function e(t){var e=this.getDefaultCfg();o(this,e,t),this.init()}return t.getDefaultCfg=function(){return{chart:null,group:null,showTitle:!0,autoSetAxis:!0,padding:10,eachView:null,fields:[],colTitle:{offsetY:-15,style:{fontSize:14,textAlign:"center",fill:"#666",fontFamily:r.fontFamily}},rowTitle:{offsetX:15,style:{fontSize:14,textAlign:"center",rotate:90,fill:"#666",fontFamily:r.fontFamily}}}},t.init=function(){if(!this.chart)throw new Error("Facets Error: please specify the chart!");this._bindEvent(),this.initContainer(),this.chart.get("data")&&this.initViews()},t.initContainer=function(){var t=this.chart.get("frontPlot").addGroup();this.group=t},t.initViews=function(){for(var t=this.chart,e=t.get("data"),n=this.eachView,r=this.generateFacets(e),i=0;i<r.length;i++){var o=r[i],a=o.region,s=t.view({start:a.start,end:a.end,padding:this.padding});s.source(o.data),this.beforeProcessView(s,o),n&&n(s,o),this.afterProcessView(s,o),o.view=s}this.facets=r},t.beforeProcessView=function(){},t.afterProcessView=function(t,e){this.autoSetAxis&&this.processAxis(t,e)},t.processAxis=function(t,e){var n=t.get("options"),r=t.get("geoms");if((!n.coord.type||"rect"===n.coord.type)&&r.length){var i=r[0].get("attrOptions").position.field,o=s(i)?i:i.split("*").map((function(t){return t.trim()})),u=o[0],l=o[1];a(n.axes)&&(n.axes={});var c=n.axes;!1!==c&&(u&&!1!==c[u]&&(c[u]=c[u]||{},this.setXAxis(u,c,e)),l&&!1!==c[l]&&(c[l]=c[l]||{},this.setYAxis(l,c,e)))}},t.setXAxis=function(){},t.setYAxis=function(){},t.renderTitle=function(t,e){this.drawColTitle(t,e)},t.getScaleText=function(t,e,n){var r;if(t){var i=n.get("scales")[t];i||(i=n.createScale(t)),r=i.getText(e)}else r=e;return r},t.drawColTitle=function(t,e){var n=this.getScaleText(e.colField,e.colValue,t),r=o({position:["50%","0%"],content:n},this.colTitle);t.guide().text(r)},t.drawRowTitle=function(t,e){var n=this.getScaleText(e.rowField,e.rowValue,t),r=o({position:["100%","50%"],content:n},u(this.rowTitle));t.guide().text(r)},t.getFilter=function(t){return function(e){var n=!0;return t.forEach((function(t){var r=t.field,i=t.value,o=!0;!a(i)&&r&&(o=e[r]===i),n=n&&o})),n}},t.getFieldValues=function(t,e){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i][t];a(o)||r[o]||(n.push(o),r[o]=!0)}return n},t.getRegion=function(t,e,n,r){var i=1/e,o=1/t,a={x:i*n,y:o*r};return{start:a,end:{x:a.x+i,y:a.y+o}}},t.generateFacets=function(){return[]},t._bindEvent=function(){var t=this.chart;t.on("afterchangedata",l(this,"onDataChange")),t.on("beforeclear",l(this,"onClear")),t.on("beforedestroy",l(this,"destroy")),t.on("beforepaint",l(this,"onPaint")),t.on("setdata",l(this,"onDataChange"))},t._clearEvent=function(){var t=this.chart;t&&(t.off("afterchangedata",c(this,"onDataChange")),t.off("beforeclear",c(this,"onClear")),t.off("beforedestroy",c(this,"destroy")),t.off("beforepaint",c(this,"onPaint")),t.off("setdata",c(this,"onDataChange")))},t._clearFacets=function(){var t=this.facets,e=this.chart;if(t)for(var n=0;n<t.length;n++){var r=t[n];e.removeView(r.view)}this.facets=null},t.onClear=function(){this.onRemove()},t.onPaint=function(){if(this.showTitle)for(var t=this.facets,e=0;e<t.length;e++){var n=t[e],r=n.view;this.renderTitle(r,n)}},t.onDataChange=function(){this._clearFacets(),this.initViews()},t.onRemove=function(){this._clearFacets(),this._clearEvent(),this.group&&this.group.remove(),this.chart=null,this.facets=null,this.group=null},t.destroy=function(){this.onRemove(),this.destroyed=!0},e}();t.exports=h},function(t,e,n){var r=n(1);function i(t,e,n,r){return{x:Math.cos(r)*n+t,y:Math.sin(r)*n+e}}function o(t,e,n,r){var i,o;return r?t<e?(i=e-t,o=2*Math.PI-n+t):t>n&&(i=2*Math.PI-t+e,o=t-n):(i=t-e,o=n-t),i>o?n:e}function a(t,e,n,i){var a=0;return n-e>=2*Math.PI&&(a=2*Math.PI),e=r.mod(e,2*Math.PI),n=r.mod(n,2*Math.PI)+a,t=r.mod(t,2*Math.PI),i?e>=n?t>n&&t<e?t:o(t,n,e,!0):t<e||t>n?t:o(t,e,n):e<=n?e<t&&t<n?t:o(t,e,n,!0):t>e||t<n?t:o(t,n,e)}function s(t,e,n,i,o,s,u,l,c){var h=[u,l],f=[t,e],p=r.vec2.subtract([],h,f),d=r.vec2.angleTo([1,0],p);d=a(d,i,o,s);var v=[n*Math.cos(d)+t,n*Math.sin(d)+e];return c&&(c.x=v[0],c.y=v[1]),r.vec2.distance(v,h)}t.exports={nearAngle:a,projectPoint:function(t,e,n,r,i,o,a,u){var l={};return s(t,e,n,r,i,o,a,u,l),l},pointDistance:s,box:function(t,e,n,o,s,u){var l=Math.PI/2,c=Math.PI,h=3*Math.PI/2,f=[],p=a(0,o,s,u);0===p&&f.push(i(t,e,n,0)),(p=a(l,o,s,u))===l&&f.push(i(t,e,n,l)),(p=a(c,o,s,u))===c&&f.push(i(t,e,n,c)),(p=a(h,o,s,u))===h&&f.push(i(t,e,n,h)),f.push(i(t,e,n,o)),f.push(i(t,e,n,s));var d=1/0,v=-1/0,g=1/0,y=-1/0;return r.each(f,(function(t){d>t.x&&(d=t.x),v<t.x&&(v=t.x),g>t.y&&(g=t.y),y<t.y&&(y=t.y)})),{minX:d,minY:g,maxX:v,maxY:y}}}},function(t,e,n){var r=n(1).vec2;t.exports={at:function(t,e,n){return(e-t)*n+t},pointDistance:function(t,e,n,i,o,a){var s=[n-t,i-e];if(r.exactEquals(s,[0,0]))return NaN;var u=[-s[1],s[0]];r.normalize(u,u);var l=[o-t,a-e];return Math.abs(r.dot(l,u))},box:function(t,e,n,r,i){var o=i/2,a=Math.min(t,n),s=Math.max(t,n);return{minX:a-o,minY:Math.min(e,r)-o,maxX:s+o,maxY:Math.max(e,r)+o}},len:function(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))}}},function(t,e,n){var r=n(37),i=n(50),o=Math.PI,a=Math.sin,s=Math.cos,u=Math.atan2,l=o/3;function c(t,e,n,r,i,c,h){var f,p,d,v,g,y,m;if(!e.fill){var _=e.arrowLength||10,b=e.arrowAngle?e.arrowAngle*o/180:l;m=u(r-c,n-i),g=Math.abs(e.lineWidth*s(m))/2,y=Math.abs(e.lineWidth*a(m))/2,h&&(g=-g,y=-y),f=i+_*s(m+b/2),p=c+_*a(m+b/2),d=i+_*s(m-b/2),v=c+_*a(m-b/2),t.beginPath(),t.moveTo(f-g,p-y),t.lineTo(i-g,c-y),t.lineTo(d-g,v-y),t.moveTo(i-g,c-y),t.lineTo(i+g,c+y),t.moveTo(i,c),t.stroke()}}function h(t,e,n,o,a,s,u){var l=u?e.startArrow:e.endArrow,c=l.d,h=0,f=a-n,p=s-o,d=Math.atan(f/p);0===p&&f<0?h=Math.PI:f>0&&p>0?h=Math.PI/2-d:f<0&&p<0?h=-Math.PI/2-d:f>=0&&p<0?h=-d-Math.PI/2:f<=0&&p>0&&(h=Math.PI/2-d);var v=function(t){var e,n=[],o=r.parsePath(t.path);if(!Array.isArray(o)||0===o.length||"M"!==o[0][0]&&"m"!==o[0][0])return!1;for(var a=o.length,s=0;s<o.length;s++){var u=o[s];e=new i(u,e,s===a-1),n.push(e)}return n}(l);if(v){c&&(u?(a+=Math.sin(Math.abs(d))*c,s=s+Math.cos(Math.abs(d))*c-.5*t.lineWidth):(a-=Math.sin(Math.abs(d))*c,s=s-Math.cos(Math.abs(d))*c+.5*t.lineWidth)),t.save(),t.beginPath(),t.translate(a,s),t.rotate(h);for(var g=0;g<v.length;g++)v[g].draw(t);t.setTransform(1,0,0,1,0,0),t.fillStyle=t.strokeStyle,t.fill(),t.restore()}}t.exports={addStartArrow:function(t,e,n,r,i,o){"object"===typeof e.startArrow?h(t,e,n,r,i,o,!0):e.startArrow&&c(t,e,n,r,i,o,!0)},addEndArrow:function(t,e,n,r,i,o){"object"===typeof e.endArrow?h(t,e,n,r,i,o,!1):e.endArrow&&c(t,e,n,r,i,o,!1)}}},function(t,e,n){var r=n(1),i=n(76),o=n(75),a=n(144),s=n(143),u=r.vec3,l=r.mat3,c=["m","l","c","a","q","h","v","t","s","z"];function h(t,e,n){return{x:n.x+t,y:n.y+e}}function f(t,e){return{x:e.x+(e.x-t.x),y:e.y+(e.y-t.y)}}function p(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function d(t,e){return(t[0]*e[0]+t[1]*e[1])/(p(t)*p(e))}function v(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(d(t,e))}var g=function(t,e,n){this.preSegment=e,this.isLast=n,this.init(t,e)};r.augment(g,{init:function(t,e){var n=t[0];e=e||{endPoint:{x:0,y:0}};var i,o,a,s,u=c.indexOf(n)>=0,l=u?n.toUpperCase():n,p=t,g=e.endPoint,y=p[1],m=p[2];switch(l){default:break;case"M":s=u?h(y,m,g):{x:y,y:m},this.command="M",this.params=[g,s],this.subStart=s,this.endPoint=s;break;case"L":s=u?h(y,m,g):{x:y,y:m},this.command="L",this.params=[g,s],this.subStart=e.subStart,this.endPoint=s,this.endTangent=function(){return[s.x-g.x,s.y-g.y]},this.startTangent=function(){return[g.x-s.x,g.y-s.y]};break;case"H":s=u?h(y,0,g):{x:y,y:g.y},this.command="L",this.params=[g,s],this.subStart=e.subStart,this.endPoint=s,this.endTangent=function(){return[s.x-g.x,s.y-g.y]},this.startTangent=function(){return[g.x-s.x,g.y-s.y]};break;case"V":s=u?h(0,y,g):{x:g.x,y:y},this.command="L",this.params=[g,s],this.subStart=e.subStart,this.endPoint=s,this.endTangent=function(){return[s.x-g.x,s.y-g.y]},this.startTangent=function(){return[g.x-s.x,g.y-s.y]};break;case"Q":u?(i=h(y,m,g),o=h(p[3],p[4],g)):(i={x:y,y:m},o={x:p[3],y:p[4]}),this.command="Q",this.params=[g,i,o],this.subStart=e.subStart,this.endPoint=o,this.endTangent=function(){return[o.x-i.x,o.y-i.y]},this.startTangent=function(){return[g.x-i.x,g.y-i.y]};break;case"T":o=u?h(y,m,g):{x:y,y:m},"Q"===e.command?(i=f(e.params[1],g),this.command="Q",this.params=[g,i,o],this.subStart=e.subStart,this.endPoint=o,this.endTangent=function(){return[o.x-i.x,o.y-i.y]},this.startTangent=function(){return[g.x-i.x,g.y-i.y]}):(this.command="TL",this.params=[g,o],this.subStart=e.subStart,this.endPoint=o,this.endTangent=function(){return[o.x-g.x,o.y-g.y]},this.startTangent=function(){return[g.x-o.x,g.y-o.y]});break;case"C":u?(i=h(y,m,g),o=h(p[3],p[4],g),a=h(p[5],p[6],g)):(i={x:y,y:m},o={x:p[3],y:p[4]},a={x:p[5],y:p[6]}),this.command="C",this.params=[g,i,o,a],this.subStart=e.subStart,this.endPoint=a,this.endTangent=function(){return[a.x-o.x,a.y-o.y]},this.startTangent=function(){return[g.x-i.x,g.y-i.y]};break;case"S":u?(o=h(y,m,g),a=h(p[3],p[4],g)):(o={x:y,y:m},a={x:p[3],y:p[4]}),"C"===e.command?(i=f(e.params[2],g),this.command="C",this.params=[g,i,o,a],this.subStart=e.subStart,this.endPoint=a,this.endTangent=function(){return[a.x-o.x,a.y-o.y]},this.startTangent=function(){return[g.x-i.x,g.y-i.y]}):(this.command="SQ",this.params=[g,o,a],this.subStart=e.subStart,this.endPoint=a,this.endTangent=function(){return[a.x-o.x,a.y-o.y]},this.startTangent=function(){return[g.x-o.x,g.y-o.y]});break;case"A":var _=y,b=m,w=p[3],x=p[4],E=p[5];s=u?h(p[6],p[7],g):{x:p[6],y:p[7]},this.command="A";var S=function(t,e,n,i,o,a,s){var u=r.mod(r.toRadian(s),2*Math.PI),l=t.x,c=t.y,h=e.x,f=e.y,p=Math.cos(u)*(l-h)/2+Math.sin(u)*(c-f)/2,g=-1*Math.sin(u)*(l-h)/2+Math.cos(u)*(c-f)/2,y=p*p/(o*o)+g*g/(a*a);y>1&&(o*=Math.sqrt(y),a*=Math.sqrt(y));var m=o*o*(g*g)+a*a*(p*p),_=Math.sqrt((o*o*(a*a)-m)/m);n===i&&(_*=-1),isNaN(_)&&(_=0);var b=_*o*g/a,w=_*-a*p/o,x=(l+h)/2+Math.cos(u)*b-Math.sin(u)*w,E=(c+f)/2+Math.sin(u)*b+Math.cos(u)*w,S=v([1,0],[(p-b)/o,(g-w)/a]),C=[(p-b)/o,(g-w)/a],k=[(-1*p-b)/o,(-1*g-w)/a],T=v(C,k);return d(C,k)<=-1&&(T=Math.PI),d(C,k)>=1&&(T=0),0===i&&T>0&&(T-=2*Math.PI),1===i&&T<0&&(T+=2*Math.PI),[t,x,E,o,a,S,T,u,i]}(g,s,x,E,_,b,w);this.params=S;var C=e.subStart;this.subStart=C,this.endPoint=s;var k=S[5]%(2*Math.PI);r.isNumberEqual(k,2*Math.PI)&&(k=0);var T=S[6]%(2*Math.PI);r.isNumberEqual(T,2*Math.PI)&&(T=0);var I=.001;this.startTangent=function(){0===E&&(I*=-1);var t=S[3]*Math.cos(k-I)+S[1],e=S[4]*Math.sin(k-I)+S[2];return[t-C.x,e-C.y]},this.endTangent=function(){var t=S[6];t-2*Math.PI<1e-4&&(t=0);var e=S[3]*Math.cos(k+t+I)+S[1],n=S[4]*Math.sin(k+t-I)+S[2];return[g.x-e,g.y-n]};break;case"Z":this.command="Z",this.params=[g,e.subStart],this.subStart=e.subStart,this.endPoint=e.subStart}},isInside:function(t,e,n){var r=this.command,o=this.params,a=this.box;if(a&&!i.box(a.minX,a.maxX,a.minY,a.maxY,t,e))return!1;switch(r){default:break;case"M":return!1;case"TL":case"L":case"Z":return i.line(o[0].x,o[0].y,o[1].x,o[1].y,n,t,e);case"SQ":case"Q":return i.quadraticline(o[0].x,o[0].y,o[1].x,o[1].y,o[2].x,o[2].y,n,t,e);case"C":return i.cubicline(o[0].x,o[0].y,o[1].x,o[1].y,o[2].x,o[2].y,o[3].x,o[3].y,n,t,e);case"A":var s=o,c=s[1],h=s[2],f=s[3],p=s[4],d=s[5],v=s[6],g=s[7],y=s[8],m=f>p?f:p,_=f>p?1:f/p,b=f>p?p/f:1;s=[t,e,1];var w=[1,0,0,0,1,0,0,0,1];return l.translate(w,w,[-c,-h]),l.rotate(w,w,-g),l.scale(w,w,[1/_,1/b]),u.transformMat3(s,s,w),i.arcline(0,0,m,d,d+v,1-y,n,s[0],s[1])}return!1},draw:function(t){var e,n,r,i=this.command,o=this.params;switch(i){default:break;case"M":t.moveTo(o[1].x,o[1].y);break;case"TL":case"L":t.lineTo(o[1].x,o[1].y);break;case"SQ":case"Q":e=o[1],n=o[2],t.quadraticCurveTo(e.x,e.y,n.x,n.y);break;case"C":e=o[1],n=o[2],r=o[3],t.bezierCurveTo(e.x,e.y,n.x,n.y,r.x,r.y);break;case"A":var a=o,s=a[1],u=a[2],l=a[3],c=a[4],h=a[5],f=a[6],p=a[7],d=a[8],v=l>c?l:c,g=l>c?1:l/c,y=l>c?c/l:1;t.translate(s,u),t.rotate(p),t.scale(g,y),t.arc(0,0,v,h,h+f,1-d),t.scale(1/g,1/y),t.rotate(-p),t.translate(-s,-u);break;case"Z":t.closePath()}},getBBox:function(t){var e,n,r,i,u=t/2,l=this.params;switch(this.command){default:case"M":case"Z":break;case"TL":case"L":this.box={minX:Math.min(l[0].x,l[1].x)-u,maxX:Math.max(l[0].x,l[1].x)+u,minY:Math.min(l[0].y,l[1].y)-u,maxY:Math.max(l[0].y,l[1].y)+u};break;case"SQ":case"Q":for(r=0,i=(n=a.extrema(l[0].x,l[1].x,l[2].x)).length;r<i;r++)n[r]=a.at(l[0].x,l[1].x,l[2].x,n[r]);for(n.push(l[0].x,l[2].x),r=0,i=(e=a.extrema(l[0].y,l[1].y,l[2].y)).length;r<i;r++)e[r]=a.at(l[0].y,l[1].y,l[2].y,e);e.push(l[0].y,l[2].y),this.box={minX:Math.min.apply(Math,n)-u,maxX:Math.max.apply(Math,n)+u,minY:Math.min.apply(Math,e)-u,maxY:Math.max.apply(Math,e)+u};break;case"C":for(r=0,i=(n=o.extrema(l[0].x,l[1].x,l[2].x,l[3].x)).length;r<i;r++)n[r]=o.at(l[0].x,l[1].x,l[2].x,l[3].x,n[r]);for(r=0,i=(e=o.extrema(l[0].y,l[1].y,l[2].y,l[3].y)).length;r<i;r++)e[r]=o.at(l[0].y,l[1].y,l[2].y,l[3].y,e[r]);n.push(l[0].x,l[3].x),e.push(l[0].y,l[3].y),this.box={minX:Math.min.apply(Math,n)-u,maxX:Math.max.apply(Math,n)+u,minY:Math.min.apply(Math,e)-u,maxY:Math.max.apply(Math,e)+u};break;case"A":var c=l,h=c[1],f=c[2],p=c[3],d=c[4],v=c[5],g=c[6],y=c[7],m=c[8],_=v,b=v+g,w=s.xExtrema(y,p,d),x=1/0,E=-1/0,S=[_,b];for(r=2*-Math.PI;r<=2*Math.PI;r+=Math.PI){var C=w+r;1===m?_<C&&C<b&&S.push(C):b<C&&C<_&&S.push(C)}for(r=0,i=S.length;r<i;r++){var k=s.xAt(y,p,d,h,S[r]);k<x&&(x=k),k>E&&(E=k)}var T=s.yExtrema(y,p,d),I=1/0,A=-1/0,M=[_,b];for(r=2*-Math.PI;r<=2*Math.PI;r+=Math.PI){var P=T+r;1===m?_<P&&P<b&&M.push(P):b<P&&P<_&&M.push(P)}for(r=0,i=M.length;r<i;r++){var O=s.yAt(y,p,d,f,M[r]);O<I&&(I=O),O>A&&(A=O)}this.box={minX:x-u,maxX:E+u,minY:I-u,maxY:A+u}}}}),t.exports=g},function(t,e,n){var r=n(6),i=n(2),o=n(26),a=n(351),s=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var s=o.prototype;return s._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="linear",this.isLinear=!0,this.nice=!1,this.min=null,this.minLimit=null,this.max=null,this.maxLimit=null,this.tickCount=null,this.tickInterval=null,this.minTickInterval=null,this.snapArray=null},s.init=function(){if(this.ticks){var t=this.ticks,e=this.translate(t[0]),n=this.translate(t[t.length-1]);(r(this.min)||this.min>e)&&(this.min=e),(r(this.max)||this.max<n)&&(this.max=n)}else this.min=this.translate(this.min),this.max=this.translate(this.max),this.initTicks()},s.calculateTicks=function(){var t=this.min,e=this.max,n=this.minLimit,r=this.maxLimit,i=this.tickCount,o=this.tickInterval,s=this.minTickInterval,u=this.snapArray;if(1===i)throw new Error("linear scale'tickCount should not be 1");if(e<t)throw new Error("max: "+e+" should not be less than min: "+t);return a({min:t,max:e,minLimit:n,maxLimit:r,minCount:i,maxCount:i,interval:o,minTickInterval:s,snapArray:u}).ticks},s.initTicks=function(){var t=this,e=t.calculateTicks();if(t.nice)t.ticks=e,t.min=e[0],t.max=e[e.length-1];else{var n=[];i(e,(function(e){e>=t.min&&e<=t.max&&n.push(e)})),n.length||(n.push(t.min),n.push(t.max)),t.ticks=n}},s.scale=function(t){if(r(t))return NaN;var e=this.max,n=this.min;if(e===n)return 0;var i=(t-n)/(e-n),o=this.rangeMin();return o+i*(this.rangeMax()-o)},s.invert=function(t){var e=(t-this.rangeMin())/(this.rangeMax()-this.rangeMin());return this.min+e*(this.max-this.min)},o}(o);o.Linear=s,t.exports=s},function(t,e,n){var r=n(15),i=n(192);t.exports={toTimeStamp:function(t){return r(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),i(t)&&(t=t.getTime()),t}}},function(t,e,n){var r=n(21),i=Array.prototype.indexOf;t.exports=function(t,e){return!!r(t)&&i.call(t,e)>-1}},function(t,e){t.exports=function(t){for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e}},function(t,e){t.exports=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-5;return Math.abs(t-e)<n}},function(t,e,n){t.exports={mat3:n(85),vec2:n(174),vec3:n(175),transform:n(173)}},function(t,e,n){var r=n(21);t.exports=function(t){return r(t)?Array.prototype.slice.call(t):[]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(45);function o(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function a(t){return i.Util.isArray(t)?t.length:i.Util.isObject(t)?Object.keys(t).length:0}e.default=i.Util.mix({},i.Util,{shallowEqual:function(t,e){if(o(t,e))return!0;if("object"!==("undefined"===typeof t?"undefined":r(t))||null===t||"object"!==("undefined"===typeof e?"undefined":r(e))||null===e)return!1;if(i.Util.isArray(t)!==i.Util.isArray(e))return!1;if(a(t)!==a(e))return!1;var n=!0;return i.Util.each(t,(function(t,r){return!!o(t,e[r])||(n=!1)})),n},without:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return i.Util.each(t,(function(t,r){-1===i.Util.indexOf(e,r)&&(n[r]=t)})),n},length:a})},function(t,e,n){"use strict";e.a=function(t,e){return e-=t=+t,function(n){return t+e*n}}},function(t,e,n){"use strict";e.a=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}},function(t,e,n){"use strict";var r=n(97),i=n(98);function o(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===i.b&&e.documentElement.namespaceURI===i.b?e.createElement(t):e.createElementNS(n,t)}}function a(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}e.a=function(t){var e=n.i(r.a)(t);return(e.local?a:o)(e)}},function(t,e,n){"use strict";e.a=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}},function(t,e,n){"use strict";e.b=function(t,e,i){var o=t._id;return t.each((function(){var t=n.i(r.e)(this,o);(t.value||(t.value={}))[e]=i.apply(this,arguments)})),function(t){return n.i(r.f)(t,o).value[e]}};var r=n(13);function i(t,e){var i,o;return function(){var a=n.i(r.e)(this,t),s=a.tween;if(s!==i)for(var u=0,l=(o=i=s).length;u<l;++u)if(o[u].name===e){(o=o.slice()).splice(u,1);break}a.tween=o}}function o(t,e,i){var o,a;if("function"!==typeof i)throw new Error;return function(){var s=n.i(r.e)(this,t),u=s.tween;if(u!==o){a=(o=u).slice();for(var l={name:e,value:i},c=0,h=a.length;c<h;++c)if(a[c].name===e){a[c]=l;break}c===h&&a.push(l)}s.tween=a}}e.a=function(t,e){var a=this._id;if(t+="",arguments.length<2){for(var s,u=n.i(r.f)(this.node(),a).tween,l=0,c=u.length;l<c;++l)if((s=u[l]).name===t)return s.value;return null}return this.each((null==e?i:o)(a,t,e))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setTheme=e.track=e.Interactions=e.PathUtil=e.Animate=e.Shape=e.Util=e.G2=e.Facet=e.Label=e.Guide=e.View=e.Geom=e.Tooltip=e.Legend=e.Axis=e.Coord=e.Chart=void 0;var r=n(422);Object.defineProperty(e,"Chart",{enumerable:!0,get:function(){return m(r).default}});var i=n(424);Object.defineProperty(e,"Coord",{enumerable:!0,get:function(){return m(i).default}});var o=n(420);Object.defineProperty(e,"Axis",{enumerable:!0,get:function(){return m(o).default}});var a=n(430);Object.defineProperty(e,"Legend",{enumerable:!0,get:function(){return m(a).default}});var s=n(431);Object.defineProperty(e,"Tooltip",{enumerable:!0,get:function(){return m(s).default}});var u=n(427);Object.defineProperty(e,"Geom",{enumerable:!0,get:function(){return m(u).default}});var l=n(432);Object.defineProperty(e,"View",{enumerable:!0,get:function(){return m(l).default}});var c=n(428);Object.defineProperty(e,"Guide",{enumerable:!0,get:function(){return m(c).default}});var h=n(429);Object.defineProperty(e,"Label",{enumerable:!0,get:function(){return m(h).default}});var f=n(426);Object.defineProperty(e,"Facet",{enumerable:!0,get:function(){return m(f).default}});var p=n(45),d=m(p),v=m(n(322)),g=m(n(58)),y=m(n(438));function m(t){return t&&t.__esModule?t:{default:t}}e.G2=d.default,e.Util=g.default,e.Shape=p.Shape,e.Animate=p.Animate,e.PathUtil=p.PathUtil,e.Interactions=v.default;var _=e.track=function(){},b=e.setTheme=function(t){var e=t;"string"===typeof t&&y.default[t]&&(e=y.default[t]),d.default.Global.setTheme(e)},w={G2:d.default,Util:g.default,Shape:p.Shape,Animate:p.Animate,PathUtil:p.PathUtil,track:_,setTheme:b,Interactions:v.default};e.default=w},function(t,e,n){t.exports={Position:n(235),Color:n(233),Shape:n(236),Size:n(237),Opacity:n(234),ColorUtil:n(107)}},function(t,e,n){var r=n(105),i=n(3),o=function(t){var e,n;n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=o.prototype;function o(e){var n,r=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n=t.call(this)||this),o={visible:!0},a=r.getDefaultCfg();return r._attrs=o,i.deepMix(o,a,e),n}return r.getDefaultCfg=function(){return{}},r.get=function(t){return this._attrs[t]},r.set=function(t,e){this._attrs[t]=e},r.changeVisible=function(){},r.destroy=function(){this._attrs={},this.removeAllListeners(),this.destroyed=!0},o}(r);t.exports=o},function(t,e,n){var r=n(3),i=n(112),o=n(261),a=n(19).FONT_FAMILY,s=r.Event,u=r.Group,l=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var l=i.prototype;return l.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"continuous-legend",items:null,layout:"vertical",width:20,height:156,textStyle:{fill:"#333",textAlign:"center",textBaseline:"middle",stroke:"#fff",lineWidth:5,fontFamily:a},hoverTextStyle:{fill:"rgba(0,0,0,0.25)"},slidable:!0,triggerAttr:{fill:"#fff",shadowBlur:10,shadowColor:"rgba(0,0,0,0.65)",radius:2},_range:[0,100],middleBackgroundStyle:{fill:"#D9D9D9"},textOffset:4,lineStyle:{lineWidth:1,stroke:"#fff"},pointerStyle:{fill:"rgb(230, 230, 230)"}})},l._calStartPoint=function(){var t={x:10,y:this.get("titleGap")-8},e=this.get("titleShape");if(e){var n=e.getBBox();t.y+=n.height}return t},l.beforeRender=function(){var e=this.get("items");r.isArray(e)&&!r.isEmpty(e)&&(t.prototype.beforeRender.call(this),this.set("firstItem",e[0]),this.set("lastItem",e[e.length-1]))},l._formatItemValue=function(t){var e=this.get("formatter")||this.get("itemFormatter");return e&&(t=e.call(this,t)),t},l.render=function(){t.prototype.render.call(this),this.get("slidable")?this._renderSlider():this._renderUnslidable()},l._renderSlider=function(){var t=new u,e=new u,n=new u,r=this._calStartPoint(),i=this.get("group").addGroup(o,{minHandleElement:t,maxHandleElement:e,backgroundElement:n,layout:this.get("layout"),range:this.get("_range"),width:this.get("width"),height:this.get("height")});i.translate(r.x,r.y),this.set("slider",i),this._renderSliderShape().attr("clip",i.get("middleHandleElement")),this._renderTrigger()},l._addMiddleBar=function(t,e,n){return t.addShape(e,{attrs:r.mix({},n,this.get("middleBackgroundStyle"))}),t.addShape(e,{attrs:n})},l._renderTrigger=function(){var t=this.get("firstItem"),e=this.get("lastItem"),n=this.get("layout"),i=this.get("textStyle"),o=this.get("triggerAttr"),a=r.mix({},o),s=r.mix({},o),u=r.mix({text:this._formatItemValue(t.value)+""},i),l=r.mix({text:this._formatItemValue(e.value)+""},i);"vertical"===n?(this._addVerticalTrigger("min",a,u),this._addVerticalTrigger("max",s,l)):(this._addHorizontalTrigger("min",a,u),this._addHorizontalTrigger("max",s,l))},l._addVerticalTrigger=function(t,e,n){var i=this.get("slider").get(t+"HandleElement"),o=this.get("width"),a=i.addShape("rect",{attrs:r.mix({x:o/2-8-2,y:"min"===t?0:-8,width:18,height:8},e)}),s=i.addShape("text",{attrs:r.mix(n,{x:o+this.get("textOffset"),y:"max"===t?-4:4,textAlign:"start",lineHeight:1,textBaseline:"middle"})}),u="vertical"===this.get("layout")?"ns-resize":"ew-resize";a.attr("cursor",u),s.attr("cursor",u),this.set(t+"ButtonElement",a),this.set(t+"TextElement",s)},l._addHorizontalTrigger=function(t,e,n){var i=this.get("slider").get(t+"HandleElement"),o=i.addShape("rect",{attrs:r.mix({x:"min"===t?-8:0,y:-8-this.get("height")/2,width:8,height:16},e)}),a=i.addShape("text",{attrs:r.mix(n,{x:"min"===t?-12:12,y:4+this.get("textOffset")+10,textAlign:"min"===t?"end":"start",textBaseline:"middle"})}),s="vertical"===this.get("layout")?"ns-resize":"ew-resize";o.attr("cursor",s),a.attr("cursor",s),this.set(t+"ButtonElement",o),this.set(t+"TextElement",a)},l._bindEvents=function(){var t=this;this.get("slidable")&&this.get("slider").on("sliderchange",(function(e){var n=e.range,r=t.get("firstItem").value,i=t.get("lastItem").value,o=r+n[0]/100*(i-r),a=r+n[1]/100*(i-r);t._updateElement(o,a);var u=new s("itemfilter",e,!0,!0);u.range=[o,a],t.emit("itemfilter",u)})),this.get("hoverable")&&(this.get("group").on("mousemove",r.wrapBehavior(this,"_onMouseMove")),this.get("group").on("mouseleave",r.wrapBehavior(this,"_onMouseLeave")))},l._updateElement=function(t,e){var n=this.get("minTextElement"),r=this.get("maxTextElement");e>1&&(t=parseInt(t,10),e=parseInt(e,10)),n.attr("text",this._formatItemValue(t)+""),r.attr("text",this._formatItemValue(e)+"")},l._onMouseLeave=function(){var t=this.get("group").findById("hoverPointer");t&&t.destroy();var e=this.get("group").findById("hoverText");e&&e.destroy(),this.get("canvas").draw()},l._onMouseMove=function(t){var e,n=this.get("height"),r=this.get("width"),i=this.get("items"),o=this.get("canvas").get("el").getBoundingClientRect(),a=this.get("group").getBBox();if("vertical"===this.get("layout")){var s=5;"color-legend"===this.get("type")&&(s=30);var u=this.get("titleGap"),l=this.get("titleShape");l&&(u+=l.getBBox().maxY-l.getBBox().minY);var c=t.clientY||t.event.clientY;c=c-o.y-this.get("group").attr("matrix")[7]+a.y-s+u,e=i[0].value+(1-c/n)*(i[i.length-1].value-i[0].value)}else{var h=t.clientX||t.event.clientX;h=h-o.x-this.get("group").attr("matrix")[6],e=i[0].value+h/r*(i[i.length-1].value-i[0].value)}e=e.toFixed(2),this.activate(e),this.emit("mousehover",{value:e})},l.activate=function(t){if(t){var e=this.get("group").findById("hoverPointer"),n=this.get("group").findById("hoverText"),i=this.get("items");if(!(t<i[0].value||t>i[i.length-1].value)){var o,a=this.get("height"),s=this.get("width"),u=this.get("titleShape"),l=this.get("titleGap"),c=[],h=(t-i[0].value)/(i[i.length-1].value-i[0].value);if("vertical"===this.get("layout")){var f=0,p=0;"color-legend"===this.get("type")&&(f=l,u&&(f+=u.getBBox().height)),this.get("slidable")&&("color-legend"===this.get("type")?f-=13:(f=l-15,u&&(f+=u.getBBox().height)),p+=10),c=[[p,(h=(1-h)*a)+f],[p-10,h+f-5],[p-10,h+f+5]],o=r.mix({},{x:s+this.get("textOffset")/2+p,y:h+f,text:this._formatItemValue(t)+""},this.get("textStyle"),{textAlign:"start"})}else{var d=0,v=0;"color-legend"===this.get("type")&&(d=l,u&&(d+=u.getBBox().height)),this.get("slidable")&&("color-legend"===this.get("type")?d-=7:(d=l,u||(d-=7)),v+=10),c=[[(h*=s)+v,d],[h+v-5,d-10],[h+v+5,d-10]],o=r.mix({},{x:h-5,y:a+this.get("textOffset")+d,text:this._formatItemValue(t)+""},this.get("textStyle"))}var g=r.mix(o,this.get("hoverTextStyle"));n?n.attr(g):(n=this.get("group").addShape("text",{attrs:g})).set("id","hoverText"),e?e.attr(r.mix({points:c},this.get("pointerStyle"))):(e=this.get("group").addShape("Polygon",{attrs:r.mix({points:c},this.get("pointerStyle"))})).set("id","hoverPointer"),this.get("canvas").draw()}}},l.deactivate=function(){var t=this.get("group").findById("hoverPointer");t&&t.destroy();var e=this.get("group").findById("hoverText");e&&e.destroy(),this.get("canvas").draw()},i}(i);t.exports=l},function(t,e,n){var r=n(66),i=n(3),o=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return i.mix({},e,{x:0,y:0,items:null,titleContent:null,showTitle:!0,plotRange:null,offset:10,timeStamp:0,inPlot:!0,crosshairs:null})},o.isContentChange=function(t,e){var n=this.get("titleContent"),r=this.get("items"),o=!(t===n&&r.length===e.length);return o||i.each(e,(function(t,e){var n=r[e];for(var a in t)if(t.hasOwnProperty(a)&&!i.isObject(t[a])&&t[a]!==n[a]){o=!0;break}if(o)return!1})),o},o.setContent=function(t,e){var n=(new Date).valueOf();return this.set("items",e),this.set("titleContent",t),this.set("timeStamp",n),this.render(),this},o.setPosition=function(t,e){this.set("x",t),this.set("y",e)},o.render=function(){},o.clear=function(){},o.show=function(){this.set("visible",!0)},o.hide=function(){this.set("visible",!1)},r}(r);t.exports=o},function(t,e,n){var r=n(16).Group,i=n(30).Label,o=n(5),a=n(0),s=["line","point","path"],u=function t(e){t.superclass.constructor.call(this,e)};a.extend(u,r),a.augment(u,{getDefaultCfg:function(){return{label:o.label,labelCfg:null,coord:null,geomType:null,zIndex:6}},_renderUI:function(){u.superclass._renderUI.call(this),this.initLabelsCfg();var t=this.addGroup(),e=this.addGroup({elCls:"x-line-group"}),n=this.get("labelRenderer");this.set("labelsGroup",t),this.set("lineGroup",e),this.get("labelRenderer").set("group",t),n.set("group",t),n.set("lineGroup",e)},initLabelsCfg:function(){var t=new i,e=this.getDefaultLabelCfg(),n=this.get("labelCfg");a.deepMix(e,n.globalCfg||n.cfg),t.set("config",!1),e.labelLine&&t.set("labelLine",e.labelLine),t.set("coord",this.get("coord")),this.set("labelRenderer",t),this.set("label",e)},getDefaultLabelCfg:function(){var t=this.get("labelCfg").cfg||this.get("labelCfg").globalCfg,e=this.get("geomType"),n=this.get("viewTheme")||o;return"polygon"===e||t&&t.offset<0&&-1===a.indexOf(s,e)?a.deepMix({},this.get("label"),n.innerLabels,t):a.deepMix({},this.get("label"),n.label,t)},getLabelsItems:function(t,e){var n=this,r=[],i=n.get("geom"),o=n.get("coord");n._getLabelCfgs(t,e);var s=n.get("labelItemCfgs");return a.each(t,(function(t,e){var u=t._origin,l=s[e];if(l){a.isArray(l.text)||(l.text=[l.text]);var c=l.text.length;a.each(l.text,(function(e,s){if(a.isNil(e)||""===e)r.push(null);else{var h=n.getLabelPoint(l,t,s);(h=a.mix({},l,h)).textAlign||(h.textAlign=n.getLabelAlign(h,s,c)),i&&(h._id=i._getShapeId(u)+"-glabel-"+s+"-"+h.text),h.coord=o,r.push(h)}}))}else r.push(null)})),r},adjustItems:function(t){return a.each(t,(function(t){t&&(t.offsetX&&(t.x+=t.offsetX),t.offsetY&&(t.y+=t.offsetY))})),t},drawLines:function(t){var e=this;a.each(t,(function(t){t&&t.offset>0&&e.lineToLabel(t)}))},lineToLabel:function(){},getLabelPoint:function(t,e,n){var r=this.get("coord"),i=t.text.length;function o(e,n){return a.isArray(e)&&(e=1===t.text.length?e.length<=2?e[e.length-1]:function(t){var e=0;return a.each(t,(function(t){e+=t})),e/t.length}(e):e[n]),e}var s={text:t.text[n]};if(e&&"polygon"===this.get("geomType")){var u=function(t,e){if(a.isNumber(t)&&a.isNumber(e))return[t,e];for(var n,r,i=-1,o=0,s=0,u=t.length-1,l=0;++i<t.length;)n=u,u=i,l+=r=t[n]*e[u]-t[u]*e[n],o+=(t[n]+t[u])*r,s+=(e[n]+e[u])*r;return[o/(l*=3),s/l]}(e.x,e.y);s.x=u[0],s.y=u[1]}else s.x=o(e.x,n),s.y=o(e.y,n);if(e&&e.nextPoints&&("funnel"===e.shape||"pyramid"===e.shape)){var l=-1/0;e.nextPoints.forEach((function(t){(t=r.convert(t)).x>l&&(l=t.x)})),s.x=(s.x+l)/2}"pyramid"===e.shape&&!e.nextPoints&&e.points&&e.points.forEach((function(t){t=r.convert(t),(a.isArray(t.x)&&!e.x.includes(t.x)||a.isNumber(t.x)&&e.x!==t.x)&&(s.x=(s.x+t.x)/2)})),t.position&&this.setLabelPosition(s,e,n,t.position);var c=this.getLabelOffset(t,n,i);return t.offsetX&&(c.x+=t.offsetX),t.offsetY&&(c.y+=t.offsetY),this.transLabelPoint(s),s.start={x:s.x,y:s.y},s.x+=c.x,s.y+=c.y,s.color=e.color,s},setLabelPosition:function(){},transLabelPoint:function(t){var e=this.get("coord").applyMatrix(t.x,t.y,1);t.x=e[0],t.y=e[1]},getOffsetVector:function(t){var e=t.offset||0,n=this.get("coord");return n.isTransposed?n.applyMatrix(e,0):n.applyMatrix(0,e)},getDefaultOffset:function(t){var e=0,n=this.get("coord"),r=this.getOffsetVector(t);e=n.isTransposed?r[0]:r[1];var i=this.get("yScale");return i&&t.point&&t.point[i.field]<0&&(e*=-1),e},getLabelOffset:function(t,e,n){var r=this.getDefaultOffset(t),i=this.get("coord").isTransposed,o=i?"x":"y",a=i?1:-1,s={x:0,y:0};return s[o]=e>0||1===n?r*a:r*a*-1,s},getLabelAlign:function(t,e,n){var r="center";if(this.get("coord").isTransposed){var i=this.getDefaultOffset(t);r=i<0?"right":0===i?"center":"left",n>1&&0===e&&("right"===r?r="left":"left"===r&&(r="right"))}return r},_getLabelValue:function(t,e){a.isArray(e)||(e=[e]);var n=[];return a.each(e,(function(e){var r=t[e.field];if(a.isArray(r)){var i=[];a.each(r,(function(t){i.push(e.getText(t))})),r=i}else r=e.getText(r);(a.isNil(r)||""===r)&&n.push(null),n.push(r)})),n},_getLabelCfgs:function(t){var e=this,n=this.get("labelCfg"),r=n.scales,i=this.get("label"),s=e.get("viewTheme")||o,u=[];n.globalCfg&&n.globalCfg.type&&e.set("type",n.globalCfg.type),a.each(t,(function(t,o){var l={},c=t._origin,h=e._getLabelValue(c,r);if(n.callback){var f=r.map((function(t){return c[t.field]}));l=n.callback.apply(null,[].concat(f,[t,o]))}if(l||0===l){if(a.isString(l)||a.isNumber(l)?l={text:l}:(l.text=l.content||h[0],delete l.content),l=a.mix({},i,n.globalCfg||{},l),t.point=c,l.point=c,l.htmlTemplate&&(l.useHtml=!0,l.text=l.htmlTemplate.call(null,l.text,t,o),delete l.htmlTemplate),l.formatter&&(l.text=l.formatter.call(null,l.text,t,o),delete l.formatter),l.label){var p=l.label;delete l.label,l=a.mix(l,p)}if(l.textStyle){delete l.textStyle.offset;var d=l.textStyle;a.isFunction(d)&&(l.textStyle=d.call(null,l.text,t,o))}l.labelLine&&(l.labelLine=a.mix({},i.labelLine,l.labelLine)),l.textStyle=a.mix({},i.textStyle,s.label.textStyle,l.textStyle),delete l.items,u.push(l)}else u.push(null)})),this.set("labelItemCfgs",u)},showLabels:function(t,e){var n=this.get("labelRenderer"),r=this.getLabelsItems(t,e);e=[].concat(e);var i=this.get("type");r=this.adjustItems(r,e),this.drawLines(r),n.set("items",r.filter((function(t,n){return!!t||(e.splice(n,1),!1)}))),i&&(n.set("shapes",e),n.set("type",i),n.set("points",t)),n.set("canvas",this.get("canvas")),n.draw()},destroy:function(){this.get("labelRenderer").destroy(),u.superclass.destroy.call(this)}}),t.exports=u},function(t,e,n){var r=n(5),i=n(0),o={getDefaultSize:function(){var t=this.get("defaultSize"),e=this.get("viewTheme")||r;if(!t){var n,o=this.get("coord"),a=this.getXScale(),s=a.values,u=this.get("dataArray");if(a.isLinear&&s.length>1){s.sort();var l=function(t,e){var n=t.length;i.isString(t[0])&&(t=t.map((function(t){return e.translate(t)})));for(var r=t[1]-t[0],o=2;o<n;o++){var a=t[o]-t[o-1];r>a&&(r=a)}return r}(s,a);n=(a.max-a.min)/l,s.length>n&&(n=s.length)}else n=s.length;var c=a.range,h=1/n,f=1;if(this.isInCircle()?f=o.isTransposed&&n>1?e.widthRatio.multiplePie:e.widthRatio.rose:(a.isLinear&&(h*=c[1]-c[0]),f=e.widthRatio.column),h*=f,this.hasAdjust("dodge")){var p=this._getDodgeCfg(u),d=p.dodgeCount,v=p.dodgeRatio;h/=d,v>0&&(h=v*h/f)}t=h,this.set("defaultSize",t)}return t},_getDodgeCfg:function(t){var e,n,r=this.get("adjusts"),o=t.length;if(i.each(r,(function(t){"dodge"===t.type&&(e=t.dodgeBy,n=t.dodgeRatio)})),e){var a=i.Array.merge(t);o=i.Array.values(a,e).length}return{dodgeCount:o,dodgeRatio:n}},getDimWidth:function(t){var e=this.get("coord"),n=e.convertPoint({x:0,y:0}),r=e.convertPoint({x:"x"===t?1:0,y:"x"===t?0:1}),i=0;return n&&r&&(i=Math.sqrt(Math.pow(r.x-n.x,2)+Math.pow(r.y-n.y,2))),i},_getWidth:function(){var t=this.get("coord");return this.isInCircle()&&!t.isTransposed?(t.endAngle-t.startAngle)*t.radius:this.getDimWidth("x")},_toNormalizedSize:function(t){return t/this._getWidth()},_toCoordSize:function(t){return this._getWidth()*t},getNormalizedSize:function(t){var e=this.getAttrValue("size",t);return e=i.isNil(e)?this.getDefaultSize():this._toNormalizedSize(e)},getSize:function(t){var e=this.getAttrValue("size",t);if(i.isNil(e)){var n=this.getDefaultSize();e=this._toCoordSize(n)}return e}};t.exports=o},function(t,e,n){var r=n(72);t.exports=function(t,e){var n=r(t);if(n&&n[e])return n[e]}},function(t,e){t.exports=function(t){return(t.get("scaleController")||{}).defs}},function(t,e,n){var r=n(0),i=n(52);t.exports=function(t,e){var n,o=e.field,a=e.type,s=r.Array.values(t,o);return"linear"===a?(n=r.Array.getRange(s),e.min<n.min&&(n.min=e.min),e.max>n.max&&(n.max=e.max)):"timeCat"===a?(r.each(s,(function(t,e){s[e]=i.toTimeStamp(t)})),s.sort((function(t,e){return t-e})),n=s):n=s,n}},function(t,e,n){var r=n(1),i=n(7),o=n(37),a=n(50),s=function t(e){t.superclass.constructor.call(this,e)};s.Symbols={circle:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["z"]]},"triangle-down":function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},s.ATTRS={path:null,lineWidth:1},r.extend(s,i),r.augment(s,{type:"marker",canFill:!0,canStroke:!0,getDefaultAttrs:function(){return{x:0,y:0,lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.radius,i=this.getHitLineWidth()/2+r;return{minX:e-i,minY:n-i,maxX:e+i,maxY:n+i}},_getPath:function(){var t,e=this._attrs,n=e.x,i=e.y,o=e.radius||e.r,a=e.symbol||"circle";return(t=r.isFunction(a)?a:s.Symbols[a])?t(n,i,o):(console.warn(a+" marker is not supported."),null)},createPath:function(t){var e=this._cfg.segments;if(!e||this._cfg.hasUpdate){var n,r=o.parsePath(this._getPath());t.beginPath(),e=[];for(var i=0;i<r.length;i++){var s=r[i];n=new a(s,n,i===r.length-1),e.push(n),n.draw(t)}this._cfg.segments=e,this._cfg.hasUpdate=!1}else{t.beginPath();for(var u=0;u<e.length;u++)e[u].draw(t)}}}),t.exports=s},function(t,e,n){var r=n(1),i=r.vec2;function o(t,e,n,r,i){var o=1-i;return o*o*(o*r+3*i*n)+i*i*(i*t+3*o*e)}function a(t,e,n,r,a,s,u,l,c,h,f){var p,d,v,g,y,m,_,b,w=.005,x=1/0,E=[c,h];for(d=0;d<1;d+=.05)v=[o(t,n,a,u,d),o(e,r,s,l,d)],(g=i.squaredDistance(E,v))<x&&(p=d,x=g);x=1/0;for(var S=0;S<32&&!(w<1e-4);S++)b=p+w,v=[o(t,n,a,u,_=p-w),o(e,r,s,l,_)],g=i.squaredDistance(E,v),_>=0&&g<x?(p=_,x=g):(m=[o(t,n,a,u,b),o(e,r,s,l,b)],y=i.squaredDistance(E,m),b<=1&&y<x?(p=b,x=y):w*=.5);return f&&(f.x=o(t,n,a,u,p),f.y=o(e,r,s,l,p)),Math.sqrt(x)}function s(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n}t.exports={at:o,derivativeAt:function(t,e,n,r,i){var o=1-i;return 3*(((e-t)*o+2*(n-e)*i)*o+(r-n)*i*i)},projectPoint:function(t,e,n,r,i,o,s,u,l,c){var h={};return a(t,e,n,r,i,o,s,u,l,c,h),h},pointDistance:a,extrema:function(t,e,n,i){var o,a,s,u=3*t-9*e+9*n-3*i,l=6*e-12*n+6*i,c=3*n-3*i,h=[];if(r.isNumberEqual(u,0))r.isNumberEqual(l,0)||(o=-c/l)>=0&&o<=1&&h.push(o);else{var f=l*l-4*u*c;r.isNumberEqual(f,0)?h.push(-l/(2*u)):f>0&&(a=(-l-(s=Math.sqrt(f)))/(2*u),(o=(-l+s)/(2*u))>=0&&o<=1&&h.push(o),a>=0&&a<=1&&h.push(a))}return h},len:function(t,e,n,i,o,a,u,l,c){r.isNil(c)&&(c=1);for(var h=(c=c>1?1:c<0?0:c)/2,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,v=0;v<12;v++){var g=h*f[v]+h,y=s(g,t,n,o,u),m=s(g,e,i,a,l),_=y*y+m*m;d+=p[v]*Math.sqrt(_)}return h*d}}},function(t,e,n){var r=n(48),i=n(144),o=n(75),a=n(47);t.exports={line:function(t,e,n,i,o,a,s){var u=r.box(t,e,n,i,o);if(!this.box(u.minX,u.maxX,u.minY,u.maxY,a,s))return!1;var l=r.pointDistance(t,e,n,i,a,s);return!isNaN(l)&&l<=o/2},polyline:function(t,e,n,r){var i=t.length-1;if(i<1)return!1;for(var o=0;o<i;o++){var a=t[o][0],s=t[o][1],u=t[o+1][0],l=t[o+1][1];if(this.line(a,s,u,l,e,n,r))return!0}return!1},cubicline:function(t,e,n,r,i,a,s,u,l,c,h){return o.pointDistance(t,e,n,r,i,a,s,u,c,h)<=l/2},quadraticline:function(t,e,n,r,o,a,s,u,l){return i.pointDistance(t,e,n,r,o,a,u,l)<=s/2},arcline:function(t,e,n,r,i,o,s,u,l){return a.pointDistance(t,e,n,r,i,o,u,l)<=s/2},rect:function(t,e,n,r,i,o){return t<=i&&i<=t+n&&e<=o&&o<=e+r},circle:function(t,e,n,r,i){return Math.pow(r-t,2)+Math.pow(i-e,2)<=Math.pow(n,2)},box:function(t,e,n,r,i,o){return t<=i&&i<=e&&n<=o&&o<=r}}},function(t,e,n){var r=n(150),i="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",o=new RegExp("([a-z])["+i+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+i+"]*,?["+i+"]*)+)","ig"),a=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+i+"]*,?["+i+"]*","ig"),s=function(t){if(!t)return null;if(typeof t===typeof[])return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(o,(function(t,r,i){var o=[],s=r.toLowerCase();if(i.replace(a,(function(t,e){e&&o.push(+e)})),"m"===s&&o.length>2&&(n.push([r].concat(o.splice(0,2))),s="l",r="m"===r?"l":"L"),"o"===s&&1===o.length&&n.push([r,o[0]]),"r"===s)n.push([r].concat(o));else for(;o.length>=e[s]&&(n.push([r].concat(o.splice(0,e[s]))),e[s]););})),n},u=function(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?o[3]={x:+t[0],y:+t[1]}:i-2===r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},l=function(t,e,n,r,i){var o=[];if(null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i){var a=Math.PI/180,s=t+n*Math.cos(-r*a),u=t+n*Math.cos(-i*a);o=[["M",s,e+n*Math.sin(-r*a)],["A",n,n,0,+(i-r>180),0,u,e+n*Math.sin(-i*a)]]}else o=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return o},c=function(t){if(!(t=s(t))||!t.length)return[["M",0,0]];var e,n,r=[],i=0,o=0,a=0,c=0,h=0;"M"===t[0][0]&&(a=i=+t[0][1],c=o=+t[0][2],h++,r[0]=["M",i,o]);for(var f,p,d=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),v=h,g=t.length;v<g;v++){if(r.push(f=[]),(e=(p=t[v])[0])!==e.toUpperCase())switch(f[0]=e.toUpperCase(),f[0]){case"A":f[1]=p[1],f[2]=p[2],f[3]=p[3],f[4]=p[4],f[5]=p[5],f[6]=+p[6]+i,f[7]=+p[7]+o;break;case"V":f[1]=+p[1]+o;break;case"H":f[1]=+p[1]+i;break;case"R":for(var y=2,m=(n=[i,o].concat(p.slice(1))).length;y<m;y++)n[y]=+n[y]+i,n[++y]=+n[y]+o;r.pop(),r=r.concat(u(n,d));break;case"O":r.pop(),(n=l(i,o,p[1],p[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(l(i,o,p[1],p[2],p[3])),f=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+p[1]+i,c=+p[2]+o;break;default:for(var _=1,b=p.length;_<b;_++)f[_]=+p[_]+(_%2?i:o)}else if("R"===e)n=[i,o].concat(p.slice(1)),r.pop(),r=r.concat(u(n,d)),f=["R"].concat(p.slice(-2));else if("O"===e)r.pop(),(n=l(i,o,p[1],p[2])).push(n[0]),r=r.concat(n);else if("U"===e)r.pop(),r=r.concat(l(i,o,p[1],p[2],p[3])),f=["U"].concat(r[r.length-1].slice(-2));else for(var w=0,x=p.length;w<x;w++)f[w]=p[w];if("O"!==(e=e.toUpperCase()))switch(f[0]){case"Z":i=+a,o=+c;break;case"H":i=f[1];break;case"V":o=f[1];break;case"M":a=f[f.length-2],c=f[f.length-1];break;default:i=f[f.length-2],o=f[f.length-1]}}return r},h=function(t,e,n,r){return[t,e,n,r,n,r]},f=function(t,e,n,r,i,o){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*i+2/3*n,1/3*o+2/3*r,i,o]},p=function t(e,n,r,i,o,a,s,u,l,c){r===i&&(r+=1);var h,f,p,d,v,g=120*Math.PI/180,y=Math.PI/180*(+o||0),m=[],_=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(c)f=c[0],p=c[1],d=c[2],v=c[3];else{e=(h=_(e,n,-y)).x,n=h.y,u=(h=_(u,l,-y)).x,l=h.y,e===u&&n===l&&(u+=1,l+=1);var b=(e-u)/2,w=(n-l)/2,x=b*b/(r*r)+w*w/(i*i);x>1&&(r*=x=Math.sqrt(x),i*=x);var E=r*r,S=i*i,C=(a===s?-1:1)*Math.sqrt(Math.abs((E*S-E*w*w-S*b*b)/(E*w*w+S*b*b)));d=C*r*w/i+(e+u)/2,v=C*-i*b/r+(n+l)/2,f=Math.asin(((n-v)/i).toFixed(9)),p=Math.asin(((l-v)/i).toFixed(9)),f=e<d?Math.PI-f:f,p=u<d?Math.PI-p:p,f<0&&(f=2*Math.PI+f),p<0&&(p=2*Math.PI+p),s&&f>p&&(f-=2*Math.PI),!s&&p>f&&(p-=2*Math.PI)}var k=p-f;if(Math.abs(k)>g){var T=p,I=u,A=l;p=f+g*(s&&p>f?1:-1),m=t(u=d+r*Math.cos(p),l=v+i*Math.sin(p),r,i,o,0,s,I,A,[p,T,d,v])}k=p-f;var M=Math.cos(f),P=Math.sin(f),O=Math.cos(p),N=Math.sin(p),D=Math.tan(k/4),R=4/3*r*D,L=4/3*i*D,F=[e,n],j=[e+R*P,n-L*M],B=[u+R*N,l-L*O],V=[u,l];if(j[0]=2*F[0]-j[0],j[1]=2*F[1]-j[1],c)return[j,B,V].concat(m);for(var U=[],q=0,z=(m=[j,B,V].concat(m).join().split(",")).length;q<z;q++)U[q]=q%2?_(m[q-1],m[q],y).y:_(m[q],m[q+1],y).x;return U},d=function(t,e){var n,r=c(t),i=e&&c(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],u=[],l="",d="",v=function(t,e,n){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(p.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(f(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(f(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(h(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(h(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(h(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(h(e.x,e.y,e.X,e.Y))}return t},g=function(t,e){if(t[e].length>7){t[e].shift();for(var o=t[e];o.length;)s[e]="A",i&&(u[e]="A"),t.splice(e++,0,["C"].concat(o.splice(0,6)));t.splice(e,1),n=Math.max(r.length,i&&i.length||0)}},y=function(t,e,o,a,s){t&&e&&"M"===t[s][0]&&"M"!==e[s][0]&&(e.splice(s,0,["M",a.x,a.y]),o.bx=0,o.by=0,o.x=t[s][1],o.y=t[s][2],n=Math.max(r.length,i&&i.length||0))};n=Math.max(r.length,i&&i.length||0);for(var m=0;m<n;m++){r[m]&&(l=r[m][0]),"C"!==l&&(s[m]=l,m&&(d=s[m-1])),r[m]=v(r[m],o,d),"A"!==s[m]&&"C"===l&&(s[m]="C"),g(r,m),i&&(i[m]&&(l=i[m][0]),"C"!==l&&(u[m]=l,m&&(d=u[m-1])),i[m]=v(i[m],a,d),"A"!==u[m]&&"C"===l&&(u[m]="C"),g(i,m)),y(r,i,o,a,m),y(i,r,a,o,m);var _=r[m],b=i&&i[m],w=_.length,x=i&&b.length;o.x=_[w-2],o.y=_[w-1],o.bx=parseFloat(_[w-4])||o.x,o.by=parseFloat(_[w-3])||o.y,a.bx=i&&(parseFloat(b[x-4])||a.x),a.by=i&&(parseFloat(b[x-3])||a.y),a.x=i&&b[x-2],a.y=i&&b[x-1]}return i?[r,i]:r},v=/,?([a-z]),?/gi,g=function(t){return t.join(",").replace(v,"$1")},y=function(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n},m=function(t,e,n,r,i,o,a,s,u){null===u&&(u=1);for(var l=(u=u>1?1:u<0?0:u)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,p=0;p<12;p++){var d=l*c[p]+l,v=y(d,t,n,i,a),g=y(d,e,r,o,s),m=v*v+g*g;f+=h[p]*Math.sqrt(m)}return l*f},_=function(t,e,n,r,i,o,a,s){for(var u,l,c,h,f=[],p=[[],[]],d=0;d<2;++d)if(0===d?(l=6*t-12*n+6*i,u=-3*t+9*n-9*i+3*a,c=3*n-3*t):(l=6*e-12*r+6*o,u=-3*e+9*r-9*o+3*s,c=3*r-3*e),Math.abs(u)<1e-12){if(Math.abs(l)<1e-12)continue;(h=-c/l)>0&&h<1&&f.push(h)}else{var v=l*l-4*c*u,g=Math.sqrt(v);if(!(v<0)){var y=(-l+g)/(2*u);y>0&&y<1&&f.push(y);var m=(-l-g)/(2*u);m>0&&m<1&&f.push(m)}}for(var _,b=f.length,w=b;b--;)_=1-(h=f[b]),p[0][b]=_*_*_*t+3*_*_*h*n+3*_*h*h*i+h*h*h*a,p[1][b]=_*_*_*e+3*_*_*h*r+3*_*h*h*o+h*h*h*s;return p[0][w]=t,p[1][w]=e,p[0][w+1]=a,p[1][w+1]=s,p[0].length=p[1].length=w+2,{min:{x:Math.min.apply(0,p[0]),y:Math.min.apply(0,p[1])},max:{x:Math.max.apply(0,p[0]),y:Math.max.apply(0,p[1])}}},b=function(t,e,n,r,i,o,a,s){if(!(Math.max(t,n)<Math.min(i,a)||Math.min(t,n)>Math.max(i,a)||Math.max(e,r)<Math.min(o,s)||Math.min(e,r)>Math.max(o,s))){var u=(t-n)*(o-s)-(e-r)*(i-a);if(u){var l=((t*r-e*n)*(i-a)-(t-n)*(i*s-o*a))/u,c=((t*r-e*n)*(o-s)-(e-r)*(i*s-o*a))/u,h=+l.toFixed(2),f=+c.toFixed(2);if(!(h<+Math.min(t,n).toFixed(2)||h>+Math.max(t,n).toFixed(2)||h<+Math.min(i,a).toFixed(2)||h>+Math.max(i,a).toFixed(2)||f<+Math.min(e,r).toFixed(2)||f>+Math.max(e,r).toFixed(2)||f<+Math.min(o,s).toFixed(2)||f>+Math.max(o,s).toFixed(2)))return{x:l,y:c}}}},w=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},x=function(t,e,n,r,i){if(i)return[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.parsePathArray=g,o},E=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:x(t,e,n,r),vb:[t,e,n,r].join(" ")}},S=function(t,e,n,i,o,a,s,u){r.isArray(t)||(t=[t,e,n,i,o,a,s,u]);var l=_.apply(null,t);return E(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)},C=function(t,e,n,r,i,o,a,s,u){var l=1-u,c=Math.pow(l,3),h=Math.pow(l,2),f=u*u,p=f*u,d=t+2*u*(n-t)+f*(i-2*n+t),v=e+2*u*(r-e)+f*(o-2*r+e),g=n+2*u*(i-n)+f*(a-2*i+n),y=r+2*u*(o-r)+f*(s-2*o+r);return{x:c*t+3*h*u*n+3*l*u*u*i+p*a,y:c*e+3*h*u*r+3*l*u*u*o+p*s,m:{x:d,y:v},n:{x:g,y:y},start:{x:l*t+u*n,y:l*e+u*r},end:{x:l*i+u*a,y:l*o+u*s},alpha:90-180*Math.atan2(d-g,v-y)/Math.PI}},k=function(t,e,n){if(!function(t,e){return t=E(t),e=E(e),w(e,t.x,t.y)||w(e,t.x2,t.y)||w(e,t.x,t.y2)||w(e,t.x2,t.y2)||w(t,e.x,e.y)||w(t,e.x2,e.y)||w(t,e.x,e.y2)||w(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(S(t),S(e)))return n?0:[];for(var r=~~(m.apply(0,t)/8),i=~~(m.apply(0,e)/8),o=[],a=[],s={},u=n?0:[],l=0;l<r+1;l++){var c=C.apply(0,t.concat(l/r));o.push({x:c.x,y:c.y,t:l/r})}for(var h=0;h<i+1;h++){var f=C.apply(0,e.concat(h/i));a.push({x:f.x,y:f.y,t:h/i})}for(var p=0;p<r;p++)for(var d=0;d<i;d++){var v=o[p],g=o[p+1],y=a[d],_=a[d+1],x=Math.abs(g.x-v.x)<.001?"y":"x",k=Math.abs(_.x-y.x)<.001?"y":"x",T=b(v.x,v.y,g.x,g.y,y.x,y.y,_.x,_.y);if(T){if(s[T.x.toFixed(4)]===T.y.toFixed(4))continue;s[T.x.toFixed(4)]=T.y.toFixed(4);var I=v.t+Math.abs((T[x]-v[x])/(g[x]-v[x]))*(g.t-v.t),A=y.t+Math.abs((T[k]-y[k])/(_[k]-y[k]))*(_.t-y.t);I>=0&&I<=1&&A>=0&&A<=1&&(n?u++:u.push({x:T.x,y:T.y,t1:I,t2:A}))}}return u};function T(t,e){var n=[],r=[];return t.length&&function t(e,i){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var o=[],a=0;a<e.length-1;a++)0===a&&n.push(e[0]),a===e.length-2&&r.push(e[a+1]),o[a]=[(1-i)*e[a][0]+i*e[a+1][0],(1-i)*e[a][1]+i*e[a+1][1]];t(o,i)}}(t,e),{left:n,right:r.reverse()}}var I=function(t,e,n){if(1===n)return[[].concat(t)];var r=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])r=r.concat(function(t,e,n){var r=[[t[1],t[2]]];n=n||2;var i=[];"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var o=r,a=1/n,s=0;s<n-1;s++){var u=T(o,a/(1-a*s));i.push(u.left),o=u.right}return i.push(o),i.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1])}))}(t,e,n));else{var i=[].concat(t);"M"===i[0]&&(i[0]="L");for(var o=0;o<=n-1;o++)r.push(i)}return r},A=function(t,e){if(t.length!==e.length)return!1;var n=!0;return r.each(t,(function(t,r){if(t!==e[r])return n=!1,!1})),n};function M(t,e,n){var r=null,i=n;return e<i&&(i=e,r="add"),t<i&&(i=t,r="del"),{type:r,min:i}}function P(t,e,n){for(var r,i=[].concat(t),o=1/(n+1),a=O(e)[0],s=1;s<=n;s++)o*=s,0===(r=Math.floor(t.length*o))?i.unshift([a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]);return i}function O(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}t.exports={parsePathString:s,parsePathArray:g,pathTocurve:d,pathToAbsolute:c,catmullRomToBezier:u,rectPath:x,fillPath:function(t,e){if(1===t.length)return t;var n=t.length-1,r=e.length-1,i=n/r,o=[];if(1===t.length&&"M"===t[0][0]){for(var a=0;a<r-n;a++)t.push(t[0]);return t}for(var s=0;s<r;s++){var u=Math.floor(i*s);o[u]=(o[u]||0)+1}var l=o.reduce((function(e,r,i){return i===n?e.concat(t[n]):e.concat(I(t[i],t[i+1],r))}),[]);return l.unshift(t[0]),"Z"!==e[r]&&"z"!==e[r]||l.push("Z"),l},fillPathByDiff:function(t,e){var n=function(t,e){var n,r,i=t.length,o=e.length,a=0;if(0===i||0===o)return null;for(var s=[],u=0;u<=i;u++)s[u]=[],s[u][0]={min:u};for(var l=0;l<=o;l++)s[0][l]={min:l};for(var c=1;c<=i;c++){n=t[c-1];for(var h=1;h<=o;h++){r=e[h-1],a=A(n,r)?0:1;var f=s[c-1][h].min+1,p=s[c][h-1].min+1,d=s[c-1][h-1].min+a;s[c][h]=M(f,p,d)}}return s}(t,e),r=t.length,i=e.length,o=[],a=1,s=1;if(n[r][i]!==r){for(var u=1;u<=r;u++){var l=n[u][u].min;s=u;for(var c=a;c<=i;c++)n[u][c].min<l&&(l=n[u][c].min,s=c);a=s,n[u][a].type&&o.push({index:u-1,type:n[u][a].type})}for(var h=o.length-1;h>=0;h--)a=o[h].index,"add"===o[h].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var f=i-(r=t.length);if(r<i)for(var p=0;p<f;p++)"z"===t[r-1][0]||"Z"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t},formatPath:function(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=O(t[r]),e[r][0]){case"M":t[r]=["M"].concat(n[0]);break;case"L":t[r]=["L"].concat(n[0]);break;case"A":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=P(n,t[r-1],1)}t[r]=["Q"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":t[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){t[r]=e[r];break}n=P(n,t[r-1],2)}t[r]=["C"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=P(n,t[r-1],1)}t[r]=["S"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[r]=e[r]}return t},intersection:function(t,e){return function(t,e,n){var r,i,o,a,s,u,l,c,h,f;t=d(t),e=d(e);for(var p=n?0:[],v=0,g=t.length;v<g;v++){var y=t[v];if("M"===y[0])r=s=y[1],i=u=y[2];else{"C"===y[0]?(h=[r,i].concat(y.slice(1)),r=h[6],i=h[7]):(h=[r,i,r,i,s,u,s,u],r=s,i=u);for(var m=0,_=e.length;m<_;m++){var b=e[m];if("M"===b[0])o=l=b[1],a=c=b[2];else{"C"===b[0]?(f=[o,a].concat(b.slice(1)),o=f[6],a=f[7]):(f=[o,a,o,a,l,c,l,c],o=l,a=c);var w=k(h,f,n);if(n)p+=w;else{for(var x=0,E=w.length;x<E;x++)w[x].segment1=v,w[x].segment2=m,w[x].bez1=h,w[x].bez2=f;p=p.concat(w)}}}}}return p}(t,e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t},e.toRadian=function(t){return t*i},e.equals=function(t,e){return Math.abs(t-e)<=r*Math.max(1,Math.abs(t),Math.abs(e))};var r=e.EPSILON=1e-6;e.ARRAY_TYPE="undefined"!==typeof Float32Array?Float32Array:Array,e.RANDOM=Math.random;var i=Math.PI/180},function(t,e,n){var r=n(6),i=n(4),o=n(2);t.exports=function(t,e){for(var n=[],a={},s=0;s<t.length;s++){var u=t[s][e];r(u)||(i(u)||(u=[u]),o(u,(function(t){a[t]||(n.push(t),a[t]=!0)})))}return n}},function(t,e,n){var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(4);t.exports=function t(e){if("object"!==("undefined"===typeof e?"undefined":r(e))||null===e)return e;var n=void 0;if(i(e)){n=[];for(var o=0,a=e.length;o<a;o++)"object"===r(e[o])&&null!=e[o]?n[o]=t(e[o]):n[o]=e[o]}else for(var s in n={},e)"object"===r(e[s])&&null!=e[s]?n[s]=t(e[s]):n[s]=e[s];return n}},function(t,e,n){var r=n(40),i=n(4);function o(t,e,n,a){for(var s in n=n||0,a=a||5,e)if(e.hasOwnProperty(s)){var u=e[s];null!==u&&r(u)?(r(t[s])||(t[s]={}),n<a?o(t[s],u,n+1,a):t[s]=e[s]):i(u)?(t[s]=[],t[s]=t[s].concat(u)):void 0!==u&&(t[s]=u)}}t.exports=function(){for(var t=new Array(arguments.length),e=t.length,n=0;n<e;n++)t[n]=arguments[n];for(var r=t[0],i=1;i<e;i++)o(r,t[i]);return r}},function(t,e,n){var r=n(2),i=n(21);t.exports=function(t,e){if(!i(t))return t;var n=[];return r(t,(function(t,r){e(t,r)&&n.push(t)})),n}},function(t,e,n){var r=n(86),i=n(21),o=n(15);t.exports=function t(e,n){if(e===n)return!0;if(!e||!n)return!1;if(o(e)||o(n))return!1;if(i(e)||i(n)){if(e.length!==n.length)return!1;for(var a=!0,s=0;s<e.length&&(a=t(e[s],n[s]));s++);return a}if(r(e)||r(n)){var u=Object.keys(e),l=Object.keys(n);if(u.length!==l.length)return!1;for(var c=!0,h=0;h<u.length&&(c=t(e[u[h]],n[u[h]]));h++);return c}return!1}},function(t,e){t.exports=function(t,e,n){return t<e?e:t>n?n:t}},function(t,e,n){var r=n(348);r.translate=function(t,e,n){var i=new Array(9);return r.fromTranslation(i,n),r.multiply(t,i,e)},r.rotate=function(t,e,n){var i=new Array(9);return r.fromRotation(i,n),r.multiply(t,i,e)},r.scale=function(t,e,n){var i=new Array(9);return r.fromScaling(i,n),r.multiply(t,i,e)},t.exports=r},function(t,e){var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return"object"===("undefined"===typeof t?"undefined":n(t))&&null!==t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={Chart:"deleteChart",Coord:"deleteCoord",Geom:"deleteGeom",Axis:"deleteAxis",Tooltip:"deleteTooltip",Legend:"deleteLegend",Label:"deleteLabel",View:"deleteView",Guide:"deleteGuide",GuideLine:"deleteTypedGuide",GuideImage:"deleteTypedGuide",GuideText:"deleteTypedGuide",GuideRegion:"deleteTypedGuide",GuideHtml:"deleteTypedGuide",GuideArc:"deleteTypedGuide",GuideRegionFilter:"deleteTypedGuide",GuideDataMarker:"deleteTypedGuide",GuideDataRegion:"deleteTypedGuide",Facet:"deleteFacet"},i={merge:function(t,e,n,r){this.mergeDelete(t,e,n),this.mergeUpdate(t,r)},mergeDelete:function(t,e,n){var i=this;Object.keys(e).forEach((function(e){var o=r[n[e].name],a=t;n[e].viewId&&(a=t.views[n[e].viewId]),i[o]&&i[o](a,e,n[e].parentInfo.id)}))},deleteAxis:function(t,e){t&&delete t.axises[e]},deleteTooltip:function(t){t&&delete t.tooltip},deleteCoord:function(t){t&&delete t.coord},deleteLegend:function(t,e){t&&delete t.legends[e]},deleteGuide:function(t){t&&delete t.guide},deleteGeom:function(t,e){t&&t.geoms&&delete t.geoms[e]},deleteLabel:function(t,e,n){t&&t.geoms&&t.geoms[n]&&delete t.geoms[n].label},deleteFacet:function(t){t&&delete t.facet},deleteTypedGuide:function(t,e){t&&t.guide&&delete t.guide.elements[e]},deleteView:function(t,e){t&&delete t.views[e]},mergeUpdate:function(t,e){this.mergeChart(t,e),this.mergeAxises(t,e),this.mergeCoord(t,e),this.mergeGeoms(t.geoms,e),this.mergeLegends(t.legends,e),this.mergeTooltip(t,e),this.mergeViews(t.views,e),this.mergeGuide(t.guide,e)},mergeChart:function(t,e){t.chart&&t.chart.updateProps&&(t.chart.props=t.chart.updateProps),e&&delete t.chart.g2Instance},mergeAxises:function(t,e){var n=t.axises;if(null!=!n)for(var r in n)n[r]&&n[r].updateProps&&(n[r].props=n[r].updateProps),e&&delete n[r].g2Instance},mergeTooltip:function(t,e){t.tooltip&&(e&&delete t.tooltip.g2Instance,t.tooltip.updateProps&&(t.tooltip.props=t.tooltip.updateProps))},mergeCoord:function(t,e){t.coord&&(e&&delete t.coord.g2Instance,t.coord.updateProps&&(t.coord.props=t.coord.updateProps))},mergeLegends:function(t,e){if(t)for(var n in t)if(t[n]){var r=t[n];e&&delete r.g2Instance,r.updateProps&&(r.props=r.updateProps)}},mergeGeoms:function(t,e){if(null!=t)for(var n in t)t[n]&&(e&&(delete t[n].g2Instance,t[n].label&&t[n].label.g2Instance&&(t[n].label.updateProps&&(t[n].label.props=t[n].label.updateProps),delete t[n].label.g2Instance)),t[n].updateProps&&(t[n].props=t[n].updateProps))},mergeGuide:function(t,e){if(null!=t){var n=t.elements;for(var r in n)n[r]&&(e&&delete n[r].g2Instance,n[r].updateProps&&(n[r].props=n[r].updateProps))}},mergeView:function(t,e){t&&(e&&t.g2Instance&&delete t.g2Instance,t.updateProps&&(t.props=t.updateProps),this.mergeCoord(t,e),this.mergeAxises(t,e),this.mergeGeoms(t.geoms,e),this.mergeGuide(t.guide,e))},mergeViews:function(t,e){if(null!=t)for(var n in t)t[n]&&this.mergeView(t[n],e)}};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Prop=e.Util=void 0;var r=o(n(58)),i=o(n(437));function o(t){return t&&t.__esModule?t:{default:t}}e.Util=r.default,e.Prop=i.default},function(t,e,n){"use strict";e.c=i,n.d(e,"e",(function(){return o})),n.d(e,"d",(function(){return a})),e.h=b,e.b=E,e.g=S,e.a=C,e.f=P;var r=n(90);function i(){}var o=.7,a=1/o,s="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3,8})$/,h=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),f=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),p=new RegExp("^rgba\\("+[s,s,s,u]+"\\)$"),d=new RegExp("^rgba\\("+[l,l,l,u]+"\\)$"),v=new RegExp("^hsl\\("+[u,l,l]+"\\)$"),g=new RegExp("^hsla\\("+[u,l,l,u]+"\\)$"),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function m(){return this.rgb().formatHex()}function _(){return this.rgb().formatRgb()}function b(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=c.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?w(e):3===n?new C(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?new C(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?new C(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=h.exec(t))?new C(e[1],e[2],e[3],1):(e=f.exec(t))?new C(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=p.exec(t))?x(e[1],e[2],e[3],e[4]):(e=d.exec(t))?x(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=v.exec(t))?A(e[1],e[2]/100,e[3]/100,1):(e=g.exec(t))?A(e[1],e[2]/100,e[3]/100,e[4]):y.hasOwnProperty(t)?w(y[t]):"transparent"===t?new C(NaN,NaN,NaN,0):null}function w(t){return new C(t>>16&255,t>>8&255,255&t,1)}function x(t,e,n,r){return r<=0&&(t=e=n=NaN),new C(t,e,n,r)}function E(t){return t instanceof i||(t=b(t)),t?new C((t=t.rgb()).r,t.g,t.b,t.opacity):new C}function S(t,e,n,r){return 1===arguments.length?E(t):new C(t,e,n,null==r?1:r)}function C(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function k(){return"#"+I(this.r)+I(this.g)+I(this.b)}function T(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function I(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function A(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new O(t,e,n,r)}function M(t){if(t instanceof O)return new O(t.h,t.s,t.l,t.opacity);if(t instanceof i||(t=b(t)),!t)return new O;if(t instanceof O)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,u=a-o,l=(a+o)/2;return u?(s=e===a?(n-r)/u+6*(n<r):n===a?(r-e)/u+2:(e-n)/u+4,u/=l<.5?a+o:2-a-o,s*=60):u=l>0&&l<1?0:s,new O(s,u,l,t.opacity)}function P(t,e,n,r){return 1===arguments.length?M(t):new O(t,e,n,null==r?1:r)}function O(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function N(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}n.i(r.a)(i,b,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:m,formatHex:m,formatHsl:function(){return M(this).formatHsl()},formatRgb:_,toString:_}),n.i(r.a)(C,S,n.i(r.b)(i,{brighter:function(t){return t=null==t?a:Math.pow(a,t),new C(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?o:Math.pow(o,t),new C(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:k,formatHex:k,formatRgb:T,toString:T})),n.i(r.a)(O,P,n.i(r.b)(i,{brighter:function(t){return t=null==t?a:Math.pow(a,t),new O(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?o:Math.pow(o,t),new O(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new C(N(t>=240?t-240:t+120,i,r),N(t,i,r),N(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}))},function(t,e,n){"use strict";e.b=function(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n},e.a=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t}},function(t,e,n){"use strict";function r(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}e.b=r,e.a=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[i],a=t[i+1],s=i>0?t[i-1]:2*o-a,u=i<e-1?t[i+2]:2*a-o;return r((n-i/e)*e,s,o,a,u)}}},function(t,e,n){"use strict";var r=n(12),i=n(205),o=n(200),a=n(203),s=n(59),u=n(204),l=n(206),c=n(202);e.a=function(t,e){var h,f=typeof e;return null==e||"boolean"===f?n.i(c.a)(e):("number"===f?s.a:"string"===f?(h=n.i(r.f)(e))?(e=h,i.a):l.a:e instanceof r.f?i.a:e instanceof Date?a.a:Array.isArray(e)?o.a:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?u.a:s.a)(t,e)}},function(t,e,n){"use strict";function r(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}e.b=r,e.a=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[i],a=t[i+1],s=i>0?t[i-1]:2*o-a,u=i<e-1?t[i+2]:2*a-o;return r((n-i/e)*e,s,o,a,u)}}},function(t,e,n){"use strict";n(96),n(207),n(93),n(208),n(210),n(465),n(468);var r=n(60);n.d(e,"b",(function(){return r.a})),n(95),n(211),n(472);var i=n(213);n.d(e,"d",(function(){return i.a}));var o=n(474);n.d(e,"a",(function(){return o.a})),n.d(e,"e",(function(){return o.b})),n(476);var a=n(212);n.d(e,"c",(function(){return a.a})),n(467),n(469),n(466),n(464),n(470),n(471)},function(t,e,n){"use strict";e.a=function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},e.b=function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}},function(t,e,n){"use strict";var r=n(12),i=n(212),o=n(207),a=n(210),s=n(60),u=n(211),l=n(213),c=n(209),h=n(95);e.a=function(t,e){var f,p=typeof e;return null==e||"boolean"===p?n.i(c.a)(e):("number"===p?s.a:"string"===p?(f=n.i(r.f)(e))?(e=f,i.a):l.a:e instanceof r.f?i.a:e instanceof Date?a.a:n.i(h.a)(e)?h.b:Array.isArray(e)?o.a:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?u.a:s.a)(t,e)}},function(t,e,n){"use strict";var r=n(98);e.a=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),r.a.hasOwnProperty(e)?{space:r.a[e],local:t}:t}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r}));var r="http://www.w3.org/1999/xhtml";e.a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),e.b=function(t,e,n,r){var o=i;t.sourceEvent=i,i=t;try{return e.apply(n,r)}finally{i=o}};var r={},i=null;function o(t,e,n){return t=a(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function a(t,e,n){return function(r){var o=i;i=r;try{t.call(this,this.__data__,e,n)}finally{i=o}}}function s(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function u(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function l(t,e,n){var i=r.hasOwnProperty(t.type)?o:a;return function(r,o,a){var s,u=this.__on,l=i(e,o,a);if(u)for(var c=0,h=u.length;c<h;++c)if((s=u[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}"undefined"!==typeof document&&("onmouseenter"in document.documentElement||(r={mouseenter:"mouseover",mouseleave:"mouseout"})),e.c=function(t,e,n){var r,i,o=s(t+""),a=o.length;if(!(arguments.length<2)){for(c=e?l:u,null==n&&(n=!1),r=0;r<a;++r)this.each(c(o[r],e,n));return this}var c=this.node().__on;if(c)for(var h,f=0,p=c.length;f<p;++f)for(r=0,h=c[f];r<a;++r)if((i=o[r]).type===h.type&&i.name===h.name)return h.value}},function(t,e,n){"use strict";function r(){}e.a=function(t){return null==t?r:function(){return this.querySelector(t)}}},function(t,e,n){"use strict";var r=n(99);e.a=function(){for(var t,e=r.a;t=e.sourceEvent;)e=t;return e}},function(t,e,n){"use strict";e.a=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(104);n.d(e,"now",(function(){return r.a})),n.d(e,"timer",(function(){return r.b})),n.d(e,"timerFlush",(function(){return r.c}));var i=n(513);n.d(e,"timeout",(function(){return i.a}));var o=n(512);n.d(e,"interval",(function(){return o.a}))},function(t,e,n){"use strict";e.a=p,e.d=v,e.b=g,e.c=y;var r,i,o=0,a=0,s=0,u=0,l=0,c=0,h="object"===typeof performance&&performance.now?performance:Date,f="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function p(){return l||(f(d),l=h.now()+c)}function d(){l=0}function v(){this._call=this._time=this._next=null}function g(t,e,n){var r=new v;return r.restart(t,e,n),r}function y(){p(),++o;for(var t,e=r;e;)(t=l-e._time)>=0&&e._call.call(null,t),e=e._next;--o}function m(){l=(u=h.now())+c,o=a=0;try{y()}finally{o=0,function(){for(var t,e,n=r,o=1/0;n;)n._call?(o>n._time&&(o=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:r=e);i=t,b(o)}(),l=0}}function _(){var t=h.now(),e=t-u;e>1e3&&(c-=e,u=t)}function b(t){o||(a&&(a=clearTimeout(a)),t-l>24?(t<1/0&&(a=setTimeout(m,t-h.now()-c)),s&&(s=clearInterval(s))):(s||(u=h.now(),s=setInterval(_,1e3)),o=1,f(m)))}v.prototype=g.prototype={constructor:v,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?p():+n)+(null==e?0:+e),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=t,this._time=n,b()},stop:function(){this._call&&(this._call=null,this._time=1/0,b())}}},function(t,e,n){var r;!function(e){"use strict";function i(){}var o=i.prototype,a=e.EventEmitter;function s(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function u(t){return function(){return this[t].apply(this,arguments)}}o.getListeners=function(t){var e,n,r=this._getEvents();if(t instanceof RegExp)for(n in e={},r)r.hasOwnProperty(n)&&t.test(n)&&(e[n]=r[n]);else e=r[t]||(r[t]=[]);return e},o.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},o.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&((e={})[t]=n),e||n},o.addListener=function(t,e){if(!function t(e){return"function"===typeof e||e instanceof RegExp||!(!e||"object"!==typeof e)&&t(e.listener)}(e))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(t),i="object"===typeof e;for(n in r)r.hasOwnProperty(n)&&-1===s(r[n],e)&&r[n].push(i?e:{listener:e,once:!1});return this},o.on=u("addListener"),o.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},o.once=u("addOnceListener"),o.defineEvent=function(t){return this.getListeners(t),this},o.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},o.removeListener=function(t,e){var n,r,i=this.getListenersAsObject(t);for(r in i)i.hasOwnProperty(r)&&-1!==(n=s(i[r],e))&&i[r].splice(n,1);return this},o.off=u("removeListener"),o.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},o.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},o.manipulateListeners=function(t,e,n){var r,i,o=t?this.removeListener:this.addListener,a=t?this.removeListeners:this.addListeners;if("object"!==typeof e||e instanceof RegExp)for(r=n.length;r--;)o.call(this,e,n[r]);else for(r in e)e.hasOwnProperty(r)&&(i=e[r])&&("function"===typeof i?o.call(this,r,i):a.call(this,r,i));return this},o.removeEvent=function(t){var e,n=typeof t,r=this._getEvents();if("string"===n)delete r[t];else if(t instanceof RegExp)for(e in r)r.hasOwnProperty(e)&&t.test(e)&&delete r[e];else delete this._events;return this},o.removeAllListeners=u("removeEvent"),o.emitEvent=function(t,e){var n,r,i,o,a=this.getListenersAsObject(t);for(o in a)if(a.hasOwnProperty(o))for(n=a[o].slice(0),i=0;i<n.length;i++)!0===(r=n[i]).once&&this.removeListener(t,r.listener),r.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,r.listener);return this},o.trigger=u("emitEvent"),o.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},o.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},o._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},o._getEvents=function(){return this._events||(this._events={})},i.noConflict=function(){return e.EventEmitter=a,i},void 0===(r=function(){return i}.call(e,n,e,t))||(t.exports=r)}(this||{})},function(t,e,n){var r=n(2),i={values:n(79)};t.exports={isAdjust:function(t){return this.adjustNames.indexOf(t)>=0},_getDimValues:function(t){var e={},n=[];if(this.xField&&this.isAdjust("x")&&n.push(this.xField),this.yField&&this.isAdjust("y")&&n.push(this.yField),r(n,(function(n){var r=i.values(t,n);r.sort((function(t,e){return t-e})),e[n]=r})),!this.yField&&this.isAdjust("y")){var o=[0,1];e.y=o}return e},adjustData:function(t,e){var n=this,i=n._getDimValues(e);r(t,(function(e,o){r(i,(function(r,i){n.adjustDim(i,r,e,t.length,o)}))}))},getAdjustRange:function(t,e,n){var r,i,o=n.indexOf(e),a=n.length;return!this.yField&&this.isAdjust("y")?(r=0,i=1):a>1?(r=0===o?n[0]:n[o-1],i=o===a-1?n[a-1]:n[o+1],0!==o?r+=(e-r)/2:r-=(i-e)/2,o!==a-1?i-=(i-e)/2:i+=(e-n[a-2])/2):(r=0===e?0:e-.5,i=0===e?1:e+.5),{pre:r,next:i}},groupData:function(t,e){var n={};return r(t,(function(t){var r=t[e];void 0===r&&(r=t[e]=0),n[r]||(n[r]=[]),n[r].push(t)})),n}}},function(t,e,n){var r=n(11),i=n(15),o=n(2),a=/rgba?\(([\s.,0-9]+)\)/;function s(t,e,n,r){return t[r]+(e[r]-t[r])*n}function u(t){return"#"+l(t[0])+l(t[1])+l(t[2])}function l(t){return 1===(t=(t=Math.round(t)).toString(16)).length&&(t="0"+t),t}function c(t){var e=[];return e.push(parseInt(t.substr(1,2),16)),e.push(parseInt(t.substr(3,2),16)),e.push(parseInt(t.substr(5,2),16)),e}var h={},f=null,p={toRGB:function(t){return"#"===t[0]&&7===t.length?t:(f||(f=function(){var t=document.createElement("i");return t.title="Web Colour Picker",t.style.display="none",document.body.appendChild(t),t}()),h[t]?e=h[t]:(f.style.color=t,e=document.defaultView.getComputedStyle(f,"").getPropertyValue("color"),e=u(a.exec(e)[1].split(/\s*,\s*/)),h[t]=e),e);var e},rgb2arr:c,gradient:function(t){var e=[];return i(t)&&(t=t.split("-")),o(t,(function(t){-1===t.indexOf("#")&&(t=p.toRGB(t)),e.push(c(t))})),function(t){return function(t,e){(isNaN(e)||!r(e)||e<0)&&(e=0),e>1&&(e=1);var n=t.length-1,i=Math.floor(n*e),o=n*e-i,a=t[i],l=i===n?a:t[i+1];return u([s(a,l,o,0),s(a,l,o,1),s(a,l,o,2)])}(e,t)}}};t.exports=p},function(t,e,n){var r=n(31).Group,i=n(3),o=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getDefaultCfg=function(){return{zIndex:1,type:"line",lineStyle:null,items:null,alternateColor:null,matrix:null,hideFirstLine:!1,hideLastLine:!1,hightLightZero:!1,zeroLineStyle:{stroke:"#595959",lineDash:[0,0]}}},o._renderUI=function(){t.prototype._renderUI.call(this),this._drawLines()},o._drawLines=function(){var t=this.get("lineStyle"),e=this.get("items");e&&e.length&&(this._precessItems(e),this._drawGridLines(e,t))},o._precessItems=function(t){var e,n=this;i.each(t,(function(t,r){e&&n.get("alternateColor")&&n._drawAlternativeBg(t,e,r),e=t}))},o._drawGridLines=function(t,e){var n,r,o,a,s=this,u=this.get("type"),l=t.length;"line"===u||"polygon"===u?i.each(t,(function(t,c){s.get("hideFirstLine")&&0===c||s.get("hideLastLine")&&c===l-1||(a=t.points,r=[],"line"===u?(r.push(["M",a[0].x,a[0].y]),r.push(["L",a[a.length-1].x,a[a.length-1].y])):i.each(a,(function(t,e){0===e?r.push(["M",t.x,t.y]):r.push(["L",t.x,t.y])})),o=s._drawZeroLine(u,c)?i.mix({},s.get("zeroLineStyle"),{path:r}):i.mix({},e,{path:r}),(n=s.addShape("path",{attrs:o})).name="axis-grid",n._id=t._id,n.set("coord",s.get("coord")),s.get("appendInfo")&&n.setSilent("appendInfo",s.get("appendInfo")))})):i.each(t,(function(t,u){s.get("hideFirstLine")&&0===u||s.get("hideLastLine")&&u===l-1||(a=t.points,r=[],i.each(a,(function(t,e){var n=t.radius;0===e?r.push(["M",t.x,t.y]):r.push(["A",n,n,0,0,t.flag,t.x,t.y])})),o=i.mix({},e,{path:r}),(n=s.addShape("path",{attrs:o})).name="axis-grid",n._id=t._id,n.set("coord",s.get("coord")),s.get("appendInfo")&&n.setSilent("appendInfo",s.get("appendInfo")))}))},o._drawZeroLine=function(t,e){var n=this.get("tickValues");return!("line"!==t||!n||0!==n[e]||!this.get("hightLightZero"))},o._drawAlternativeBg=function(t,e,n){var r,o,a,s=this.get("alternateColor");i.isString(s)?o=s:i.isArray(s)&&(o=s[0],a=s[1]),n%2===0?a&&(r=this._getBackItem(e.points,t.points,a)):o&&(r=this._getBackItem(e.points,t.points,o));var u=this.addShape("Path",{attrs:r});u.name="axis-grid-rect",u._id=t._id&&t._id.replace("grid","grid-rect"),u.set("coord",this.get("coord")),this.get("appendInfo")&&u.setSilent("appendInfo",this.get("appendInfo"))},o._getBackItem=function(t,e,n){var r=[],o=this.get("type");if("line"===o)r.push(["M",t[0].x,t[0].y]),r.push(["L",t[t.length-1].x,t[t.length-1].y]),r.push(["L",e[e.length-1].x,e[e.length-1].y]),r.push(["L",e[0].x,e[0].y]),r.push(["Z"]);else if("polygon"===o){i.each(t,(function(t,e){0===e?r.push(["M",t.x,t.y]):r.push(["L",t.x,t.y])}));for(var a=e.length-1;a>=0;a--)r.push(["L",e[a].x,e[a].y]);r.push(["Z"])}else{var s=t[0].flag;i.each(t,(function(t,e){var n=t.radius;0===e?r.push(["M",t.x,t.y]):r.push(["A",n,n,0,0,t.flag,t.x,t.y])}));for(var u=e.length-1;u>=0;u--){var l=e[u],c=l.radius;u===e.length-1?r.push(["M",l.x,l.y]):r.push(["A",c,c,0,0,1===s?0:1,l.x,l.y])}}return{fill:n,path:r}},r}(r);t.exports=o},function(t,e,n){var r=n(3);t.exports={getFirstScale:function(t){var e;return r.each(t,(function(t){if(t)return e=t,!1})),e}}},function(t,e,n){var r=n(3),i=r.DomUtil,o=n(36),a={scatter:n(254),map:n(255),treemap:n(253)},s=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var s=o.prototype;return s.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"label",type:"default",textStyle:null,formatter:null,items:null,useHtml:!1,containerTpl:'<div class="g-labels" style="position:absolute;top:0;left:0;"></div>',itemTpl:'<div class="g-label" style="position:absolute;">{text}</div>',labelLine:!1,lineGroup:null,shapes:null,config:!0,capture:!0})},s.clear=function(){var e=this.get("group"),n=this.get("container");e&&!e.get("destroyed")&&e.clear(),n&&(n.innerHTML=""),t.prototype.clear.call(this)},s.destroy=function(){var e=this.get("group"),n=this.get("container");e.destroy||e.destroy(),n&&n.parentNode&&n.parentNode.removeChild(n),t.prototype.destroy.call(this)},s.render=function(){this.clear(),this._init(),this.beforeDraw(),this.draw(),this.afterDraw()},s._dryDraw=function(){var t=this,e=t.get("items"),n=t.getLabels(),i=n.length;r.each(e,(function(e,r){if(r<i){var o=n[r];t.changeLabel(o,e)}else{var a=t._addLabel(e,r);a&&(a._id=e._id,a.set("coord",e.coord))}}));for(var o=i-1;o>=e.length;o--)n[o].remove();t._adjustLabels(),!t.get("labelLine")&&t.get("config")||t.drawLines()},s.draw=function(){this._dryDraw(),this.get("canvas").draw()},s.changeLabel=function(t,e){if(t)if(t.tagName){var n=this._createDom(e);t.innerHTML=n.innerHTML,this._setCustomPosition(e,t)}else t._id=e._id,t.attr("text",e.text),t.attr("x")===e.x&&t.attr("y")===e.y||(t.resetMatrix(),e.textStyle.rotate&&(t.rotateAtStart(e.textStyle.rotate),delete e.textStyle.rotate),t.attr(e))},s.show=function(){var t=this.get("group"),e=this.get("container");t&&t.show(),e&&(e.style.opacity=1)},s.hide=function(){var t=this.get("group"),e=this.get("container");t&&t.hide(),e&&(e.style.opacity=0)},s.drawLines=function(){var t=this;"boolean"===typeof t.get("labelLine")&&t.set("labelLine",{});var e=t.get("lineGroup");!e||e.get("destroyed")?(e=t.get("group").addGroup({elCls:"x-line-group"}),t.set("lineGroup",e)):e.clear(),r.each(t.get("items"),(function(n){t.lineToLabel(n,e)}))},s.lineToLabel=function(t,e){if(this.get("config")||t.labelLine){var n=t.labelLine||this.get("labelLine"),i="undefined"===typeof t.capture?this.get("capture"):t.capture,o=n.path;if(o&&r.isFunction(n.path)&&(o=n.path(t)),!o){var a=t.start||{x:t.x-t._offset.x,y:t.y-t._offset.y};o=[["M",a.x,a.y],["L",t.x,t.y]]}var s=t.color;s||(s=t.textStyle&&t.textStyle.fill?t.textStyle.fill:"#000");var u=e.addShape("path",{attrs:r.mix({path:o,fill:null,stroke:s},n),capture:i});u.name=this.get("name"),u._id=t._id&&t._id.replace("glabel","glabelline"),u.set("coord",this.get("coord"))}},s._adjustLabels=function(){var t=this.get("type"),e=this.getLabels(),n=this.get("shapes"),r=a[t];"default"!==t&&r&&r(e,n)},s.getLabels=function(){var t=this.get("container");return t?r.toArray(t.childNodes):this.get("group").get("children")},s._addLabel=function(t,e){var n=t;return this.get("config")&&(n=this._getLabelCfg(t,e)),this._createText(n)},s._getLabelCfg=function(t,e){var n=this.get("textStyle")||{},i=this.get("formatter"),o=this.get("htmlTemplate");if(!r.isObject(t)){var a=t;(t={}).text=a}return r.isFunction(n)&&(n=n(t.text,t,e)),i&&(t.text=i(t.text,t,e)),o&&(t.useHtml=!0,r.isFunction(o)&&(t.text=o(t.text,t,e))),r.isNil(t.text)&&(t.text=""),t.text=t.text+"",r.mix({},t,{textStyle:n},{x:t.x||0,y:t.y||0})},s._init=function(){if(!this.get("group")){var t=this.get("canvas").addGroup({id:"label-group"});this.set("group",t)}},s.initHtmlContainer=function(){var t=this.get("container");if(t)r.isString(t)&&(t=document.getElementById(t))&&this.set("container",t);else{var e=this.get("containerTpl"),n=this.get("canvas").get("el").parentNode;t=i.createDom(e),n.style.position="relative",n.appendChild(t),this.set("container",t)}return t},s._createText=function(t){var e,n=r.deepMix({},t),i=this.get("container"),o="undefined"===typeof n.capture?this.get("capture"):n.capture;if(!n.useHtml&&!n.htmlTemplate){var a=this.get("name"),s=n.point,u=this.get("group");delete n.point;var l=n.rotate;return n.textStyle&&(n.textStyle.rotate&&(l=n.textStyle.rotate,delete n.textStyle.rotate),n=r.mix({x:n.x,y:n.y,textAlign:n.textAlign,text:n.text},n.textStyle)),e=u.addShape("text",{attrs:n,capture:o}),l&&(Math.abs(l)>2*Math.PI&&(l=l/180*Math.PI),e.transform([["t",-n.x,-n.y],["r",l],["t",n.x,n.y]])),e.setSilent("origin",s||n),e.name=a,this.get("appendInfo")&&e.setSilent("appendInfo",this.get("appendInfo")),e}i||(i=this.initHtmlContainer());var c=this._createDom(n);i.appendChild(c),this._setCustomPosition(n,c)},s._createDom=function(t){var e=this.get("itemTpl"),n=r.substitute(e,{text:t.text});return i.createDom(n)},s._setCustomPosition=function(t,e){var n=t.textAlign||"left",r=t.y,o=t.x,a=i.getOuterWidth(e);r-=i.getOuterHeight(e)/2,"center"===n?o-=a/2:"right"===n&&(o-=a),e.style.top=parseInt(r,10)+"px",e.style.left=parseInt(o,10)+"px"},o}(o);t.exports=s},function(t,e){var n=function(){function t(){this.bitmap=[]}var e=t.prototype;return e.hasGap=function(t){for(var e=!0,n=this.bitmap,r=Math.floor(t.minX),i=Math.ceil(t.maxX),o=Math.floor(t.minY),a=Math.ceil(t.maxY)-1,s=r;s<i;s++)if(n[s]){if(s===r||s===i-1){for(var u=o;u<=a;u++)if(n[s][u]){e=!1;break}}else if(n[s][o]||n[s][a]){e=!1;break}}else n[s]=[];return e},e.fillGap=function(t){for(var e=this.bitmap,n=Math.floor(t.minX),r=Math.ceil(t.maxX)-1,i=Math.floor(t.minY),o=Math.ceil(t.maxY)-1,a=n;a<=r;a++){for(var s=i;s<o;s+=8)e[a]||(e[a]=[]),e[a][s]=!0;e[a][o]=!0}for(var u=i;u<=o;u++)e[n][u]=!0,e[r][u]=!0},t}();t.exports=n},function(t,e,n){var r=n(3),i=n(36),o=n(19).FONT_FAMILY,a=function(t){var e,n;n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=a.prototype;function a(e){var n;return(n=t.call(this,e)||this)._init(),n.beforeRender(),n.render(),n._adjustPositionOffset(),n._bindEvents(),n}return i.getDefaultCfg=function(){return{container:null,title:null,formatter:null,hoverable:!0,titleGap:15,position:[0,0],offset:[0,0],offsetX:null,offsetY:null}},i._init=function(){var t=this.get("group"),e=this.get("container");this.set("canvas",e.get("canvas"));var n=this.get("position");t||(t=e.addGroup({x:0-n[0],y:0-n[1]})),this.set("group",t)},i._adjustPositionOffset=function(){var t=this.get("position"),e=this.get("offset"),n=this.get("offsetX"),i=this.get("offsetY");r.isArray(e)||(e="vertical"===this.get("layout")?[e,0]:[0,e]),n&&(e[0]=n),i&&(e[1]=i);var o=this.get("group").getBBox();this.move(-o.minX+t[0]+e[0],-o.minY+t[1]+e[1])},i.beforeRender=function(){var t=this.get("group").addGroup();this.set("itemsGroup",t)},i.render=function(){this._renderTitle()},i._renderTitle=function(){var t=this.get("title"),e=this.get("titleGap");if(e=e||0,t&&t.text){var n=this.get("group").addShape("text",{attrs:r.mix({x:0,y:0-e,fill:"#333",textBaseline:"middle",fontFamily:o},t)});n.name="legend-title",this.get("appendInfo")&&n.setSilent("appendInfo",this.get("appendInfo")),this.set("titleShape",n)}},i.getCheckedCount=function(){var t=this.get("itemsGroup").get("children");return r.filter(t,(function(t){return t.get("checked")})).length},i.setItems=function(t){this.set("items",t),this.clear(),this.render()},i.addItem=function(t){this.get("items").push(t),this.clear(),this.render()},i.clear=function(){this.get("itemsGroup").clear(),this.get("group").clear(),this.beforeRender()},i.destroy=function(){var e=this.get("group");e&&e.destroy(),this._attrs={},this.removeAllListeners(),t.prototype.destroy.call(this)},i.getWidth=function(){return this.get("group").getBBox().width},i.getHeight=function(){return this.get("group").getBBox().height},i.move=function(t,e){this.get("group").move(t,e)},i.draw=function(){this.get("canvas").draw()},a}(i);t.exports=a},function(t,e,n){var r=n(3),i=n(114),o=n(19).FONT_FAMILY,a=r.DomUtil,s=r.Group,u="g2-legend-list",l="g2-legend-list-item",c="g2-legend-marker";function h(t,e){return t.getElementsByClassName(e)[0]}function f(t,e){var n=t.className;return r.isNil(n)||(n=n.split(" ")).indexOf(e)>-1?t:t.parentNode?"g2-legend"===t.parentNode.className?t.parentNode:f(t.parentNode,e):null}function p(t,e){var n=null,i=e instanceof s?e.get("value"):e;return r.each(t,(function(t){if(t.value===i)return n=t,!1})),n}var d=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var s=i.prototype;return s.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"category-legend",container:null,containerTpl:'<div class="g2-legend"><h4 class="g2-legend-title"></h4><ul class="g2-legend-list"></ul></div>',itemTpl:'<li class="'+l+' item-{index} {checked}" data-color="{originColor}" data-value="{originValue}"><i class="'+c+'" style="background-color:{color};"></i><span class="g2-legend-text">{value}</span></li>',legendStyle:{},textStyle:{fill:"#333",fontSize:12,textAlign:"middle",textBaseline:"top",fontFamily:o},abridgeText:!1,tipTpl:'<div class="textTip"></div>',tipStyle:{display:"none",fontSize:"12px",backgroundColor:"#fff",position:"absolute",width:"auto",height:"auto",padding:"3px",boxShadow:"2px 2px 5px #888"},autoPosition:!0})},s._init=function(){},s.beforeRender=function(){},s.render=function(){this._renderHTML()},s._bindEvents=function(){var t=this,e=h(this.get("legendWrapper"),u);this.get("hoverable")&&(e.onmousemove=function(e){return t._onMousemove(e)},e.onmouseout=function(e){return t._onMouseleave(e)}),this.get("clickable")&&(e.onclick=function(e){return t._onClick(e)})},s._onMousemove=function(t){var e=this.get("items"),n=t.target,r=n.className;if(!((r=r.split(" ")).indexOf("g2-legend")>-1||r.indexOf(u)>-1)){var i=f(n,l),o=p(e,i.getAttribute("data-value"));o?(this.deactivate(),this.activate(i.getAttribute("data-value")),this.emit("itemhover",{item:o,currentTarget:i,checked:o.checked})):o||(this.deactivate(),this.emit("itemunhover",t))}},s._onMouseleave=function(t){this.deactivate(),this.emit("itemunhover",t)},s._onClick=function(t){var e=this,n=h(this.get("legendWrapper"),u),i=this.get("unCheckColor"),o=this.get("items"),a=this.get("selectedMode"),s=n.childNodes,d=t.target,v=d.className;if(!((v=v.split(" ")).indexOf("g2-legend")>-1||v.indexOf(u)>-1)){var g=f(d,l),y=h(g,"g2-legend-text"),m=h(g,c),_=p(o,g.getAttribute("data-value"));if(_){var b=g.className,w=g.getAttribute("data-color");if("single"===a)_.checked=!0,r.each(s,(function(t){t!==g?(h(t,c).style.backgroundColor=i,t.className=t.className.replace("checked","unChecked"),t.style.color=i,p(o,t.getAttribute("data-value")).checked=!1):(y&&(y.style.color=e.get("textStyle").fill),m&&(m.style.backgroundColor=w),g.className=b.replace("unChecked","checked"))}));else{var x=-1!==b.indexOf("checked"),E=0;if(r.each(s,(function(t){-1!==t.className.indexOf("checked")&&E++})),!this.get("allowAllCanceled")&&x&&1===E)return void this.emit("clicklastitem",{item:_,currentTarget:g,checked:"single"===a||_.checked});_.checked=!_.checked,x?(m&&(m.style.backgroundColor=i),g.className=b.replace("checked","unChecked"),g.style.color=i):(m&&(m.style.backgroundColor=w),g.className=b.replace("unChecked","checked"),g.style.color=this.get("textStyle").fill)}this.emit("itemclick",{item:_,currentTarget:g,checked:"single"===a||_.checked})}}},s.activate=function(t){var e=this,n=this,r=n.get("items"),i=p(r,t);h(n.get("legendWrapper"),u).childNodes.forEach((function(t){var o=h(t,c),a=p(r,t.getAttribute("data-value"));if(e.get("highlight")){if(a===i&&a.checked)return void(o.style.border="1px solid #333")}else a===i?o.style.opacity=n.get("activeOpacity"):a.checked&&(o.style.opacity=n.get("inactiveOpacity"))}))},s.deactivate=function(){var t=this,e=this;h(e.get("legendWrapper"),u).childNodes.forEach((function(n){var r=h(n,c);t.get("highlight")?r.style.border="1px solid #fff":r.style.opacity=e.get("inactiveOpacity")}))},s._renderHTML=function(){var t=this,e=this.get("container"),n=this.get("title"),i=this.get("containerTpl"),s=a.createDom(i),f=h(s,"g2-legend-title"),p=h(s,u),d=this.get("unCheckColor"),v=r.deepMix({},{CONTAINER_CLASS:{height:"auto",width:"auto",position:"absolute",overflowY:"auto",fontSize:"12px",fontFamily:o,lineHeight:"20px",color:"#8C8C8C"},TITLE_CLASS:{marginBottom:this.get("titleGap")+"px",fontSize:"12px",color:"#333",textBaseline:"middle",fontFamily:o},LIST_CLASS:{listStyleType:"none",margin:0,padding:0,textAlign:"center"},LIST_ITEM_CLASS:{cursor:"pointer",marginBottom:"5px",marginRight:"24px"},MARKER_CLASS:{width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"4px",verticalAlign:"middle"}},this.get("legendStyle"));if(/^\#/.test(e)||"string"===typeof e&&e.constructor===String){var g=e.replace("#","");(e=document.getElementById(g)).appendChild(s)}else{var y=this.get("position"),m={};m="left"===y||"right"===y?{maxHeight:(this.get("maxLength")||e.offsetHeight)+"px"}:{maxWidth:(this.get("maxLength")||e.offsetWidth)+"px"},a.modifyCSS(s,r.mix({},v.CONTAINER_CLASS,m,this.get("g2-legend"))),e.appendChild(s)}a.modifyCSS(p,r.mix({},v.LIST_CLASS,this.get(u))),f&&(n&&n.text?(f.innerHTML=n.text,a.modifyCSS(f,r.mix({},v.TITLE_CLASS,this.get("g2-legend-title"),n))):s.removeChild(f));var _=this.get("items"),b=this.get("itemTpl"),w=this.get("position"),x=this.get("layout"),E="right"===w||"left"===w||"vertical"===x?"block":"inline-block",S=r.mix({},v.LIST_ITEM_CLASS,{display:E},this.get(l)),C=r.mix({},v.MARKER_CLASS,this.get(c));if(r.each(_,(function(e,n){var i,o=e.checked,u=t._formatItemValue(e.value),l=e.marker.fill||e.marker.stroke,f=o?l:d;i=r.isFunction(b)?b(u,f,o,n):b;var v=r.substitute(i,r.mix({},e,{index:n,checked:o?"checked":"unChecked",value:u,color:f,originColor:l,originValue:e.value.replace(/\"/g,"&quot;")})),g=a.createDom(v);g.style.color=t.get("textStyle").fill;var y=h(g,c),m=h(g,"g2-legend-text");if(a.modifyCSS(g,S),y&&a.modifyCSS(y,C),o||(g.style.color=d,y&&(y.style.backgroundColor=d)),p.appendChild(g),t.get("abridgeText")){var _=u,w=g.offsetWidth,x=t.get("textStyle").fontSize;isNaN(x)&&(-1!==x.indexOf("pt")?x=1*parseFloat(x.substr(0,x.length-2))/72*96:-1!==x.indexOf("px")&&(x=parseFloat(x.substr(0,x.length-2))));var E=x*_.length,k=Math.floor(w/x);w<2*x?_="":w<E&&k>1&&(_=_.substr(0,k-1)+"..."),m.innerText=_,g.addEventListener("mouseover",(function(){var t=h(s.parentNode,"textTip");t.style.display="block",t.style.left=g.offsetLeft+g.offsetWidth+"px",t.style.top=g.offsetTop+15+"px",t.innerText=u})),g.addEventListener("mouseout",(function(){h(s.parentNode,"textTip").style.display="none"}))}})),this.get("abridgeText")){var k=this.get("tipTpl"),T=a.createDom(k),I=this.get("tipStyle");a.modifyCSS(T,I),s.parentNode.appendChild(T),T.addEventListener("mouseover",(function(){T.style.display="none"}))}this.set("legendWrapper",s)},s._adjustPositionOffset=function(){if(!1!==this.get("autoPosition")){var t=this.get("position"),e=this.get("offset"),n=this.get("offsetX"),r=this.get("offsetY");n&&(e[0]=n),r&&(e[1]=r);var i=this.get("legendWrapper");i.style.left=t[0]+"px",i.style.top=t[1]+"px",i.style.marginLeft=e[0]+"px",i.style.marginTop=e[1]+"px"}},s.getWidth=function(){return a.getOuterWidth(this.get("legendWrapper"))},s.getHeight=function(){return a.getOuterHeight(this.get("legendWrapper"))},s.move=function(e,n){/^\#/.test(this.get("container"))?t.prototype.move.call(this,e,n):(a.modifyCSS(this.get("legendWrapper"),{left:e+"px",top:n+"px"}),this.set("x",e),this.set("y",n))},s.destroy=function(){var e=this.get("legendWrapper");e&&e.parentNode&&e.parentNode.removeChild(e),t.prototype.destroy.call(this)},i}(i);t.exports=d},function(t,e,n){var r=n(3),i=n(112),o=n(19).FONT_FAMILY,a=r.Event,s=r.Group;function u(t,e){var n=null,i=e instanceof s||"legendGroup"===e.name?e.get("value"):e;return r.each(t,(function(t){if(t.value===i)return n=t,!1})),n}function l(t,e){return t.findBy((function(t){return t.name===e}))}var c=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var s=i.prototype;return s.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"category-legend",items:null,itemGap:5,itemMarginBottom:8,itemsGroup:null,layout:"horizontal",allowAllCanceled:!1,backPadding:[0,0,0,0],unCheckColor:"#ccc",background:{fill:"#fff",fillOpacity:0},itemWidth:null,textStyle:{fill:"#333",fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:o},_wordSpaceing:8,clickable:!0,selectedMode:"multiple",reversed:!1,autoWrap:!0,highlight:!1,activeOpacity:.7,inactiveOpacity:1})},s.render=function(){t.prototype.render.call(this),this._renderItems(),this.get("autoWrap")&&this._adjustItems()},s._bindEvents=function(){this.get("hoverable")&&(this.get("group").on("mousemove",r.wrapBehavior(this,"_onMousemove")),this.get("group").on("mouseleave",r.wrapBehavior(this,"_onMouseleave"))),this.get("clickable")&&this.get("group").on("click",r.wrapBehavior(this,"_onClick"))},s._getLegendItem=function(t){var e=t.get("parent");return e&&"legendGroup"===e.name?e:null},s.activate=function(t){var e=this,n=this,r=n.get("itemsGroup").get("children"),i=void 0;r.forEach((function(r){if(i=l(r,"legend-marker")){var o=r.get("checked");e.get("highlight")?r.get("value")===t&&o?i.attr("stroke","#333"):i.attr("stroke",null):r.get("value")===t&&i.attr("fillOpacity",n.get("activeOpacity"))}})),this.get("canvas").draw()},s.deactivate=function(){var t=this,e=this,n=e.get("itemsGroup").get("children"),r=void 0,i=this.get("unCheckColor");n.forEach((function(n){if(r=l(n,"legend-marker"))if(t.get("highlight")){var o=r.get("oriStroke"),a=n.get("checked");o=o&&!a?i:"",r.attr("stroke",o)}else r.attr("fillOpacity",e.get("inactiveOpacity"))})),this.get("canvas").draw()},s._onMousemove=function(t){var e=this._getLegendItem(t.currentTarget);if(e&&e.get("checked")){var n=this.get("items"),r=new a("itemhover",t,!0,!0);r.item=u(n,e),r.checked=e.get("checked"),r.currentTarget=t.currentTarget,this.deactivate(),this.activate(e.get("value")),this.emit("itemhover",r)}else this.deactivate(),this.emit("itemunhover",t);this.get("canvas").draw()},s._onMouseleave=function(t){this.deactivate(),this.get("canvas").draw(),this.emit("itemunhover",t)},s._onClick=function(t){var e=this._getLegendItem(t.currentTarget),n=this.get("items");if(e&&!e.get("destroyed")){var i=e.get("checked"),o=this.get("selectedMode"),s=u(n,e),c=new a("itemclick",t,!0,!0);if(c.item=s,c.currentTarget=e,c.appendInfo=t.currentTarget.get("appendInfo"),c.checked="single"===o||!i,!this.get("allowAllCanceled")&&i&&1===this.getCheckedCount())return void this.emit("clicklastitem",c);var h=this.get("unCheckColor"),f=this.get("textStyle").fill,p=void 0,d=void 0,v=void 0;if("single"===o){var g=this.get("itemsGroup").get("children");r.each(g,(function(t){p=l(t,"legend-marker"),d=l(t,"legend-text"),v=l(t,"legend-item"),t!==e?(p.attr("fill")&&p.attr("fill",h),p.attr("stroke")&&p.attr("stroke",h),d.attr("fill",h),p.setSilent("checked",!1),d.setSilent("checked",!1),v.setSilent("checked",!1),t.setSilent("checked",!1)):(p.attr("fill")&&s&&s.marker&&p.attr("fill",s.marker.fill),p.attr("stroke")&&s&&s.marker&&p.attr("stroke",s.marker.stroke),d.attr("fill",f),p.setSilent("checked",!0),d.setSilent("checked",!0),v.setSilent("checked",!0),t.setSilent("checked",!0))}))}else p=l(e,"legend-marker"),d=l(e,"legend-text"),v=l(e,"legend-item"),p.attr("fill")&&s&&s.marker&&p.attr("fill",i?h:s.marker.fill),p.attr("stroke")&&s&&s.marker&&p.attr("stroke",i?h:s.marker.stroke),d.attr("fill",i?h:f),e.setSilent("checked",!i),p.setSilent("checked",!i),d.setSilent("checked",!i),v.setSilent("checked",!i);this.emit("itemclick",c)}this.get("canvas").draw()},s._renderItems=function(){var t=this,e=this.get("items");if(this.get("reversed")&&e.reverse(),r.each(e,(function(e,n){t._addItem(e,n)})),this.get("highlight")){var n=this.get("itemsGroup").get("children"),i=void 0;n.forEach((function(t){(i=l(t,"legend-marker")).get("oriStroke")||(i.attr("stroke")?i.set("oriStroke",i.attr("stroke")):i.set("oriStroke",""))}))}},s._formatItemValue=function(t){var e=this.get("formatter")||this.get("itemFormatter");return e&&(t=e.call(this,t)),t},s._getNextX=function(){var t=this.get("layout"),e=this.get("itemGap"),n=this.get("itemsGroup"),i=this.get("itemWidth"),o=n.get("children"),a=0;return"horizontal"===t&&r.each(o,(function(t){a+=(i||t.getBBox().width)+e})),a},s._getNextY=function(){var t=this.get("itemMarginBottom"),e=this.get("titleShape")?this.get("titleGap"):0,n=this.get("layout"),i=this.get("itemsGroup"),o=this.get("titleShape"),a=i.get("children"),s=e;return o&&(s+=o.getBBox().height),"vertical"===n&&r.each(a,(function(e){s+=e.getBBox().height+t})),s},s._addItem=function(t){var e=this.get("itemsGroup"),n=this._getNextX(),i=this._getNextY(),a=this.get("unCheckColor"),s=e.addGroup({x:n,y:i,value:t.value,checked:t.checked});s.set("viewId",this.get("viewId"));var u=this.get("textStyle"),l=this.get("_wordSpaceing"),c=0;if(t.marker){var h=r.mix({},t.marker,{x:t.marker.radius+n,y:i});t.checked||(h.fill&&(h.fill=a),h.stroke&&(h.stroke=a));var f=s.addShape("marker",{type:"marker",attrs:h});f.attr("cursor","pointer"),f.name="legend-marker",c+=f.getBBox().width+l}var p=r.mix({},{fill:"#333",fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:o},u,{x:c+n,y:i,text:this._formatItemValue(t.value)});t.checked||r.mix(p,{fill:a});var d=s.addShape("text",{attrs:p});d.attr("cursor","pointer"),d.name="legend-text",this.get("appendInfo")&&d.setSilent("appendInfo",this.get("appendInfo"));var v=s.getBBox(),g=this.get("itemWidth"),y=s.addShape("rect",{attrs:{x:n,y:i-v.height/2,fill:"#fff",fillOpacity:0,width:g||v.width,height:v.height}});return y.attr("cursor","pointer"),y.setSilent("origin",t),y.name="legend-item",this.get("appendInfo")&&y.setSilent("appendInfo",this.get("appendInfo")),s.name="legendGroup",s},s._adjustHorizontal=function(){var t=this.get("itemsGroup"),e=t.get("children"),n=this.get("maxLength"),i=this.get("itemGap"),o=this.get("itemMarginBottom"),a=this.get("titleShape")?this.get("titleGap"):0,s=0,u=0,l=void 0,c=void 0,h=void 0,f=this.get("itemWidth");t.getBBox().width>n&&r.each(e,(function(t){h=t.getBBox(),l=f||h.width,c=h.height+o,n-u<l&&(s++,u=0),t.move(u,s*c+a),u+=l+i}))},s._adjustVertical=function(){var t=this.get("itemsGroup"),e=this.get("titleShape"),n=t.get("children"),i=this.get("maxLength"),o=this.get("itemGap"),a=this.get("itemMarginBottom"),s=this.get("titleGap"),u=e?e.getBBox().height+s:0,l=this.get("itemWidth"),c=u,h=void 0,f=void 0,p=void 0,d=0,v=0;t.getBBox().height>i&&r.each(n,(function(t){p=t.getBBox(),h=p.width,f=p.height,l?d=l+o:h>d&&(d=h+o),i-c<f?(c=u,v+=d,t.move(v,u)):t.move(v,c),c+=f+a}))},s._adjustItems=function(){"horizontal"===this.get("layout")?this._adjustHorizontal():this._adjustVertical()},s.getWidth=function(){return t.prototype.getWidth.call(this)},s.getHeight=function(){return t.prototype.getHeight.call(this)},s.move=function(e,n){t.prototype.move.call(this,e,n)},i}(i);t.exports=c},function(t,e,n){function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var i=n(31),o=n(116),a=n(117),s=n(118),u=n(68),l=n(3),c=n(19).FONT_FAMILY,h=l.DomUtil,f=l.MatrixUtil,p=function(t){var e,n;n=t,(e=p).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var u=p.prototype;function p(e){var n;n=t.call(this,e)||this,l.assign(r(n),s),l.assign(r(n),a);var i=n.get("crosshairs");if(i){var u="rect"===i.type?n.get("backPlot"):n.get("frontPlot"),c=new o(l.mix({plot:u,plotRange:n.get("plotRange"),canvas:n.get("canvas")},n.get("crosshairs")));c.hide(),n.set("crosshairGroup",c)}return n._init_(),n.get("items")&&n.render(),n}return u.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return l.mix({},e,{boardStyle:{x:0,y:0,width:100,height:100,fill:"rgba(255, 255, 255, 0.9)",radius:4,stroke:"#e2e2e2",lineWidth:1},titleStyle:{fontFamily:c,text:"",textBaseline:"top",fontSize:12,fill:"rgb(87, 87, 87)",lineHeight:20,padding:20},markerStyle:{radius:4},nameStyle:{fontFamily:c,fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:8},valueStyle:{fontFamily:c,fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:30},padding:{top:20,right:20,bottom:20,left:20},itemGap:10,animationDuration:200})},u._init_=function(){var t=this.get("padding"),e=this.get("frontPlot"),n=e.addGroup({capture:!1});this.set("markerGroup",n);var r=e.addGroup();r.hide(),this.set("container",r);var i=r.addShape("rect",{attrs:l.mix({},this.get("boardStyle"))});this.set("board",i);var o=this.get("titleStyle");if(this.get("showTitle")){var a=r.addShape("text",{attrs:l.mix({x:t.left,y:t.top},o)});this.set("titleShape",a),a.name="tooltip-title"}var s=r.addGroup();s.move(t.left,t.top+o.lineHeight+o.padding),this.set("itemsGroup",s)},u.render=function(){var t=this;t.clear();var e=t.get("container"),n=t.get("board"),r=t.get("showTitle"),i=t.get("titleContent"),o=this.get("titleShape"),a=this.get("itemsGroup"),s=t.get("items"),u=t.get("padding");if(o&&r&&o.attr("text",i),a){var c=t.get("itemGap"),h=0;l.each(s,(function(e){var n=t._addItem(e);n.move(0,h),a.add(n);var r=n.getBBox().height;h+=r+c}))}var f=e.getBBox(),p=f.width+u.right,d=f.height+u.bottom;n.attr("width",p),n.attr("height",d),t._alignToRight(p)},u.clear=function(){var t=this.get("titleShape"),e=this.get("itemsGroup"),n=this.get("board");t.text="",e.clear(),n.attr("width",0),n.attr("height",0)},u.show=function(){this.get("container").show();var e=this.get("crosshairGroup");e&&e.show();var n=this.get("markerGroup");n&&n.show(),t.prototype.show.call(this),this.get("canvas").draw()},u.hide=function(){this.get("container").hide();var e=this.get("crosshairGroup");e&&e.hide();var n=this.get("markerGroup");n&&n.hide(),t.prototype.hide.call(this),this.get("canvas").draw()},u.destroy=function(){var e=this.get("container"),n=this.get("crosshairGroup");n&&n.destroy();var r=this.get("markerGroup");r&&r.remove(),t.prototype.destroy.call(this),e.remove()},u.setPosition=function(e,n,r){var i,o=this.get("container"),a=this.get("canvas").get("el"),s=h.getWidth(a),u=h.getHeight(a),c=o.getBBox(),p=c.width,d=c.height,v=e,g=n;if(this.get("position")){var y=c.width,m=c.height;e=(i=this._calcTooltipPosition(e,n,this.get("position"),y,m,r))[0],n=i[1]}else e=(i=this._constraintPositionInBoundary(e,n,p,d,s,u))[0],n=i[1];if(this.get("inPlot")){var _=this.get("plotRange");e=(i=this._constraintPositionInPlot(e,n,p,d,_,this.get("enterable")))[0],n=i[1]}var b=this.get("markerItems");l.isEmpty(b)||(v=b[0].x,g=b[0].y);var w=f.transform([1,0,0,0,1,0,0,0,1],[["t",e,n]]);o.stopAnimate(),o.animate({matrix:w},this.get("animationDuration"));var x=this.get("crosshairGroup");if(x){var E=this.get("items");x.setPosition(v,g,E)}t.prototype.setPosition.call(this,e,n)},u._addItem=function(t){var e=new i.Group,n=this.get("markerStyle").radius;if(t.marker){var r=l.mix({},t.marker,{x:t.marker.radius/2,y:0,symbol:t.marker.activeSymbol||t.marker.symbol});e.addShape("marker",{attrs:r}),n=t.marker.radius}var o=this.get("nameStyle");e.addShape("text",{attrs:l.mix({x:n+o.padding,y:0,text:t.name},o)});var a=this.get("valueStyle");return e.addShape("text",{attrs:l.mix({x:e.getBBox().width+a.padding,y:0,text:t.value},a)}),e},u._alignToRight=function(t){var e=this,n=this.get("itemsGroup").get("children");l.each(n,(function(n){var r=n.get("children")[2],i=r.getBBox().width,o=t-i-2*e.get("padding").right;r.attr("x",o)}))},p}(u);t.exports=p},function(t,e,n){var r=n(36),i=n(3),o=function(t){var e,n;n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=o.prototype;function o(e){var n;return(n=t.call(this,e)||this)._init_(),n.render(),n}return r.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return i.mix({},e,{type:null,plot:null,plotRange:null,rectStyle:{fill:"#CCD6EC",opacity:.3},lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1},isTransposed:!1})},r._init_=function(){var t,e=this.get("plot");t="rect"===this.type?e.addGroup({zIndex:0}):e.addGroup(),this.set("container",t)},r._addLineShape=function(t,e){var n=this.get("container").addShape("line",{capture:!1,attrs:t});return this.set("crossLineShape"+e,n),n},r._renderHorizontalLine=function(t,e){var n=i.mix(this.get("lineStyle"),this.get("style")),r=i.mix({x1:e?e.bl.x:t.get("width"),y1:0,x2:e?e.br.x:0,y2:0},n);this._addLineShape(r,"X")},r._renderVerticalLine=function(t,e){var n=i.mix(this.get("lineStyle"),this.get("style")),r=i.mix({x1:0,y1:e?e.bl.y:t.get("height"),x2:0,y2:e?e.tl.y:0},n);this._addLineShape(r,"Y")},r._renderBackground=function(t,e){var n=i.mix(this.get("rectStyle"),this.get("style")),r=this.get("container"),o=i.mix({x:e?e.tl.x:0,y:e?e.tl.y:t.get("height"),width:e?e.br.x-e.bl.x:t.get("width"),height:e?Math.abs(e.tl.y-e.bl.y):t.get("height")},n),a=r.addShape("rect",{attrs:o,capture:!1});return this.set("crosshairsRectShape",a),a},r._updateRectShape=function(t){var e,n=this.get("crosshairsRectShape"),r=this.get("isTransposed"),o=t[0],a=t[t.length-1],s=r?"y":"x",u=r?"height":"width",l=o[s];if(t.length>1&&o[s]>a[s]&&(l=a[s]),this.get("width"))n.attr(s,l-this.get("crosshairs").width/2),n.attr(u,this.get("width"));else if(i.isArray(o.point[s])&&!o.size){var c=o.point[s][1]-o.point[s][0];n.attr(s,o.point[s][0]),n.attr(u,c)}else e=3*o.size/4,n.attr(s,l-e),1===t.length?n.attr(u,3*o.size/2):n.attr(u,Math.abs(a[s]-o[s])+2*e)},r.render=function(){var t=this.get("canvas"),e=this.get("plotRange"),n=this.get("isTransposed");switch(this.clear(),this.get("type")){case"x":this._renderHorizontalLine(t,e);break;case"y":this._renderVerticalLine(t,e);break;case"cross":this._renderHorizontalLine(t,e),this._renderVerticalLine(t,e);break;case"rect":this._renderBackground(t,e);break;default:n?this._renderHorizontalLine(t,e):this._renderVerticalLine(t,e)}},r.show=function(){var e=this.get("container");t.prototype.show.call(this),e.show()},r.hide=function(){var e=this.get("container");t.prototype.hide.call(this),e.hide()},r.clear=function(){var e=this.get("container");this.set("crossLineShapeX",null),this.set("crossLineShapeY",null),this.set("crosshairsRectShape",null),t.prototype.clear.call(this),e.clear()},r.destroy=function(){var e=this.get("container");t.prototype.destroy.call(this),e.remove()},r.setPosition=function(t,e,n){var r=this.get("crossLineShapeX"),i=this.get("crossLineShapeY"),o=this.get("crosshairsRectShape");i&&!i.get("destroyed")&&i.move(t,0),r&&!r.get("destroyed")&&r.move(0,e),o&&!o.get("destroyed")&&this._updateRectShape(n)},o}(r);t.exports=o},function(t,e,n){var r=n(3),i={setMarkers:function(t,e){var n=this.get("markerGroup"),i=this.get("frontPlot");n?n.clear():(n=i.addGroup({zIndex:1,capture:!1}),this.set("markerGroup",n)),r.each(t,(function(t){var i=r.mix({fill:t.color,symbol:"circle",shadowColor:t.color},e,{x:t.x,y:t.y});t.marker&&t.marker.activeSymbol&&(i.symbol=t.marker.activeSymbol),n.addShape("marker",{color:t.color,attrs:i})})),this.set("markerItems",t)},clearMarkers:function(){var t=this.get("markerGroup");t&&t.clear()}};t.exports=i},function(t,e){var n={_calcTooltipPosition:function(t,e,n,r,i,o){var a=0,s=0,u=20;if(o){var l=o.getBBox();a=l.width,s=l.height,t=l.x,e=l.y,u=5}switch(n){case"inside":t=t+a/2-r/2,e=e+s/2-i/2;break;case"top":t=t+a/2-r/2,e=e-i-u;break;case"left":t=t-r-u,e=e+s/2-i/2;break;case"right":t=t+a+u,e=e+s/2-i/2;break;case"bottom":default:t=t+a/2-r/2,e=e+s+u}return[t,e]},_constraintPositionInBoundary:function(t,e,n,r,i,o){return t+n+20>i?t=(t-=n+20)<0?0:t:t+20<0?t=20:t+=20,e+r+20>o?e=(e-=r+20)<0?0:e:e+20<0?e=20:e+=20,[t,e]},_constraintPositionInPlot:function(t,e,n,r,i,o){return t+n>i.tr.x&&(t-=o?n+1:n+40),t<i.tl.x&&(t=i.tl.x),o||(e+r>i.bl.y&&(e-=r+40),e<i.tl.y&&(e=i.tl.y)),[t,e]}};t.exports=n},function(t,e,n){var r=n(0),i=n(270),o={appear:{duration:450,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut",delay:100},leave:{duration:350,easing:"easeQuadIn"}},a={line:{appear:function(){return i.appear.clipIn},enter:function(){return i.enter.clipIn},leave:function(){return i.leave.lineWidthOut}},path:{appear:function(){return i.appear.clipIn},enter:function(){return i.enter.clipIn},leave:function(){return i.leave.lineWidthOut}},area:{appear:function(){return i.appear.clipIn},enter:function(){return i.enter.fadeIn},leave:function(){return i.leave.fadeOut},cfg:{appear:{duration:500,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:600,delay:150,easing:"easeQuadInOut"},leave:{easing:"easeQuadOut",duration:350}}},polygon:{appear:function(){return i.appear.zoomIn},enter:function(){return i.enter.zoomIn},leave:function(){return i.leave.zoomOut}},edge:{appear:function(){return i.appear.pathIn},enter:function(){return i.enter.pathIn},leave:function(){return i.leave.pathOut}},interval:{appear:function(t){var e;return t.isPolar?(e=i.appear.zoomIn,(t.isTransposed||"theta"===t.type)&&(e=i.appear.fanIn)):e=t.isRect?t.isTransposed?i.appear.scaleInX:i.appear.scaleInY:i.appear.zoomIn,e},enter:function(t){return t.isRect||t.isTransposed||"theta"===t.type?i.enter.fadeIn:i.enter.zoomIn},leave:function(){return i.leave.fadeOut},update:function(t){if("theta"===t.type)return i.update.fanIn}},point:{appear:function(){return i.appear.zoomIn},enter:function(){return i.enter.zoomIn},leave:function(){return i.leave.zoomOut}},schema:{appear:function(){return i.appear.clipIn},enter:function(){return i.enter.clipIn},leave:function(){return i.leave.lineWidthOut}},contour:null,heatmap:null,label:{appear:function(){return i.appear.fadeIn},enter:function(){return i.enter.fadeIn},leave:function(){return i.leave.fadeOut},cfg:{appear:{duration:900}}},"axis-label":{enter:function(){return i.appear.fadeIn},leave:function(){return i.leave.fadeOut},update:function(t){if(t.isPolar)return i.appear.fadeIn}},"axis-ticks":{enter:function(){return i.appear.fadeIn},leave:function(){return i.leave.fadeOut},update:function(t){if(t.isPolar)return i.appear.fadeIn}},"axis-grid":{enter:function(){return i.appear.fadeIn},leave:function(){return i.leave.fadeOut},update:function(t){if(t.isPolar)return i.appear.fadeIn}},"axis-grid-rect":{enter:function(){return i.appear.fadeIn},leave:function(){return i.leave.fadeOut},update:function(){return i.leave.fadeIn}},labelLine:{appear:function(){return i.appear.pathIn},enter:function(){return i.enter.pathIn},leave:function(){return i.leave.pathOut}}};a.Action=i,a.defaultCfg=o,a.getAnimation=function(t,e,n){var i=this[t];if(i){var o=i[n];if(r.isFunction(o))return o(e)}return!1},a.getAnimateCfg=function(t,e){var n=o[e];return this[t]&&this[t].cfg&&this[t].cfg[e]?r.deepMix({},n,this[t].cfg[e]):n},a.registerAnimation=function(t,e,n){this.Action[t]||(this.Action[t]={}),this.Action[t][e]=n},t.exports=a},function(t,e,n){var r=n(105),i=n(0),o=function(t){var e,n;n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=o.prototype;function o(e){var n,r={visible:!0},o=(n=t.call(this)||this).getDefaultCfg();return n._attrs=r,i.assign(r,o,e),n}return r.getDefaultCfg=function(){return{}},r.get=function(t){return this._attrs[t]},r.set=function(t,e){this._attrs[t]=e},r.show=function(){this.get("visible")||(this.set("visible",!0),this.changeVisible(!0))},r.hide=function(){this.get("visible")&&(this.set("visible",!1),this.changeVisible(!1))},r.changeVisible=function(){},r.destroy=function(){this._attrs={},this.removeAllListeners(),this.destroyed=!0},o}(r);t.exports=o},function(t,e,n){t.exports={Scale:n(277),Coord:n(273),Axis:n(272),Guide:n(275),Legend:n(276),Tooltip:n(278),Event:n(274)}},function(t,e,n){var r=n(16),i=n(0),o=n(123);function a(t,e,n){void 0===n&&(n=1);var r=[t.x,t.y,n];return i.vec3.transformMat3(r,r,e),{x:r[0],y:r[1]}}t.exports=function(t,e){var n=e;return i.each(t.get("children"),(function(t){t instanceof r.Group&&i.each(t.get("children"),(function(t){if(t instanceof r.Group&&t.get("children").length||t instanceof r.Path)n=o(n,t.getBBox());else if(t instanceof r.Text){var e=function(t){var e=t.getBBox(),n={x:e.minX,y:e.minY},r={x:e.maxX,y:e.maxY},i=t.attr("matrix");return n=a(n,i),r=a(r,i),{minX:n.x,minY:n.y,maxX:r.x,maxY:r.y}}(t);n=o(n,e)}}))})),n}},function(t,e){t.exports=function(t,e){return{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}}},function(t,e){t.exports=function(t){return{minX:t.tl.x,minY:t.tl.y,maxX:t.br.x,maxY:t.br.y}}},function(t,e,n){var r=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="list",e.cols=null,e},i.generateFacets=function(t){var e=this,n=e.fields[0];if(!n)throw"Please specify for the field for facet!";var r=e.getFieldValues(n,t),i=r.length,o=e.cols||i,a=parseInt((i+o-1)/o),s=[];return r.forEach((function(u,l){var c=parseInt(l/o),h=l%o,f=[{field:n,value:u,values:r}],p=e.getFilter(f),d=t.filter(p),v={type:e.type,count:i,colValue:u,colField:n,rowField:null,rowValue:u,colIndex:h,rowIndex:c,cols:o,rows:a,data:d,region:e.getRegion(a,o,h,c)};s.push(v)})),s},i.setXAxis=function(t,e,n){n.rowIndex!==n.rows-1&&n.cols*n.rowIndex+n.colIndex+1+n.cols<=n.count&&(e[t].label=null,e[t].title=null)},i.setYAxis=function(t,e,n){0!==n.colIndex&&(e[t].title=null,e[t].label=null)},r}(n(46));t.exports=r},function(t,e,n){var r=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="rect",e},i.generateFacets=function(t){var e=this,n=e.fields,r=[],i=1,o=1,a=n[0],s=n[1],u=[""],l=[""];return a&&(u=e.getFieldValues(a,t),o=u.length),s&&(l=e.getFieldValues(s,t),i=l.length),u.forEach((function(n,c){l.forEach((function(h,f){var p=[{field:a,value:n,values:u},{field:s,value:h,values:l}],d=e.getFilter(p),v=t.filter(d),g={type:e.type,colValue:n,rowValue:h,colField:a,rowField:s,colIndex:c,rowIndex:f,cols:o,rows:i,data:v,region:e.getRegion(i,o,c,f)};r.push(g)}))})),r},i.setXAxis=function(t,e,n){n.rowIndex!==n.rows-1?(e[t].title=null,e[t].label=null):n.colIndex!==parseInt((n.cols-1)/2)&&(e[t].title=null)},i.setYAxis=function(t,e,n){0!==n.colIndex?(e[t].title=null,e[t].label=null):n.rowIndex!==parseInt((n.rows-1)/2)&&(e[t].title=null)},i.renderTitle=function(t,e){0===e.rowIndex&&this.drawColTitle(t,e),e.colIndex===e.cols-1&&this.drawRowTitle(t,e)},r}(n(46));t.exports=r},function(t,e,n){var r=n(69),i=n(25),o=n(0),a=function t(e){t.superclass.constructor.call(this,e)};o.extend(a,r),o.augment(a,{getPointRauis:function(t,e){return i.getPointRadius(t,e)},getCirclePoint:function(t,e,n){var r=this.get("coord"),i=r.getCenter(),o=this._isEmitLabels(),a=this.getPointRauis(r,n);return 0===a?null:(r.isTransposed&&a>e&&!o?t+=2*Math.asin(e/(2*a)):a+=e,{x:i.x+a*Math.cos(t),y:i.y+a*Math.sin(t),angle:t,r:a})},getArcPoint:function(t,e){var n;return e=e||0,n=o.isArray(t.x)||o.isArray(t.y)?{x:o.isArray(t.x)?t.x[e]:t.x,y:o.isArray(t.y)?t.y[e]:t.y}:t,this.transLabelPoint(n),n},getPointAngle:function(t){var e=this.get("coord");return i.getPointAngle(e,t)},getMiddlePoint:function(t){var e=this.get("coord"),n=t.length,r={x:0,y:0};return o.each(t,(function(t){r.x+=t.x,r.y+=t.y})),r.x/=n,r.y/=n,r=e.convert(r)},_isToMiddle:function(t){return t.x.length>2},getLabelPoint:function(t,e,n){var r,i=t.text[n],o=1;this._isToMiddle(e)?r=this.getMiddlePoint(e.points):(1===t.text.length&&0===n?n=1:0===n&&(o=-1),r=this.getArcPoint(e,n));var a=this.getDefaultOffset(t);a*=o;var s=this.getPointAngle(r),u=this.getCirclePoint(s,a,r);if(u?(u.text=i,u.angle=s,u.color=e.color):u={text:""},t.autoRotate||"undefined"===typeof t.autoRotate){var l=u.textStyle?u.textStyle.rotate:null;l||(l=u.rotate||this.getLabelRotate(s,a,e)),u.rotate=l}return u.start={x:r.x,y:r.y},u},_isEmitLabels:function(){return this.get("label").labelEmit},getLabelRotate:function(t){var e;return e=180*t/Math.PI,e+=90,this._isEmitLabels()&&(e-=90),e&&(e>90?e-=180:e<-90&&(e+=180)),e/180*Math.PI},getLabelAlign:function(t){var e,n=this.get("coord");if(this._isEmitLabels())e=t.angle<=Math.PI/2&&t.angle>-Math.PI/2?"left":"right";else if(n.isTransposed){var r=n.getCenter(),i=this.getDefaultOffset(t);e=Math.abs(t.x-r.x)<1?"center":t.angle>Math.PI||t.angle<=0?i>0?"left":"right":i>0?"right":"left"}else e="center";return e}}),t.exports=a},function(t,e,n){var r=n(0),i=n(5);t.exports={splitData:function(t){var e=this.get("viewTheme")||i;if(!t.length)return[];var n,o=[],a=[],s=this.getYScale().field;return r.each(t,(function(t){n=t._origin?t._origin[s]:t[s],e.connectNulls?r.isNil(n)||a.push(t):r.isArray(n)&&r.isNil(n[0])||r.isNil(n)?a.length&&(o.push(a),a=[]):a.push(t)})),a.length&&o.push(a),o}}},function(t,e){t.exports={toFront:function(t){var e=t.get("parent").get("children").indexOf(t);t.set("_originIndex",e),t.toFront()},resetZIndex:function(t){var e=t.get("parent"),n=t.get("_originIndex"),r=e.get("children"),i=r.indexOf(t);n>=0&&n!==i&&(r.splice(i,1),r.splice(n,0,t))}}},function(t,e,n){var r=n(8),i=n(128),o=n(0),a=function(t){var e,n;n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=a.prototype;function a(e){var n;return n=t.call(this,e)||this,o.assign(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n),i),n}return r.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="path",e.shapeType="line",e},r.getDrawCfg=function(e){var n=t.prototype.getDrawCfg.call(this,e);return n.isStack=this.hasStack(),n},r.draw=function(t,e,n,r){var i=this,a=this.splitData(t),s=this.getDrawCfg(t[0]);i._applyViewThemeShapeStyle(s,s.shape,n),s.origin=t,o.each(a,(function(t,a){if(!o.isEmpty(t)){s.splitedIndex=a,s.points=t;var u=n.drawShape(s.shape,s,e);i.appendShapeInfo(u,r+a)}}))},a}(r);r.Path=a,t.exports=a},function(t,e){var n,r,i='"-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"',o={defaultColor:"#1890FF",plotCfg:{padding:[20,20,95,80]},fontFamily:i,defaultLegendPosition:"bottom",colors:["#1890FF","#2FC25B","#FACC14","#223273","#8543E0","#13C2C2","#3436C7","#F04864"],colors_16:["#1890FF","#41D9C7","#2FC25B","#FACC14","#E6965C","#223273","#7564CC","#8543E0","#5C8EE6","#13C2C2","#5CA3E6","#3436C7","#B381E6","#F04864","#D598D9"],colors_24:["#1890FF","#66B5FF","#41D9C7","#2FC25B","#6EDB8F","#9AE65C","#FACC14","#E6965C","#57AD71","#223273","#738AE6","#7564CC","#8543E0","#A877ED","#5C8EE6","#13C2C2","#70E0E0","#5CA3E6","#3436C7","#8082FF","#DD81E6","#F04864","#FA7D92","#D598D9"],colors_pie:["#1890FF","#13C2C2","#2FC25B","#FACC14","#F04864","#8543E0","#3436C7","#223273"],colors_pie_16:["#1890FF","#73C9E6","#13C2C2","#6CD9B3","#2FC25B","#9DD96C","#FACC14","#E6965C","#F04864","#D66BCA","#8543E0","#8E77ED","#3436C7","#737EE6","#223273","#7EA2E6"],shapes:{point:["hollowCircle","hollowSquare","hollowDiamond","hollowBowtie","hollowTriangle","hollowHexagon","cross","tick","plus","hyphen","line"],line:["line","dash","dot"],area:["area"]},sizes:[1,10],opacities:[.1,.9],axis:{top:{position:"top",title:null,label:{offset:16,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:i},autoRotate:!0},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0}},bottom:{position:"bottom",title:null,label:{offset:16,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:i}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0}},left:{position:"left",title:null,label:{offset:8,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:i}},line:null,tickLine:null,grid:{zIndex:-1,lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},right:{position:"right",title:null,label:{offset:8,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:i}},line:null,tickLine:null,grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},circle:{zIndex:1,title:null,label:{offset:8,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,fontFamily:i}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0},grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},radius:{zIndex:0,label:{offset:12,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",lineHeight:16,fontFamily:i}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0},grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},type:"circle"}},helix:{grid:null,label:null,title:null,line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,length:4,stroke:"#BFBFBF",alignWithLabel:!0}}},label:{offset:20,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",fontFamily:i}},treemapLabels:{offset:10,textStyle:{fill:"#fff",fontSize:12,textBaseline:"top",fontStyle:"bold",fontFamily:i}},innerLabels:{textStyle:{fill:"#fff",fontSize:12,textBaseline:"middle",fontFamily:i}},thetaLabels:{labelHeight:14,offset:30},legend:{right:{position:"right",layout:"vertical",itemMarginBottom:8,width:16,height:156,title:null,legendStyle:{LIST_CLASS:{textAlign:"left"}},textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:0,fontFamily:i},unCheckColor:"#bfbfbf"},left:{position:"left",layout:"vertical",itemMarginBottom:8,width:16,height:156,title:null,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:i},unCheckColor:"#bfbfbf"},top:{position:"top",offset:[0,6],layout:"horizontal",title:null,itemGap:10,width:156,height:16,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:i},unCheckColor:"#bfbfbf"},bottom:{position:"bottom",offset:[0,6],layout:"horizontal",title:null,itemGap:10,width:156,height:16,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:i},unCheckColor:"#bfbfbf"},html:(n={},n["g2-legend"]={height:"auto",width:"auto",position:"absolute",overflow:"auto",fontSize:"12px",fontFamily:i,lineHeight:"20px",color:"#8C8C8C"},n["g2-legend-title"]={marginBottom:"4px"},n["g2-legend-list"]={listStyleType:"none",margin:0,padding:0},n["g2-legend-list-item"]={listStyleType:"none",cursor:"pointer",marginBottom:"5px",marginRight:"24px"},n["g2-legend-marker"]={width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"8px",verticalAlign:"middle"},n),gradient:{textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"center",textBaseline:"middle",lineHeight:20,fontFamily:i},lineStyle:{lineWidth:1,stroke:"#fff"},unCheckColor:"#bfbfbf"},margin:[0,5,24,5],legendMargin:24},tooltip:(r={useHtml:!0,crosshairs:!1,offset:15,marker:{symbol:"circle",activeSymbol:"circle"}},r["g2-tooltip"]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:i,lineHeight:"20px",padding:"10px 10px 6px 10px"},r["g2-tooltip-title"]={marginBottom:"4px"},r["g2-tooltip-list"]={margin:0,listStyleType:"none",padding:0},r["g2-tooltip-list-item"]={listStyleType:"none",marginBottom:"4px",padding:0,marginTop:0,marginLeft:0,marginRight:0},r["g2-tooltip-marker"]={width:"5px",height:"5px",display:"inline-block",marginRight:"8px"},r["g2-tooltip-value"]={display:"inline-block",float:"right",marginLeft:"30px"},r),tooltipMarker:{symbol:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,radius:4},tooltipCrosshairsRect:{type:"rect",rectStyle:{fill:"#CCD6EC",opacity:.3}},tooltipCrosshairsLine:{lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1}},shape:{point:{lineWidth:1,fill:"#1890FF",radius:4},hollowPoint:{fill:"#fff",lineWidth:1,stroke:"#1890FF",radius:3},interval:{lineWidth:0,fill:"#1890FF",fillOpacity:.85},hollowInterval:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},area:{lineWidth:0,fill:"#1890FF",fillOpacity:.6},polygon:{lineWidth:0,fill:"#1890FF",fillOpacity:1},hollowPolygon:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},hollowArea:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},line:{stroke:"#1890FF",lineWidth:2,fill:null},edge:{stroke:"#1890FF",lineWidth:1,fill:null},schema:{stroke:"#1890FF",lineWidth:1,fill:null}},guide:{line:{lineStyle:{stroke:"rgba(0, 0, 0, .65)",lineDash:[2,2],lineWidth:1},text:{position:"start",autoRotate:!0,style:{fill:"rgba(0, 0, 0, .45)",fontSize:12,textAlign:"start",fontFamily:i,textBaseline:"bottom"}}},text:{style:{fill:"rgba(0,0,0,.5)",fontSize:12,textBaseline:"middle",textAlign:"start",fontFamily:i}},region:{style:{lineWidth:0,fill:"#000",fillOpacity:.04}},html:{alignX:"middle",alignY:"middle"},dataRegion:{style:{region:{lineWidth:0,fill:"#000000",opacity:.04},text:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}},dataMarker:{top:!0,style:{point:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2},line:{stroke:"#A3B1BF",lineWidth:1},text:{fill:"rgba(0, 0, 0, .65)",opacity:1,fontSize:12,textAlign:"start"}},display:{point:!0,line:!0,text:!0},lineLength:20,direction:"upward",autoAdjust:!0}},pixelRatio:null};t.exports=o},function(t,e,n){var r={default:n(131),dark:n(327)};t.exports=r},function(t,e,n){var r=n(1),i=n(330),o=n(333),a=n(329),s=n(105),u=function(t){this._cfg={zIndex:0,capture:!0,visible:!0,destroyed:!1},r.assign(this._cfg,this.getDefaultCfg(),t),this.initAttrs(this._cfg.attrs),this._cfg.attrs={},this.initTransform(),this.init()};u.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:!0,context:null,visible:!0,destroyed:!1},r.augment(u,i,o,s,a,{init:function(){this.setSilent("animable",!0),this.setSilent("animating",!1)},getParent:function(){return this._cfg.parent},getDefaultCfg:function(){return{}},set:function(t,e){return"zIndex"===t&&this._beforeSetZIndex&&this._beforeSetZIndex(e),"loading"===t&&this._beforeSetLoading&&this._beforeSetLoading(e),this._cfg[t]=e,this},setSilent:function(t,e){this._cfg[t]=e},get:function(t){return this._cfg[t]},show:function(){return this._cfg.visible=!0,this},hide:function(){return this._cfg.visible=!1,this},remove:function(t,e){var n=this._cfg,i=n.parent,o=n.el;return i&&r.remove(i.get("children"),this),o&&(e?i&&i._cfg.tobeRemoved.push(o):o.parentNode.removeChild(o)),(t||void 0===t)&&this.destroy(),this},destroy:function(){this.get("destroyed")||(this._attrs=null,this.removeEvent(),this._cfg={destroyed:!0})},toFront:function(){var t=this._cfg,e=t.parent;if(e){var n=e._cfg.children,r=t.el,i=n.indexOf(this);n.splice(i,1),n.push(this),r&&(r.parentNode.removeChild(r),t.el=null)}},toBack:function(){var t=this._cfg,e=t.parent;if(e){var n=e._cfg.children,r=t.el,i=n.indexOf(this);if(n.splice(i,1),n.unshift(this),r){var o=r.parentNode;o.removeChild(r),o.insertBefore(r,o.firstChild)}}},_beforeSetZIndex:function(t){var e=this._cfg.parent;this._cfg.zIndex=t,r.isNil(e)||e.sort();var n=this._cfg.el;if(n){var i=e._cfg.children,o=i.indexOf(this),a=n.parentNode;a.removeChild(n),o===i.length-1?a.appendChild(n):a.insertBefore(n,a.childNodes[o])}return t},_setAttrs:function(t){return this.attr(t),t},setZIndex:function(t){return this._cfg.zIndex=t,this._beforeSetZIndex(t)},clone:function(){return r.clone(this)},getBBox:function(){}}),t.exports=u},function(t,e,n){var r=n(1),i=n(133),o=n(347),a={};function s(t,e,n){for(var r,i=t.length-1;i>=0;i--){var o=t[i];if(o._cfg.visible&&o._cfg.capture&&(o.isGroup?r=o.getShape(e,n):o.isHit(e,n)&&(r=o)),r)break}return r}var u=function t(e){t.superclass.constructor.call(this,e),this.set("children",[]),this.set("tobeRemoved",[]),this._beforeRenderUI(),this._renderUI(),this._bindUI()};r.extend(u,i),r.augment(u,{isGroup:!0,type:"group",canFill:!0,canStroke:!0,getDefaultCfg:function(){return function t(e){if(!e._cfg&&e!==u){var n=e.superclass.constructor;n&&!n._cfg&&t(n),e._cfg={},r.merge(e._cfg,n._cfg),r.merge(e._cfg,e.CFG)}}(this.constructor),r.merge({},this.constructor._cfg)},_beforeRenderUI:function(){},_renderUI:function(){},_bindUI:function(){},addShape:function(t,e){var n=this.get("canvas");e=e||{};var i=a[t];if(i||(i=r.upperFirst(t),a[t]=i),e.attrs&&n){var s=e.attrs;if("text"===t){var u=n.get("fontFamily");u&&(s.fontFamily=s.fontFamily?s.fontFamily:u)}}e.canvas=n,e.type=t;var l=new o[i](e);return this.add(l),l},addGroup:function(t,e){var n,i=this.get("canvas");if(e=r.merge({},e),r.isFunction(t))e?(e.canvas=i,e.parent=this,n=new t(e)):n=new t({canvas:i,parent:this}),this.add(n);else if(r.isObject(t))t.canvas=i,n=new u(t),this.add(n);else{if(void 0!==t)return!1;n=new u,this.add(n)}return n},renderBack:function(t,e){var n=this.get("backShape"),i=this.getBBox();return r.merge(e,{x:i.minX-t[3],y:i.minY-t[0],width:i.width+t[1]+t[3],height:i.height+t[0]+t[2]}),n?n.attr(e):n=this.addShape("rect",{zIndex:-1,attrs:e}),this.set("backShape",n),this.sort(),n},removeChild:function(t,e){if(arguments.length>=2)this.contain(t)&&t.remove(e);else{if(1===arguments.length){if(!r.isBoolean(t))return this.contain(t)&&t.remove(!0),this;e=t}0===arguments.length&&(e=!0),u.superclass.remove.call(this,e)}return this},add:function(t){var e=this,n=e.get("children");if(r.isArray(t))r.each(t,(function(t){var n=t.get("parent");n&&n.removeChild(t,!1),e._setCfgProperty(t)})),e._cfg.children=n.concat(t);else{var i=t,o=i.get("parent");o&&o.removeChild(i,!1),e._setCfgProperty(i),n.push(i)}return e},_setCfgProperty:function(t){var e=this._cfg;t.set("parent",this),t.set("canvas",e.canvas),e.timeline&&t.set("timeline",e.timeline)},contain:function(t){return this.get("children").indexOf(t)>-1},getChildByIndex:function(t){return this.get("children")[t]},getFirst:function(){return this.getChildByIndex(0)},getLast:function(){var t=this.get("children").length-1;return this.getChildByIndex(t)},getBBox:function(){var t=1/0,e=-1/0,n=1/0,i=-1/0,o=this.get("children");o.length>0?r.each(o,(function(r){if(r.get("visible")){if(r.isGroup&&0===r.get("children").length)return;var o=r.getBBox();if(!o)return!0;var a=[o.minX,o.minY,1],s=[o.minX,o.maxY,1],u=[o.maxX,o.minY,1],l=[o.maxX,o.maxY,1];r.apply(a),r.apply(s),r.apply(u),r.apply(l);var c=Math.min(a[0],s[0],u[0],l[0]),h=Math.max(a[0],s[0],u[0],l[0]),f=Math.min(a[1],s[1],u[1],l[1]),p=Math.max(a[1],s[1],u[1],l[1]);c<t&&(t=c),h>e&&(e=h),f<n&&(n=f),p>i&&(i=p)}})):(t=0,e=0,n=0,i=0);var a={minX:t,minY:n,maxX:e,maxY:i};return a.x=a.minX,a.y=a.minY,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},getCount:function(){return this.get("children").length},sort:function(){var t,e=this.get("children");return r.each(e,(function(t,e){return t._INDEX=e,t})),e.sort((t=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(e,n){var r=t(e,n);return 0===r?e._INDEX-n._INDEX:r})),this},findById:function(t){return this.find((function(e){return e.get("id")===t}))},find:function(t){if(r.isString(t))return this.findById(t);var e=this.get("children"),n=null;return r.each(e,(function(e){if(t(e)?n=e:e.find&&(n=e.find(t)),n)return!1})),n},findAll:function(t){var e=this.get("children"),n=[],i=[];return r.each(e,(function(e){t(e)&&n.push(e),e.findAllBy&&(i=e.findAllBy(t),n=n.concat(i))})),n},findBy:function(t){var e=this.get("children"),n=null;return r.each(e,(function(e){if(t(e)?n=e:e.findBy&&(n=e.findBy(t)),n)return!1})),n},findAllBy:function(t){var e=this.get("children"),n=[],i=[];return r.each(e,(function(e){t(e)&&n.push(e),e.findAllBy&&(i=e.findAllBy(t),n=n.concat(i))})),n},getShape:function(t,e){var n,r=this._attrs.clip,i=this._cfg.children;if(r){var o=[t,e,1];r.invert(o,this.get("canvas")),r.isPointInPath(o[0],o[1])&&(n=s(i,t,e))}else n=s(i,t,e);return n},clearTotalMatrix:function(){if(this.get("totalMatrix")){this.setSilent("totalMatrix",null);for(var t=this._cfg.children,e=0;e<t.length;e++)t[e].clearTotalMatrix()}},clear:function(t){for(var e=this._cfg.children,n=e.length-1;n>=0;n--)e[n].remove(!0,t);return this._cfg.children=[],this},destroy:function(){this.get("destroyed")||(this.clear(),u.superclass.destroy.call(this))},clone:function(){var t=this._cfg.children,e=new u;return r.each(t,(function(t){e.add(t.clone())})),e}}),t.exports=u},function(t,e,n){var r=n(1),i=function(t,e,n,r){this.type=t,this.target=null,this.currentTarget=null,this.bubbles=n,this.cancelable=r,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.removed=!1,this.event=e};r.augment(i,{preventDefault:function(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function(){this.propagationStopped=!0},remove:function(){this.remove=!0},clone:function(){return r.clone(this)},toString:function(){return"[Event (type="+this.type+")]"}}),t.exports=i},function(t,e,n){var r=n(1),i=n(7),o=n(47),a=n(49);function s(t,e,n){return t+e*Math.cos(n)}function u(t,e,n){return t+e*Math.sin(n)}var l=function t(e){t.superclass.constructor.call(this,e)};l.ATTRS={x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1},r.extend(l,i),r.augment(l,{canStroke:!0,type:"arc",getDefaultAttrs:function(){return{x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.r,i=t.startAngle,a=t.endAngle,s=t.clockwise,u=this.getHitLineWidth()/2,l=o.box(e,n,r,i,a,s);return l.minX-=u,l.minY-=u,l.maxX+=u,l.maxY+=u,l},getStartTangent:function(){var t=this._attrs,e=t.x,n=t.y,r=t.startAngle,i=t.r,o=t.clockwise,a=Math.PI/180;o&&(a*=-1);var l=[],c=s(e,i,r+a),h=u(n,i,r+a),f=s(e,i,r),p=u(n,i,r);return l.push([c,h]),l.push([f,p]),l},getEndTangent:function(){var t=this._attrs,e=t.x,n=t.y,r=t.endAngle,i=t.r,o=t.clockwise,a=Math.PI/180,l=[];o&&(a*=-1);var c=s(e,i,r+a),h=u(n,i,r+a),f=s(e,i,r),p=u(n,i,r);return l.push([f,p]),l.push([c,h]),l},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,i=e.r,o=e.startAngle,a=e.endAngle,s=e.clockwise;(t=t||self.get("context")).beginPath(),t.arc(n,r,i,o,a,s)},afterPath:function(t){var e=this._attrs;if(t=t||this.get("context"),e.startArrow){var n=this.getStartTangent();a.addStartArrow(t,e,n[0][0],n[0][1],n[1][0],n[1][1])}if(e.endArrow){var r=this.getEndTangent();a.addEndArrow(t,e,r[0][0],r[0][1],r[1][0],r[1][1])}}}),t.exports=l},function(t,e,n){var r=n(1),i=n(7),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,r:0,lineWidth:1},r.extend(o,i),r.augment(o,{canFill:!0,canStroke:!0,type:"circle",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.r,i=this.getHitLineWidth()/2+r;return{minX:e-i,minY:n-i,maxX:e+i,maxY:n+i}},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,i=e.r;t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!1),t.closePath()}}),t.exports=o},function(t,e,n){var r=n(1),i=n(7),o=function t(e){t.superclass.constructor.call(this,e)};r.extend(o,i),r.augment(o,{canFill:!0,canStroke:!0,type:"dom",calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.width,i=t.height,o=this.getHitLineWidth()/2;return{minX:e-o,minY:n-o,maxX:e+r+o,maxY:n+i+o}}}),t.exports=o},function(t,e,n){var r=n(1),i=n(7),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1},r.extend(o,i),r.augment(o,{canFill:!0,canStroke:!0,type:"ellipse",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.rx,i=t.ry,o=this.getHitLineWidth(),a=r+o/2,s=i+o/2;return{minX:e-a,minY:n-s,maxX:e+a,maxY:n+s}},createPath:function(t){var e=this._attrs,n=e.x,i=e.y,o=e.rx,a=e.ry;t=t||self.get("context");var s=o>a?o:a,u=o>a?1:o/a,l=o>a?a/o:1,c=[1,0,0,0,1,0,0,0,1];r.mat3.scale(c,c,[u,l]),r.mat3.translate(c,c,[n,i]),t.beginPath(),t.save(),t.transform(c[0],c[1],c[3],c[4],c[6],c[7]),t.arc(0,0,s,0,2*Math.PI),t.restore(),t.closePath()}}),t.exports=o},function(t,e,n){var r=n(1),i=n(7),o=n(47),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1},r.extend(a,i),r.augment(a,{canFill:!0,canStroke:!0,type:"fan",getDefaultAttrs:function(){return{clockwise:!1,lineWidth:1,rs:0,re:0}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.rs,i=t.re,a=t.startAngle,s=t.endAngle,u=t.clockwise,l=this.getHitLineWidth(),c=o.box(e,n,r,a,s,u),h=o.box(e,n,i,a,s,u),f=l/2;return{minX:Math.min(c.minX,h.minX)-f,minY:Math.min(c.minY,h.minY)-f,maxX:Math.max(c.maxX,h.maxX)+f,maxY:Math.max(c.maxY,h.maxY)+f}},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,i=e.rs,o=e.re,a=e.startAngle,s=e.endAngle,u=e.clockwise,l={x:Math.cos(a)*i+n,y:Math.sin(a)*i+r},c={x:Math.cos(a)*o+n,y:Math.sin(a)*o+r},h={x:Math.cos(s)*i+n,y:Math.sin(s)*i+r};(t=t||self.get("context")).beginPath(),t.moveTo(l.x,l.y),t.lineTo(c.x,c.y),t.arc(n,r,o,a,s,u),t.lineTo(h.x,h.y),t.arc(n,r,i,s,a,!u),t.closePath()}}),t.exports=a},function(t,e,n){var r=n(1),i=n(7),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,img:void 0,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null},r.extend(o,i),r.augment(o,{type:"image",isHitBox:function(){return!1},calculateBox:function(){var t=this._attrs;this._cfg.attrs&&this._cfg.attrs.img===t.img||this._setAttrImg();var e=t.x,n=t.y;return{minX:e,minY:n,maxX:e+t.width,maxY:n+t.height}},_beforeSetLoading:function(t){var e=this.get("canvas");return!1===t&&!0===this.get("toDraw")&&(this._cfg.loading=!1,e.draw()),t},_setAttrImg:function(){var t=this,e=t._attrs,n=e.img;if(!r.isString(n))return n instanceof Image?(e.width||t.attr("width",n.width),e.height||t.attr("height",n.height),n):n instanceof HTMLElement&&r.isString(n.nodeName)&&"CANVAS"===n.nodeName.toUpperCase()?(e.width||t.attr("width",Number(n.getAttribute("width"))),e.height||t.attr("height",Number(n.getAttribute("height"))),n):n instanceof ImageData?(e.width||t.attr("width",n.width),e.height||t.attr("height",n.height),n):null;var i=new Image;i.onload=function(){if(t.get("destroyed"))return!1;t.attr("imgSrc",n),t.attr("img",i);var e=t.get("callback");e&&e.call(t),t.set("loading",!1)},i.src=n,i.crossOrigin="Anonymous",t.set("loading",!0)},drawInner:function(t){this._cfg.hasUpdate&&this._setAttrImg(),this.get("loading")?this.set("toDraw",!0):(this._drawImage(t),this._cfg.hasUpdate=!1)},_drawImage:function(t){var e=this._attrs,n=e.x,i=e.y,o=e.img,a=e.width,s=e.height,u=e.sx,l=e.sy,c=e.swidth,h=e.sheight;this.set("toDraw",!1);var f=o;if(f instanceof ImageData&&((f=new Image).src=o),f instanceof Image||f instanceof HTMLElement&&r.isString(f.nodeName)&&"CANVAS"===f.nodeName.toUpperCase()){if(r.isNil(u)||r.isNil(l)||r.isNil(c)||r.isNil(h))return void t.drawImage(f,n,i,a,s);if(!r.isNil(u)&&!r.isNil(l)&&!r.isNil(c)&&!r.isNil(h))return void t.drawImage(f,u,l,c,h,n,i,a,s)}}}),t.exports=o},function(t,e,n){var r=n(1),i=n(7),o=n(49),a=n(48),s=function t(e){t.superclass.constructor.call(this,e)};s.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,startArrow:!1,endArrow:!1},r.extend(s,i),r.augment(s,{canStroke:!0,type:"line",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=t.x1,n=t.y1,r=t.x2,i=t.y2,o=this.getHitLineWidth();return a.box(e,n,r,i,o)},createPath:function(t){var e=this._attrs,n=e.x1,r=e.y1,i=e.x2,o=e.y2;(t=t||self.get("context")).beginPath(),t.moveTo(n,r),t.lineTo(i,o)},afterPath:function(t){var e=this._attrs,n=e.x1,r=e.y1,i=e.x2,a=e.y2;t=t||this.get("context"),e.startArrow&&o.addStartArrow(t,e,i,a,n,r),e.endArrow&&o.addEndArrow(t,e,n,r,i,a)},getPoint:function(t){var e=this._attrs;return{x:a.at(e.x1,e.x2,t),y:a.at(e.y1,e.y2,t)}}}),t.exports=s},function(t,e){t.exports={xAt:function(t,e,n,r,i){return e*Math.cos(t)*Math.cos(i)-n*Math.sin(t)*Math.sin(i)+r},yAt:function(t,e,n,r,i){return e*Math.sin(t)*Math.cos(i)+n*Math.cos(t)*Math.sin(i)+r},xExtrema:function(t,e,n){return Math.atan(-n/e*Math.tan(t))},yExtrema:function(t,e,n){return Math.atan(n/(e*Math.tan(t)))}}},function(t,e,n){var r=n(1),i=r.vec2;function o(t,e,n,r){var i=1-r;return i*(i*t+2*r*e)+r*r*n}function a(t,e,n,r,a,s,u,l,c){var h,f,p,d,v,g,y,m=.005,_=1/0,b=[u,l];for(v=0;v<1;v+=.05)p=[o(t,n,a,v),o(e,r,s,v)],(f=i.squaredDistance(b,p))<_&&(h=v,_=f);for(_=1/0,y=0;y<32&&!(m<1e-4);y++){var w=h-m,x=h+m;p=[o(t,n,a,w),o(e,r,s,w)],f=i.squaredDistance(b,p),w>=0&&f<_?(h=w,_=f):(d=[o(t,n,a,x),o(e,r,s,x)],g=i.squaredDistance(b,d),x<=1&&g<_?(h=x,_=g):m*=.5)}return c&&(c.x=o(t,n,a,h),c.y=o(e,r,s,h)),Math.sqrt(_)}t.exports={at:o,projectPoint:function(t,e,n,r,i,o,s,u){var l={};return a(t,e,n,r,i,o,s,u,l),l},pointDistance:a,extrema:function(t,e,n){var i=t+n-2*e;if(r.isNumberEqual(i,0))return[.5];var o=(t-e)/i;return o<=1&&o>=0?[o]:[]}}},function(t,e,n){var r=n(1),i=n(7),o=n(50),a=n(37),s=n(49),u=n(77),l=n(75),c=function t(e){t.superclass.constructor.call(this,e)};c.ATTRS={path:null,lineWidth:1,startArrow:!1,endArrow:!1},r.extend(c,i),r.augment(c,{canFill:!0,canStroke:!0,type:"path",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},_afterSetAttrPath:function(t){if(r.isNil(t))return this.setSilent("segments",null),void this.setSilent("box",void 0);var e,n=a.parsePath(t),i=[];if(r.isArray(n)&&0!==n.length&&("M"===n[0][0]||"m"===n[0][0])){for(var s=n.length,u=0;u<n.length;u++){var l=n[u];e=new o(l,e,u===s-1),i.push(e)}this.setSilent("segments",i),this.setSilent("tCache",null),this.setSilent("box",null)}},calculateBox:function(){var t=this.get("segments");if(!t)return null;var e=this.getHitLineWidth(),n=1/0,i=-1/0,o=1/0,a=-1/0;return r.each(t,(function(t){t.getBBox(e);var r=t.box;r&&(r.minX<n&&(n=r.minX),r.maxX>i&&(i=r.maxX),r.minY<o&&(o=r.minY),r.maxY>a&&(a=r.maxY))})),n===1/0||o===1/0?{minX:0,minY:0,maxX:0,maxY:0}:{minX:n,minY:o,maxX:i,maxY:a}},_setTcache:function(){var t,e,n,i,o=0,a=0,s=[],u=this._cfg.curve;u&&(r.each(u,(function(t,e){n=u[e+1],i=t.length,n&&(o+=l.len(t[i-2],t[i-1],n[1],n[2],n[3],n[4],n[5],n[6]))})),r.each(u,(function(r,c){n=u[c+1],i=r.length,n&&((t=[])[0]=a/o,e=l.len(r[i-2],r[i-1],n[1],n[2],n[3],n[4],n[5],n[6]),a+=e,t[1]=a/o,s.push(t))})),this._cfg.tCache=s)},_calculateCurve:function(){var t=this._attrs.path;this._cfg.curve=u.pathTocurve(t)},getStartTangent:function(){var t,e,n,i,o=this.get("segments");if(o.length>1)if(t=o[0].endPoint,e=o[1].endPoint,n=o[1].startTangent,i=[],r.isFunction(n)){var a=n();i.push([t.x-a[0],t.y-a[1]]),i.push([t.x,t.y])}else i.push([e.x,e.y]),i.push([t.x,t.y]);return i},getEndTangent:function(){var t,e,n,i,o=this.get("segments"),a=o.length;if(a>1)if(t=o[a-2].endPoint,e=o[a-1].endPoint,n=o[a-1].endTangent,i=[],r.isFunction(n)){var s=n();i.push([e.x-s[0],e.y-s[1]]),i.push([e.x,e.y])}else i.push([t.x,t.y]),i.push([e.x,e.y]);return i},getPoint:function(t){var e,n,i=this._cfg.tCache;i||(this._calculateCurve(),this._setTcache(),i=this._cfg.tCache);var o=this._cfg.curve;if(!i)return o?{x:o[0][1],y:o[0][2]}:null;r.each(i,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)}));var a=o[n];if(r.isNil(a)||r.isNil(n))return null;var s=a.length,u=o[n+1];return{x:l.at(a[s-2],u[1],u[3],u[5],1-e),y:l.at(a[s-1],u[2],u[4],u[6],1-e)}},createPath:function(t){var e=this.get("segments");if(r.isArray(e)){(t=t||this.get("context")).beginPath();for(var n=e.length,i=0;i<n;i++)e[i].draw(t)}},afterPath:function(t){var e=this._attrs,n=this.get("segments"),i=e.path;if(t=t||this.get("context"),r.isArray(n)&&1!==n.length&&(e.startArrow||e.endArrow)&&"z"!==i[i.length-1]&&"Z"!==i[i.length-1]&&!e.fill){var o=this.getStartTangent();s.addStartArrow(t,e,o[0][0],o[0][1],o[1][0],o[1][1]);var a=this.getEndTangent();s.addEndArrow(t,e,a[0][0],a[0][1],a[1][0],a[1][1])}}}),t.exports=c},function(t,e,n){var r=n(1),i=n(7),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={points:null,lineWidth:1},r.extend(o,i),r.augment(o,{canFill:!0,canStroke:!0,type:"polygon",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs.points,e=this.getHitLineWidth();if(!t||0===t.length)return null;var n=1/0,i=1/0,o=-1/0,a=-1/0;r.each(t,(function(t){var e=t[0],r=t[1];e<n&&(n=e),e>o&&(o=e),r<i&&(i=r),r>a&&(a=r)}));var s=e/2;return{minX:n-s,minY:i-s,maxX:o+s,maxY:a+s}},createPath:function(t){var e=this._attrs.points;e.length<2||((t=t||this.get("context")).beginPath(),r.each(e,(function(e,n){0===n?t.moveTo(e[0],e[1]):t.lineTo(e[0],e[1])})),t.closePath())}}),t.exports=o},function(t,e,n){var r=n(1),i=n(7),o=n(49),a=n(48),s=function t(e){t.superclass.constructor.call(this,e)};s.ATTRS={points:null,lineWidth:1,startArrow:!1,endArrow:!1,tCache:null},r.extend(s,i),r.augment(s,{canStroke:!0,type:"polyline",tCache:null,getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=this.getHitLineWidth(),n=t.points;if(!n||0===n.length)return null;var i=1/0,o=1/0,a=-1/0,s=-1/0;r.each(n,(function(t){var e=t[0],n=t[1];e<i&&(i=e),e>a&&(a=e),n<o&&(o=n),n>s&&(s=n)}));var u=e/2;return{minX:i-u,minY:o-u,maxX:a+u,maxY:s+u}},_setTcache:function(){var t,e,n=this._attrs.points,i=0,o=0,s=[];n&&0!==n.length&&(r.each(n,(function(t,e){n[e+1]&&(i+=a.len(t[0],t[1],n[e+1][0],n[e+1][1]))})),i<=0||(r.each(n,(function(r,u){n[u+1]&&((t=[])[0]=o/i,e=a.len(r[0],r[1],n[u+1][0],n[u+1][1]),o+=e,t[1]=o/i,s.push(t))})),this.tCache=s))},createPath:function(t){var e,n,r=this._attrs.points;if(!(r.length<2)){for((t=t||this.get("context")).beginPath(),t.moveTo(r[0][0],r[0][1]),n=1,e=r.length-1;n<e;n++)t.lineTo(r[n][0],r[n][1]);t.lineTo(r[e][0],r[e][1])}},getStartTangent:function(){var t=this.__attrs.points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},getEndTangent:function(){var t=this.__attrs.points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},afterPath:function(t){var e=this._attrs,n=e.points,r=n.length-1;t=t||this.get("context"),e.startArrow&&o.addStartArrow(t,e,n[1][0],n[1][1],n[0][0],n[0][1]),e.endArrow&&o.addEndArrow(t,e,n[r-1][0],n[r-1][1],n[r][0],n[r][1])},getPoint:function(t){var e,n,i=this._attrs.points,o=this.tCache;return o||(this._setTcache(),o=this.tCache),r.each(o,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)})),{x:a.at(i[n][0],i[n+1][0],e),y:a.at(i[n][1],i[n+1][1],e)}}}),t.exports=s},function(t,e,n){var r=n(1),i=n(37).parseRadius,o=n(7),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1},r.extend(a,o),r.augment(a,{canFill:!0,canStroke:!0,type:"rect",getDefaultAttrs:function(){return{lineWidth:1,radius:0}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.width,i=t.height,o=this.getHitLineWidth()/2;return{minX:e-o,minY:n-o,maxX:e+r+o,maxY:n+i+o}},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,o=e.width,a=e.height,s=e.radius;if((t=t||this.get("context")).beginPath(),0===s)t.rect(n,r,o,a);else{var u=i(s);t.moveTo(n+u.r1,r),t.lineTo(n+o-u.r2,r),0!==u.r2&&t.arc(n+o-u.r2,r+u.r2,u.r2,-Math.PI/2,0),t.lineTo(n+o,r+a-u.r3),0!==u.r3&&t.arc(n+o-u.r3,r+a-u.r3,u.r3,0,Math.PI/2),t.lineTo(n+u.r4,r+a),0!==u.r4&&t.arc(n+u.r4,r+a-u.r4,u.r4,Math.PI/2,Math.PI),t.lineTo(n,r+u.r1),0!==u.r1&&t.arc(n+u.r1,r+u.r1,u.r1,Math.PI,1.5*Math.PI),t.closePath()}}}),t.exports=a},function(t,e,n){var r=n(1),i=n(7),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null},r.extend(o,i),r.augment(o,{canFill:!0,canStroke:!0,type:"text",getDefaultAttrs:function(){return{lineWidth:1,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"}},initTransform:function(){var t=this._attrs.fontSize;t&&+t<12&&this.transform([["t",-1*this._attrs.x,-1*this._attrs.y],["s",+t/12,+t/12],["t",this._attrs.x,this._attrs.y]])},_assembleFont:function(){var t=this._attrs,e=t.fontSize,n=t.fontFamily,r=t.fontWeight,i=t.fontStyle,o=t.fontVariant;t.font=[i,o,r,e+"px",n].join(" ")},_setAttrText:function(){var t=this._attrs,e=t.text,n=null;if(r.isString(e)&&-1!==e.indexOf("\n")){var i=(n=e.split("\n")).length;t.lineCount=i}t.textArr=n},_getTextHeight:function(){var t=this._attrs,e=t.lineCount,n=1*t.fontSize;return e>1?n*e+this._getSpaceingY()*(e-1):n},isHitBox:function(){return!1},calculateBox:function(){var t=this._attrs,e=this._cfg;e.attrs&&!e.hasUpdate||(this._assembleFont(),this._setAttrText()),t.textArr||this._setAttrText();var n=t.x,r=t.y,i=this.measureText();if(!i)return{minX:n,minY:r,maxX:n,maxY:r};var o=this._getTextHeight(),a=t.textAlign,s=t.textBaseline,u=this.getHitLineWidth(),l={x:n,y:r-o};a&&("end"===a||"right"===a?l.x-=i:"center"===a&&(l.x-=i/2)),s&&("top"===s?l.y+=o:"middle"===s&&(l.y+=o/2)),this.set("startPoint",l);var c=u/2;return{minX:l.x-c,minY:l.y-c,maxX:l.x+i+c,maxY:l.y+o+c}},_getSpaceingY:function(){var t=this._attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},drawInner:function(t){var e=this._attrs,n=this._cfg;n.attrs&&!n.hasUpdate||(this._assembleFont(),this._setAttrText()),t.font=e.font;var i=e.text;if(i){var o=e.textArr,a=e.x,s=e.y;if(t.beginPath(),this.hasStroke()){var u=e.strokeOpacity;r.isNil(u)||1===u||(t.globalAlpha=u),o?this._drawTextArr(t,!1):t.strokeText(i,a,s),t.globalAlpha=1}if(this.hasFill()){var l=e.fillOpacity;r.isNil(l)||1===l||(t.globalAlpha=l),o?this._drawTextArr(t,!0):t.fillText(i,a,s)}n.hasUpdate=!1}},_drawTextArr:function(t,e){var n,i=this._attrs.textArr,o=this._attrs.textBaseline,a=1*this._attrs.fontSize,s=this._getSpaceingY(),u=this._attrs.x,l=this._attrs.y,c=this.getBBox(),h=c.maxY-c.minY;r.each(i,(function(r,i){n=l+i*(s+a)-h+a,"middle"===o&&(n+=h-a-(h-a)/2),"top"===o&&(n+=h-a),e?t.fillText(r,u,n):t.strokeText(r,u,n)}))},measureText:function(){var t,e=this._attrs,n=e.text,i=e.font,o=e.textArr,a=0;if(!r.isNil(n)){var s=document.createElement("canvas").getContext("2d");return s.save(),s.font=i,o?r.each(o,(function(e){t=s.measureText(e).width,a<t&&(a=t),s.restore()})):(a=s.measureText(n).width,s.restore()),a}}}),t.exports=o},function(t,e,n){t.exports={isFunction:n(14),isObject:n(39),isBoolean:n(191),isNil:n(6),isString:n(15),isArray:n(4),isNumber:n(11),isEmpty:n(167),uniqueId:n(194),clone:n(80),deepMix:n(81),assign:n(10),merge:n(81),upperFirst:n(189),each:n(2),isEqual:n(83),toArray:n(57),extend:n(162),augment:n(158),remove:n(156),isNumberEqual:n(55),toRadian:n(172),toDegree:n(170),mod:n(169),clamp:n(84),createDom:n(159),modifyCSS:n(160),requestAnimationFrame:n(161),getRatio:function(){return window.devicePixelRatio?window.devicePixelRatio:2},mat3:n(85),vec2:n(174),vec3:n(175),transform:n(173)}},function(t,e,n){var r=n(2);t.exports=function(t){var e,n={},i=[],o=t.isRounding,a=function(t){var e=[];return r(t,(function(t){e=e.concat(t)})),e}(t.data),s=a.length,u=t.maxCount||8;if(o?2===(e=function(t,e){var n;for(n=e;n>0&&t%n!==0;n--);if(1===n)for(n=e;n>0&&(t-1)%n!==0;n--);return n}(s-1,u-1)+1)?e=u:e<u-4&&(e=u-4):e=u,!o&&s<=e+e/2)i=[].concat(a);else{for(var l=parseInt(s/(e-1),10),c=a.map((function(t,e){return e%l===0?a.slice(e,e+l):null})).filter((function(t){return t})),h=1,f=c.length;h<f&&(o?h*l<s-l:h<e-1);h++)i.push(c[h][0]);if(a.length){i.unshift(a[0]);var p=a[s-1];-1===i.indexOf(p)&&i.push(p)}}return n.categories=a,n.ticks=i,n}},function(t,e){function n(t,e){var n=t.length;if(0===n)return NaN;var r=t[0];if(e<t[0])return NaN;if(e>=t[n-1])return t[n-1];for(var i=1;i<t.length&&!(e<t[i]);i++)r=t[i];return r}function r(t,e){var n,r=t.length;if(0===r)return NaN;if(e>t[r-1])return NaN;if(e<t[0])return t[0];for(var i=1;i<t.length;i++)if(e<=t[i]){n=t[i];break}return n}var i={snapFactorTo:function(t,e,n){if(isNaN(t))return NaN;var r=1;if(0!==t){t<0&&(r=-1);var o=function(t){var e=1;if(t===1/0||t===-1/0)throw new Error("Not support Infinity!");if(t<1){for(var n=0;t<1;)e/=10,t*=10,n++;e.toString().length>12&&(e=parseFloat(e.toFixed(n)))}else for(;t>10;)e*=10,t/=10;return e}(t*=r);r*=o,t/=o}t="floor"===n?i.snapFloor(e,t):"ceil"===n?i.snapCeiling(e,t):i.snapTo(e,t);var a=parseFloat((t*r).toPrecision(12));return Math.abs(r)<1&&a.toString().length>12&&(a=t/parseInt(1/r)*(r>0?1:-1)),a},snapMultiple:function(t,e,n){return("ceil"===n?Math.ceil(t/e):"floor"===n?Math.floor(t/e):Math.round(t/e))*e},snapTo:function(t,e){var i=n(t,e),o=r(t,e);if(isNaN(i)||isNaN(o)){if(t[0]>=e)return t[0];var a=t[t.length-1];if(a<=e)return a}return Math.abs(e-i)<Math.abs(o-e)?i:o},snapFloor:function(t,e){return n(t,e)},snapCeiling:function(t,e){return r(t,e)},fixedBase:function(t,e){var n=e.toString(),r=n.indexOf("."),i=n.indexOf("e-");if(r<0&&i<0)return Math.round(t);var o=i>=0?parseInt(n.substr(i+2),10):n.substr(r+1).length;return o>20&&(o=20),parseFloat(t.toFixed(o))}};t.exports=i},function(t,e,n){var r=n(26),i=n(151),o=n(2),a=n(11),s=n(15),u=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var u=r.prototype;return u._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="cat",this.isCategory=!0,this.isRounding=!0},u.init=function(){var t=this.values,e=this.tickCount;if(o(t,(function(e,n){t[n]=e.toString()})),!this.ticks){var n=t;e&&(n=i({maxCount:e,data:t,isRounding:this.isRounding}).ticks),this.ticks=n}},u.getText=function(e){return-1===this.values.indexOf(e)&&a(e)&&(e=this.values[Math.round(e)]),t.prototype.getText.call(this,e)},u.translate=function(t){var e=this.values.indexOf(t);return-1===e&&a(t)?e=t:-1===e&&(e=NaN),e},u.scale=function(t){var e=this.rangeMin(),n=this.rangeMax();return(s(t)||-1!==this.values.indexOf(t))&&(t=this.translate(t)),e+(this.values.length>1?t/(this.values.length-1):t)*(n-e)},u.invert=function(t){if(s(t))return t;var e=this.rangeMin(),n=this.rangeMax();t<e&&(t=e),t>n&&(t=n);var r=(t-e)/(n-e),i=Math.round(r*(this.values.length-1))%this.values.length;return i=i||0,this.values[i]},r}(r);r.Cat=u,t.exports=u},function(t,e,n){var r=n(187),i=n(26);i.Linear=n(51),i.Identity=n(353),i.Cat=n(153),i.Time=n(357),i.TimeCat=n(356),i.Log=n(354),i.Pow=n(355);var o=function(t){if(i.hasOwnProperty(t)){var e=r(t);i[e]=function(e){return new i[t](e)}}};for(var a in i)o(a);var s=["cat","timeCat"];i.isCategory=function(t){return s.indexOf(t)>=0},t.exports=i},function(t,e,n){var r=n(21),i=Array.prototype.splice;t.exports=function(t,e){if(!r(t))return[];for(var n=t?e.length:0,o=n-1;n--;){var a=void 0,s=e[n];n!==o&&s===a||(a=s,i.call(t,s,1))}return t}},function(t,e){var n=Array.prototype,r=n.splice,i=n.indexOf,o=n.slice;t.exports=function(t){for(var e=o.call(arguments,1),n=0;n<e.length;n++)for(var a=e[n],s=-1;(s=i.call(t,a))>-1;)r.call(t,s,1);return t}},function(t,e,n){var r=n(2),i=n(53);t.exports=function(t){var e=[];return r(t,(function(t){i(e,t)||e.push(t)})),e}},function(t,e,n){var r=n(14),i=n(57),o=n(10);t.exports=function(t){for(var e=i(arguments),n=1;n<e.length;n++){var a=e[n];r(a)&&(a=a.prototype),o(t.prototype,a)}}},function(t,e){var n=document.createElement("table"),r=document.createElement("tr"),i=/^\s*<(\w+|!)[^>]*>/,o={tr:document.createElement("tbody"),tbody:n,thead:n,tfoot:n,td:r,th:r,"*":document.createElement("div")};t.exports=function(t){var e=i.test(t)&&RegExp.$1;e in o||(e="*");var n=o[e];t=t.replace(/(^\s*)|(\s*$)/g,""),n.innerHTML=""+t;var r=n.childNodes[0];return n.removeChild(r),r}},function(t,e){t.exports=function(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}},function(t,e){t.exports=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}},function(t,e,n){var r=n(14),i=n(10);t.exports=function(t,e,n,o){r(e)||(n=e,e=t,t=function(){});var a=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var r=new n;return r.constructor=e,r},s=a(e.prototype,t);return t.prototype=i(s,t.prototype),t.superclass=a(e.prototype,e),i(s,n),i(t,o),t}},function(t,e,n){var r=n(2),i=n(4),o=Object.prototype.hasOwnProperty;t.exports=function(t,e){if(!e||!i(t))return t;var n={},a=null;return r(t,(function(t){a=e(t),o.call(n,a)?n[a].push(t):n[a]=[t]})),n}},function(t,e,n){var r=n(14),i=n(4),o=n(163);t.exports=function(t,e){if(!e)return{0:t};if(!r(e)){var n=i(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",r=0,i=n.length;r<i;r++)e+=t[n[r]]&&t[n[r]].toString();return e}}return o(t,e)}},function(t,e,n){var r=n(164);t.exports=function(t,e){if(!e)return[t];var n=r(t,e),i=[];for(var o in n)i.push(n[o]);return i}},function(t,e,n){var r=n(2),i=n(10),o=n(378),a=n(364),s=n(380),u=n(382),l=n(390),c=n(56),h=n(401),f=n(405),p=n(409),d=n(414),v={DOMUtil:o,DomUtil:o,MatrixUtil:c,PathUtil:f,arrayUtil:a,domUtil:o,eventUtil:s,formatUtil:u,mathUtil:l,matrixUtil:c,objectUtil:h,stringUtil:p,pathUtil:f,typeUtil:d,augment:n(158),clone:n(80),debounce:n(369),deepMix:n(81),each:r,extend:n(162),filter:n(82),group:n(165),groupBy:n(163),groupToMap:n(164),indexOf:n(386),isEmpty:n(167),isEqual:n(83),isEqualWith:n(387),map:n(388),mix:i,pick:n(408),throttle:n(413),toArray:n(57),toString:n(38),uniqueId:n(194)};r([o,a,s,u,l,c,h,f,p,d],(function(t){i(v,t)})),t.exports=v},function(t,e,n){var r=n(6),i=n(21),o=n(190),a=n(193),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(r(t))return!0;if(i(t))return!t.length;var e=o(t);if("Map"===e||"Set"===e)return!t.size;if(a(t))return!Object.keys(t).length;for(var n in t)if(s.call(t,n))return!1;return!0}},function(t,e,n){var r=n(4),i=n(14),o=n(2);t.exports=function(t,e){if(r(t)){var n=t[0],a=void 0;a=i(e)?e(t[0]):t[0][e];var s=void 0;return o(t,(function(t){(s=i(e)?e(t):t[e])>a&&(n=t,a=s)})),n}}},function(t,e){t.exports=function(t,e){return(t%e+e)%e}},function(t,e){var n=180/Math.PI;t.exports=function(t){return n*t}},function(t,e){t.exports=parseInt},function(t,e){var n=Math.PI/180;t.exports=function(t){return n*t}},function(t,e,n){var r=n(80),i=n(2),o=n(85);t.exports=function(t,e){return t=r(t),i(e,(function(e){switch(e[0]){case"t":o.translate(t,t,[e[1],e[2]]);break;case"s":o.scale(t,t,[e[1],e[2]]);break;case"r":o.rotate(t,t,e[1]);break;case"m":o.multiply(t,t,e[1]);break;default:return!1}})),t}},function(t,e,n){var r=n(349),i=n(84);r.angle=function(t,e){var n=r.dot(t,e)/(r.length(t)*r.length(e));return Math.acos(i(n,-1,1))},r.direction=function(t,e){return t[0]*e[1]-e[0]*t[1]},r.angleTo=function(t,e,n){var i=r.angle(t,e),o=r.direction(t,e)>=0;return n?o?2*Math.PI-i:i:o?i:2*Math.PI-i},r.vertical=function(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t},t.exports=r},function(t,e,n){var r=n(350);t.exports=r},function(t,e){t.exports=function(t,e){return t.hasOwnProperty(e)}},function(t,e,n){var r=n(178),i=n(6);t.exports=function(t,e){var n=r(e),o=n.length;if(i(t))return!o;for(var a=0;a<o;a+=1){var s=n[a];if(e[s]!==t[s]||!(s in t))return!1}return!0}},function(t,e,n){var r=n(2),i=n(14),o=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return r(t,(function(n,r){i(t)&&"prototype"===r||e.push(r)})),e};t.exports=o},function(t,e,n){var r=n(2),i=n(14),o=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return r(t,(function(n,r){i(t)&&"prototype"===r||e.push(n)})),e};t.exports=o},function(t,e){t.exports=function(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?o[3]={x:+t[0],y:+t[1]}:i-2===r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}},function(t,e){var n=/,?([a-z]),?/gi;t.exports=function(t){return t.join(",").replace(n,"$1")}},function(t,e){var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",i=new RegExp("([a-z])["+r+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+r+"]*,?["+r+"]*)+)","ig"),o=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+r+"]*,?["+r+"]*","ig");t.exports=function(t){if(!t)return null;if(("undefined"===typeof t?"undefined":n(t))===n([]))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},r=[];return String(t).replace(i,(function(t,n,i){var a=[],s=n.toLowerCase();if(i.replace(o,(function(t,e){e&&a.push(+e)})),"m"===s&&a.length>2&&(r.push([n].concat(a.splice(0,2))),s="l",n="m"===n?"l":"L"),"o"===s&&1===a.length&&r.push([n,a[0]]),"r"===s)r.push([n].concat(a));else for(;a.length>=e[s]&&(r.push([n].concat(a.splice(0,e[s]))),e[s]););})),r}},function(t,e,n){var r=n(182),i=n(180);function o(t,e,n,r,i){var o=[];if(null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i){var a=Math.PI/180,s=t+n*Math.cos(-r*a),u=t+n*Math.cos(-i*a);o=[["M",s,e+n*Math.sin(-r*a)],["A",n,n,0,+(i-r>180),0,u,e+n*Math.sin(-i*a)]]}else o=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return o}t.exports=function(t){if(!(t=r(t))||!t.length)return[["M",0,0]];var e=[],n=0,a=0,s=0,u=0,l=0,c=void 0,h=void 0;"M"===t[0][0]&&(s=n=+t[0][1],u=a=+t[0][2],l++,e[0]=["M",n,a]);for(var f,p,d=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),v=l,g=t.length;v<g;v++){if(e.push(f=[]),(c=(p=t[v])[0])!==c.toUpperCase())switch(f[0]=c.toUpperCase(),f[0]){case"A":f[1]=p[1],f[2]=p[2],f[3]=p[3],f[4]=p[4],f[5]=p[5],f[6]=+p[6]+n,f[7]=+p[7]+a;break;case"V":f[1]=+p[1]+a;break;case"H":f[1]=+p[1]+n;break;case"R":for(var y=2,m=(h=[n,a].concat(p.slice(1))).length;y<m;y++)h[y]=+h[y]+n,h[++y]=+h[y]+a;e.pop(),e=e.concat(i(h,d));break;case"O":e.pop(),(h=o(n,a,p[1],p[2])).push(h[0]),e=e.concat(h);break;case"U":e.pop(),e=e.concat(o(n,a,p[1],p[2],p[3])),f=["U"].concat(e[e.length-1].slice(-2));break;case"M":s=+p[1]+n,u=+p[2]+a;break;default:for(var _=1,b=p.length;_<b;_++)f[_]=+p[_]+(_%2?n:a)}else if("R"===c)h=[n,a].concat(p.slice(1)),e.pop(),e=e.concat(i(h,d)),f=["R"].concat(p.slice(-2));else if("O"===c)e.pop(),(h=o(n,a,p[1],p[2])).push(h[0]),e=e.concat(h);else if("U"===c)e.pop(),e=e.concat(o(n,a,p[1],p[2],p[3])),f=["U"].concat(e[e.length-1].slice(-2));else for(var w=0,x=p.length;w<x;w++)f[w]=p[w];if("O"!==(c=c.toUpperCase()))switch(f[0]){case"Z":n=+s,a=+u;break;case"H":n=f[1];break;case"V":a=f[1];break;case"M":s=f[f.length-2],u=f[f.length-1];break;default:n=f[f.length-2],a=f[f.length-1]}}return e}},function(t,e,n){var r=n(183),i=function t(e,n,r,i,o,a,s,u,l,c){r===i&&(r+=1);var h=120*Math.PI/180,f=Math.PI/180*(+o||0),p=[],d=void 0,v=void 0,g=void 0,y=void 0,m=void 0,_=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(c)v=c[0],g=c[1],y=c[2],m=c[3];else{e=(d=_(e,n,-f)).x,n=d.y,u=(d=_(u,l,-f)).x,l=d.y,e===u&&n===l&&(u+=1,l+=1);var b=(e-u)/2,w=(n-l)/2,x=b*b/(r*r)+w*w/(i*i);x>1&&(r*=x=Math.sqrt(x),i*=x);var E=r*r,S=i*i,C=(a===s?-1:1)*Math.sqrt(Math.abs((E*S-E*w*w-S*b*b)/(E*w*w+S*b*b)));y=C*r*w/i+(e+u)/2,m=C*-i*b/r+(n+l)/2,v=Math.asin(((n-m)/i).toFixed(9)),g=Math.asin(((l-m)/i).toFixed(9)),v=e<y?Math.PI-v:v,g=u<y?Math.PI-g:g,v<0&&(v=2*Math.PI+v),g<0&&(g=2*Math.PI+g),s&&v>g&&(v-=2*Math.PI),!s&&g>v&&(g-=2*Math.PI)}var k=g-v;if(Math.abs(k)>h){var T=g,I=u,A=l;g=v+h*(s&&g>v?1:-1),p=t(u=y+r*Math.cos(g),l=m+i*Math.sin(g),r,i,o,0,s,I,A,[g,T,y,m])}k=g-v;var M=Math.cos(v),P=Math.sin(v),O=Math.cos(g),N=Math.sin(g),D=Math.tan(k/4),R=4/3*r*D,L=4/3*i*D,F=[e,n],j=[e+R*P,n-L*M],B=[u+R*N,l-L*O],V=[u,l];if(j[0]=2*F[0]-j[0],j[1]=2*F[1]-j[1],c)return[j,B,V].concat(p);for(var U=[],q=0,z=(p=[j,B,V].concat(p).join().split(",")).length;q<z;q++)U[q]=q%2?_(p[q-1],p[q],f).y:_(p[q],p[q+1],f).x;return U},o=function(t,e,n,r){return[t,e,n,r,n,r]},a=function(t,e,n,r,i,o){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*i+2/3*n,1/3*o+2/3*r,i,o]};t.exports=function(t,e){var n=r(t),s=e&&r(e),u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c=[],h=[],f="",p="",d=void 0,v=function(t,e,n){var r=void 0,s=void 0;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(i.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*e.x-e.bx,s=2*e.y-e.by):(r=e.x,s=e.y),t=["C",r,s].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(a(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(a(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(o(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(o(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(o(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(o(e.x,e.y,e.X,e.Y))}return t},g=function(t,e){if(t[e].length>7){t[e].shift();for(var r=t[e];r.length;)c[e]="A",s&&(h[e]="A"),t.splice(e++,0,["C"].concat(r.splice(0,6)));t.splice(e,1),d=Math.max(n.length,s&&s.length||0)}},y=function(t,e,r,i,o){t&&e&&"M"===t[o][0]&&"M"!==e[o][0]&&(e.splice(o,0,["M",i.x,i.y]),r.bx=0,r.by=0,r.x=t[o][1],r.y=t[o][2],d=Math.max(n.length,s&&s.length||0))};d=Math.max(n.length,s&&s.length||0);for(var m=0;m<d;m++){n[m]&&(f=n[m][0]),"C"!==f&&(c[m]=f,m&&(p=c[m-1])),n[m]=v(n[m],u,p),"A"!==c[m]&&"C"===f&&(c[m]="C"),g(n,m),s&&(s[m]&&(f=s[m][0]),"C"!==f&&(h[m]=f,m&&(p=h[m-1])),s[m]=v(s[m],l,p),"A"!==h[m]&&"C"===f&&(h[m]="C"),g(s,m)),y(n,s,u,l,m),y(s,n,l,u,m);var _=n[m],b=s&&s[m],w=_.length,x=s&&b.length;u.x=_[w-2],u.y=_[w-1],u.bx=parseFloat(_[w-4])||u.x,u.by=parseFloat(_[w-3])||u.y,l.bx=s&&(parseFloat(b[x-4])||l.x),l.by=s&&(parseFloat(b[x-3])||l.y),l.x=s&&b[x-2],l.y=s&&b[x-1]}return s?[n,s]:n}},function(t,e,n){var r=n(181);t.exports=function(t,e,n,i,o){if(o)return[["M",+t+ +o,e],["l",n-2*o,0],["a",o,o,0,0,1,o,o],["l",0,i-2*o],["a",o,o,0,0,1,-o,o],["l",2*o-n,0],["a",o,o,0,0,1,-o,-o],["l",0,2*o-i],["a",o,o,0,0,1,o,-o],["z"]];var a=[["M",t,e],["l",n,0],["l",0,i],["l",-n,0],["z"]];return a.parsePathArray=r,a}},function(t,e,n){var r=n(38);t.exports=function(t){return r(t).toLowerCase()}},function(t,e,n){var r=n(38);t.exports=function(t){var e=r(t);return e.charAt(0).toLowerCase()+e.substring(1)}},function(t,e,n){var r=n(38);t.exports=function(t){return r(t).toUpperCase()}},function(t,e,n){var r=n(38);t.exports=function(t){var e=r(t);return e.charAt(0).toUpperCase()+e.substring(1)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).replace(/^\[object /,"").replace(/\]$/,"")}},function(t,e,n){var r=n(17);t.exports=function(t){return r(t,"Boolean")}},function(t,e,n){var r=n(17);t.exports=function(t){return r(t,"Date")}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"===typeof e&&e.prototype||n)}},function(t,e){var n=function(){var t={};return function(e){return t[e=e||"g"]?t[e]+=1:t[e]=1,e+t[e]}}();t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={COORD_FUNC_PROPS:["rotate","scale","reflect","transpose"],GEOM_FUNC_PROPS:["position","color","size","shape","opacity","tooltip","style","animate","active","select","sets"]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(29)),i=o(n(58));function o(t){return t&&t.__esModule?t:{default:t}}for(var a=["mouseenter","mousemove","mouseleave","click","dblclick","mousedown","mouseup","touchstart","touchmove","touchend"],s=["Mouseenter","Mousemove","Mouseleave","Click","Dblclick","Mousedown","Mouseup","Touchstart","Touchmove","Touchend"],u=["point","area","line","path","interval","schema","polygon","edge","axis-title","axis-label","axis-ticks","axis-line","axis-grid","legend-title","legend-item","legend-marker","legend-text","guide-text","guide-region","guide-line","guide-image","label"],l=["onPoint","onArea","onLine","onPath","onInterval","onSchema","onPolygon","onEdge","onAxisTitle","onAxisLabel","onAxisTicks","onAxisLine","onAxisGrid","onLegendTitle","onLegendItem","onLegendMarker","onLegendText","onGuideText","onGuideRegion","onGuideLine","onGuideImage","onLabel"],c=[],h=0;h<u.length;h+=1)for(var f=0;f<a.length;f+=1)c.push({prop:""+l[h]+s[f],event:u[h]+":"+a[f]});var p=[{prop:"onPlotMove",event:"plotmove"},{prop:"onPlotEnter",event:"plotenter"},{prop:"onPlotLeave",event:"plotleave"},{prop:"onPlotClick",event:"plotclick"},{prop:"onPlotDblClick",event:"plotdblclick"},{prop:"onItemSelected",event:"itemselected"},{prop:"onItemUnselected",event:"itemunselected"},{prop:"onItemSelectedChange",event:"itemselectedchange"},{prop:"onTooltipChange",event:"tooltip:change"},{prop:"onTooltipShow",event:"tooltip:show"},{prop:"onTooltipHide",event:"tooltip:hide"}].concat(c);function d(){return[{prop:"onMouseEnter",event:"mouseenter"},{prop:"onMouseMove",event:"mousemove"},{prop:"onMouseLeave",event:"mouseleave"},{prop:"onClick",event:"click"},{prop:"onDblClick",event:"dblclick"},{prop:"onMouseDown",event:"mousedown"},{prop:"onMouseUp",event:"mouseup"},{prop:"onTouchStart",event:"touchstart"},{prop:"onTouchMove",event:"touchmove"},{prop:"onTouchEnd",event:"touchend"}]}var v=[{prop:"onMouseEnter",event:"mouseenter"},{prop:"onMouseMove",event:"mousemove"},{prop:"onMouseLeave",event:"mouseleave"},{prop:"onClick",event:"click"},{prop:"onDblClick",event:"dblclick"},{prop:"onMouseDown",event:"mousedown"},{prop:"onMouseUp",event:"mouseup"},{prop:"onTouchStart",event:"touchstart"},{prop:"onTouchMove",event:"touchmove"},{prop:"onTouchEnd",event:"touchend"}],g={onMouseEnter:r.default.object,onMouseMove:r.default.object,onMouseLeave:r.default.object,onClick:r.default.oneOfType([r.default.object,r.default.func]),onDblClick:r.default.object,onMouseDown:r.default.object,onMouseUp:r.default.object,onTouchStart:r.default.object,onTouchMove:r.default.object,onTouchEnd:r.default.object},y={onMouseEnter:r.default.func,onMouseMove:r.default.func,onMouseLeave:r.default.func,onClick:r.default.func,onDblClick:r.default.func,onMouseDown:r.default.func,onMouseUp:r.default.func,onTouchStart:r.default.func,onTouchMove:r.default.func,onTouchEnd:r.default.func};function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];i.default.each(e,(function(e){var r=e.prop,o=e.event,a=n[r];if(i.default.isFunction(a))t.on(o,a);else if(i.default.isObject(a))for(var s in a)void 0!==a[s]&&t.on(s+":"+o,a[s])}))}function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=arguments[3];i.default.each(e,(function(e){var o=e.prop,a=e.event,s=n[o],u=r[o],l=void 0;if(!i.default.shallowEqual(s,u))if(i.default.isFunction(s)&&i.default.isFunction(u))t.off(a,s),t.on(a,u);else if(i.default.isObject(s)&&i.default.isObject(u)){for(l in s)Object.prototype.hasOwnProperty.call(s,l)&&t.off(l+":"+a,s[l]);for(l in u)Object.prototype.hasOwnProperty.call(u,l)&&t.on(l+":"+a,u[l])}}))}function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];i.default.each(e,(function(e){var r=e.prop,o=e.event,a=n[r];if(i.default.isFunction(a))t.off(o,a);else if(i.default.isObject(a))for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.off(s+":"+o,a[s])}))}e.default={baseEventObjectTypes:g,baseEventFuncTypes:y,genBaseEvents:d,genItemBaseEvents:function(t){var e=[{prop:"onMouseEnter",event:"mouseenter"},{prop:"onMouseMove",event:"mousemove"},{prop:"onMouseLeave",event:"mouseleave"},{prop:"onClick",event:"click"},{prop:"onDblClick",event:"dblclick"},{prop:"onMouseDown",event:"mousedown"},{prop:"onMouseUp",event:"mouseup"},{prop:"onTouchStart",event:"touchstart"},{prop:"onTouchMove",event:"touchmove"},{prop:"onTouchEnd",event:"touchend"}];return i.default.map(e,(function(e){var n=e.event;return e.event=t+":"+n,e})),e},bindEvents:m,bindBaseEvents:function(t,e){m(t,v,e)},updateEvents:_,updateBaseEvents:function(t,e,n){_(t,v,e,n)},unbindEvents:b,unbindBaseEvents:function(t,e){b(t,v,e)},chartEvents:p}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(45)),o=n(88),a=l(n(195)),s=l(n(196)),u=l(n(87));function l(t){return t&&t.__esModule?t:{default:t}}function c(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function h(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var f=a.default.COORD_FUNC_PROPS,p=a.default.GEOM_FUNC_PROPS;e.default={createChart:function(t){var e=t.chart,n=e.props.forceFit;e.props.forceFit=!1;var r=new i.Chart(e.props);return e.props.afterChartInitialized&&e.props.afterChartInitialized(r),n&&r.forceFit(),e.g2Instance=r,r},executeChartConfig:function(t,e){var n=e.chart.props;t.coord("rect",{}),t.source(n.data,n.scale),(e.facet||n.axis)&&e.facet&&!1!==n.axis||t.axis(!1),t.legend(!1),t.tooltip(!1),n.filter&&n.filter.forEach((function(e){t.filter(e[0],e[1])})),s.default.bindEvents(t,s.default.chartEvents,n),s.default.bindBaseEvents(t,n)},coord:function(t,e){var n=e.coord;if(n&&!n.g2Instance){var r=n.props,i=r.type,a=h(r,["type"]),s=t.coord(i||"rect",o.Util.without(a,f));o.Prop.init(f,a,(function(t,e){"reflect"===e?o.Util.each(t,(function(t){return s[e](t)})):"transpose"===e?!0===t[0]&&s[e].apply(s,c(t)):s[e].apply(s,c(t))})),n.g2Instance=s}},createLabel:function(t,e){if(e&&!e.g2Instance){var n=e.props,r=n.content,i=h(n,["content"]);r&&(o.Util.isArray(r)?e.g2Instance=t.label(r[0],r[1],i):e.g2Instance=t.label(r,i))}},createGeom:function(t,e){if(e.g2Instance)e.label&&this.createLabel(e.g2Instance,e.label);else{var n=e.props,r=t[n.type||"interval"]();n.adjust&&r.adjust(n.adjust),o.Prop.init(p,n,(function(t,e){r[e].apply(r,c(t))})),e.g2Instance=r,this.createLabel(r,e.label)}},geoms:function(t,e){var n=e.geoms;if(n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&this.createGeom(t,n[r])},legends:function(t,e){var n=e.legends;for(var r in n)if(n[r]){var i=n[r];if(i.g2Instance)return;var o=i.props,a=o.name,s=o.visible,u=h(o,["name","visible"]),l=s;Object.prototype.hasOwnProperty.call(i.props,"visible")||(l=!0);var f=l?u:l;i.g2Instance=t.legend.apply(t,c(a?[a,f]:[f]))}},tooltip:function(t,e){var n=e.tooltip;n&&!n.g2Instance&&(n.g2Instance=t.tooltip(r({},n.props)))},createAxis:function(t,e){if(!e.g2Instance){var n=e.props,r=n.name,i=n.visible,o=h(n,["name","visible"]);i||!Object.prototype.hasOwnProperty.call(e.props,"visible")?e.g2Instance=t.axis(r,o):e.g2Instance=t.axis(r,!1)}},axises:function(t,e){var n=e.axises;for(var r in n)n[r]&&this.createAxis(t,n[r])},views:function(t,e){var n=e.views;for(var r in n)n[r]&&this.createView(t,n[r])},createView:function(t,e){if("Facet"!==e.parentInfo.name){if(e.g2Instance)return e.filter&&e.filter.forEach((function(t){e.g2Instance.filter(t[0],t[1])})),this.coord(e.g2Instance,e),this.axises(e.g2Instance,e),this.geoms(e.g2Instance,e),void this.guide(e.g2Instance,e.guide);var n=e.props,i=n.scale,o=n.data,a=n.instance,s=n.axis,u=n.filter,l=(n.geoms,h(n,["scale","data","instance","axis","filter","geoms"])),c=void 0;c=a||t.view(r({},l)),o&&c.source(o,i),i&&c.scale(i),u&&u.forEach((function(t){c.filter(t[0],t[1])})),!0===s||a||c.axis(!1),e.g2Instance=c,this.coord(c,e),this.axises(c,e),this.geoms(c,e),this.guide(c,e.guide)}},facetView:function(t,e){var n=e.props,r=n.scale,i=n.data,o=n.axis;n.geoms,h(n,["scale","data","axis","geoms"]),i&&t.source(i,r),r&&t.scale(r),!1===o&&t.axis(!1),this.coord(t,e),this.axises(t,e),this.geoms(t,e),this.guide(t,e.guide),u.default.mergeView(e,!0)},guide:function(t,e){if(e){var n=e.elements;for(var r in n)if(n[r]){var i=n[r];if(!i.g2Instance){var o=i.props,a=(o.type,h(o,["type"]));i.g2Instance=t.guide()[i.type](a)}}}},facet:function(t,e){var n=this,r=e.facet;if(r&&!r.g2Instance){var i=r.props,o=i.children,a=i.type,s=h(i,["children","type"]);if(o){var l=e.views,c=null;for(var f in l)if(l[f]&&"Facet"===l[f].parentInfo.name&&l[f].parentInfo.id===r.id){c=l[f];break}c&&(u.default.mergeView(c,!0),s.eachView=function(t){n.facetView(t,c)},t.facet(a,s))}else t.facet(a,s)}},synchronizeG2Add:function(t,e){this.coord(t,e),this.axises(t,e),this.legends(t,e),this.tooltip(t,e),this.geoms(t,e),this.facet(t,e),this.views(t,e),this.guide(t,e.guide)},synchronizeG2Views:function(t,e){var n=e.views;for(var r in n)n[r]&&this.synchronizeG2View(n[r].g2Instance,n[r])},synchronizeG2View:function(t,e){t.clear(),this.clearViewG2Instance(e);var n=e.props,r=n.scale,i=n.data,o=n.instance,a=n.axis;n.geoms,h(n,["scale","data","instance","axis","geoms"]),i&&t.source(i,r),r&&t.scale(r),!0===a||o||t.axis(!1),this.coord(t,e),this.axises(t,e),this.geoms(t,e),this.guide(t,e.guide)},clearViewG2Instance:function(t){t.coord&&delete t.coord.g2Instance,t.axises&&Object.keys(t.axises).forEach((function(e){delete t.axises[e].g2Instance})),t.geoms&&Object.keys(t.geoms).forEach((function(e){delete t.geoms[e].g2Instance,t.geoms[e].label&&delete t.geoms[e].label.g2Instance})),t.guide&&t.guide.elements&&Object.keys(t.guide.elements).forEach((function(e){delete t.guide.elements[e].g2Instance}))}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i}));var r=Math.PI/180,i=180/Math.PI},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(449);n.d(e,"easeLinear",(function(){return r.a}));var i=n(451);n.d(e,"easeQuad",(function(){return i.a})),n.d(e,"easeQuadIn",(function(){return i.b})),n.d(e,"easeQuadOut",(function(){return i.c})),n.d(e,"easeQuadInOut",(function(){return i.a}));var o=n(446);n.d(e,"easeCubic",(function(){return o.a})),n.d(e,"easeCubicIn",(function(){return o.b})),n.d(e,"easeCubicOut",(function(){return o.c})),n.d(e,"easeCubicInOut",(function(){return o.a}));var a=n(450);n.d(e,"easePoly",(function(){return a.a})),n.d(e,"easePolyIn",(function(){return a.b})),n.d(e,"easePolyOut",(function(){return a.c})),n.d(e,"easePolyInOut",(function(){return a.a}));var s=n(452);n.d(e,"easeSin",(function(){return s.a})),n.d(e,"easeSinIn",(function(){return s.b})),n.d(e,"easeSinOut",(function(){return s.c})),n.d(e,"easeSinInOut",(function(){return s.a}));var u=n(448);n.d(e,"easeExp",(function(){return u.a})),n.d(e,"easeExpIn",(function(){return u.b})),n.d(e,"easeExpOut",(function(){return u.c})),n.d(e,"easeExpInOut",(function(){return u.a}));var l=n(445);n.d(e,"easeCircle",(function(){return l.a})),n.d(e,"easeCircleIn",(function(){return l.b})),n.d(e,"easeCircleOut",(function(){return l.c})),n.d(e,"easeCircleInOut",(function(){return l.a}));var c=n(444);n.d(e,"easeBounce",(function(){return c.a})),n.d(e,"easeBounceIn",(function(){return c.b})),n.d(e,"easeBounceOut",(function(){return c.a})),n.d(e,"easeBounceInOut",(function(){return c.c}));var h=n(443);n.d(e,"easeBack",(function(){return h.a})),n.d(e,"easeBackIn",(function(){return h.b})),n.d(e,"easeBackOut",(function(){return h.c})),n.d(e,"easeBackInOut",(function(){return h.a}));var f=n(447);n.d(e,"easeElastic",(function(){return f.a})),n.d(e,"easeElasticIn",(function(){return f.b})),n.d(e,"easeElasticOut",(function(){return f.a})),n.d(e,"easeElasticInOut",(function(){return f.c}))},function(t,e,n){"use strict";var r=n(92);e.a=function(t,e){var i,o=e?e.length:0,a=t?Math.min(o,t.length):0,s=new Array(a),u=new Array(o);for(i=0;i<a;++i)s[i]=n.i(r.a)(t[i],e[i]);for(;i<o;++i)u[i]=e[i];return function(t){for(i=0;i<a;++i)u[i]=s[i](t);return u}}},function(t,e,n){"use strict";var r=n(91);e.a=function(t){var e=t.length;return function(i){var o=Math.floor(((i%=1)<0?++i:i)*e),a=t[(o+e-1)%e],s=t[o%e],u=t[(o+1)%e],l=t[(o+2)%e];return n.i(r.b)((i-o/e)*e,a,s,u,l)}}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}},function(t,e,n){"use strict";var r=n(92);e.a=function(t,e){var i,o={},a={};for(i in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)i in t?o[i]=n.i(r.a)(t[i],e[i]):a[i]=e[i];return function(t){for(i in o)a[i]=o[i](t);return a}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return l}));var r=n(12),i=n(91),o=n(201),a=n(41);function s(t){return function(e){var i,o,a=e.length,s=new Array(a),u=new Array(a),l=new Array(a);for(i=0;i<a;++i)o=n.i(r.e)(e[i]),s[i]=o.r||0,u[i]=o.g||0,l[i]=o.b||0;return s=t(s),u=t(u),l=t(l),o.opacity=1,function(t){return o.r=s(t),o.g=u(t),o.b=l(t),o+""}}}e.a=function t(e){var i=n.i(a.c)(e);function o(t,e){var o=i((t=n.i(r.e)(t)).r,(e=n.i(r.e)(e)).r),s=i(t.g,e.g),u=i(t.b,e.b),l=n.i(a.a)(t.opacity,e.opacity);return function(e){return t.r=o(e),t.g=s(e),t.b=u(e),t.opacity=l(e),t+""}}return o.gamma=t,o}(1);var u=s(i.a),l=s(o.a)},function(t,e,n){"use strict";var r=n(59),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o=new RegExp(i.source,"g");e.a=function(t,e){var a,s,u,l=i.lastIndex=o.lastIndex=0,c=-1,h=[],f=[];for(t+="",e+="";(a=i.exec(t))&&(s=o.exec(e));)(u=s.index)>l&&(u=e.slice(l,u),h[c]?h[c]+=u:h[++c]=u),(a=a[0])===(s=s[0])?h[c]?h[c]+=s:h[++c]=s:(h[++c]=null,f.push({i:c,x:n.i(r.a)(a,s)})),l=o.lastIndex;return l<e.length&&(u=e.slice(l),h[c]?h[c]+=u:h[++c]=u),h.length<2?f[0]?function(t){return function(e){return t(e)+""}}(f[0].x):function(t){return function(){return t}}(e):(e=f.length,function(t){for(var n,r=0;r<e;++r)h[(n=f[r]).i]=n.x(t);return h.join("")})}},function(t,e,n){"use strict";e.a=i;var r=n(96);function i(t,e){var i,o=e?e.length:0,a=t?Math.min(o,t.length):0,s=new Array(a),u=new Array(o);for(i=0;i<a;++i)s[i]=n.i(r.a)(t[i],e[i]);for(;i<o;++i)u[i]=e[i];return function(t){for(i=0;i<a;++i)u[i]=s[i](t);return u}}n(95)},function(t,e,n){"use strict";var r=n(93);e.a=function(t){var e=t.length;return function(i){var o=Math.floor(((i%=1)<0?++i:i)*e),a=t[(o+e-1)%e],s=t[o%e],u=t[(o+1)%e],l=t[(o+2)%e];return n.i(r.b)((i-o/e)*e,a,s,u,l)}}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}},function(t,e,n){"use strict";var r=n(96);e.a=function(t,e){var i,o={},a={};for(i in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)i in t?o[i]=n.i(r.a)(t[i],e[i]):a[i]=e[i];return function(t){for(i in o)a[i]=o[i](t);return a}}},function(t,e,n){"use strict";var r=n(12),i=n(93),o=n(208),a=n(32);function s(t){return function(e){var i,o,a=e.length,s=new Array(a),u=new Array(a),l=new Array(a);for(i=0;i<a;++i)o=n.i(r.e)(e[i]),s[i]=o.r||0,u[i]=o.g||0,l[i]=o.b||0;return s=t(s),u=t(u),l=t(l),o.opacity=1,function(t){return o.r=s(t),o.g=u(t),o.b=l(t),o+""}}}e.a=function t(e){var i=n.i(a.c)(e);function o(t,e){var o=i((t=n.i(r.e)(t)).r,(e=n.i(r.e)(e)).r),s=i(t.g,e.g),u=i(t.b,e.b),l=n.i(a.a)(t.opacity,e.opacity);return function(e){return t.r=o(e),t.g=s(e),t.b=u(e),t.opacity=l(e),t+""}}return o.gamma=t,o}(1),s(i.a),s(o.a)},function(t,e,n){"use strict";var r=n(60),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o=new RegExp(i.source,"g");e.a=function(t,e){var a,s,u,l=i.lastIndex=o.lastIndex=0,c=-1,h=[],f=[];for(t+="",e+="";(a=i.exec(t))&&(s=o.exec(e));)(u=s.index)>l&&(u=e.slice(l,u),h[c]?h[c]+=u:h[++c]=u),(a=a[0])===(s=s[0])?h[c]?h[c]+=s:h[++c]=s:(h[++c]=null,f.push({i:c,x:n.i(r.a)(a,s)})),l=o.lastIndex;return l<e.length&&(u=e.slice(l),h[c]?h[c]+=u:h[++c]=u),h.length<2?f[0]?function(t){return function(e){return t(e)+""}}(f[0].x):function(t){return function(){return t}}(e):(e=f.length,function(t){for(var n,r=0;r<e;++r)h[(n=f[r]).i]=n.x(t);return h.join("")})}},function(t,e,n){"use strict";e.a=function(t){return function(){return this.matches(t)}}},function(t,e,n){"use strict";var r=n(18);e.a=function(t){return"string"===typeof t?new r.b([[document.querySelector(t)]],[document.documentElement]):new r.b([[t]],r.c)}},function(t,e,n){"use strict";e.b=o;var r=n(217),i=n(18);function o(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}e.a=function(){return new i.b(this._enter||this._groups.map(r.a),this._parents)},o.prototype={constructor:o,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}}},function(t,e,n){"use strict";e.a=function(t){return new Array(t.length)}},function(t,e,n){"use strict";e.a=s;var r=n(102);function i(t){return function(){this.style.removeProperty(t)}}function o(t,e,n){return function(){this.style.setProperty(t,e,n)}}function a(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function s(t,e){return t.style.getPropertyValue(e)||n.i(r.a)(t).getComputedStyle(t,null).getPropertyValue(e)}e.b=function(t,e,n){return arguments.length>1?this.each((null==e?i:"function"===typeof e?a:o)(t,e,null==n?"":n)):s(this.node(),t)}},function(t,e,n){"use strict";function r(){return[]}e.a=function(t){return null==t?r:function(){return this.querySelectorAll(t)}}},function(t,e,n){"use strict";var r=n(13);e.a=function(t,e){var n,i,o,a=t.__transition,s=!0;if(a){for(o in e=null==e?null:e+"",a)(n=a[o]).name===e?(i=n.state>r.a&&n.state<r.b,n.state=r.c,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[o]):s=!1;s&&delete t.__transition}}},function(t,e,n){"use strict";var r=n(12),i=n(94);e.a=function(t,e){var o;return("number"===typeof e?i.b:e instanceof r.f?i.c:(o=n.i(r.f)(e))?(e=o,i.c):i.d)(t,e)}},function(t,e,n){var r;!function(i){"use strict";var o={},a=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,s=/\d\d?/,u=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,l=/\[([^]*?)\]/gm,c=function(){};function h(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}function f(t){return function(e,n,r){var i=r[t].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~i&&(e.month=i)}}function p(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}var d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],v=["January","February","March","April","May","June","July","August","September","October","November","December"],g=h(v,3),y=h(d,3);o.i18n={dayNamesShort:y,dayNames:d,monthNamesShort:g,monthNames:v,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!==10)*t%10]}};var m={D:function(t){return t.getDate()},DD:function(t){return p(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return t.getDay()},dd:function(t){return p(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return p(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return String(t.getFullYear()).substr(2)},YYYY:function(t){return p(t.getFullYear(),4)},h:function(t){return t.getHours()%12||12},hh:function(t){return p(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return p(t.getHours())},m:function(t){return t.getMinutes()},mm:function(t){return p(t.getMinutes())},s:function(t){return t.getSeconds()},ss:function(t){return p(t.getSeconds())},S:function(t){return Math.round(t.getMilliseconds()/100)},SS:function(t){return p(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return p(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+p(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},_={D:[s,function(t,e){t.day=e}],Do:[new RegExp(s.source+u.source),function(t,e){t.day=parseInt(e,10)}],M:[s,function(t,e){t.month=e-1}],YY:[s,function(t,e){var n=+(""+(new Date).getFullYear()).substr(0,2);t.year=""+(e>68?n-1:n)+e}],h:[s,function(t,e){t.hour=e}],m:[s,function(t,e){t.minute=e}],s:[s,function(t,e){t.second=e}],YYYY:[/\d{4}/,function(t,e){t.year=e}],S:[/\d/,function(t,e){t.millisecond=100*e}],SS:[/\d{2}/,function(t,e){t.millisecond=10*e}],SSS:[/\d{3}/,function(t,e){t.millisecond=e}],d:[s,c],ddd:[u,c],MMM:[u,f("monthNamesShort")],MMMM:[u,f("monthNames")],a:[u,function(t,e,n){var r=e.toLowerCase();r===n.amPm[0]?t.isPm=!1:r===n.amPm[1]&&(t.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(t,e){"Z"===e&&(e="+00:00");var n,r=(e+"").match(/([\+\-]|\d\d)/gi);r&&(n=60*r[1]+parseInt(r[2],10),t.timezoneOffset="+"===r[0]?n:-n)}]};_.dd=_.d,_.dddd=_.ddd,_.DD=_.D,_.mm=_.m,_.hh=_.H=_.HH=_.h,_.MM=_.M,_.ss=_.s,_.A=_.a,o.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},o.format=function(t,e,n){var r=n||o.i18n;if("number"===typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date in fecha.format");e=o.masks[e]||e||o.masks.default;var i=[];return(e=(e=e.replace(l,(function(t,e){return i.push(e),"??"}))).replace(a,(function(e){return e in m?m[e](t,r):e.slice(1,e.length-1)}))).replace(/\?\?/g,(function(){return i.shift()}))},o.parse=function(t,e,n){var r=n||o.i18n;if("string"!==typeof e)throw new Error("Invalid format in fecha.parse");if(e=o.masks[e]||e,t.length>1e3)return!1;var i=!0,s={};if(e.replace(a,(function(e){if(_[e]){var n=_[e],o=t.search(n[0]);~o?t.replace(n[0],(function(e){return n[1](s,e,r),t=t.substr(o+e.length),e})):i=!1}return _[e]?"":e.slice(1,e.length-1)})),!i)return!1;var u,l=new Date;return!0===s.isPm&&null!=s.hour&&12!==+s.hour?s.hour=+s.hour+12:!1===s.isPm&&12===+s.hour&&(s.hour=0),null!=s.timezoneOffset?(s.minute=+(s.minute||0)-+s.timezoneOffset,u=new Date(Date.UTC(s.year||l.getFullYear(),s.month||0,s.day||1,s.hour||0,s.minute||0,s.second||0,s.millisecond||0))):u=new Date(s.year||l.getFullYear(),s.month||0,s.day||1,s.hour||0,s.minute||0,s.second||0,s.millisecond||0),u},"undefined"!==typeof t&&t.exports?t.exports=o:void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)}()},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";t.exports=n(542)},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(33),i=n(2),o=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o._initDefaultCfg=function(){this.marginRatio=.5,this.dodgeRatio=.5,this.adjustNames=["x","y"]},o.getDodgeOffset=function(t,e,n){var r=t.pre,i=t.next,o=i-r,a=o*this.dodgeRatio/n,s=this.marginRatio*a;return(r+i)/2+(.5*(o-n*a-(n-1)*s)+((e+1)*a+e*s)-.5*a-.5*o)},o.processAdjust=function(t){var e=this,n=t.length,r=e.xField;i(t,(function(t,i){for(var o=0,a=t.length;o<a;o++){var s=t[o],u=s[r],l={pre:1===a?u-1:u-.5,next:1===a?u+1:u+.5},c=e.getDodgeOffset(l,i,n);s[r]=c}}))},r}(r);r.Dodge=o,t.exports=o},function(t,e,n){var r=n(10),i=n(33),o=n(226),a=n(231),s=n(106),u=n(229),l=n(230);r(i.prototype,s),r(o.prototype,s,u),r(a.prototype,l),i.Jitter=n(228),i.Symmetric=n(232),i.Dodge=o,i.Stack=a,t.exports=i},function(t,e,n){var r=n(2),i=n(10),o={merge:n(54)},a=n(33),s=n(106),u=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=i.prototype;return a._initDefaultCfg=function(){this.xField=null,this.yField=null,this.adjustNames=["x","y"],this.groupFields=null},a.processAdjust=function(t){var e=o.merge(t);this.adjDataArray=t,this.mergeData=e,this.adjustData(t,e),this.adjFrames=null,this.mergeData=null},a.getAdjustOffset=function(t,e){var n=e-t;return t+.05*n+.9*n*Math.random()},a._adjustGroup=function(t,e,n,i){var o=this,a=o.getAdjustRange(e,n,i);r(t,(function(t){t[e]=o.getAdjustOffset(a.pre,a.next)}))},a.adjustDim=function(t,e,n){var i=this,o=i.groupData(n,t);r(o,(function(n,r){r=parseFloat(r),i._adjustGroup(n,t,r,e)}))},i}(a);i(u.prototype,s),a.Jitter=u,t.exports=u},function(t,e,n){var r={merge:n(54),values:n(79)},i=n(165),o=n(2);t.exports={processAdjust:function(t){var e=r.merge(t),n=this.dodgeBy,o=t;n&&(o=i(e,n)),this.cacheMap={},this.adjDataArray=o,this.mergeData=e,this.adjustData(o,e),this.adjDataArray=null,this.mergeData=null},getDistribution:function(t){var e=this.adjDataArray,n=this.cacheMap,i=n[t];return i||(i={},o(e,(function(e,n){var a=r.values(e,t);a.length||a.push(0),o(a,(function(t){i[t]||(i[t]=[]),i[t].push(n)}))})),n[t]=i),i},adjustDim:function(t,e,n,r,i){var a=this,s=a.getDistribution(t),u=a.groupData(n,t);o(u,(function(n,r){var u;r=parseFloat(r),u=1===e.length?{pre:e[0]-1,next:e[0]+1}:a.getAdjustRange(t,r,e),o(n,(function(e){var n=e[t],r=s[n],o=r.indexOf(i);e[t]=a.getDodgeOffset(u,o,r.length)}))}))}}},function(t,e){t.exports={_initDefaultCfg:function(){this.xField=null,this.yField=null,this.height=null,this.size=10,this.reverseOrder=!1,this.adjustNames=["y"]},processOneDimStack:function(t){var e=this.xField,n=this.yField||"y",r=this.height,i={};this.reverseOrder&&(t=t.slice(0).reverse());for(var o=0,a=t.length;o<a;o++)for(var s=t[o],u=0,l=s.length;u<l;u++){var c=s[u],h=2*(c.size||this.size)/r,f=c[e];i[f]||(i[f]=h/2),c[n]=i[f],i[f]+=h}},processAdjust:function(t){this.yField?this.processStack(t):this.processOneDimStack(t)}}},function(t,e,n){var r=n(4),i=n(6),o=n(33),a=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=o.prototype;return a._initDefaultCfg=function(){this.xField=null,this.yField=null},a.processAdjust=function(t){this.processStack(t)},a.processStack=function(t){var e=this.xField,n=this.yField,o=t.length,a={positive:{},negative:{}};this.reverseOrder&&(t=t.slice(0).reverse());for(var s=0;s<o;s++)for(var u=t[s],l=0,c=u.length;l<c;l++){var h=u[l],f=h[e]||0,p=h[n],d=f.toString();if(p=r(p)?p[1]:p,!i(p)){var v=p>=0?"positive":"negative";a[v][d]||(a[v][d]=0),h[n]=[a[v][d],p+a[v][d]],a[v][d]+=p}}},o}(o);o.Stack=a,t.exports=a},function(t,e,n){var r=n(2),i=n(168),o=n(4),a={merge:n(54)},s=n(33),u=function(t){var e,n;function s(){return t.apply(this,arguments)||this}n=t,(e=s).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var u=s.prototype;return u._initDefaultCfg=function(){this.xField=null,this.yField=null,this.cacheMax=null,this.adjustNames=["y"],this.groupFields=null},u._getMax=function(t){var e=this.mergeData,n=i(e,(function(e){var n=e[t];return o(n)?Math.max.apply(null,n):n}))[t];return o(n)?Math.max.apply(null,n):n},u._getXValuesMax=function(){var t=this.yField,e=this.xField,n={},i=this.mergeData;return r(i,(function(r){var i=r[e],a=r[t],s=o(a)?Math.max.apply(null,a):a;n[i]=n[i]||0,n[i]<s&&(n[i]=s)})),n},u.processAdjust=function(t){var e=a.merge(t);this.mergeData=e,this._processSymmetric(t),this.mergeData=null},u._processSymmetric=function(t){var e,n=this.xField,i=this.yField,a=this._getMax(i),s=t[0][0];s&&o(s[i])&&(e=this._getXValuesMax()),r(t,(function(t){r(t,(function(t){var s,u=t[i];if(o(u)){var l=t[n],c=e[l];s=(a-c)/2;var h=[];r(u,(function(t){h.push(s+t)})),t[i]=h}else s=(a-u)/2,t[i]=[s,u+s]}))}))},s}(s);s.Symmetric=u,t.exports=u},function(t,e,n){var r=n(15),i=n(107),o=function(t){var e,n;function o(e){var n;return(n=t.call(this,e)||this).names=["color"],n.type="color",n.gradient=null,r(n.values)&&(n.linear=!0),n}return n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,o.prototype.getLinearValue=function(t){var e=this.gradient;if(!e){var n=this.values;e=i.gradient(n),this.gradient=e}return e(t)},o}(n(34));t.exports=o},function(t,e,n){var r=function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).names=["opacity"],n.type="opacity",n.gradient=null,n}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r}(n(34));t.exports=r},function(t,e,n){var r=n(6),i=n(4),o=n(2),a=function(t){var e,n;function a(e){var n;return(n=t.call(this,e)||this).names=["x","y"],n.type="position",n}return n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,a.prototype.mapping=function(t,e){var n,a,s,u=this.scales,l=this.coord,c=u[0],h=u[1];if(r(t)||r(e))return[];if(i(e)&&i(t)){n=[],a=[];for(var f=0,p=0,d=t.length,v=e.length;f<d&&p<v;f++,p++)s=l.convertPoint({x:c.scale(t[f]),y:h.scale(e[p])}),n.push(s.x),a.push(s.y)}else if(i(e))t=c.scale(t),a=[],o(e,(function(e){e=h.scale(e),s=l.convertPoint({x:t,y:e}),n&&n!==s.x?(i(n)||(n=[n]),n.push(s.x)):n=s.x,a.push(s.y)}));else if(i(t))e=h.scale(e),n=[],o(t,(function(t){t=c.scale(t),s=l.convertPoint({x:t,y:e}),a&&a!==s.y?(i(a)||(a=[a]),a.push(s.y)):a=s.y,n.push(s.x)}));else{t=c.scale(t),e=h.scale(e);var g=l.convertPoint({x:t,y:e});n=g.x,a=g.y}return[n,a]},a}(n(34));t.exports=a},function(t,e,n){var r=function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).names=["shape"],n.type="shape",n.gradient=null,n}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.prototype.getLinearValue=function(t){var e=this.values;return e[Math.round((e.length-1)*t)]},r}(n(34));t.exports=r},function(t,e,n){var r=function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).names=["size"],n.type="size",n.gradient=null,n}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r}(n(34));t.exports=r},function(t,e,n){var r=n(3),i=n(35),o=r.MatrixUtil.vec2,a=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=i.prototype;return a.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"circle",tickInterval:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},_labelOffset:5})},a.parseTick=function(t,e,n){return{text:t,value:e/n}},a._getCirclePoint=function(t,e){var n=this.get("center");return e=e||this.get("radius"),{x:n.x+Math.cos(t)*e,y:n.y+Math.sin(t)*e}},a.getTickPoint=function(t){var e=this.get("startAngle"),n=e+(this.get("endAngle")-e)*t;return this._getCirclePoint(n)},a.getSideVector=function(t,e){var n=this.get("center"),i=[e.x-n.x,e.y-n.y];if(!r.isNil(t)){var a=o.length(i);o.scale(i,i,t/a)}return i},a.getSidePoint=function(t,e){var n=this.getSideVector(e,t);return{x:t.x+n[0],y:t.y+n[1]}},a.getTickEnd=function(t,e){var n=this.get("tickLine");return e=e||n.length,this.getSidePoint(t,e)},a.getTextAnchor=function(t){var e;return r.snapEqual(t[0],0)?e="center":t[0]>0?e="left":t[0]<0&&(e="right"),e},a.getLinePath=function(){var t=this.get("center"),e=t.x,n=t.y,r=this.get("radius"),i=r,o=this.get("startAngle"),a=this.get("endAngle"),s=this.get("inner"),u=[];if(Math.abs(a-o)===2*Math.PI)u=[["M",e,n],["m",0,-i],["a",r,i,0,1,1,0,2*i],["a",r,i,0,1,1,0,-2*i],["z"]];else{var l=this._getCirclePoint(o),c=this._getCirclePoint(a),h=Math.abs(a-o)>Math.PI?1:0,f=o>a?0:1;if(s){var p=this.getSideVector(s*r,l),d=this.getSideVector(s*r,c),v={x:p[0]+e,y:p[1]+n},g={x:d[0]+e,y:d[1]+n};u=[["M",v.x,v.y],["L",l.x,l.y],["A",r,i,0,h,f,c.x,c.y],["L",g.x,g.y],["A",r*s,i*s,0,h,Math.abs(f-1),v.x,v.y]]}else u=[["M",e,n],["L",l.x,l.y],["A",r,i,0,h,f,c.x,c.y],["L",e,n]]}return u},a.addLabel=function(e,n,r){var i=this.get("label").offset||this.get("_labelOffset")||.001;n=this.getSidePoint(n,i),t.prototype.addLabel.call(this,e,n,r)},a.autoRotateLabels=function(){var t=this.get("ticks"),e=this.get("labelRenderer");if(e&&t.length>12){var n=this.get("radius"),i=this.get("startAngle"),o=this.get("endAngle")-i,a=o/(t.length-1),s=Math.sin(a/2)*n*2,u=this.getMaxLabelWidth(e);r.each(e.get("group").get("children"),(function(e,n){var r=t[n].value*o+i,a=r%(2*Math.PI);u<s?(a<=0&&(r+=Math.PI),a>Math.PI&&(r-=Math.PI),r-=Math.PI/2,e.attr("textAlign","center")):a>Math.PI/2?r-=Math.PI:a<Math.PI/2*-1&&(r+=Math.PI),e.rotateAtStart(r)}))}},i}(i);t.exports=a},function(t,e,n){var r=n(3),i=n(35),o=r.MatrixUtil,a=r.PathUtil,s=o.vec2,u=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=i.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{inner:0,type:"helix",line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,a:0,center:null,axisStart:null,crp:[]})},o.getLinePath=function(){var t=this.get("crp"),e=this.get("axisStart"),n=a.catmullRomToBezier(t);return n.unshift(["M",e.x,e.y]),n},o.getTickPoint=function(t){var e=this.get("startAngle"),n=e+(this.get("endAngle")-e)*t;return this._getHelixPoint(n)},o._getHelixPoint=function(t){var e=this.get("center"),n=this.get("a")*t+this.get("inner");return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},o.getSideVector=function(t,e){var n=this.get("center"),r=[e.x-n.x,e.y-n.y];if(t){var i=s.length(r);s.scale(r,r,t/i)}return r},o.getSidePoint=function(t,e){var n=this.getSideVector(e,t);return{x:t.x+n[0],y:t.y+n[1]}},o.getTickEnd=function(t,e){var n=this.get("tickLine");return e=e||n.length,this.getSidePoint(t,e)},i}(i);t.exports=u},function(t,e,n){var r=n(35);r.Base=r,r.Circle=n(238),r.Grid=n(108),r.Helix=n(239),r.Line=n(241),r.Polyline=n(242),t.exports=r},function(t,e,n){var r=n(35),i=n(3),o=i.MatrixUtil.vec2,a=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=r.prototype;return a.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return i.mix({},e,{x:null,y:null,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},isVertical:!1,start:null,end:null})},a._getAvgLabelLength=function(t){var e=t.get("group").get("children");return e[1].attr("x")-e[0].attr("x")},a._getAvgLabelHeightSpace=function(t){var e=t.get("group").get("children");return e[1].attr("y")-e[0].attr("y")},a.getSideVector=function(t){var e=this.get("isVertical"),n=this.get("factor");if(!i.isNumber(t))return[0,0];var r=this.get("start"),a=this.get("end"),s=this.getAxisVector(),u=o.normalize([],s),l=!1;(e&&r.y<a.y||!e&&r.x>a.x)&&(l=!0);var c=o.vertical([],u,l);return o.scale([],c,t*n)},a.getAxisVector=function(){var t=this.get("start"),e=this.get("end");return[e.x-t.x,e.y-t.y]},a.getLinePath=function(){var t=this.get("start"),e=this.get("end"),n=[];return n.push(["M",t.x,t.y]),n.push(["L",e.x,e.y]),n},a.getTickEnd=function(t,e){var n=this.getSideVector(e);return{x:t.x+n[0],y:t.y+n[1]}},a.getTickPoint=function(t){var e=this.get("start"),n=this.get("end"),r=n.x-e.x,i=n.y-e.y;return{x:e.x+r*t,y:e.y+i*t}},a.renderTitle=function(){var t=this.get("title"),e=this.getTickPoint(.5),n=t.offset;if(i.isNil(n)){n=20;var r=this.get("labelsGroup");r&&(n+=this.getMaxLabelWidth(r)+(this.get("label").offset||this.get("_labelOffset")))}var a=t.textStyle,s=i.mix({},a);if(t.text){var u=this.getAxisVector();if(t.autoRotate&&i.isNil(a.rotate)){var l=0;if(!i.snapEqual(u[1],0)){var c=[u[0],u[1]];l=o.angleTo(c,[1,0],!0)}s.rotate=l*(180/Math.PI)}else i.isNil(a.rotate)||(s.rotate=a.rotate/180*Math.PI);var h,f=this.getSideVector(n),p=t.position;h="start"===p?{x:this.get("start").x+f[0],y:this.get("start").y+f[1]}:"end"===p?{x:this.get("end").x+f[0],y:this.get("end").y+f[1]}:{x:e.x+f[0],y:e.y+f[1]},s.x=h.x,s.y=h.y,s.text=t.text;var d=this.get("group").addShape("Text",{zIndex:2,attrs:s});d.name="axis-title",this.get("appendInfo")&&d.setSilent("appendInfo",this.get("appendInfo"))}},a.autoRotateLabels=function(){var t=this.get("labelRenderer"),e=this.get("title");if(t){var n=t.get("group").get("children"),r=this.get("label").offset,o=e?e.offset:48;if(o<0)return;var a,s,u=this.getAxisVector();if(i.snapEqual(u[0],0)&&e&&e.text)(s=this.getMaxLabelWidth(t))>o-r-12&&(a=-1*Math.acos((o-r-12)/s));else if(i.snapEqual(u[1],0)&&n.length>1){var l=Math.abs(this._getAvgLabelLength(t));(s=this.getMaxLabelWidth(t))>l&&(a=Math.asin(1.25*(o-r-12)/s))}if(a){var c=this.get("factor");i.each(n,(function(t){t.rotateAtStart(a),i.snapEqual(u[1],0)&&(c>0?t.attr("textAlign","left"):t.attr("textAlign","right"))}))}}},a.autoHideLabels=function(){var t,e,n=this.get("labelRenderer");if(n){var r=n.get("group").get("children"),o=this.getAxisVector();if(r.length<2)return;if(i.snapEqual(o[0],0)){var a=this.getMaxLabelHeight(n)+8,s=Math.abs(this._getAvgLabelHeightSpace(n));a>s&&(t=a,e=s)}else if(i.snapEqual(o[1],0)&&r.length>1){var u=this.getMaxLabelWidth(n)+8,l=Math.abs(this._getAvgLabelLength(n));u>l&&(t=u,e=l)}if(t&&e){var c=Math.ceil(t/e);i.each(r,(function(t,e){e%c!==0&&t.attr("text","")}))}}},r}(r);t.exports=a},function(t,e,n){var r=n(3),i=n(35),o=r.MatrixUtil,a=r.PathUtil,s=o.vec2,u=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=i.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"polyline"})},o.getLinePath=function(){var t=this.get("tickPoints"),e=this.get("start"),n=this.get("end"),i=[];i.push(e.x),i.push(e.y),r.each(t,(function(t){i.push(t.x),i.push(t.y)})),i.push(n.x),i.push(n.y);var o=a.catmullRomToBezier(i);return o.unshift(["M",e.x,e.y]),o},o.getTickPoint=function(t,e){return this.get("tickPoints")[e]},o.getTickEnd=function(t,e,n){var r=this.get("tickLine"),i=e||r.length,o=this.getSideVector(i,t,n);return{x:t.x+o[0],y:t.y+o[1]}},o.getSideVector=function(t,e,n){var r;if(0===n){if((r=this.get("start")).x===e.x&&r.y===e.y)return[0,0]}else r=this.get("tickPoints")[n-1];var i=[e.x-r.x,e.y-r.y],o=s.normalize([],i),a=s.vertical([],o,!1);return s.scale([],a,t)},i}(i);t.exports=u},function(t,e,n){var r=n(3),i=n(20),o=Math.PI,a=Math.atan;function s(t,e){var n,r=t.x-e.x,i=t.y-e.y;return 0===i?n=r<0?o/2:270*o/180:r>=0&&i>0?n=2*o-a(r/i):r<=0&&i<0?n=o-a(r/i):r>0&&i<0?n=o+a(-r/i):r<0&&i>0&&(n=a(r/-i)),n}var u=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=i.prototype;return a.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"arc",start:null,end:null,style:{stroke:"#999",lineWidth:1}})},a.render=function(t,e){var n=this.parsePoint(t,this.get("start")),i=this.parsePoint(t,this.get("end"));if(n&&i){var a,u=t.getCenter(),l=Math.sqrt((n.x-u.x)*(n.x-u.x)+(n.y-u.y)*(n.y-u.y)),c=s(n,u),h=s(i,u);if(h<c&&(h+=2*o),r.isNumberEqual(n.x,i.x)&&r.isNumberEqual(n.y,i.y)&&(this.get("start")[0]!==this.get("end")[0]||this.get("start")[1]!==this.get("end")[1]))a=[["M",n.x,n.y],["A",l,l,0,1,1,2*u.x-n.x,2*u.y-n.y],["A",l,l,0,1,1,n.x,n.y]];else{var f=(h-c)%(2*o)>o?1:0;a=[["M",n.x,n.y],["A",l,l,0,f,1,i.x,i.y]]}var p=e.addShape("path",{zIndex:this.get("zIndex"),attrs:r.mix({path:a},this.get("style"))});p.name="guide-arc",this.get("appendInfo")&&p.setSilent("appendInfo",this.get("appendInfo")),this.set("el",p)}},i}(i);t.exports=u},function(t,e,n){var r=n(3),i=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=i.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"dataMarker",zIndex:1,top:!0,position:null,style:{point:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2},line:{stroke:"#A3B1BF",lineWidth:1},text:{fill:"#000000",opacity:.65,fontSize:12,textAlign:"start"}},display:{point:!0,line:!0,text:!0},lineLength:20,direction:"upward",autoAdjust:!0})},o.render=function(t,e){var n=this.parsePoint(t,this.get("position"));if(n){var r=e.addGroup();r.name="guide-data-marker";var i,o,a=this._getElementPosition(n),s=this.get("display");if(s.line){var u=a.line;i=this._drawLine(u,r)}if(s.text&&this.get("content")){var l=a.text;o=this._drawText(l,r)}if(s.point){var c=a.point;this._drawPoint(c,r)}if(this.get("autoAdjust")){var h=r.getBBox(),f=h.minX,p=h.minY,d=h.maxX,v=h.maxY,g=t.start,y=t.end;if(o){f<=g.x&&o.attr("textAlign","start"),d>=y.x&&o.attr("textAlign","end");var m=this.get("direction");if("upward"===m&&p<=y.y||"upward"!==m&&v>=g.y){var _,b;"upward"===m&&p<=y.y?(_="top",b=1):(_="bottom",b=-1),o.attr("textBaseline",_);var w=0;if(this.get("display").line){w=this.get("lineLength");var x=[["M",n.x,n.y],["L",n.x,n.y+w*b]];i.attr("path",x)}var E=n.y+(w+2)*b;o.attr("y",E)}}}this.get("appendInfo")&&r.setSilent("appendInfo",this.get("appendInfo")),this.set("el",r)}},o._getElementPosition=function(t){var e=t.x,n=t.y,r=this.get("display").line?this.get("lineLength"):0,i=this.get("direction");this.get("style").text.textBaseline="upward"===i?"bottom":"top";var o="upward"===i?-1:1;return{point:{x:e,y:n},line:[{x:e,y:n},{x:e,y:r*o+n}],text:{x:e,y:(r+2)*o+n}}},o._drawLine=function(t,e){var n=this.get("style").line,i=[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y]];return e.addShape("path",{attrs:r.mix({path:i},n)})},o._drawText=function(t,e){var n=this.get("style").text;return e.addShape("text",{attrs:r.mix({text:this.get("content")},n,t)})},o._drawPoint=function(t,e){var n=this.get("style").point;return e.addShape("circle",{attrs:r.mix({},n,t)})},i}(n(20));t.exports=i},function(t,e,n){var r=n(3),i=n(109),o=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=o.prototype;return a.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"dataRegion",start:null,end:null,content:"",style:{region:{lineWidth:0,fill:"#000000",opacity:.04},text:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}})},a.render=function(t,e,n){var i=this.get("lineLength")||0,o=this._getRegionData(t,n);if(o.length){var a=this._getBBox(o),s=[];s.push(["M",o[0].x,a.yMin-i]);for(var u=0,l=o.length;u<l;u++){var c=["L",o[u].x,o[u].y];s.push(c)}s.push(["L",o[o.length-1].x,a.yMin-i]);var h=this.get("style"),f=h.region,p=h.text,d=e.addGroup();d.name="guide-data-region",d.addShape("path",{attrs:r.mix({path:s},f)});var v=this.get("content");v&&d.addShape("Text",{attrs:r.mix({x:(a.xMin+a.xMax)/2,y:a.yMin-i,text:v},p)}),this.get("appendInfo")&&d.setSilent("appendInfo",this.get("appendInfo")),this.set("el",d)}},a._getRegionData=function(t,e){for(var n,o=this.get("start"),a=this.get("end"),s=i.getFirstScale(this.get("xScales")).field,u=i.getFirstScale(this.get("yScales")).field,l=r.isArray(o)?o[0]:o[s],c=r.isArray(a)?a[0]:a[s],h=[],f=0,p=e.length;f<p;f++){var d=e[f];if(d[s]===l&&(n=f),f>=n){var v=this.parsePoint(t,[d[s],d[u]]);v&&h.push(v)}if(d[s]===c)break}return h},a._getBBox=function(t){for(var e=[],n=[],i=0;i<t.length;i++)e.push(t[i].x),n.push(t[i].y);var o=r.arrayUtil.getRange(e),a=r.arrayUtil.getRange(n);return{xMin:o.min,xMax:o.max,yMin:a.min,yMax:a.max}},o}(n(20));t.exports=o},function(t,e,n){var r=n(3),i=r.DomUtil,o=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=o.prototype;return a.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"html",zIndex:7,position:null,alignX:"middle",alignY:"middle",offsetX:null,offsetY:null,html:null})},a.render=function(t,e){var n=this.parsePoint(t,this.get("position"));if(n){var o=e.get("canvas").get("el").parentNode,a=i.createDom('<div class="g-guide"></div>');o.appendChild(a);var s=this.get("htmlContent")||this.get("html");r.isFunction(s)&&(s=s(this.get("xScales"),this.get("yScales")));var u=i.createDom(s);a.appendChild(u),i.modifyCSS(a,{position:"absolute"}),this._setDomPosition(a,u,n),this.set("el",a)}},a._setDomPosition=function(t,e,n){var r=this.get("alignX"),o=this.get("alignY"),a=i.getOuterWidth(e),s=i.getOuterHeight(e),u={x:n.x,y:n.y};"middle"===r&&"top"===o?u.x-=Math.round(a/2):"middle"===r&&"bottom"===o?(u.x-=Math.round(a/2),u.y-=Math.round(s)):"left"===r&&"bottom"===o?u.y-=Math.round(s):"left"===r&&"middle"===o?u.y-=Math.round(s/2):"left"===r&&"top"===o?(u.x=n.x,u.y=n.y):"right"===r&&"bottom"===o?(u.x-=Math.round(a),u.y-=Math.round(s)):"right"===r&&"middle"===o?(u.x-=Math.round(a),u.y-=Math.round(s/2)):"right"===r&&"top"===o?u.x-=Math.round(a):(u.x-=Math.round(a/2),u.y-=Math.round(s/2));var l=this.get("offsetX");l&&(u.x+=l);var c=this.get("offsetY");c&&(u.y+=c),i.modifyCSS(t,{top:Math.round(u.y)+"px",left:Math.round(u.x)+"px",visibility:"visible",zIndex:this.get("zIndex")})},a.clear=function(){var t=this.get("el");t&&t.parentNode&&t.parentNode.removeChild(t)},o}(n(20));t.exports=o},function(t,e,n){var r=n(3),i=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=i.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"image",start:null,end:null,src:null,offsetX:null,offsetY:null})},o.render=function(t,e){var n=this.parsePoint(t,this.get("start"));if(n){var r={x:n.x,y:n.y};if(r.img=this.get("src"),this.get("end")){var i=this.parsePoint(t,this.get("end"));if(!i)return;r.width=i.x-n.x,r.height=i.y-n.y}else r.width=this.get("width")||32,r.height=this.get("height")||32;this.get("offsetX")&&(r.x+=this.get("offsetX")),this.get("offsetY")&&(r.y+=this.get("offsetY"));var o=e.addShape("Image",{zIndex:1,attrs:r});o.name="guide-image",this.get("appendInfo")&&o.setSilent("appendInfo",this.get("appendInfo")),this.set("el",o)}},i}(n(20));t.exports=i},function(t,e,n){t.exports={Guide:n(20),Arc:n(243),DataMarker:n(244),DataRegion:n(245),Html:n(246),Image:n(247),Line:n(249),Region:n(250),Text:n(251)}},function(t,e,n){var r=n(3),i=n(20),o=r.MatrixUtil.vec2,a=n(19).FONT_FAMILY,s=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var s=i.prototype;return s.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"line",start:null,end:null,lineStyle:{stroke:"#000",lineWidth:1},text:{position:"end",autoRotate:!0,style:{fill:"#999",fontSize:12,fontWeight:500,fontFamily:a},content:null}})},s.render=function(t,e){var n=this.parsePoint(t,this.get("start")),r=this.parsePoint(t,this.get("end"));if(n&&r){var i=e.addGroup({viewId:e.get("viewId")});this._drawLines(n,r,i);var o=this.get("text");o&&o.content&&this._drawText(n,r,i),this.set("el",i)}},s._drawLines=function(t,e,n){var i=[["M",t.x,t.y],["L",e.x,e.y]],o=n.addShape("Path",{attrs:r.mix({path:i},this.get("lineStyle"))});o.name="guide-line",this.get("appendInfo")&&o.setSilent("appendInfo",this.get("appendInfo"))},s._drawText=function(t,e,n){var i,a=this.get("text"),s=a.position,u=a.style||{};((i="start"===s?0:"center"===s?.5:r.isString(s)&&-1!==s.indexOf("%")?parseInt(s,10)/100:r.isNumber(s)?s:1)>1||i<0)&&(i=1);var l={x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i};if(a.offsetX&&(l.x+=a.offsetX),a.offsetY&&(l.y+=a.offsetY),l.text=a.content,l=r.mix({},l,u),a.autoRotate&&r.isNil(u.rotate)){var c=o.angleTo([e.x-t.x,e.y-t.y],[1,0],1);l.rotate=c}else r.isNil(u.rotate)||(l.rotate=u.rotate*Math.PI/180);var h=n.addShape("Text",{attrs:l});h.name="guide-line-text",this.get("appendInfo")&&h.setSilent("appendInfo",this.get("appendInfo"))},i}(i);t.exports=s},function(t,e,n){var r=n(3),i=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=i.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"region",zIndex:1,start:null,end:null,style:{lineWidth:0,fill:"#CCD7EB",opacity:.4}})},o.render=function(t,e){var n=this.get("style"),i=this._getPath(t);if(i.length){var o=e.addShape("path",{zIndex:this.get("zIndex"),attrs:r.mix({path:i},n)});o.name="guide-region",this.get("appendInfo")&&o.setSilent("appendInfo",this.get("appendInfo")),this.set("el",o)}},o._getPath=function(t){var e=this.parsePoint(t,this.get("start")),n=this.parsePoint(t,this.get("end"));return e&&n?[["M",e.x,e.y],["L",n.x,e.y],["L",n.x,n.y],["L",e.x,n.y],["z"]]:[]},i}(n(20));t.exports=i},function(t,e,n){var r=n(3),i=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=i.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"text",position:null,content:null,style:{fill:"#999",fontSize:12,fontWeight:500,textAlign:"center"},offsetX:null,offsetY:null,top:!0})},o.render=function(t,e){var n=this.parsePoint(t,this.get("position"));if(n){var i=r.mix({},this.get("style")),o=this.get("offsetX"),a=this.get("offsetY");o&&(n.x+=o),a&&(n.y+=a),i.rotate&&(i.rotate=i.rotate*Math.PI/180);var s=e.addShape("Text",{zIndex:this.get("zIndex"),attrs:r.mix({text:this.get("content")},i,n)});s.name="guide-text",this.get("appendInfo")&&s.setSilent("appendInfo",this.get("appendInfo")),this.set("el",s)}},i}(n(20));t.exports=i},function(t,e,n){var r=n(110);t.exports=r},function(t,e){t.exports=function(t,e){for(var n,r,i=[],o=0;o<t.length;o++)n=t[o].getBBox(),r=e[o].getBBox(),(n.width>r.width||n.height>r.height||n.width*n.height>r.width*r.height)&&i.push(t[o]);for(var a=0;a<i.length;a++)i[a].remove()}},function(t,e,n){var r=n(111);function i(t,e,n,r){var i=t.getBBox(),o=i.width,a=i.height,s={x:e,y:n,textAlign:"center"};switch(r){case 0:s.y-=a/2,s.textAlign="left";break;case 1:s.y-=a/2,s.textAlign="right";break;case 2:s.y+=a/2,s.textAlign="right";break;case 3:s.y+=a/2,s.textAlign="left";break;case 5:s.y-=a/2;break;case 6:s.y+=a/2;break;case 7:s.x+=o/2,s.textAlign="left";break;case 8:s.x-=o/2,s.textAlign="right"}return t.attr(s),t.getBBox()}t.exports=function(t){for(var e,n,o,a,s,u=new r,l=[],c=0;c<t.length;c++){o=(n=t[c]).attr("x"),a=n.attr("y"),s=!1;for(var h=0;h<8;h++)if(e=i(n,o,a,h),u.hasGap(e)){u.fillGap(e),s=!0;break}s||l.push(n)}for(var f=0;f<l.length;f++)l[f].remove();return s}},function(t,e,n){var r=n(111);function i(t,e){var n,r=t.attr("x"),i=t.attr("y"),o=t.getBBox(),a=Math.sqrt(o.width*o.width+o.height*o.height),s=1,u=0,l=0,c=function(t){return[(t*=.1)*Math.cos(t),t*Math.sin(t)]};if(e.hasGap(o))return e.fillGap(o),!0;for(var h=!1,f=0;Math.min(Math.abs(u),Math.abs(l))<a&&f<20;)if(u=~~(n=c(s+=-1))[0],l=~~n[1],t.attr({x:r+u,y:i+l}),f++,e.hasGap(t.getBBox())){e.fillGap(o),h=!0;break}return h}t.exports=function(t){for(var e,n=new r,o=[],a=0;a<t.length;a++)i(e=t[a],n)||o.push(e);for(var s=0;s<o.length;s++)o[s].remove()}},function(t,e,n){var r=n(3),i=n(113),o=n(19).FONT_FAMILY,a=r.DomUtil;function s(t,e){return t.getElementsByClassName(e)[0]}var u=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var u=i.prototype;return u.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"category-page-legend",container:null,caretStyle:{fill:"rgba(0,0,0,0.65)"},pageNumStyle:{display:"inline-block",fontSize:"12px",fontFamily:o,cursor:"default"},slipDomStyle:{width:"auto",height:"auto",position:"absolute"},slipTpl:'<div class="g2-slip" ><svg viewBox="64 64 896 896" class="g2-caret-up" data-icon="left" style = "display:inline-block;vertical-align:middle;" width="1em" height="1em" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg><p class="cur-pagenum" style = "display:inline-block;vertical-align:middle;">1</p><p class="next-pagenum" style = "display:inline-block;vertical-align:middle;"">/2</p><svg viewBox="64 64 896 896" class="g2-caret-down" data-icon="right" style = "display:inline-block;vertical-align:middle;" width="1em" height="1em" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></div>',slipWidth:65,legendOverflow:"unset"})},u.render=function(){t.prototype._renderHTML.call(this),this._renderFlipPage()},u._renderFlipPage=function(){var t=this.get("legendWrapper"),e=s(t,"g2-legend-list"),n=this.get("position"),i=this.get("layout"),o="right"===n||"left"===n||"vertical"===i,u=o?"block":"inline-block",l=t.offsetHeight;if(t.scrollHeight>l){var c=this.get("slipTpl"),h=a.createDom(c),f=s(h,"g2-caret-up"),p=s(h,"g2-caret-down");a.modifyCSS(f,this.get("caretStyle")),a.modifyCSS(f,{fill:"rgba(0,0,0,0.25)"}),a.modifyCSS(p,this.get("caretStyle"));var d=s(h,"cur-pagenum"),v=s(h,"next-pagenum"),g=this.get("pageNumStyle");if(a.modifyCSS(d,r.mix({},g,{paddingLeft:"10px"})),a.modifyCSS(v,r.mix({},g,{opacity:.3,paddingRight:"10px"})),a.modifyCSS(h,r.mix({},this.get("slipDomStyle"),o?{top:l+"px"}:{right:0,top:"50%",transform:"translate(0, -50%)"})),t.style.overflow=this.get("legendOverflow"),t.appendChild(h),!o){var y=Math.max(t.offsetWidth-10-h.offsetWidth,0);a.modifyCSS(e,{maxWidth:y+"px"})}for(var m=e.childNodes,_=0,b=1,w=[],x=0;x<m.length;x++)m[x].style.display=u,(_=m[x].offsetTop+m[x].offsetHeight)>l&&(b++,w.forEach((function(t){t.style.display="none"})),w=[]),w.push(m[x]);v.innerText="/"+b,m.forEach((function(t){t.style.display=u,(_=t.offsetTop+t.offsetHeight)>l&&(t.style.display="none")})),f.addEventListener("click",(function(){if(m[0].style.display!==u){var t=-1;m.forEach((function(e,n){e.style.display===u&&(t=-1===t?n:t,e.style.display="none")}));for(var e=t-1;e>=0&&(m[e].style.display=u,_=m[t-1].offsetTop+m[t-1].offsetHeight,m[e].style.display="none",_<=l);e--)m[e].style.display=u;var n=Number.parseInt(d.innerText,10)-1;f.style.fill=1===n?"rgba(0,0,0,0.25)":"rgba(0,0,0,0.65)",p.style.fill="rgba(0,0,0,0.65)",d.innerText=n}})),p.addEventListener("click",(function(){if(m[m.length-1].style.display!==u){var t=-1;m.forEach((function(e,n){e.style.display===u&&(t=n,e.style.display="none")}));for(var e=t+1;e<m.length&&(m[e].style.display=u,_=m[e].offsetTop+m[e].offsetHeight,m[e].style.display="none",_<=l);e++)m[e].style.display=u;var n=Number.parseInt(d.innerText,10)+1;p.style.fill=n===b?"rgba(0,0,0,0.25)":"rgba(0,0,0,0.65)",f.style.fill="rgba(0,0,0,0.65)",d.innerText=n}})),this.set("slipDom",h)}},u.destroy=function(){var e=this.get("slipDom");e&&e.parentNode&&e.parentNode.removeChild(e),t.prototype.destroy.call(this)},i}(i);t.exports=u},function(t,e,n){var r=n(65).ColorUtil,i=n(3),o=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=o.prototype;return a.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return i.mix({},e,{type:"color-legend",layout:"vertical",triggerAttr:{fill:"#fff",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,shadowColor:"#ccc",radius:3},isSegment:!1})},a._setPercentage=function(){var t=this.get("items");if(!t[0].percentage){var e=t[0].value,n=t[t.length-1].value;i.each(t,(function(t){t.percentage=(t.value-e)/(n-e)}))}},a._renderSliderShape=function(){this._setPercentage();var t,e=this.get("slider").get("backgroundElement"),n=this.get("width"),o=this.get("height"),a=this.get("layout"),s=this.get("items"),u="";return"vertical"===a?(u+="l (90) ",i.each(s,(function(e){t=r.toRGB(e.color),u+=1-e.percentage+":"+t+" "}))):(u+="l (0) ",i.each(s,(function(e){t=r.toRGB(e.color),u+=e.percentage+":"+t+" "}))),this._addMiddleBar(e,"Rect",{x:0,y:0,width:n,height:o,fill:u,strokeOpacity:0})},a._renderUnslidable=function(){this._setPercentage();var t=this.get("titleShape"),e=this.get("titleGap");e=t?t.getBBox().height+e:e;var n,o=this.get("width"),a=this.get("height"),s=this.get("layout"),u=this.get("items"),l="",c=[],h=this.get("group").addGroup(),f=u.length;if("vertical"===s){l+="l (90) ";for(var p=0;p<f;p+=1){if(0!==p&&p!==f-1&&(c.push(["M",0,a-u[p].percentage*a]),c.push(["L",o,a-u[p].percentage*a])),n=r.toRGB(u[p].color),l+=1-u[p].percentage+":"+n+" ",this.get("isSegment")&&p>0){var d=r.toRGB(u[p-1].color);l+=1-u[p].percentage+":"+d+" "}h.addShape("text",{attrs:i.mix({},{x:o+this.get("textOffset")/2,y:a-u[p].percentage*a,text:this._formatItemValue(u[p].value)+""},this.get("textStyle"),{textAlign:"start"})})}}else{l+="l (0) ";for(var v=0;v<f;v+=1){if(0!==v&&v!==f-1&&(c.push(["M",u[v].percentage*o,0]),c.push(["L",u[v].percentage*o,a])),n=r.toRGB(u[v].color),this.get("isSegment")&&v>0){var g=r.toRGB(u[v-1].color);l+=u[v].percentage+":"+g+" "}l+=u[v].percentage+":"+n+" ",h.addShape("text",{attrs:i.mix({},{x:u[v].percentage*o,y:a+5+this.get("textOffset"),text:this._formatItemValue(u[v].value)+""},this.get("textStyle"))})}}h.addShape("rect",{attrs:{x:0,y:0,width:o,height:a,fill:l,strokeOpacity:0}}),h.addShape("path",{attrs:i.mix({path:c},this.get("lineStyle"))}),h.move(0,e)},o}(n(67));t.exports=o},function(t,e,n){t.exports={Category:n(114),CatHtml:n(113),CatPageHtml:n(256),Color:n(257),Size:n(260),CircleSize:n(259)}},function(t,e,n){var r=n(3),i=n(67),o=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=i.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"size-circle-legend",width:100,height:200,_unslidableCircleStyle:{stroke:"rgb(99, 161, 248)",fill:"rgb(99, 161, 248)",fillOpacity:.3,lineWidth:1.5},triggerAttr:{fill:"white",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,shadowColor:"#ccc"},frontMiddleBarStyle:{fill:"rgb(64, 141, 251)"}})},o._renderSliderShape=function(){var t=this.get("slider").get("backgroundElement"),e=this.get("layout"),n="vertical"===e?2:this.get("width"),i="vertical"===e?this.get("height"):2,o=this.get("height")/2,a=this.get("frontMiddleBarStyle"),s="vertical"===e?[[0,0],[n,0],[n,i],[0,i]]:[[0,o+i],[0,o-i],[5+n-4,o-i],[5+n-4,o+i]];return this._addMiddleBar(t,"Polygon",r.mix({points:s},a))},o._addHorizontalTrigger=function(t,e,n,i){var o=this.get("slider").get(t+"HandleElement"),a=-this.get("height")/2,s=o.addShape("circle",{attrs:r.mix({x:0,y:a,r:i},e)}),u=o.addShape("text",{attrs:r.mix(n,{x:0,y:a+i+10,textAlign:"center",textBaseline:"middle"})}),l="vertical"===this.get("layout")?"ns-resize":"ew-resize";s.attr("cursor",l),u.attr("cursor",l),this.set(t+"ButtonElement",s),this.set(t+"TextElement",u)},o._addVerticalTrigger=function(t,e,n,i){var o=this.get("slider").get(t+"HandleElement"),a=o.addShape("circle",{attrs:r.mix({x:0,y:0,r:i},e)}),s=o.addShape("text",{attrs:r.mix(n,{x:i+10,y:0,textAlign:"start",textBaseline:"middle"})}),u="vertical"===this.get("layout")?"ns-resize":"ew-resize";a.attr("cursor",u),s.attr("cursor",u),this.set(t+"ButtonElement",a),this.set(t+"TextElement",s)},o._renderTrigger=function(){var t=this.get("firstItem"),e=this.get("lastItem"),n=this.get("layout"),i=this.get("textStyle"),o=this.get("triggerAttr"),a=r.mix({},o),s=r.mix({},o),u=r.mix({text:this._formatItemValue(t.value)+""},i),l=r.mix({text:this._formatItemValue(e.value)+""},i);"vertical"===n?(this._addVerticalTrigger("min",a,u,5),this._addVerticalTrigger("max",s,l,16)):(this._addHorizontalTrigger("min",a,u,5),this._addHorizontalTrigger("max",s,l,16))},o._bindEvents=function(){var t=this;this.get("slidable")&&this.get("slider").on("sliderchange",(function(e){var n=e.range,r=t.get("firstItem").value,i=t.get("lastItem").value,o=r+n[0]/100*(i-r),a=r+n[1]/100*(i-r),s=5+n[0]/100*11,u=5+n[1]/100*11;t._updateElement(o,a,s,u);var l=new Event("itemfilter",e,!0,!0);l.range=[o,a],t.emit("itemfilter",l)}))},o._updateElement=function(e,n,r,i){t.prototype._updateElement.call(this,e,n);var o=this.get("minTextElement"),a=this.get("maxTextElement"),s=this.get("minButtonElement"),u=this.get("maxButtonElement");if(s.attr("r",r),u.attr("r",i),"vertical"===this.get("layout"))o.attr("x",r+10),a.attr("x",i+10);else{var l=-this.get("height")/2;o.attr("y",l+r+10),a.attr("y",l+i+10)}},o._addCircle=function(t,e,n,i,o){var a=this.get("group").addGroup(),s=this.get("_unslidableCircleStyle"),u=this.get("textStyle"),l=this.get("titleShape"),c=this.get("titleGap");l&&(c+=l.getBBox().height),a.addShape("circle",{attrs:r.mix({x:t,y:e+c,r:0===n?1:n},s)}),"vertical"===this.get("layout")?a.addShape("text",{attrs:r.mix({x:o+20+this.get("textOffset"),y:e+c,text:0===i?"0":i},u)}):a.addShape("text",{attrs:r.mix({x:t,y:e+c+o+13+this.get("textOffset"),text:0===i?"0":i},u)})},o._renderUnslidable=function(){var t=this.get("firstItem").value,e=this.get("lastItem").value;if(t>e){var n=e;e=t,t=n}var r=this._formatItemValue(t),i=this._formatItemValue(e),o=t<5?5:t,a=e>16?16:e;o>a&&(o=5,a=16),"vertical"===this.get("layout")?(this._addCircle(a,a,o,r,2*a),this._addCircle(a,2*a+16+o,a,i,2*a)):(this._addCircle(a,a,o,r,2*a),this._addCircle(2*a+16+o,a,a,i,2*a))},o.activate=function(e){this.get("slidable")&&t.prototype.activate.call(this,e)},i}(i);t.exports=o},function(t,e,n){var r=n(3),i=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=i.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"size-legend",width:100,height:200,_unslidableElementStyle:{fill:"#4E7CCC",fillOpacity:1},frontMiddleBarStyle:{fill:"rgb(64, 141, 251)"}})},o._renderSliderShape=function(){var t=this.get("slider").get("backgroundElement"),e=this.get("layout"),n=this.get("width"),i=this.get("height"),o=this.get("height")/2,a=this.get("frontMiddleBarStyle"),s="vertical"===e?[[0,0],[n,0],[n,i],[n-4,i]]:[[0,o+i/2],[0,o+i/2-4],[n,o-i/2],[n,o+i/2]];return this._addMiddleBar(t,"Polygon",r.mix({points:s},a))},o._renderUnslidable=function(){var t=this.get("layout"),e=this.get("width"),n=this.get("height"),i=this.get("frontMiddleBarStyle"),o="vertical"===t?[[0,0],[e,0],[e,n],[e-4,n]]:[[0,n],[0,n-4],[e,0],[e,n]];this.get("group").addGroup().addShape("Polygon",{attrs:r.mix({points:o},i)});var a=this._formatItemValue(this.get("firstItem").value),s=this._formatItemValue(this.get("lastItem").value);"vertical"===this.get("layout")?(this._addText(e+10,n-3,a),this._addText(e+10,3,s)):(this._addText(0,n,a),this._addText(e,n,s))},o._addText=function(t,e,n){var i=this.get("group").addGroup(),o=this.get("textStyle"),a=this.get("titleShape"),s=this.get("titleGap");a&&(s+=a.getBBox().height),"vertical"===this.get("layout")?i.addShape("text",{attrs:r.mix({x:t+this.get("textOffset"),y:e,text:0===n?"0":n},o)}):(e+=s+this.get("textOffset")-20,a||(e+=10),i.addShape("text",{attrs:r.mix({x:t,y:e,text:0===n?"0":n},o)}))},i}(n(67));t.exports=i},function(t,e,n){var r=n(3),i=r.DomUtil,o=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=o.prototype;return a.getDefaultCfg=function(){return{range:null,middleAttr:{fill:"#fff",fillOpacity:0},backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},a._beforeRenderUI=function(){var t=this.get("layout"),e=this.get("backgroundElement"),n=this.get("minHandleElement"),r=this.get("maxHandleElement"),i=this.addShape("rect",{attrs:this.get("middleAttr")}),o="vertical"===t?"ns-resize":"ew-resize";this.add([e,n,r]),this.set("middleHandleElement",i),e.set("zIndex",0),i.set("zIndex",1),n.set("zIndex",2),r.set("zIndex",2),i.attr("cursor","move"),n.attr("cursor",o),r.attr("cursor",o),this.sort()},a._renderUI=function(){"horizontal"===this.get("layout")?this._renderHorizontal():this._renderVertical()},a._transform=function(t){var e=this.get("range"),n=e[0]/100,r=e[1]/100,i=this.get("width"),o=this.get("height"),a=this.get("minHandleElement"),s=this.get("maxHandleElement"),u=this.get("middleHandleElement");a.resetMatrix(),s.resetMatrix(),"horizontal"===t?(u.attr({x:i*n,y:0,width:(r-n)*i,height:o}),a.translate(n*i,o),s.translate(r*i,o)):(u.attr({x:0,y:o*(1-r),width:i,height:(r-n)*o}),a.translate(1,(1-n)*o),s.translate(1,(1-r)*o))},a._renderHorizontal=function(){this._transform("horizontal")},a._renderVertical=function(){this._transform("vertical")},a._bindUI=function(){this.on("mousedown",r.wrapBehavior(this,"_onMouseDown"))},a._isElement=function(t,e){var n=this.get(e);return t===n||!!n.isGroup&&n.get("children").indexOf(t)>-1},a._getRange=function(t,e){var n=t+e;return n=(n=n>100?100:n)<0?0:n},a._updateStatus=function(t,e){var n="x"===t?this.get("width"):this.get("height");t=r.upperFirst(t);var i,o=this.get("range"),a=this.get("page"+t),s=this.get("currentTarget"),u=this.get("rangeStash"),l="vertical"===this.get("layout")?-1:1,c=e["page"+t],h=(c-a)/n*100*l;o[1]<=o[0]?(this._isElement(s,"minHandleElement")||this._isElement(s,"maxHandleElement"))&&(o[0]=this._getRange(h,o[0]),o[1]=this._getRange(h,o[0])):(this._isElement(s,"minHandleElement")&&(o[0]=this._getRange(h,o[0])),this._isElement(s,"maxHandleElement")&&(o[1]=this._getRange(h,o[1]))),this._isElement(s,"middleHandleElement")&&(i=u[1]-u[0],o[0]=this._getRange(h,o[0]),o[1]=o[0]+i,o[1]>100&&(o[1]=100,o[0]=o[1]-i)),this.emit("sliderchange",{range:o}),this.set("page"+t,c),this._renderUI(),this.get("canvas").draw()},a._onMouseDown=function(t){var e=t.currentTarget,n=t.event,r=this.get("range");n.stopPropagation(),n.preventDefault(),this.set("pageX",n.pageX),this.set("pageY",n.pageY),this.set("currentTarget",e),this.set("rangeStash",[r[0],r[1]]),this._bindCanvasEvents()},a._bindCanvasEvents=function(){var t=this.get("canvas").get("containerDOM");this.onMouseMoveListener=i.addEventListener(t,"mousemove",r.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=i.addEventListener(t,"mouseup",r.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=i.addEventListener(t,"mouseleave",r.wrapBehavior(this,"_onCanvasMouseUp"))},a._onCanvasMouseMove=function(t){this._mouseOutArea(t)||("horizontal"===this.get("layout")?this._updateStatus("x",t):this._updateStatus("y",t))},a._onCanvasMouseUp=function(){this._removeDocumentEvents()},a._removeDocumentEvents=function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove()},a._mouseOutArea=function(t){var e=this.get("canvas").get("el").getBoundingClientRect(),n=this.get("parent"),r=n.getBBox(),i=n.attr("matrix")[6],o=n.attr("matrix")[7],a=i+r.width,s=o+r.height,u=t.clientX-e.x,l=t.clientY-e.y;return u<i||u>a||l<o||l>s},o}(r.Group);t.exports=o},function(t,e,n){function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var o=n(31),a=n(68),s=n(3),u=s.DomUtil,l=n(265),c=n(116),h=n(118),f=n(117),p=o.Marker;function d(t,e){return t.getElementsByClassName(e)[0]}var v=function(t){var e,n;n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=a.prototype;function a(e){var n;n=t.call(this,e)||this,s.assign(i(n),h),s.assign(i(n),f);var r=l;n.style=function(t,e){return Object.keys(t).forEach((function(n){e[n]&&(t[n]=s.mix(t[n],e[n]))})),t}(r,e),n._init_(),n.get("items")&&n.render();var o=n.get("crosshairs");if(o){var a="rect"===o.type?n.get("backPlot"):n.get("frontPlot"),u=new c(s.mix({plot:a,plotRange:n.get("plotRange"),canvas:n.get("canvas")},n.get("crosshairs")));u.hide(),n.set("crosshairGroup",u)}return n}return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return s.mix({},e,{containerTpl:' <div class="g2-tooltip"> <div class="g2-tooltip-title"></div><ul class="g2-tooltip-list"></ul></div>',itemTpl:'<li data-index={index}>\n      <svg viewBox="0 0 5 5" class="g2-tooltip-marker"></svg>\n      {name}<span class="g2-tooltip-value">{value}</span></li>',htmlContent:null,follow:!0,enterable:!1})},o._init_=function(){var t,e=this.get("containerTpl"),n=this.get("canvas").get("el").parentNode;if(!this.get("htmlContent")){if(/^\#/.test(e)){var r=e.replace("#","");t=document.getElementById(r)}else t=u.createDom(e),u.modifyCSS(t,this.style["g2-tooltip"]),n.appendChild(t),n.style.position="relative";this.set("container",t)}},o.render=function(){if(this.clear(),this.get("htmlContent")){var t=this.get("canvas").get("el").parentNode,e=this._getHtmlContent();t.appendChild(e),this.set("container",e)}else this._renderTpl()},o._renderTpl=function(){var t=this,e=t.get("showTitle"),n=t.get("titleContent"),r=t.get("container"),i=d(r,"g2-tooltip-title"),o=d(r,"g2-tooltip-list"),a=t.get("items");i&&e&&(u.modifyCSS(i,t.style["g2-tooltip-title"]),i.innerHTML=n),o&&(u.modifyCSS(o,t.style["g2-tooltip-list"]),s.each(a,(function(e,n){o.appendChild(t._addItem(e,n))})))},o.clear=function(){var t=this.get("container");if(this.get("htmlContent"))t&&t.remove();else{var e=d(t,"g2-tooltip-title"),n=d(t,"g2-tooltip-list");e&&(e.innerHTML=""),n&&(n.innerHTML="")}},o.show=function(){var e=this.get("container");if(e&&!this.destroyed){e.style.visibility="visible",e.style.display="block";var n=this.get("crosshairGroup");n&&n.show();var r=this.get("markerGroup");r&&r.show(),t.prototype.show.call(this),this.get("canvas").draw()}},o.hide=function(){var e=this.get("container");if(e&&!this.destroyed){e.style.visibility="hidden",e.style.display="none";var n=this.get("crosshairGroup");n&&n.hide();var r=this.get("markerGroup");r&&r.hide(),t.prototype.hide.call(this),this.get("canvas").draw()}},o.destroy=function(){var e=this.get("container"),n=this.get("containerTpl");e&&!/^\#/.test(n)&&e.parentNode.removeChild(e);var r=this.get("crosshairGroup");r&&r.destroy();var i=this.get("markerGroup");i&&i.remove(),t.prototype.destroy.call(this)},o._getMarkerSvg=function(t){var e,n=t.marker||{},r=n.activeSymbol||n.symbol;return s.isFunction(r)?e=r:s.isString(r)&&(e=p.Symbols[r]),'<path d="'+(e=s.isFunction(e)?e:p.Symbols.circle)(2.5,2.5,2.5).reduce((function(t,e){return""+t+e[0]+e.slice(1).join(",")}),"")+'" fill="'+(n.fill||"none")+'" stroke="'+(n.stroke||"none")+'" />'},o._addItem=function(t,e){var n=this.get("itemTpl"),i=s.substitute(n,s.mix({index:e},t)),o=u.createDom(i);u.modifyCSS(o,this.style["g2-tooltip-list-item"]);var a=d(o,"g2-tooltip-marker");if(a){u.modifyCSS(a,r({},this.style["g2-tooltip-marker"],{borderRadius:"unset"}));var l=this._getMarkerSvg(t);a.innerHTML=l}var c=d(o,"g2-tooltip-value");return c&&u.modifyCSS(c,this.style["g2-tooltip-value"]),o},o._getHtmlContent=function(){var t=this.get("htmlContent")(this.get("titleContent"),this.get("items"));return u.createDom(t)},o.setPosition=function(e,n,r){var i,o=this.get("container"),a=this.get("canvas").get("el"),l=u.getWidth(a),c=u.getHeight(a),h=o.clientWidth,f=o.clientHeight,p=e,d=n,v=this.get("prePosition")||{x:0,y:0};if(h||(o.style.display="block",h=o.clientWidth,f=o.clientHeight,o.style.display="none"),this.get("enterable")?(i=[e,n-=o.clientHeight/2],v&&e-v.x>0?e-=o.clientWidth+1:e+=1):this.get("position")?(e=(i=this._calcTooltipPosition(e,n,this.get("position"),h,f,r))[0],n=i[1]):(e=(i=this._constraintPositionInBoundary(e,n,h,f,l,c))[0],n=i[1]),this.get("inPlot")){var g=this.get("plotRange");e=(i=this._constraintPositionInPlot(e,n,h,f,g,this.get("enterable")))[0],n=i[1]}var y=this.get("markerItems");s.isEmpty(y)||(p=y[0].x,d=y[0].y),this.set("prePosition",i),this.get("follow")&&(o.style.left=e+"px",o.style.top=n+"px");var m=this.get("crosshairGroup");if(m){var _=this.get("items");m.setPosition(p,d,_)}t.prototype.setPosition.call(this,e,n)},a}(a);t.exports=v},function(t,e,n){var r=n(68);r.Html=n(262),r.Canvas=n(115),r.Mini=n(264),t.exports=r},function(t,e,n){var r=n(3),i=n(115),o=n(19).FONT_FAMILY,a=r.DomUtil,s=r.MatrixUtil,u=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var u=i.prototype;return u.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{boardStyle:{x:0,y:0,width:0,height:0,radius:3},valueStyle:{x:0,y:0,text:"",fontFamily:o,fontSize:12,stroke:"#fff",lineWidth:2,fill:"black",textBaseline:"top",textAlign:"start"},padding:{top:5,right:5,bottom:0,left:5},triangleWidth:10,triangleHeight:4})},u._init_=function(){var t=this.get("padding"),e=this.get("frontPlot").addGroup();this.set("container",e);var n=e.addShape("rect",{attrs:r.mix({},this.get("boardStyle"))});this.set("board",n);var i=e.addShape("path",{attrs:{fill:this.get("boardStyle").fill}});this.set("triangleShape",i);var o=e.addGroup();o.move(t.left,t.top);var a=o.addShape("text",{attrs:r.mix({},this.get("valueStyle"))});this.set("valueShape",a)},u.render=function(){this.clear();var t=this.get("board"),e=this.get("valueShape"),n=this.get("padding"),r=this.get("items")[0];e&&e.attr("text",r.value);var i=e?e.getBBox():{width:80,height:30},o=n.left+i.width+n.right,a=n.top+i.height+n.bottom;t.attr("width",o),t.attr("height",a),this._centerTriangleShape()},u.clear=function(){this.get("valueShape").attr("text","")},u.setPosition=function(t,e,n){var r=this.get("container"),i=this.get("plotRange"),o=r.getBBox(),u=o.width,l=o.height;if(t-=u/2,!n||"point"!==n.name&&"interval"!==n.name||(e=n.getBBox().y),e-=l,this.get("inPlot"))t<i.tl.x?(t=i.tl.x,this._leftTriangleShape()):t+u/2>i.tr.x?(t=i.tr.x-u,this._rightTriangleShape()):this._centerTriangleShape(),e<i.tl.y?e=i.tl.y:e+l>i.bl.y&&(e=i.bl.y-l);else{var c=this.get("canvas").get("el"),h=a.getWidth(c),f=a.getHeight(c);t<0?(t=0,this._leftTriangleShape()):t+u/2>h?(t=h-u,this._rightTriangleShape()):this._centerTriangleShape(),e<0?e=0:e+l>f&&(e=f-l)}var p=s.transform([1,0,0,0,1,0,0,0,1],[["t",t,e]]);r.stopAnimate(),r.animate({matrix:p},this.get("animationDuration"))},u._centerTriangleShape=function(){var t=this.get("triangleShape"),e=this.get("triangleWidth"),n=this.get("triangleHeight"),r=this.get("board").getBBox(),i=r.width,o=r.height,a=[["M",0,0],["L",e,0],["L",e/2,n],["L",0,0],["Z"]];t.attr("path",a),t.move(i/2-e/2,o-1)},u._leftTriangleShape=function(){var t=this.get("triangleShape"),e=this.get("triangleWidth"),n=this.get("triangleHeight"),r=this.get("board").getBBox().height,i=[["M",0,0],["L",e,0],["L",0,n+3],["L",0,0],["Z"]];t.attr("path",i),t.move(0,r-3)},u._rightTriangleShape=function(){var t=this.get("triangleShape"),e=this.get("triangleWidth"),n=this.get("triangleHeight"),r=this.get("board").getBBox(),i=r.width,o=r.height,a=[["M",0,0],["L",e,0],["L",e,n+4],["L",0,0],["Z"]];t.attr("path",a),t.move(i-e-1,o-4)},i}(i);t.exports=u},function(t,e,n){var r,i=n(19).FONT_FAMILY,o=((r={crosshairs:!1,offset:15})["g2-tooltip"]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:i,lineHeight:"20px",padding:"10px 10px 6px 10px"},r["g2-tooltip-title"]={marginBottom:"4px"},r["g2-tooltip-list"]={margin:0,listStyleType:"none",padding:0},r["g2-tooltip-list-item"]={marginBottom:"4px"},r["g2-tooltip-marker"]={width:"5px",height:"5px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r["g2-tooltip-value"]={display:"inline-block",float:"right",marginLeft:"30px"},r);t.exports=o},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e,n){return(u="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=n(10),h=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=i(this,l(e).call(this,t)))._init(),n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),a(e,[{key:"getDefaultCfg",value:function(){var t=u(l(e.prototype),"getDefaultCfg",this).call(this);return c({},t,{start:{x:0,y:0},end:{x:0,y:0},type:"cartesian",isRect:!0})}}]),a(e,[{key:"_init",value:function(){var t=this.start,e=this.end,n={start:t.x,end:e.x},r={start:t.y,end:e.y};this.x=n,this.y=r}},{key:"convertPoint",value:function(t){var e,n;return this.isTransposed?(e=t.y,n=t.x):(e=t.x,n=t.y),{x:this.convertDim(e,"x"),y:this.convertDim(n,"y")}}},{key:"invertPoint",value:function(t){var e=this.invertDim(t.x,"x"),n=this.invertDim(t.y,"y");return this.isTransposed?{x:n,y:e}:{x:e,y:n}}}]),e}(n(43));t.exports=h},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e,n){return(u="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=n(56),h=n(55),f=n(10),p=n(43),d=c.vec2,v=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=i(this,l(e).call(this,t)))._init(),n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),a(e,[{key:"getDefaultCfg",value:function(){var t=u(l(e.prototype),"getDefaultCfg",this).call(this);return f({},t,{startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,innerRadius:0,type:"helix",isHelix:!0})}}]),a(e,[{key:"_init",value:function(){var t=this.width,e=this.height,n=this.radius,r=this.innerRadius,i=this.startAngle,o=this.endAngle,a=(o-i)/(2*Math.PI)+1,s=Math.min(t,e)/2;n&&n>=0&&n<=1&&(s*=n);var u=Math.floor(s*(1-r)/a),l=u/(2*Math.PI),c={start:i,end:o},h={start:r*s,end:r*s+.99*u};this.a=l,this.d=u,this.x=c,this.y=h}},{key:"getCenter",value:function(){return this.center}},{key:"convertPoint",value:function(t){var e,n,r=this.a,i=this.center;this.isTransposed?(e=t.y,n=t.x):(e=t.x,n=t.y);var o=this.convertDim(e,"x"),a=r*o,s=this.convertDim(n,"y");return{x:i.x+Math.cos(o)*(a+s),y:i.y+Math.sin(o)*(a+s)}}},{key:"invertPoint",value:function(t){var e=this.center,n=this.a,r=this.d+this.y.start,i=d.subtract([],[t.x,t.y],[e.x,e.y]),o=d.angleTo(i,[1,0],!0),a=o*n;d.length(i)<a&&(a=d.length(i));var s=n*(o=2*Math.floor((d.length(i)-a)/r)*Math.PI+o),u=d.length(i)-s;u=h(u,0)?0:u;var l=this.invertDim(o,"x"),c=this.invertDim(u,"y");l=h(l,0)?0:l,c=h(c,0)?0:c;var f={};return f.x=this.isTransposed?c:l,f.y=this.isTransposed?l:c,f}}]),e}(p);t.exports=v},function(t,e,n){"use strict";var r=n(43);r.Cartesian=n(266),r.Rect=r.Cartesian,r.Polar=n(269),r.Helix=n(267),t.exports=r},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e,n){return(u="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=n(56),h=n(55),f=n(10),p=n(43),d=c.mat3,v=c.vec2,g=c.vec3,y=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=i(this,l(e).call(this,t)))._init(),n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),a(e,[{key:"getDefaultCfg",value:function(){var t=u(l(e.prototype),"getDefaultCfg",this).call(this);return f({},t,{startAngle:-Math.PI/2,endAngle:3*Math.PI/2,innerRadius:0,type:"polar",isPolar:!0})}}]),a(e,[{key:"_init",value:function(){for(var t=this.radius,e=this.innerRadius,n=this.center,r=this.startAngle,i=this.endAngle;i<r;)i+=2*Math.PI;this.endAngle=i;var o,a,s=this.getOneBox(),u=s.maxX-s.minX,l=s.maxY-s.minY,c=Math.abs(s.minX)/u,h=Math.abs(s.minY)/l,f=this.width,p=this.height;p/l>f/u?(o=f/u,a={x:n.x-(.5-c)*f,y:n.y-(.5-h)*o*l}):(o=p/l,a={x:n.x-(.5-c)*o*u,y:n.y-(.5-h)*p}),t?t>0&&t<=1?t*=o:(t<=0||t>o)&&(t=o):t=o;var d={start:r,end:i},v={start:e*t,end:t};this.x=d,this.y=v,this.radius=t,this.circleCentre=a,this.center=a}},{key:"getCenter",value:function(){return this.circleCentre}},{key:"getOneBox",value:function(){var t=this.startAngle,e=this.endAngle;if(Math.abs(e-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var n=[0,Math.cos(t),Math.cos(e)],r=[0,Math.sin(t),Math.sin(e)],i=Math.min(t,e);i<Math.max(t,e);i+=Math.PI/18)n.push(Math.cos(i)),r.push(Math.sin(i));return{minX:Math.min.apply(Math,n),maxX:Math.max.apply(Math,n),minY:Math.min.apply(Math,r),maxY:Math.max.apply(Math,r)}}},{key:"getRadius",value:function(){return this.radius}},{key:"convertPoint",value:function(t){var e=this.getCenter(),n=this.isTransposed?t.y:t.x,r=this.isTransposed?t.x:t.y;return n=this.convertDim(n,"x"),r=this.convertDim(r,"y"),{x:e.x+Math.cos(n)*r,y:e.y+Math.sin(n)*r}}},{key:"invertPoint",value:function(t){var e=this.getCenter(),n=[t.x-e.x,t.y-e.y],r=this.x,i=[1,0,0,0,1,0,0,0,1];d.rotate(i,i,r.start);var o=[1,0,0];g.transformMat3(o,o,i),o=[o[0],o[1]];var a=v.angleTo(o,n,r.end<r.start);h(a,2*Math.PI)&&(a=0);var s=v.length(n),u=a/(r.end-r.start);u=r.end-r.start>0?u:-u;var l=this.invertDim(s,"y"),c={};return c.x=this.isTransposed?l:u,c.y=this.isTransposed?u:l,c}}]),e}(p);t.exports=y},function(t,e,n){var r=n(0),i=n(16),o=r.PathUtil;function a(t,e){var n,i,o=function(t){if(r.isEmpty(t))return null;var e=t[0].x,n=t[0].x,i=t[0].y,o=t[0].y;return r.each(t,(function(t){e=e>t.x?t.x:e,n=n<t.x?t.x:n,i=i>t.y?t.y:i,o=o<t.y?t.y:o})),{minX:e,maxX:n,minY:i,maxY:o,centerX:(e+n)/2,centerY:(i+o)/2}}(t.points||t.get("origin").points),a=e.startAngle,s=e.endAngle-a;return e.isTransposed?(n=o.maxY*s,i=o.minY*s):(n=o.maxX*s,i=o.minX*s),{startAngle:i+=a,endAngle:n+=a}}function s(t,e,n){var i={};return t.delay&&(i.delay=r.isFunction(t.delay)?t.delay(e,n):t.delay),i.easing=r.isFunction(t.easing)?t.easing(e,n):t.easing,i.duration=r.isFunction(t.duration)?t.duration(e,n):t.duration,i.callback=t.callback,i}function u(t,e){var n,r=t._id,i=t.get("index"),o=t.getBBox(),a=t.get("origin").points,u=(o.minX+o.maxX)/2,l=[u,n=a[0].y-a[1].y<=0?o.maxY:o.minY,1];t.apply(l),t.attr("transform",[["t",-u,-n],["s",1,.01],["t",u,n]]);var c={transform:[["t",-u,-n],["s",1,100],["t",u,n]]},h=s(e,i,r);t.animate(c,h.duration,h.easing,h.callback,h.delay)}function l(t,e){var n,r=t._id,i=t.get("index"),o=t.getBBox(),a=t.get("origin").points,u=(o.minY+o.maxY)/2,l=[n=a[0].y-a[1].y>0?o.maxX:o.minX,u,1];t.apply(l),t.attr({transform:[["t",-n,-u],["s",.01,1],["t",n,u]]});var c={transform:[["t",-n,-u],["s",100,1],["t",n,u]]},h=s(e,i,r);t.animate(c,h.duration,h.easing,h.callback,h.delay)}function c(t,e,n){var r,i,o=t._id,a=t.get("index");if(n.isPolar&&"point"!==t.name)r=n.getCenter().x,i=n.getCenter().y;else{var u=t.getBBox();r=(u.minX+u.maxX)/2,i=(u.minY+u.maxY)/2}var l=[r,i,1];t.apply(l),t.attr({transform:[["t",-r,-i],["s",.01,.01],["t",r,i]]});var c={transform:[["t",-r,-i],["s",100,100],["t",r,i]]},h=s(e,a,o);t.animate(c,h.duration,h.easing,h.callback,h.delay)}function h(t,e){if("path"===t.get("type")){var n=t._id,r=t.get("index"),i=o.pathToAbsolute(t.attr("path"));t.attr("path",[i[0]]);var a={path:i},u=s(e,r,n);t.animate(a,u.duration,u.easing,u.callback,u.delay)}}function f(t,e,n,r,o){var a,u=function(t){var e,n,r,o,a,s=t.start,u=t.end,l=t.getWidth(),c=t.getHeight();return t.isPolar?(o=t.getRadius(),r=t.getCenter(),e=t.startAngle,n=t.endAngle,(a=new i.Fan({attrs:{x:r.x,y:r.y,rs:0,re:o+200,startAngle:e,endAngle:e}})).endState={endAngle:n}):(a=new i.Rect({attrs:{x:s.x-200,y:u.y-200,width:t.isTransposed?l+400:0,height:t.isTransposed?0:c+400}}),t.isTransposed?a.endState={height:c+400}:a.endState={width:l+400}),a.isClip=!0,a}(n),l=t.get("canvas"),c=t._id,h=t.get("index");r?(u.attr("startAngle",r),u.attr("endAngle",r),a={endAngle:o}):a=u.endState,u.set("canvas",l),t.attr("clip",u),t.setSilent("animating",!0);var f=s(e,h,c);u.animate(a,f.duration,f.easing,(function(){t&&!t.get("destroyed")&&(t.attr("clip",null),t.setSilent("cacheShape",null),t.setSilent("animating",!1),u.remove())}),f.delay)}function p(t,e){var n=t._id,i=t.get("index"),o=r.isNil(t.attr("fillOpacity"))?1:t.attr("fillOpacity"),a=r.isNil(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity");t.attr("fillOpacity",0),t.attr("strokeOpacity",0);var u={fillOpacity:o,strokeOpacity:a},l=s(e,i,n);t.animate(u,l.duration,l.easing,l.callback,l.delay)}function d(t,e,n){var r=a(t,n),i=r.endAngle;f(t,e,n,r.startAngle,i)}t.exports={enter:{clipIn:f,zoomIn:c,pathIn:h,scaleInY:u,scaleInX:l,fanIn:d,fadeIn:p},leave:{lineWidthOut:function(t,e){var n={lineWidth:0,opacity:0},r=t._id,i=s(e,t.get("index"),r);t.animate(n,i.duration,i.easing,(function(){t.remove()}),i.delay)},zoomOut:function(t,e,n){var r,i,o=t._id,a=t.get("index");if(n.isPolar&&"point"!==t.name)r=n.getCenter().x,i=n.getCenter().y;else{var u=t.getBBox();r=(u.minX+u.maxX)/2,i=(u.minY+u.maxY)/2}var l=[r,i,1];t.apply(l);var c={transform:[["t",-r,-i],["s",.01,.01],["t",r,i]]},h=s(e,a,o);t.animate(c,h.duration,h.easing,(function(){t.remove()}),h.delay)},pathOut:function(t,e){if("path"===t.get("type")){var n=t._id,r=t.get("index"),i={path:[o.pathToAbsolute(t.attr("path"))[0]]},a=s(e,r,n);t.animate(i,a.duration,a.easing,(function(){t.remove()}),a.delay)}},fadeOut:function(t,e){var n=t._id,r={fillOpacity:0,strokeOpacity:0},i=s(e,t.get("index"),n);t.animate(r,i.duration,i.easing,(function(){t.remove()}),i.delay)}},appear:{clipIn:f,zoomIn:c,pathIn:h,scaleInY:u,scaleInX:l,fanIn:d,fadeIn:p},update:{fadeIn:p,fanIn:d,lineSlideLeft:function(t,e,n){if("line"===t.name){var r=t.get("canvas"),a=t.get("cacheShape"),u=t._id,l=t.get("index"),c=new i.Rect({attrs:{x:n.start.x,y:n.end.y,width:n.getWidth(),height:n.getHeight()}});c.isClip=!0,c.set("canvas",r);var h=o.pathToAbsolute(a.attrs.path),f=o.pathToAbsolute(t.attr("path")),p=h[1][1]-h[0][1],d=h[h.length-1][1]+p,v=f[f.length-1][2],g=h.concat([["L",d,v]]);t.apply([0,0,1]),t.attr("clip",c),t.attr("path",g);var y={transform:[["t",-p,0]]},m=s(e,l,u);t.animate(y,m.duration,m.easing,(function(){t&&!t.get("destroyed")&&(t.attr("path",f),t.attr({transform:[["t",p,0]]}),t.attr("clip",null),t.setSilent("cacheShape",null),c.remove())}),m.delay)}},areaSlideLeft:function(t,e,n){if("area"===t.name){var r=t.get("canvas"),a=t.get("cacheShape"),u=t._id,l=t.get("index"),c=new i.Rect({attrs:{x:n.start.x,y:n.end.y,width:n.getWidth(),height:n.getHeight()}});c.isClip=!0,c.set("canvas",r);var h=o.pathToAbsolute(a.attrs.path),f=o.pathToAbsolute(t.attr("path")),p=h[1][1]-h[0][1],d=Math.floor(h.length/2),v=h[d-1][1]+p,g=f[d-1][2],y=[].concat(h.slice(0,d),[["L",v,g],["L",v,f[d][2]]],h.slice(d));t.apply([0,0,1]),t.attr("clip",c),t.attr("path",y);var m={transform:[["t",-p,0]]},_=s(e,l,u);t.animate(m,_.duration,_.easing,(function(){t&&!t.get("destroyed")&&(t.attr("path",f),t.attr({transform:[["t",p,0]]}),t.attr("clip",null),t.setSilent("cacheShape",null),c.remove())}),_.delay)}}}}},function(t,e,n){var r=n(0),i=n(119),o=r.MatrixUtil.mat3;function a(t,e){var n=[];if(!1===t.get("animate"))return[];var i=t.get("children");return r.each(i,(function(t){if(t.isGroup)n=n.concat(a(t,e));else if(t.isShape&&t._id){var r=t._id;(r=r.split("-")[0])===e&&n.push(t)}})),n}function s(t,e,n,r){return r?i.Action[n][r]:i.getAnimation(t,e,n)}function u(t,e,n){var o=i.getAnimateCfg(t,e);return n&&n[e]?r.deepMix({},o,n[e]):o}function l(t,e,n,i){var a,l,c=!1;if(i){var h=[],f=[];r.each(e,(function(e){var n=t[e._id];n?(e.setSilent("cacheShape",n),h.push(e),delete t[e._id]):f.push(e)})),r.each(t,(function(t){var e=t.name,i=t.coord,h=t._id,f=t.attrs,p=t.index,d=t.type;if(l=u(e,"leave",t.animateCfg),a=s(e,i,"leave",l.animation),r.isFunction(a)){var v=n.addShape(d,{attrs:f,index:p});if(v._id=h,v.name=e,i&&"label"!==e){var g=v.getMatrix(),y=o.multiply([],g,i.matrix);v.setMatrix(y)}c=!0,a(v,l,i)}})),r.each(h,(function(t){var e=t.name,n=t.get("coord"),i=t.get("cacheShape").attrs;if(!r.isEqual(i,t.attr())){if(l=u(e,"update",t.get("animateCfg")),a=s(e,n,"update",l.animation),r.isFunction(a))a(t,l,n);else{var o=r.cloneDeep(t.attr());t.attr(i),t.animate(o,l.duration,l.easing,(function(){t.setSilent("cacheShape",null)}))}c=!0}})),r.each(f,(function(t){var e=t.name,n=t.get("coord");l=u(e,"enter",t.get("animateCfg")),a=s(e,n,"enter",l.animation),r.isFunction(a)&&(a(t,l,n),c=!0)}))}else r.each(e,(function(t){var e=t.name,n=t.get("coord");l=u(e,"appear",t.get("animateCfg")),a=s(e,n,"appear",l.animation),r.isFunction(a)&&(a(t,l,n),c=!0)}));return c}t.exports={execAnimation:function(t,e){var n=t.get("middlePlot"),i=t.get("backPlot"),o=t.get("_id"),s=t.get("canvas"),u=s.get(o+"caches")||[];0===u.length&&(e=!1);var c=a(n,o),h=a(i,o),f=c.concat(h);s.setSilent(o+"caches",function(t){var e={};return r.each(t,(function(t){if(t._id&&!t.isClip){var n=t._id;e[n]={_id:n,type:t.get("type"),attrs:r.cloneDeep(t.attr()),name:t.name,index:t.get("index"),animateCfg:t.get("animateCfg"),coord:t.get("coord")}}})),e}(f)),l(u,e?f:c,s,e)||s.draw()}}},function(t,e,n){var r=n(0),i=n(30).Axis,o=r.MatrixUtil.vec2;function a(t,e){return void 0===e&&(e=0),"middle"===t&&(e=.5),t.includes("%")&&(e=parseInt(t,10)/100),e}var s=function(){function t(t){this.visible=!0,this.canvas=null,this.container=null,this.coord=null,this.options=null,this.axes=[],r.mix(this,t)}var e=t.prototype;return e._isHide=function(t){var e=this.options;return!(!e||!1!==e[t])},e._getMiddleValue=function(t,e,n,r){if(0===t&&!r)return 0;if(1===t)return 1;var i=e[n+1].value;return r||1!==i?(t+i)/2:1},e._getLineRange=function(t,e,n,r){var i,o,s,u=e.field,l=this.options,c="";if(l[u]&&l[u].position&&(c=l[u].position),"x"===n){var h="top"===c?1:0;i={x:0,y:h=a(c,h)},o={x:1,y:h},s=!1}else{if(r){var f="left"===c?0:1;i={x:f=a(c,f),y:0},o={x:f,y:1}}else{var p="right"===c?1:0;i={x:p=a(c,p),y:0},o={x:p,y:1}}s=!0}return{start:i=t.convert(i),end:o=t.convert(o),isVertical:s}},e._getLineCfg=function(t,e,n,r){var i=this._getLineRange(t,e,n,r),o=i.isVertical,a=i.start,s=i.end,u=t.center;return t.isTransposed&&(o=!o),{isVertical:o,factor:o&&a.x>u.x||!o&&a.y>u.y?1:-1,start:a,end:s}},e._getCircleCfg=function(t){var e,n={},r=t.x,i=t.y,a=i.start>i.end;e=t.isTransposed?{x:a?0:1,y:0}:{x:0,y:a?0:1},e=t.convert(e);var s,u=t.circleCentre,l=[e.x-u.x,e.y-u.y],c=[1,0],h=(s=e.y>u.y?o.angle(l,c):-1*o.angle(l,c))+(r.end-r.start);return n.startAngle=s,n.endAngle=h,n.center=u,n.radius=Math.sqrt(Math.pow(e.x-u.x,2)+Math.pow(e.y-u.y,2)),n.inner=t.innerRadius||0,n},e._getRadiusCfg=function(t){var e,n,r=t.x.start<0?-1:1;return t.isTransposed?(e={x:0,y:0},n={x:1,y:0}):(e={x:0,y:0},n={x:0,y:1}),{factor:r,start:t.convert(e),end:t.convert(n)}},e._getAxisPosition=function(t,e,n,r){var i="",o=this.options;if(o[r]&&o[r].position)i=o[r].position;else{var a=t.type;t.isRect?"x"===e?i="bottom":"y"===e&&(i=n?"right":"left"):i="helix"===a?"helix":"x"===e?t.isTransposed?"radius":"circle":t.isTransposed?"circle":"radius"}return i},e._getAxisDefaultCfg=function(t,e,n,i){var o=this.viewTheme,a={},s=this.options,u=e.field;if((a=r.deepMix({},o.axis[i],a,s[u])).viewTheme=o,a.title){var l=r.isPlainObject(a.title)?a.title:{};l.text=l.text||e.alias||u,r.deepMix(a,{title:l})}return a.ticks=e.getTicks(),t.isPolar&&!e.isCategory&&"x"===n&&Math.abs(t.endAngle-t.startAngle)===2*Math.PI&&a.ticks.pop(),a.coord=t,a.label&&r.isNil(a.label.autoRotate)&&(a.label.autoRotate=!0),s.hasOwnProperty("xField")&&s.xField.hasOwnProperty("grid")&&"left"===a.position&&r.deepMix(a,s.xField),a},e._getAxisCfg=function(t,e,n,i,o,a){void 0===o&&(o="");var s=this,u=s._getAxisPosition(t,i,o,e.field),l=s._getAxisDefaultCfg(t,e,i,u);if(!r.isEmpty(l.grid)&&n){var c=[],h=[],f=function(t){var e=[];if(t.length>0){var n=(e=t.slice(0))[0],r=e[e.length-1];0!==n.value&&e.unshift({value:0}),1!==r.value&&e.push({value:1})}return e}(n.getTicks());if(f.length){var p=function(t,e,n){var r=[];return t.length<1||(t.length>=2&&e&&n&&r.push({text:"",tickValue:"",value:0}),0!==t[0].value&&r.push({text:"",tickValue:"",value:0}),1!==(r=r.concat(t))[r.length-1].value&&r.push({text:"",tickValue:"",value:1})),r}(l.ticks,e.isLinear,"center"===l.grid.align);r.each(p,(function(n,u){h.push(n.tickValue);var d=[],v=n.value;if("center"===l.grid.align&&(v=s._getMiddleValue(v,p,u,e.isLinear)),!r.isNil(v)){var g=t.x,y=t.y;r.each(f,(function(e){var n="x"===i?v:e.value,r="x"===i?e.value:v,o=t.convert({x:n,y:r});if(t.isPolar){var a=t.circleCentre;y.start>y.end&&(r=1-r),o.flag=g.start>g.end?0:1,o.radius=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2))}d.push(o)})),c.push({_id:a+"-"+i+o+"-grid-"+n.tickValue,points:d})}}))}l.grid.items=c,l.grid.tickValues=h}return l.type=e.type,l},e._getHelixCfg=function(t){for(var e={},n=t.a,r=t.startAngle,i=t.endAngle,o=[],a=0;a<=100;a++){var s=t.convert({x:a/100,y:0});o.push(s.x),o.push(s.y)}var u=t.convert({x:0,y:0});return e.a=n,e.startAngle=r,e.endAngle=i,e.crp=o,e.axisStart=u,e.center=t.center,e.inner=t.y.start,e},e._drawAxis=function(t,e,n,o,a,s,u){var l,c,h=this.container,f=this.canvas;"cartesian"===t.type?(l=i.Line,c=this._getLineCfg(t,e,o,u)):"helix"===t.type&&"x"===o?(l=i.Helix,c=this._getHelixCfg(t)):"x"===o?(l=i.Circle,c=this._getCircleCfg(t)):(l=i.Line,c=this._getRadiusCfg(t));var p=this._getAxisCfg(t,e,n,o,u,a);p=r.mix({},p,c),"y"===o&&s&&"circle"===s.get("type")&&(p.circle=s),p._id=a+"-"+o,r.isNil(u)||(p._id=a+"-"+o+u),r.mix(p,{canvas:f,group:h.addGroup({viewId:a})});var d=new l(p);return d.render(),this.axes.push(d),d},e.createAxis=function(t,e,n){var i,o=this,a=this.coord,s=a.type;"theta"===s||"polar"===s&&a.isTransposed||(t&&!o._isHide(t.field)&&(i=o._drawAxis(a,t,e[0],"x",n)),r.isEmpty(e)||"helix"===s||r.each(e,(function(e,r){o._isHide(e.field)||o._drawAxis(a,e,t,"y",n,i,r)})))},e.changeVisible=function(t){var e=this.axes;r.each(e,(function(e){e.set("visible",t)}))},e.clear=function(){var t=this.axes;r.each(t,(function(t){t.destroy()})),this.axes=[]},t}();t.exports=s},function(t,e,n){var r=n(0),i=n(268),o=function(){function t(t){this.type="rect",this.actions=[],this.cfg={},r.mix(this,t),this.option=t||{}}var e=t.prototype;return e.reset=function(t){return this.actions=t.actions||[],this.type=t.type,this.cfg=t.cfg,this.option.actions=this.actions,this.option.type=this.type,this.option.cfg=this.cfg,this},e._execActions=function(t){var e=this.actions;r.each(e,(function(e){var n=e[0];t[n](e[1],e[2])}))},e.hasAction=function(t){var e=this.actions,n=!1;return r.each(e,(function(e){if(t===e[0])return n=!0,!1})),n},e.createCoord=function(t,e){var n,o,a=this.type,s=this.cfg,u=r.mix({start:t,end:e},s);return"theta"===a?(n=i.Polar,this.hasAction("transpose")||this.transpose(),(o=new n(u)).type=a):o=new(n=i[r.upperFirst(a||"")]||i.Rect)(u),this._execActions(o),o},e.rotate=function(t){return t=t*Math.PI/180,this.actions.push(["rotate",t]),this},e.reflect=function(t){return this.actions.push(["reflect",t]),this},e.scale=function(t,e){return this.actions.push(["scale",t,e]),this},e.transpose=function(){return this.actions.push(["transpose"]),this},t}();t.exports=o},function(t,e,n){var r=n(0);function i(t,e){if(r.isNil(t)||r.isNil(e))return!1;var n=t.get("origin"),i=e.get("origin");return r.isNil(n)&&r.isNil(i)?r.isEqual(t,e):r.isEqual(n,i)}function o(t){t.shape&&t.shape.get("origin")&&(t.data=t.shape.get("origin"))}var a=function(){function t(t){this.view=null,this.canvas=null,r.assign(this,t),this._init()}var e=t.prototype;return e._init=function(){this.pixelRatio=this.canvas.get("pixelRatio")},e._getShapeEventObj=function(t){return{x:t.x/this.pixelRatio,y:t.y/this.pixelRatio,target:t.target,toElement:t.event.toElement||t.event.relatedTarget}},e._getShape=function(t,e){return this.view.get("canvas").getShape(t,e)},e._getPointInfo=function(t){var e=this.view,n={x:t.x/this.pixelRatio,y:t.y/this.pixelRatio},r=e.getViewsByPoint(n);return n.views=r,n},e._getEventObj=function(t,e,n){return{x:e.x,y:e.y,target:t.target,toElement:t.event.toElement||t.event.relatedTarget,views:n}},e.bindEvents=function(){var t=this.canvas;t.on("mousedown",r.wrapBehavior(this,"onDown")),t.on("mousemove",r.wrapBehavior(this,"onMove")),t.on("mouseleave",r.wrapBehavior(this,"onOut")),t.on("mouseup",r.wrapBehavior(this,"onUp")),t.on("click",r.wrapBehavior(this,"onClick")),t.on("dblclick",r.wrapBehavior(this,"onClick")),t.on("touchstart",r.wrapBehavior(this,"onTouchstart")),t.on("touchmove",r.wrapBehavior(this,"onTouchmove")),t.on("touchend",r.wrapBehavior(this,"onTouchend"))},e._triggerShapeEvent=function(t,e,n){if(t&&t.name&&!t.get("destroyed")){var r=this.view;if(r.isShapeInView(t)){var i=t.name+":"+e;n.view=r,n.appendInfo=t.get("appendInfo"),r.emit(i,n);var o=r.get("parent");o&&o.emit(i,n)}}},e.onDown=function(t){var e=this.view,n=this._getShapeEventObj(t);n.shape=this.currentShape,o(n),e.emit("mousedown",n),this._triggerShapeEvent(this.currentShape,"mousedown",n)},e.onMove=function(t){var e=this.view,n=this.currentShape;n&&n.get("destroyed")&&(n=null,this.currentShape=null);var r=this._getShape(t.x,t.y)||t.currentTarget,a=this._getShapeEventObj(t);if(a.shape=r,o(a),e.emit("mousemove",a),this._triggerShapeEvent(r,"mousemove",a),n&&!i(n,r)){var s=this._getShapeEventObj(t);s.shape=n,s.toShape=r,o(s),this._triggerShapeEvent(n,"mouseleave",s)}if(r&&!i(n,r)){var u=this._getShapeEventObj(t);u.shape=r,u.fromShape=n,o(u),this._triggerShapeEvent(r,"mouseenter",u)}this.currentShape=r;var l=this._getPointInfo(t),c=this.curViews||[];0===c.length&&l.views.length&&e.emit("plotenter",this._getEventObj(t,l,l.views)),c.length&&0===l.views.length&&e.emit("plotleave",this._getEventObj(t,l,c)),l.views.length&&((a=this._getEventObj(t,l,l.views)).shape=r,o(a),e.emit("plotmove",a)),this.curViews=l.views},e.onOut=function(t){var e=this.view,n=this._getPointInfo(t),r=this.curViews||[],i=this._getEventObj(t,n,r);!this.curViews||0===this.curViews.length||i.toElement&&"CANVAS"===i.toElement.tagName||(e.emit("plotleave",i),this.curViews=[])},e.onUp=function(t){var e=this.view,n=this._getShapeEventObj(t);n.shape=this.currentShape,e.emit("mouseup",n),this._triggerShapeEvent(this.currentShape,"mouseup",n)},e.onClick=function(t){var e=this.view,n=this._getShape(t.x,t.y)||t.currentTarget,i=this._getShapeEventObj(t);i.shape=n,o(i),e.emit("click",i),this._triggerShapeEvent(n,t.type,i),this.currentShape=n;var a=this._getPointInfo(t),s=a.views;if(!r.isEmpty(s)){var u=this._getEventObj(t,a,s);if(this.currentShape){var l=this.currentShape;u.shape=l,o(u)}"dblclick"===t.type?(e.emit("plotdblclick",u),e.emit("dblclick",i)):e.emit("plotclick",u)}},e.onTouchstart=function(t){var e=this.view,n=this._getShape(t.x,t.y)||t.currentTarget,r=this._getShapeEventObj(t);r.shape=n,o(r),e.emit("touchstart",r),this._triggerShapeEvent(n,"touchstart",r),this.currentShape=n},e.onTouchmove=function(t){var e=this.view,n=this._getShape(t.x,t.y)||t.currentTarget,r=this._getShapeEventObj(t);r.shape=n,o(r),e.emit("touchmove",r),this._triggerShapeEvent(n,"touchmove",r),this.currentShape=n},e.onTouchend=function(t){var e=this.view,n=this._getShapeEventObj(t);n.shape=this.currentShape,o(n),e.emit("touchend",n),this._triggerShapeEvent(this.currentShape,"touchend",n)},e.clearEvents=function(){var t=this.canvas;t.off("mousemove",r.getWrapBehavior(this,"onMove")),t.off("mouseleave",r.getWrapBehavior(this,"onOut")),t.off("mousedown",r.getWrapBehavior(this,"onDown")),t.off("mouseup",r.getWrapBehavior(this,"onUp")),t.off("click",r.getWrapBehavior(this,"onClick")),t.off("dblclick",r.getWrapBehavior(this,"onClick")),t.off("touchstart",r.getWrapBehavior(this,"onTouchstart")),t.off("touchmove",r.getWrapBehavior(this,"onTouchmove")),t.off("touchend",r.getWrapBehavior(this,"onTouchend"))},t}();t.exports=a},function(t,e,n){var r=n(0),i=n(280),o=function(){function t(t){this.guides=[],this.options=[],this.xScales=null,this.yScales=null,this.view=null,this.viewTheme=null,this.frontGroup=null,this.backGroup=null,r.mix(this,t)}var e=t.prototype;return e._creatGuides=function(){var t=this,e=this.options,n=this.xScales,o=this.yScales,a=this.view,s=this.viewTheme;return this.backContainer&&a&&(this.backGroup=this.backContainer.addGroup({viewId:a.get("_id")})),this.frontContainer&&a&&(this.frontGroup=this.frontContainer.addGroup({viewId:a.get("_id")})),e.forEach((function(e){var a=e.type,u=r.deepMix({xScales:n,yScales:o,viewTheme:s},s?s.guide[a]:{},e);a=r.upperFirst(a);var l=new i[a](u);t.guides.push(l)})),t.guides},e.line=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"line"},t)),this},e.arc=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"arc"},t)),this},e.text=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"text"},t)),this},e.image=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"image"},t)),this},e.region=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"region"},t)),this},e.regionFilter=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"regionFilter"},t)),this},e.dataMarker=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"dataMarker"},t)),this},e.dataRegion=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"dataRegion"},t)),this},e.html=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"html"},t)),this},e.render=function(t){var e=this,n=e.view,i=n&&n.get("data"),o=e._creatGuides();r.each(o,(function(r){var o;o=r.get("top")?e.frontGroup||e.frontContainer:e.backGroup||e.backContainer,r.render(t,o,i,n)}))},e.clear=function(){this.options=[],this.reset()},e.changeVisible=function(t){var e=this.guides;r.each(e,(function(e){e.changeVisible(t)}))},e.reset=function(){var t=this.guides;r.each(t,(function(t){t.clear()})),this.guides=[],this.backGroup&&this.backGroup.remove(),this.frontGroup&&this.frontGroup.remove()},t}();t.exports=o},function(t,e,n){function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var i=n(0),o=n(30).Legend,a=n(282),s=n(9),u=n(122),l=n(124),c=n(5),h=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,f=["cross","tick","plus","hyphen","line","hollowCircle","hollowSquare","hollowDiamond","hollowTriangle","hollowTriangleDown","hollowHexagon","hollowBowtie"],p=function(){function t(t){this.options={},i.mix(this,t),this.clear();var e=this.chart;this.container=e.get("frontPlot"),this.plotRange=e.get("plotRange")}var e=t.prototype;return e.clear=function(){var t=this.legends;this.backRange=null,i.each(t,(function(t){i.each(t,(function(t){t.destroy()}))})),this.legends={}},e.getBackRange=function(){var t=this.backRange;if(!t){var e=this.chart.get("backPlot");t=u(e,l(this.chart.get("plotRange")));var n=this.plotRange;t.maxX-t.minX<n.br.x-n.tl.x&&t.maxY-t.minY<n.br.y-n.tl.y&&(t={minX:n.tl.x,minY:n.tl.y,maxX:n.br.x,maxY:n.br.y}),this.backRange=t}return t},e._isFieldInView=function(t,e,n){var r=!1,o=n.get("scales")[t];return o&&o.values&&(r=i.inArray(o.values,e)),r},e._bindClickEvent=function(t,e,n){var r=this,o=r.chart,a=o.get("views"),s=e.field,u=r.options;t.on("itemclick",(function(e){if(u.onClick&&!0!==u.defaultClickHandlerEnabled)u.onClick(e);else{var l=e.item,c=e.checked,h="single"===t.get("selectedMode"),f=l.dataValue;c?(i.Array.remove(n,f),r._isFieldInView(s,f,o)&&o.filter(s,(function(t){return h?t===f:!i.inArray(n,t)})),i.each(a,(function(t){r._isFieldInView(s,f,t)&&t.filter(s,(function(t){return h?t===f:!i.inArray(n,t)}))}))):h||(n.push(f),r._isFieldInView(s,f,o)&&o.filter(s,(function(t){return!i.inArray(n,t)})),i.each(a,(function(t){r._isFieldInView(s,f,t)&&t.filter(s,(function(t){return!i.inArray(n,t)}))}))),u.onClick&&u.onClick(e),o.set("keepLegend",!0),o.set("keepPadding",!0),o.repaint(),o.set("keepPadding",!1),o.set("keepLegend",!1)}}))},e._bindClickEventForMix=function(t){var e=this.chart.getAllGeoms();t.on("itemclick",(function(t){var n=t.item.field;t.checked?i.each(e,(function(t){t.getYScale().field===n&&t.show()})):i.each(e,(function(t){t.getYScale().field===n&&t.hide()}))}))},e._filterLabels=function(t,e,n){if(t.get("gLabel"))t.get("gLabel").set("visible",n);else{var r=e.get("labelCfg");if(r&&r.fields&&r.fields.length>0){var o=e.getXScale(),a=e.getYScale(),s=o.field,u=a.field,l=t.get("origin")._origin,c=e.get("labelContainer").get("labelsGroup").get("children");i.each(c,(function(e){var r=e.get("origin")||[];r[s]===l[s]&&r[u]===l[u]&&(e.set("visible",n),t.set("gLabel",e))}))}}},e._bindFilterEvent=function(t,e){var n=this,r=this.chart,o=e.field;t.on("itemfilter",(function(t){var e=t.range;r.filterShape((function(t,r,a){if(!i.isNil(t[o])){var s=t[o]>=e[0]&&t[o]<=e[1];return n._filterLabels(r,a,s),s}return!0}));for(var a=r.getAllGeoms()||[],s=function(t){var n=a[t];"heatmap"===n.get("type")&&h((function(){n.drawWithRange(e)}))},u=0;u<a.length;u++)s(u)}))},e._getShapeData=function(t){var e=t.get("origin");return i.isArray(e)&&(e=e[0]),e._origin},e._bindHoverEvent=function(t,e){var n=this,r=n.chart,o=r.getAllGeoms(),a=n.options,s=r.get("canvas");t.on("itemhover",(function(t){var r=t.item.value,u=n.pre;if(u){if(u===r)return}else i.each(o,(function(o){var u=o.get("shapeContainer"),l=o.getShapes(),c=[];if(e){var h=o.get("scales")[e];i.each(l,(function(t){var o=n._getShapeData(t);o&&function(t,e,n){return!i.isNil(n)&&(t=n.translate(t),e=n.translate(e),n.isCategory?t===e:Math.abs(t-e)<=1)}(o[e],r,h)&&c.push(t)}))}else o.getYScale().field===r&&(c=l);i.isEmpty(c)||(t.shapes=c,t.geom=o,a.onHover?(a.onHover(t),u.sort(),s.draw()):o.setShapesActived(c))})),n.pre=r})),t.on("itemunhover",(function(t){n.pre=null,a.onUnhover&&a.onUnhover(t),i.each(o,(function(t){t.get("activeShapes")&&(t.clearActivedShapes(),s.draw())}))}))},e._isFiltered=function(t,e,n){if(!t.isCategory)return!0;var r=!0;return n=t.invert(n),i.each(e,(function(e){if(t.getText(e)===t.getText(n))return r=!1,!1})),r},e._alignLegend=function(t,e,n,r){var i=this.viewTheme,o=this.container.get("canvas"),a=o.get("width"),s=o.get("height"),u=this.totalRegion,l=this.plotRange,c=this.getBackRange(),h=t.get("offset")[0]||0,f=t.get("offset")[1]||0,p=t.getHeight(),d=t.getWidth(),v=i.legend.margin,g=i.legend.legendMargin,y=this.legends[r].length,m=r.split("-"),_=0,b=0,w=y>1?u:n;if("left"===m[0]||"right"===m[0])s=l.br.y,_=this._getXAlign(m[0],a,n,c,d,v),b=e?(e.get("y")||e.get("group").get("y"))+e.getHeight()+g:this._getYAlignVertical(m[1],s,w,c,0,v,o.get("height"));else if("top"===m[0]||"bottom"===m[0])if(b=this._getYAlignHorizontal(m[0],s,n,c,p,v),e){var x=e.getWidth();_=(e.get("x")||e.get("group").get("x"))+x+g}else _=this._getXAlign(m[1],a,w,c,0,v),"right"===m[1]&&(_=l.br.x-w.totalWidth);t.move(_+h,b+f)},e._getXAlign=function(t,e,n,r,i,o){var a=r.minX-i-o[3]<0?0:r.minX-i-o[3],s="left"===t?a:r.maxX+o[1];return"center"===t&&(s=(e-n.totalWidth)/2),s},e._getYAlignHorizontal=function(t,e,n,r,i,o){return"top"===t?r.minY-i-o[0]:r.maxY+o[2]},e._getYAlignVertical=function(t,e,n,r,i,o,a){var s="top"===t?r.minY-i-o[0]:e-n.totalHeight;return"center"===t&&(s=(a-n.totalHeight)/2),s},e._getSubRegion=function(t){var e=0,n=0,r=0,o=0;return i.each(t,(function(t){var i=t.getWidth(),a=t.getHeight();e<i&&(e=i),r+=i,n<a&&(n=a),o+=a})),{maxWidth:e,totalWidth:r,maxHeight:n,totalHeight:o}},e._getRegion=function(){var t=this,e=t.viewTheme,n=t.legends,r=e.legend.legendMargin,o=[],a=0,s=0;return i.each(n,(function(e){var n=t._getSubRegion(e);o.push(n),a+=n.totalWidth+r,s+=n.totalHeight+r})),{totalWidth:a,totalHeight:s,subs:o}},e._addCategoryLegend=function(t,e,n,u,l){var h=this,f=t.field,p=h.options,d=p[f];d&&(p=d);var v=h.legends;v[l]=v[l]||[];var g=h.container,y=[],m=t.getTicks(),_=!0,b=n.get("shapeType")||"point",w=n.getDefaultValue("shape")||"circle";p[f]&&p[f].marker?(w=p[f].marker,b="point",_=!1):p.marker&&(w=p.marker,b="point",_=!1);var x=h.chart,E=h.viewTheme,S=x.get("canvas"),C=h.plotRange,k=l.split("-"),T="right"===k[0]||"left"===k[0]?C.bl.y-C.tr.y:S.get("width");i.each(m,(function(e){var r=e.text,o=e.value,a=t.invert(o),l={isInCircle:n.isInCircle()},f=!u||h._isFiltered(t,u,o),p=n.getAttr("color"),d=n.getAttr("shape");if(p)if(p.callback&&p.callback.length>1){var v=Array(p.callback.length-1).fill("");l.color=p.mapping.apply(p,[a].concat(v)).join("")||E.defaultColor}else l.color=p.mapping(a).join("")||E.defaultColor;if(_&&d)if(d.callback&&d.callback.length>1){var g=Array(d.callback.length-1).fill("");w=d.mapping.apply(d,[a].concat(g)).join("")}else w=d.mapping(a).join("");var m=s.getShapeFactory(b).getMarkerCfg(w,l);c.legendMarkerRadius&&(m.radius=c.legendMarkerRadius),i.isFunction(w)&&(m.symbol=w),y.push({value:r,dataValue:a,checked:f,marker:m})}));var I,A=i.deepMix({},E.legend[k[0]],p[f]||p,{viewId:x.get("_id"),maxLength:T,items:y,container:g,position:[0,0]});if(A.title&&i.deepMix(A,{title:{text:t.alias||t.field}}),h._isTailLegend(p,n))A.chart=h.chart,A.geom=n,I=new a(A);else if(p.useHtml){var M=g.get("canvas").get("el");if(g=p.container,i.isString(g)&&/^\#/.test(g)){var P=g.replace("#","");g=document.getElementById(P)}g||(g=M.parentNode),A.container=g,void 0===A.legendStyle&&(A.legendStyle={}),A.legendStyle.CONTAINER_CLASS=r({},A.legendStyle.CONTAINER_CLASS,{position:"absolute",overflow:"auto","z-index":""===M.style.zIndex?1:parseInt(M.style.zIndex,10)+1}),p.flipPage?(A.legendStyle.CONTAINER_CLASS.height="right"===k[0]||"left"===k[0]?T+"px":"auto",A.legendStyle.CONTAINER_CLASS.width="right"!==k[0]&&"left"!==k[0]?T+"px":"auto",I=new o.CatPageHtml(A)):I=new o.CatHtml(A)}else I=new o.Category(A);return h._bindClickEvent(I,t,u),v[l].push(I),I},e._bindChartMove=function(t){var e=this.chart,n=this.legends;e.on("plotmove",(function(e){var r=!1;if(e.target){var o=e.target.get("origin");if(o){var a=o._origin||o[0]._origin,s=t.field;if(a){var u=a[s];i.each(n,(function(t){i.each(t,(function(t){r=!0,!t.destroyed&&t.activate(u)}))}))}}}r||i.each(n,(function(t){i.each(t,(function(t){!t.destroyed&&t.deactivate()}))}))}))},e._addContinuousLegend=function(t,e,n){var r=this.legends;r[n]=r[n]||[];var a,s,u,l=this.container,c=t.field,h=t.getTicks(),f=[],p=this.viewTheme;i.each(h,(function(n){var r=n.value,i=t.invert(r),o=e.mapping(i).join("");f.push({value:n.tickValue,attrValue:o,color:o,scaleValue:r}),0===r&&(s=!0),1===r&&(u=!0)})),s||f.push({value:t.min,attrValue:e.mapping(0).join(""),color:e.mapping(0).join(""),scaleValue:0}),u||f.push({value:t.max,attrValue:e.mapping(1).join(""),color:e.mapping(1).join(""),scaleValue:1});var d=this.options,v=n.split("-"),g=p.legend[v[0]];(d&&!1===d.slidable||d[c]&&!1===d[c].slidable)&&(g=i.mix({},g,p.legend.gradient));var y=i.deepMix({},g,d[c]||d,{items:f,attr:e,formatter:t.formatter,container:l,position:[0,0]});if(y.title&&i.deepMix(y,{title:{text:t.alias||t.field}}),"color"===e.type)a=new o.Color(y);else{if("size"!==e.type)return;a=d&&"circle"===d.sizeType?new o.CircleSize(y):new o.Size(y)}return this._bindFilterEvent(a,t),r[n].push(a),a},e._isTailLegend=function(t,e){if(t.hasOwnProperty("attachLast")&&t.attachLast){var n=e.get("type");if("line"===n||"lineStack"===n||"area"===n||"areaStack"===n)return!0}return!1},e._adjustPosition=function(t,e){var n;if(e)n="right-top";else if(i.isArray(t))n=String(t[0])+"-"+String(t[1]);else{var r=t.split("-");1===r.length?("left"===r[0]&&(n="left-bottom"),"right"===r[0]&&(n="right-bottom"),"top"===r[0]&&(n="top-center"),"bottom"===r[0]&&(n="bottom-center")):n=t}return n},e.addLegend=function(t,e,n,r){var i=this.options,o=t.field,a=i[o],s=this.viewTheme;if(!1===a)return null;if(a&&a.custom)this.addCustomLegend(o);else{var u,l=i.position||s.defaultLegendPosition;l=this._adjustPosition(l,this._isTailLegend(i,n)),a&&a.position&&(l=this._adjustPosition(a.position,this._isTailLegend(a,n))),(u=t.isLinear?this._addContinuousLegend(t,e,l):this._addCategoryLegend(t,e,n,r,l))&&(this._bindHoverEvent(u,o),i.reactive&&this._bindChartMove(t))}},e.addCustomLegend=function(t){var e=this.chart,n=this.viewTheme,r=this.container,a=this.options;t&&(a=a[t]);var s=a.position||n.defaultLegendPosition;s=this._adjustPosition(s);var u=this.legends;u[s]=u[s]||[];var l=a.items;if(l){var h=e.getAllGeoms();i.each(l,(function(t){var e=function(t,e){var n;return i.each(t,(function(t){t.get("visible")&&t.getYScale().field===e&&(n=t)})),n}(h,t.value);i.isPlainObject(t.marker)?t.marker.radius=t.marker.radius||c.legendMarkerRadius||4.5:(t.marker={symbol:t.marker||"circle",radius:c.legendMarkerRadius||4.5},-1!==i.indexOf(f,t.marker.symbol)?t.marker.stroke=t.fill:t.marker.fill=t.fill);var n=t.marker.symbol;i.isString(n)&&-1!==n.indexOf("hollow")&&(t.marker.symbol=i.lowerFirst(n.substr(6))),t.checked=!!i.isNil(t.checked)||t.checked,t.geom=e}));var p,d=e.get("canvas"),v=this.plotRange,g=s.split("-"),y="right"===g[0]||"left"===g[0]?v.bl.y-v.tr.y:d.get("width"),m=i.deepMix({},n.legend[g[0]],a,{maxLength:y,items:l,container:r,position:[0,0]});if(a.useHtml){var _=a.container;if(/^\#/.test(r)){var b=_.replace("#","");_=document.getElementById(b)}else _||(_=r.get("canvas").get("el").parentNode);m.container=_,void 0===m.legendStyle&&(m.legendStyle={}),m.legendStyle.CONTAINER_CLASS||(m.legendStyle.CONTAINER_CLASS={height:"right"===g[0]||"left"===g[0]?y+"px":"auto",width:"right"!==g[0]&&"left"!==g[0]?y+"px":"auto",position:"absolute",overflow:"auto"}),p=a.flipPage?new o.CatPageHtml(m):new o.CatHtml(m)}else p=new o.Category(m);return u[s].push(p),p.on("itemclick",(function(t){a.onClick&&a.onClick(t)})),this._bindHoverEvent(p),p}},e.addMixedLegend=function(t,e){var n=this.options,r=[];i.each(t,(function(t){var o=t.alias||t.field,a=n[t.field];i.each(e,(function(e){if(e.getYScale()===t&&t.values&&t.values.length>0&&!1!==a){var n=e.get("shapeType")||"point",i=e.getDefaultValue("shape")||"circle",u=s.getShapeFactory(n),l={color:e.getDefaultValue("color")},h=u.getMarkerCfg(i,l);c.legendMarkerRadius&&(h.radius=c.legendMarkerRadius);var f={value:o,marker:h,field:t.field};r.push(f)}}))}));var o={custom:!0,items:r};this.options=i.deepMix({},o,this.options);var a=this.addCustomLegend();this._bindClickEventForMix(a)},e.alignLegends=function(){var t=this,e=t.legends,n=t._getRegion(e);t.totalRegion=n;var r=0;return i.each(e,(function(e,o){var a=n.subs[r];i.each(e,(function(n,r){var i=e[r-1];n.get("useHtml")&&!n.get("autoPosition")||t._alignLegend(n,i,a,o)})),r++})),this},t}();t.exports=p},function(t,e,n){var r=n(154),i=n(0),o=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,a="linear",s="cat",u="time",l=function(){function t(t){this.defs={},this.viewTheme={scales:{}},this.filters={},i.assign(this,t)}var e=t.prototype;return e._getDef=function(t){var e=this.defs,n=this.viewTheme,r=null;return(n.scales[t]||e[t])&&(r=i.mix({},n.scales[t]),i.each(e[t],(function(t,e){i.isNil(t)?delete r[e]:r[e]=t})),this.filters[t]&&(delete r.min,delete r.max)),r},e._getDefaultType=function(t,e){var n=a,r=i.Array.firstValue(e,t);return i.isArray(r)&&(r=r[0]),o.test(r)?n=u:i.isString(r)&&(n=s),n},e._getScaleCfg=function(t,e,n){var o={field:e},a=i.Array.values(n,e);if(o.values=a,!r.isCategory(t)&&"time"!==t){var s=i.Array.getRange(a);o.min=s.min,o.max=s.max,o.nice=!0}return"time"===t&&(o.nice=!1),o},e.createScale=function(t,e){var n,o=this._getDef(t),a=e||[],s=i.Array.firstValue(a,t);if(i.isNumber(t)||i.isNil(s)&&!o)n=r.identity({value:t,field:t.toString(),values:[t]});else{var u;o&&(u=o.type),u=u||this._getDefaultType(t,a);var l=this._getScaleCfg(u,t,a);o&&i.mix(l,o),n=r[u](l)}return n},t}();t.exports=l},function(t,e,n){function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var i=n(0),o=n(9),a=n(30).Tooltip,s=i.MatrixUtil.vec2,u=["line","area","path","areaStack"],l=["line","area"],c=["marker","showMarker"];function h(t,e){return!!t&&(!!t.className&&(i.isNil(t.className.baseVal)?t.className:t.className.baseVal).includes(e))}function f(t){var e=[];return i.each(t,(function(t){var n=function(t,e){var n=-1;return i.each(t,(function(t,r){var o=!0;for(var a in e)if(e.hasOwnProperty(a)&&!c.includes(a)&&!i.isObject(e[a])&&e[a]!==t[a]){o=!1;break}if(o)return n=r,!1})),n}(e,t);-1===n?e.push(t):e[n]=t})),e}var p=function(){function t(t){i.assign(this,t),this.timeStamp=0,this.locked=!1}var e=t.prototype;return e._normalizeEvent=function(t){var e=this.chart,n=this._getCanvas(),r=n.getPointByClient(t.clientX,t.clientY),i=n.get("pixelRatio");r.x=r.x/i,r.y=r.y/i;var o=e.getViewsByPoint(r);return r.views=o,r},e._getCanvas=function(){return this.chart.get("canvas")},e._getTriggerEvent=function(){var t,e=this.options.triggerOn;return e&&"mousemove"!==e?"click"===e?t="plotclick":"none"===e&&(t=null):t="plotmove",t},e._getDefaultTooltipCfg=function(){var t=this.chart,e=this.viewTheme,n=this.options,r=i.mix({},e.tooltip),o=t.getAllGeoms().filter((function(t){return t.get("visible")})),a=[];i.each(o,(function(t){var e=t.get("type"),n=t.get("adjusts"),r=!1;n&&i.each(n,(function(t){if("symmetric"===t.type||"Symmetric"===t.type)return r=!0,!1})),-1!==i.indexOf(a,e)||r||a.push(e)}));var s,u=!(!o.length||!o[0].get("coord"))&&o[0].get("coord").isTransposed;if(o.length&&o[0].get("coord")&&"cartesian"===o[0].get("coord").type)if("interval"===a[0]&&!1!==n.shared){var c=i.mix({},e.tooltipCrosshairsRect);c.isTransposed=u,s={zIndex:0,crosshairs:c}}else if(i.indexOf(l,a[0])>-1){var h=i.mix({},e.tooltipCrosshairsLine);h.isTransposed=u,s={crosshairs:h}}return i.mix(r,s,{})},e._bindEvent=function(){var t=this.chart,e=this._getTriggerEvent();e&&(t.on(e,i.wrapBehavior(this,"onMouseMove")),t.on("plotleave",i.wrapBehavior(this,"onMouseOut")))},e._offEvent=function(){var t=this.chart,e=this._getTriggerEvent();e&&(t.off(e,i.getWrapBehavior(this,"onMouseMove")),t.off("plotleave",i.getWrapBehavior(this,"onMouseOut")))},e._setTooltip=function(t,e,n,r){var o=this.tooltip,a=this.prePoint;if(!a||a.x!==t.x||a.y!==t.y){e=f(e),this.prePoint=t;var s=this.chart,u=this.viewTheme,l=i.isArray(t.x)?t.x[t.x.length-1]:t.x,c=i.isArray(t.y)?t.y[t.y.length-1]:t.y;o.get("visible")||s.emit("tooltip:show",{x:l,y:c,tooltip:o});var h=e[0],p=h.title||h.name;o.isContentChange(p,e)&&(s.emit("tooltip:change",{tooltip:o,x:l,y:c,items:e}),p=e[0].title||e[0].name,o.setContent(p,e),i.isEmpty(n)?(o.clearMarkers(),o.set("markerItems",[])):!0===this.options.hideMarkers?o.set("markerItems",n):o.setMarkers(n,u.tooltipMarker)),r===this._getCanvas()&&"mini"===o.get("type")?o.hide():(o.setPosition(l,c,r),o.show())}},e.hideTooltip=function(){var t=this.tooltip,e=this.chart,n=this._getCanvas();this.prePoint=null,t.hide(),e.emit("tooltip:hide",{tooltip:t}),n.draw()},e.onMouseMove=function(t){if(!i.isEmpty(t.views)&&!this.locked){var e=this.timeStamp,n=+new Date,r={x:t.x,y:t.y};n-e>16&&!this.chart.get("stopTooltip")&&(this.showTooltip(r,t.views,t.shape),this.timeStamp=n)}},e.onMouseOut=function(t){var e=this.tooltip;e.get("visible")&&e.get("follow")&&!this.locked&&(t&&t.toElement&&(h(t.toElement,"g2-tooltip")||function(t,e){for(var n=t.parentNode,r=!1;n&&n!==document.body;){if(h(n,e)){r=!0;break}n=n.parentNode}return r}(t.toElement,"g2-tooltip"))||this.hideTooltip())},e.renderTooltip=function(){var t=this;if(!t.tooltip){var e,n=t.chart,r=t.viewTheme,o=t._getCanvas(),s=t._getDefaultTooltipCfg(),u=t.options;(u=i.deepMix({plotRange:n.get("plotRange"),capture:!1,canvas:o,frontPlot:n.get("frontPlot"),viewTheme:r.tooltip,backPlot:n.get("backPlot")},s,u)).crosshairs&&"rect"===u.crosshairs.type&&(u.zIndex=0),u.visible=!1,"mini"===u.type?(u.crosshairs=!1,u.position="top",e=new a.Mini(u)):e=u.useHtml?new a.Html(u):new a.Canvas(u),t.tooltip=e;var l=t._getTriggerEvent(),c=e.get("container");e.get("enterable")||"plotmove"!==l||c&&(c.onmousemove=function(e){var r=t._normalizeEvent(e);n.emit(l,r)}),c&&(c.onmouseleave=function(){t.locked||t.hideTooltip()}),t._bindEvent()}},e._formatMarkerOfItem=function(t,e,n){var r=this.options,o=n.point;if(o&&o.x&&o.y){var a=i.isArray(o.x)?o.x[o.x.length-1]:o.x,s=i.isArray(o.y)?o.y[o.y.length-1]:o.y;o=t.applyMatrix(a,s,1),n.x=o[0],n.y=o[1],n.showMarker=!0,"l("!==n.color.substring(0,2)||r.hasOwnProperty("useHtml")&&!r.useHtml||(n.color=n.color.split(" ")[1].substring(2));var l=this._getItemMarker(e,n);if(n.marker=l,-1!==i.indexOf(u,e.get("type")))return n}return null},e.lockTooltip=function(){this.locked=!0},e.unlockTooltip=function(){this.locked=!1},e.showTooltip=function(t,e,n){var r=this,o=this;if(!i.isEmpty(e)&&t){this.tooltip||this.renderTooltip();var a=o.options,u=[],l=[];if(i.each(e,(function(e){if(!e.get("tooltipEnable"))return!0;var n=e.get("geoms"),s=e.get("coord");i.each(n,(function(e){var n=e.get("type");if(e.get("visible")&&!1!==e.get("tooltipCfg")){var c=e.get("dataArray");if(e.isShareTooltip()||!1===a.shared&&i.inArray(["area","line","path","polygon"],n)){var h=e.getXScale(),f=e.getAttr("color"),p=f?f.field:void 0;if("interval"===n&&h.field===p&&e.hasAdjust("dodge")){var d=i.find(c,(function(n){return!!e.findPoint(t,n)}));i.each(d,(function(t){var n=e.getTipItems(t,a.title);i.each(n,(function(t){var n=o._formatMarkerOfItem(s,e,t);n&&u.push(n)})),l=l.concat(n)}))}else i.each(c,(function(n){var r=e.findPoint(t,n);if(r){var c=e.getTipItems(r,a.title);i.each(c,(function(t){var n=o._formatMarkerOfItem(s,e,t);n&&u.push(n)})),l=l.concat(c)}}))}else{var v=e.get("shapeContainer"),g=v.get("canvas").get("pixelRatio"),y=v.getShape(t.x*g,t.y*g);y&&y.get("visible")&&y.get("origin")&&(l=e.getTipItems(y.get("origin"),a.title)),i.each(l,(function(t){var n=r._formatMarkerOfItem(s,e,t);n&&u.push(n)}))}}})),i.each(l,(function(t){var e=t.point,n=i.isArray(e.x)?e.x[e.x.length-1]:e.x,r=i.isArray(e.y)?e.y[e.y.length-1]:e.y;e=s.applyMatrix(n,r,1),t.x=e[0],t.y=e[1]}))})),l.length){var c=l[0];if(!l.every((function(t){return t.title===c.title}))){var h=c,f=1/0;l.forEach((function(e){var n=s.distance([t.x,t.y],[e.x,e.y]);n<f&&(f=n,h=e)})),l=l.filter((function(t){return t.title===h.title})),u=u.filter((function(t){return t.title===h.title}))}if(!1===a.shared&&l.length>1){var p=l[0],d=Math.abs(t.y-p.y);i.each(l,(function(e){Math.abs(t.y-e.y)<=d&&(p=e,d=Math.abs(t.y-e.y))})),p&&p.x&&p.y&&(u=[p]),l=[p]}o._setTooltip(t,l,u,n)}else o.hideTooltip()}},e.clear=function(){var t=this.tooltip;t&&t.destroy(),this.tooltip=null,this.prePoint=null,this._offEvent()},e._getItemMarker=function(t,e){var n=this.options.marker||this.viewTheme.tooltip.marker;if(i.isFunction(n)){var a=t.get("shapeType")||"point",s=t.getDefaultValue("shape")||"circle",u=o.getShapeFactory(a),l={color:e.color};return n(u.getMarkerCfg(s,l),e)}return r({fill:e.color},n)},t}();t.exports=p},function(t,e,n){var r=n(120),i=n(8),o=n(0),a=n(121),s=n(5),u=n(132),l=n(271);function c(t,e,n){var r=(t-e)/(n-e);return r>=0&&r<=1}function h(t,e){var n=!1;if(t)if("theta"===t.type){var r=t.start,i=t.end;n=c(e.x,r.x,i.x)&&c(e.y,r.y,i.y)}else{var o=t.invert(e);n=o.x>=0&&o.y>=0&&o.x<=1&&o.y<=1}return n}var f={};o.each(i,(function(t,e){var n=o.lowerFirst(e);f[n]=function(e){var n=new t(e);return this.addGeom(n),n}}));var p=function(t){var e,n;n=t,(e=c).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=c.prototype;function c(e){var n,r=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n=t.call(this,e)||this);return r._setTheme(),o.each(i,(function(t,e){var n=o.lowerFirst(e);r[n]=function(e){void 0===e&&(e={}),e.viewTheme=r.get("viewTheme");var n=new t(e);return r.addGeom(n),n}})),r.init(),n}return r.getDefaultCfg=function(){return{viewContainer:null,coord:null,start:{x:0,y:0},end:{x:1,y:1},geoms:[],scales:{},options:{},scaleController:null,padding:0,theme:null,parent:null,tooltipEnable:!0,animate:s.animate,visible:!0}},r._setTheme=function(){var t=this.get("theme"),e={},n={};o.isObject(t)?n=t:-1!==o.indexOf(Object.keys(u),t)&&(n=u[t]),o.deepMix(e,s,n),this.set("viewTheme",e)},r.init=function(){this._initViewPlot(),this.get("data")&&this._initData(this.get("data")),this._initOptions(),this._initControllers(),this._bindEvents()},r._initOptions=function(){var t=this,e=o.mix({},t.get("options"));e.scales||(e.scales={}),e.coord||(e.coord={}),!1===e.animate&&this.set("animate",!1),(!1===e.tooltip||o.isNull(e.tooltip))&&this.set("tooltipEnable",!1),e.geoms&&e.geoms.length&&o.each(e.geoms,(function(e){t._createGeom(e)}));var n=t.get("scaleController");n&&(n.defs=e.scales);var r=t.get("coordController");r&&r.reset(e.coord),this.set("options",e)},r._createGeom=function(t){var e,n=t.type;this[n]&&(e=this[n](),o.each(t,(function(t,n){var r;e[n]&&(o.isObject(t)&&t.field?"label"===t?e[n](t.field,t.callback,t.cfg):(o.each(t,(function(t,e){"field"!==e&&(r=t)})),e[n](t.field,r)):e[n](t))})))},r._initControllers=function(){var t=this.get("options"),e=this.get("viewTheme"),n=this.get("canvas"),r=new a.Scale({viewTheme:e,defs:t.scales}),i=new a.Coord(t.coord);this.set("scaleController",r),this.set("coordController",i);var o=new a.Axis({canvas:n,viewTheme:e});this.set("axisController",o);var s=new a.Guide({viewTheme:e,options:t.guides||[]});this.set("guideController",s)},r._initViewPlot=function(){this.get("viewContainer")||this.set("viewContainer",this.get("middlePlot"))},r._initGeoms=function(){for(var t=this.get("geoms"),e=this.get("filteredData"),n=this.get("coord"),r=this.get("_id"),i=0;i<t.length;i++){var o=t[i];o.set("data",e),o.set("coord",n),o.set("_id",r+"-geom"+i),o.set("keyFields",this.get("keyFields")),o.init()}},r._clearGeoms=function(){for(var t=this.get("geoms"),e=0;e<t.length;e++)t[e].clear()},r._removeGeoms=function(){for(var t=this.get("geoms");t.length>0;)t.shift().destroy()},r._drawGeoms=function(){this.emit("beforedrawgeoms");for(var t=this.get("geoms"),e=this.get("coord"),n=0;n<t.length;n++){var r=t[n];r.setCoord(e),r.paint()}this.emit("afterdrawgeoms")},r.isShapeInView=function(t){var e=this.get("_id"),n=t._id;if(n)return n.split("-")[0]===e;for(var r=t;r;){if(r.get("viewId")===e)return!0;r=r.get("parent")}return!1},r.getViewRegion=function(){var t,e,n=this.get("parent");if(n){var r=n.getViewRegion(),i=this._getViewRegion(r.start,r.end);t=i.start,e=i.end}else t=this.get("start"),e=this.get("end");return{start:t,end:e}},r._getViewRegion=function(t,e){var n=this.get("start"),r=this.get("end"),i=n.x,a=1-r.y,s=r.x,u=1-n.y,l=this.get("padding"),c=o.toAllPadding(l),h=c[0],f=c[1],p=c[2],d=c[3];return{start:{x:i*(e.x-t.x)+t.x+d,y:a*(e.y-t.y)+t.y-p},end:{x:s*(e.x-t.x)+t.x-f,y:u*(e.y-t.y)+t.y+h}}},r._createCoord=function(){var t=this.get("coordController"),e=this.getViewRegion(),n=t.createCoord(e.start,e.end);this.set("coord",n)},r._renderAxes=function(){var t=this.get("options").axes;if(!1!==t){var e=this.get("axisController");e.container=this.get("backPlot"),e.coord=this.get("coord"),e.options=t||{};var n=this.getXScale(),r=this.getYScales(),i=this.get("_id");e.createAxis(n,r,i)}},r._renderGuides=function(){var t=this.get("guideController");if(!o.isEmpty(t.options)){var e=this.get("coord");t.view=this,t.backContainer=this.get("backPlot"),t.frontContainer=this.get("frontPlot"),t.xScales=this._getScales("x"),t.yScales=this._getScales("y"),t.render(e)}},r._bindEvents=function(){var t=new a.Event({view:this,canvas:this.get("canvas")});t.bindEvents(),this.set("eventController",t)},r._clearEvents=function(){var t=this.get("eventController");t&&t.clearEvents()},r._getScales=function(t){for(var e=this.get("geoms"),n={},r=0;r<e.length;r++){var i=e[r],o="x"===t?i.getXScale():i.getYScale();o&&!n[o.field]&&(n[o.field]=o)}return n},r._adjustScale=function(){this._setCatScalesRange();for(var t=this.get("geoms"),e=this.get("scaleController").defs,n=0;n<t.length;n++){var r=t[n];if("interval"===r.get("type")){var i=r.getYScale(),o=i.field,a=i.min,s=i.max,u=i.type;e[o]&&e[o].min||"time"===u||(a>0?i.change({min:0}):s<=0&&i.change({max:0}))}}},r._setCatScalesRange=function(){var t=this.get("coord"),e=this.get("viewTheme"),n=this.getXScale(),r=this.getYScales(),i=[];n&&i.push(n),i=i.concat(r);var a=t.isPolar&&function(t){var e=t.startAngle,n=t.endAngle;return!(!o.isNil(e)&&!o.isNil(n)&&n-e<2*Math.PI)}(t),s=this.get("scaleController").defs;o.each(i,(function(n){if((n.isCategory||n.isIdentity)&&n.values&&(!s[n.field]||!s[n.field].range)){var r,i=n.values.length;if(1===i)r=[.5,1];else{var o=0;r=a?t.isTransposed?[(o=1/i*e.widthRatio.multiplePie)/2,1-o/2]:[0,1-1/i]:[o=1/i*1/2,1-o]}n.range=r}}))},r.getXScale=function(){var t=this.get("geoms"),e=null;return o.isEmpty(t)||(e=t[0].getXScale()),e},r.getYScales=function(){for(var t=this.get("geoms"),e=[],n=0;n<t.length;n++){var r=t[n].getYScale();r&&-1===o.indexOf(e,r)&&e.push(r)}return e},r.getXY=function(t){var e,n,r=this.get("coord"),i=this._getScales("x"),a=this._getScales("y");for(var s in t)i[s]&&(e=i[s].scale(t[s])),a[s]&&(n=a[s].scale(t[s]));return o.isNil(e)||o.isNil(n)?null:r.convert({x:e,y:n})},r.getSnapRecords=function(t){var e=this.get("geoms"),n=[];return o.each(e,(function(e){var r,i=e.get("dataArray");o.each(i,(function(i){(r=e.findPoint(t,i))&&n.push(r)}))})),n},r.addGeom=function(t){this.get("geoms").push(t),t.set("view",this);var e=this.get("viewContainer");t.set("container",e),t.set("animate",this.get("animate")),t.bindEvents()},r.removeGeom=function(t){var e=this.get("geoms");o.Array.remove(e,t),t.destroy()},r.createScale=function(t,e){var n=this.get("scales"),r=this.get("parent"),i=n[t];if(!e){var o=this.get("filteredData"),a=this._getFieldsForLegend();e=o.length&&!a.includes(t)?o:this.get("data")}var s=this.get("scaleController");if(i){if(i.sync){var u=s.createScale(t,e);this._syncScale(i,u)}}else{if((i=s.createScale(t,e)).sync&&r){var l=r.createScale(t,e);i=this._getSyncScale(l,i)}n[t]=i}return i},r._getFieldsForLegend=function(){var t=[],e=this.get("geoms");return o.each(e,(function(e){var n=e.getFieldsForLegend();t=t.concat(n)})),o.uniq(t)},r._getSyncScale=function(t,e){return t.type!==e.type?e:(this._syncScale(t,e),t)},r._syncScale=function(t,e){var n=o.union(t.values,e.values);if(e.isLinear){var r=Math.max(t.max,e.max),i=Math.min(t.min,e.min);t.max===r&&t.min===i||t.change({min:i,max:r,values:n})}n.length!==t.values.length&&t.change({values:n})},r.getFilteredValues=function(t){var e=this.get("scales")[t].values,n=this._getFilters();return n&&n[t]?e.filter(n[t]):e.slice(0)},r.getFilteredOutValues=function(t){var e=this.get("scales")[t].values,n=this._getFilters();return n&&n[t]?e.filter((function(){return!n[t].apply(n,arguments)})):[]},r.filter=function(t,e){var n=this.get("options");n.filters||(n.filters={}),n.filters[t]=e,this.get("scaleController").filters=n.filters},r._getFilters=function(){return this.get("options").filters},r.execFilter=function(t){var e=this._getFilters();return e&&(t=t.filter((function(t){var n=!0;return o.each(e,(function(e,r){if(e&&!(n=e(t[r],t)))return!1})),n}))),t},r.axis=function(t,e){var n=this.get("options");return!1===t?n.axes=!1:(n.axes||(n.axes={}),n.axes[t]=e),this},r.guide=function(){return this.get("guideController")},r._getKeyFields=function(t){var e=[];o.each(t,(function(t,n){t.key&&e.push(n)})),this.set("keyFields",e)},r.scale=function(t,e){var n=this.get("options").scales;return o.isObject(t)?o.mix(n,t):n[t]=e,this._getKeyFields(n),this},r.tooltip=function(t){return this.set("tooltipEnable",t),this},r.animate=function(t){return this.get("options").animate=t,this.set("animate",t),this},r.changeOptions=function(t){return this.set("options",t),this._initOptions(t),this},r.getViewsByPoint=function(t){var e=[],n=this.get("views");return h(this.get("coord"),t)&&e.push(this),o.each(n,(function(n){n.get("visible")&&h(n.get("coord"),t)&&e.push(n)})),e},r.eachShape=function(t){var e=this,n=e.get("views"),r=e.get("canvas");o.each(n,(function(e){e.eachShape(t)}));var i=this.get("geoms");return o.each(i,(function(n){var r=n.getShapes();o.each(r,(function(r){var i=r.get("origin");if(o.isArray(i)){var a=i.map((function(t){return t._origin}));t(a,r,n,e)}else{var s=i._origin;t(s,r,n,e)}}))})),r.draw(),this},r.filterShape=function(t){return this.eachShape((function(e,n,r,i){t(e,n,r,i)?n.show():n.hide()})),this},r.clearInner=function(){this.set("scales",{}),this.emit("beforeclearinner"),this.get("options").geoms=null,this._clearGeoms(),this.get("guideController")&&this.get("guideController").reset(),this.get("axisController")&&this.get("axisController").clear(),this.emit("afterclearinner")},r.clear=function(){return this.get("options").filters=null,this._removeGeoms(),this.clearInner(),this.get("guideController")&&this.get("guideController").clear(),this.set("isUpdate",!1),this.set("keyFields",[]),this},r.coord=function(t,e){var n=this.get("coordController");return n.reset({type:t,cfg:e}),n},r.resetCoord=function(){this._createCoord()},r.source=function(t,e){return this._initData(t),e&&this.scale(e),this.emit("setdata"),this},r.changeData=function(t){return this.emit("beforechangedata"),this._initData(t),this.emit("afterchangedata"),this.repaint(),this},r._initData=function(t){var e=this.get("dataView");e&&(e.off("change",o.getWrapBehavior(this,"_onViewChange")),this.set("dataView",null)),t&&t.isDataView&&(t.on("change",o.wrapBehavior(this,"_onViewChange")),this.set("dataView",t),t=t.rows),this.set("data",t)},r._onViewChange=function(){this.emit("beforechangedata");var t=this.get("dataView").rows;this.set("data",t),this.emit("afterchangedata"),this.repaint()},r.beforeRender=function(){var t=this.get("views");o.each(t,(function(t){t.beforeRender()})),this.initView()},r.drawComponents=function(){var t=this.get("views");o.each(t,(function(t){t.drawComponents()})),this._renderAxes(),this._renderGuides()},r.drawCanvas=function(t){if(!t){var e=this.get("views");this.get("backPlot").sort();var n=this.get("canvas");if(this.get("animate")){var r=this.get("isUpdate");o.each(e,(function(t){l.execAnimation(t,r)})),l.execAnimation(this,r)}else n.draw()}},r.render=function(t){return this.clearInner(),this.emit("beforerender"),this.beforeRender(),this.emit("beforepaint"),this.drawComponents(),this.paint(),this.emit("afterpaint"),this.drawCanvas(t),this.emit("afterrender"),this.set("rendered",!0),this},r.initView=function(){var t=this.get("data")||[],e=this.execFilter(t);this.set("filteredData",e),this._createCoord(),this.emit("beforeinitgeoms"),this._initGeoms(),this._adjustScale()},r.paint=function(){var t=this.get("views");o.each(t,(function(t){t.paint()}));var e=this.get("data");o.isEmpty(e)||this._drawGeoms(),this.get("visible")||this.changeVisible(!1,!0)},r.changeVisible=function(t,e){var n=this.get("geoms");o.each(n,(function(e){e.changeVisible(t,!0)})),this.get("axisController")&&this.get("axisController").changeVisible(t),this.get("guideController")&&this.get("guideController").changeVisible(t),e||this.get("canvas").draw()},r.repaint=function(){this.set("isUpdate",!0),this.clearInner(),this.render()},r.destroy=function(){this._clearEvents();var e=this.get("dataView");e&&e.off("change",o.getWrapBehavior(this,"_onViewChange")),this.clear(),t.prototype.destroy.call(this)},c}(r);t.exports=p},function(t,e,n){var r=n(30).Guide,i=n(281);r.RegionFilter=i,t.exports=r},function(t,e,n){var r=n(0),i=n(20),o=n(31).Path,a=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=i.prototype;return a.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"regionFilter",zIndex:1,top:!0,start:null,end:null,color:null,apply:null,style:{opacity:1}})},a.render=function(t,e,n,r){var i=this,o=e.addGroup();o.name="guide-region-filter",r.once("afterpaint",(function(){if(!o.get("destroyed")){i._drawShapes(r,o);var e=i._drawClip(t);o.attr({clip:e}),i.set("clip",e),i.get("appendInfo")&&o.setSilent("appendInfo",i.get("appendInfo")),i.set("el",o)}}))},a._drawShapes=function(t,e){var n=this,i=[];return t.getAllGeoms().map((function(t){var o=t.getShapes(),a=t.get("type");return n._geomFilter(a)&&o.map((function(t){var o=t.type,a=r.cloneDeep(t.attr());n._adjustDisplay(a);var s=e.addShape(o,{attrs:a});return i.push(s),t})),t})),i},a._drawClip=function(t){var e=this.parsePoint(t,this.get("start")),n=this.parsePoint(t,this.get("end")),r=[["M",e.x,e.y],["L",n.x,e.y],["L",n.x,n.y],["L",e.x,n.y],["z"]];return new o({attrs:{path:r,opacity:1}})},a._adjustDisplay=function(t){var e=this.get("color");t.fill&&(t.fill=t.fillStyle=e),t.stroke=t.strokeStyle=e},a._geomFilter=function(t){var e=this.get("apply");return!e||r.contains(e,t)},a.clear=function(){t.prototype.clear.call(this);var e=this.get("clip");e&&e.remove()},i}(i);t.exports=a},function(t,e,n){var r=n(0),i=n(30),o=n(5),a=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=i.prototype;return a.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"tail-legend",layout:"vertical",autoLayout:!0})},a._addItem=function(t){var e=this.get("itemsGroup"),n=this._getNextX(),i=this.get("unCheckColor"),o=e.addGroup({x:0,y:0,value:t.value,scaleValue:t.scaleValue,checked:t.checked});o.translate(n,0),o.set("viewId",e.get("viewId"));var a=this.get("textStyle"),s=this.get("_wordSpaceing"),u=0;if(t.marker){var l=r.mix({},t.marker,{x:t.marker.radius,y:0});t.checked||(l.fill&&(l.fill=i),l.stroke&&(l.stroke=i));var c=o.addShape("marker",{type:"marker",attrs:l});c.attr("cursor","pointer"),c.name="legend-marker",u+=c.getBBox().width+s}var h=r.mix({},a,{x:u,y:0,text:this._formatItemValue(t.value)});t.checked||r.mix(h,{fill:i});var f=o.addShape("text",{attrs:h});f.attr("cursor","pointer"),f.name="legend-text",this.get("appendInfo")&&f.setSilent("appendInfo",this.get("appendInfo"));var p=o.getBBox(),d=this.get("itemWidth"),v=o.addShape("rect",{attrs:{x:n,y:0-p.height/2,fill:"#fff",fillOpacity:0,width:d||p.width,height:p.height}});return v.attr("cursor","pointer"),v.setSilent("origin",t),v.name="legend-item",this.get("appendInfo")&&v.setSilent("appendInfo",this.get("appendInfo")),o.name="legendGroup",o},a._adjust=function(){if(this.get("geom")){this.get("group").attr("matrix")[7]=0;var t=this.get("geom").get("dataArray"),e=this.get("itemsGroup").get("children"),n=0;r.each(e,(function(e){var i=t[n],o=i[i.length-1].y;r.isArray(o)&&(o=o[1]);var a=e.getBBox().height,s=e.get("x"),u=o-a/2;e.translate(s,u),n++})),this.get("autoLayout")&&this._antiCollision(e)}},a.render=function(){var e=this;t.prototype.render.call(this),this.get("chart").once("afterpaint",(function(){e._adjust()}))},a._getPreviousY=function(t){return t.attr("matrix")[7]+t.getBBox().height},a._adjustDenote=function(t,e,n){var r=2*-o.legend.legendMargin;t.addShape("path",{attrs:{path:"M-2,"+e+"L"+r+","+(n+3),lineWidth:1,lineDash:[2,2],stroke:"#999999"}})},a._antiCollision=function(t){if(void 0===t&&(t=[]),t.length){var e=this;t.sort((function(t,e){return t.attr("matrix")[7]-e.attr("matrix")[7]}));var n=!0,r=e.get("chart").get("plotRange"),i=r.tl.y,o=Math.abs(i-r.bl.y),a=t[0].getBBox().height,s=Number.MIN_VALUE,u=0,l=t.map((function(t){var e=t.attr("matrix")[7];return e>u&&(u=e),e<s&&(s=e),{size:t.getBBox().height,targets:[e-i]}}));s-=i;for(var c=0;n;){for(var h=0;h<l.length;h++){var f=l[h],p=(Math.min.apply(s,f.targets)+Math.max.apply(s,f.targets))/2;f.pos=Math.min(Math.max(s,p-f.size/2),o-f.size)}for(n=!1,c=l.length;c--;)if(c>0){var d=l[c-1],v=l[c];d.pos+d.size>v.pos&&(d.size+=v.size,d.targets=d.targets.concat(v.targets),l.splice(c,1),n=!0)}}c=0;var g=this.get("itemsGroup").addGroup();l.forEach((function(n){var r=i+a;n.targets.forEach((function(){var i=t[c].attr("matrix")[7],o=n.pos+r-a/2;Math.abs(i-o)>a/2&&e._adjustDenote(g,o,i-e.get("group").attr("matrix")[7]/2),t[c].translate(0,-i),t[c].translate(0,o),r+=a,c++}))}))}},i}(i.Legend.Category);t.exports=a},function(t,e,n){var r=n(0),i=n(16).Group,o=function t(e){t.superclass.constructor.call(this,e)};r.extend(o,i),r.augment(o,{getDefaultCfg:function(){return{type:"plotBack",padding:null,background:null,plotRange:null,plotBackground:null}},_beforeRenderUI:function(){this._calculateRange()},_renderUI:function(){this._renderBackground(),this._renderPlotBackground()},_renderBackground:function(){var t=this.get("background");if(t){var e=this.get("canvas"),n={x:0,y:0,width:this.get("width")||e.get("width"),height:this.get("height")||e.get("height")},i=this.get("backgroundShape");i?i.attr(n):(i=this.addShape("rect",{attrs:r.mix(n,t)}),this.set("backgroundShape",i))}},_renderPlotBackground:function(){var t=this.get("plotBackground");if(t){var e=this.get("plotRange"),n=e.br.x-e.bl.x,i=e.br.y-e.tr.y,o=e.tl,a={x:o.x,y:o.y,width:n,height:i},s=this.get("plotBackShape");s?s.attr(a):(t.image?(a.img=t.image,s=this.addShape("image",{attrs:a})):(r.mix(a,t),s=this.addShape("rect",{attrs:a})),this.set("plotBackShape",s))}},_convert:function(t,e){if(r.isString(t))if("auto"===t)t=0;else if(t.includes("%")){var n=this.get("canvas"),i=this.get("width")||n.get("width"),o=this.get("height")||n.get("height");t=parseInt(t,10)/100,t=e?t*i:t*o}return t},_calculateRange:function(){var t=this.get("plotRange");r.isNil(t)&&(t={});var e=this.get("padding"),n=this.get("canvas"),i=this.get("width")||n.get("width"),o=this.get("height")||n.get("height"),a=r.toAllPadding(e),s=this._convert(a[0],!1),u=this._convert(a[1],!0),l=this._convert(a[2],!1),c=this._convert(a[3],!0),h=Math.min(c,i-u),f=Math.max(c,i-u),p=Math.min(o-l,s),d=Math.max(o-l,s);t.tl={x:h,y:p},t.tr={x:f,y:p},t.bl={x:h,y:d},t.br={x:f,y:d},t.cc={x:(f+h)/2,y:(d+p)/2},this.set("plotRange",t)},repaint:function(){return this._calculateRange(),this._renderBackground(),this._renderPlotBackground(),this}}),t.exports=o},function(t,e,n){function r(t,e,n){return{x:t.x+e*Math.cos(n),y:t.y+e*Math.sin(n)}}var i=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=i.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="circle",e},o.getRegion=function(t,e){var n=2*Math.PI/t,i=-1*Math.PI/2+n*e,o=.5/(1+1/Math.sin(n/2)),a=r({x:.5,y:.5},.5-o,i),s=5*Math.PI/4,u=1*Math.PI/4;return{start:r(a,o,s),end:r(a,o,u)}},o.generateFacets=function(t){var e=this,n=e.fields[0];if(!n)throw"Please specify for the field for facet!";var r=e.getFieldValues(n,t),i=r.length,o=[];return r.forEach((function(a,s){var u=[{field:n,value:a,values:r}],l=e.getFilter(u),c=t.filter(l),h={type:e.type,colValue:a,colField:n,colIndex:s,cols:i,rows:1,rowIndex:0,data:c,region:e.getRegion(i,s)};o.push(h)})),o},i}(n(46));t.exports=i},function(t,e,n){var r=n(0),i=n(44),o={};o.Rect=n(126),o.List=n(125),o.Circle=n(284),o.Tree=n(288),o.Mirror=n(287),o.Matrix=n(286),i.prototype.facet=function(t,e){var n=o[r.upperFirst(t)];if(!n)throw new Error("Not support such type of facets as: "+t);var i=this.get("facets");i&&i.destroy(),e.chart=this;var a=new n(e);this.set("facets",a)},t.exports=o},function(t,e,n){var r=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="matrix",e.showTitle=!1,e},i.generateFacets=function(t){for(var e=this.fields,n=e.length,r=n,i=[],o=0;o<r;o++)for(var a=e[o],s=0;s<n;s++){var u=e[s],l={type:this.type,colValue:a,rowValue:u,colField:a,rowField:u,colIndex:o,rowIndex:s,cols:r,rows:n,data:t,region:this.getRegion(n,r,o,s)};i.push(l)}return i},i.setXAxis=function(t,e,n){n.rowIndex!==n.rows-1&&(e[t].title=null,e[t].label=null)},i.setYAxis=function(t,e,n){0!==n.colIndex&&(e[t].title=null,e[t].label=null)},r}(n(126));t.exports=r},function(t,e,n){var r=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="mirror",this.transpose=!1,e},i.init=function(){this.transpose?(this.cols=2,this.rows=1):(this.cols=1,this.rows=2),t.prototype.init.call(this)},i.beforeProcessView=function(t,e){this.transpose?e.colIndex%2===0?t.coord().transpose().scale(-1,1):t.coord().transpose():e.rowIndex%2!==0&&t.coord().scale(1,-1)},i.renderTitle=function(t,e){this.transpose?this.drawColTitle(t,e):this.drawRowTitle(t,e)},i.setXAxis=function(t,e,n){1!==n.colIndex&&1!==n.rowIndex||(e[t].label=null,e[t].title=null)},i.setYAxis=function(){},r}(n(125));t.exports=r},function(t,e,n){var r=n(46),i=n(0).assign,o=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="tree",e.line={lineWidth:1,stroke:"#ddd"},e.lineSmooth=!1,e},o.generateFacets=function(t){if(!this.fields.length)throw"Please specify for the fields for facet!";var e=[],n=this.getRootFacet(t);return e.push(n),n.children=this.getChildFacets(t,1,e),this.setRegion(e),e},o.getRootFacet=function(t){return{type:this.type,rows:this.getRows(),rowIndex:0,colIndex:0,colValue:this.rootTitle,data:t}},o.getRows=function(){return this.fields.length+1},o.getChildFacets=function(t,e,n){var r=this,i=r.fields;if(!(i.length<e)){var o=[],a=i[e-1],s=r.getFieldValues(a,t);return s.forEach((function(i,u){var l=[{field:a,value:i,values:s}],c=r.getFilter(l),h=t.filter(c);if(h.length){var f={type:r.type,colValue:i,colField:a,colIndex:u,rows:r.getRows(),rowIndex:e,data:h,children:r.getChildFacets(h,e+1,n)};o.push(f),n.push(f)}})),o}},o.setRegion=function(t){var e=this;e.forceColIndex(t),t.forEach((function(t){t.region=e.getRegion(t.rows,t.cols,t.colIndex,t.rowIndex)}))},o.forceColIndex=function(t){var e=this,n=[],r=0;t.forEach((function(t){e.isLeaf(t)&&(n.push(t),t.colIndex=r,r++)})),n.forEach((function(t){t.cols=n.length}));for(var i=e.fields.length-1;i>=0;i--)for(var o=e.getFacetsByLevel(t,i),a=0;a<o.length;a++){var s=o[a];e.isLeaf(s)||(s.originColIndex=s.colIndex,s.colIndex=e.getRegionIndex(s.children),s.cols=n.length)}},o.getFacetsByLevel=function(t,e){var n=[];return t.forEach((function(t){t.rowIndex===e&&n.push(t)})),n},o.getRegion=function(t,e,n,r){var i=1/e,o=1/t,a={x:i*n,y:o*r};return{start:a,end:{x:a.x+i,y:a.y+2*o/3}}},o.getRegionIndex=function(t){var e=t[0];return(t[t.length-1].colIndex-e.colIndex)/2+e.colIndex},o.isLeaf=function(t){return!t.children||!t.children.length},o.setXAxis=function(t,e,n){n.rowIndex!==n.rows-1&&(e[t].label=null,e[t].title=null)},o.setYAxis=function(t,e,n){0!==n.originColIndex&&0!==n.colIndex&&(e[t].title=null,e[t].label=null)},o.onPaint=function(){t.prototype.onPaint.call(this),this.group.clear(),this.facets&&this.line&&this.drawLines(this.facets,this.group)},o.drawLines=function(t,e){var n=this,r=e.addGroup();t.forEach((function(t){if(!n.isLeaf(t)){var e=t.children;n._addFacetLines(t,e,r)}}))},o._addFacetLines=function(t,e,n){var r=this,i=t.view.getViewRegion(),o={x:i.start.x+(i.end.x-i.start.x)/2,y:i.start.y};e.forEach((function(t){var e=t.view.getViewRegion(),i={x:e.start.x+(e.end.x-e.start.x)/2,y:e.end.y},a={x:o.x,y:o.y+(i.y-o.y)/2},s={x:i.x,y:a.y};r._drawLine([o,a,s,i],n)}))},o._getPath=function(t){var e=[];return this.lineSmooth?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach((function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e},o._drawLine=function(t,e){var n=this._getPath(t),r=this.line;e.addShape("path",{attrs:i({path:n},r)})},r}(r);t.exports=o},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var i=n(8),o=n(128),a=n(0);n(304);var s=function(t){r(n,t);var e=n.prototype;function n(e){var n;return n=t.call(this,e)||this,a.assign(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n),o),n}return e.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="area",e.shapeType="area",e.generatePoints=!0,e.sortable=!0,e},e.draw=function(t,e,n,r){var i=this,o=this.getDrawCfg(t[0]);i._applyViewThemeShapeStyle(o,o.shape,n);var s=this.splitData(t);o.origin=t,a.each(s,(function(t,a){o.splitedIndex=a;var s=t.map((function(t){return t.points}));o.points=s;var u=n.drawShape(o.shape,o,e);i.appendShapeInfo(u,r+a)}))},n}(i),u=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"stack"}],e},e}(s);s.Stack=u,i.Area=s,i.AreaStack=u,t.exports=s},function(t,e,n){var r=n(8);n(305);var i=function(t){var e,n;function r(){return t.apply(this,arguments)||this}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="edge",e.shapeType="edge",e.generatePoints=!0,e},r}(r);r.Edge=i,t.exports=i},function(t,e,n){var r=n(65).ColorUtil,i=n(8),o=n(0),a=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=i.prototype;return a.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="heatmap",e.paletteCache={},e},a._prepareRange=function(){var t=this.get("mappedData"),e=this.getAttr("color").field,n=1/0,r=-1/0;t.forEach((function(t){var i=t._origin[e];i>r&&(r=i),i<n&&(n=i)})),n===r&&(n=r-1);var i=[n,r];this.set("valueRange",i)},a._prepareSize=function(){var t=this.getDefaultValue("size");o.isNumber(t)||(t=this._getDefaultSize());var e=this.get("styleOptions"),n=e&&o.isObject(e.style)?e.style.blur:null;o.isFinite(n)&&null!==n||(n=t/2),this.set("heatmapSize",{blur:n,radius:t})},a._getDefaultSize=function(){var t=this.getAttr("position"),e=this.get("coord");return Math.min(e.width/(4*t.scales[0].ticks.length),e.height/(4*t.scales[1].ticks.length))},a._colorize=function(t){for(var e=this.getAttr("color"),n=t.data,i=this.get("paletteCache"),o=3;o<n.length;o+=4){var a=n[o];if(a){var s=void 0;i[a]?s=i[a]:(s=r.rgb2arr(e.gradient(a/256)),i[a]=s),n[o-3]=s[0],n[o-2]=s[1],n[o-1]=s[2],n[o]=a}}},a._prepareGreyScaleBlurredCircle=function(t,e){var n=this.get("grayScaleBlurredCanvas");n||(n=document.createElement("canvas"),this.set("grayScaleBlurredCanvas",n));var r=t+e,i=n.getContext("2d");n.width=n.height=2*r,i.clearRect(0,0,n.width,n.height),i.shadowOffsetX=i.shadowOffsetY=2*r,i.shadowBlur=e,i.shadowColor="black",i.beginPath(),i.arc(-r,-r,t,0,2*Math.PI,!0),i.closePath(),i.fill()},a._drawGrayScaleBlurredCircle=function(t,e,n,r,i){var o=this.get("grayScaleBlurredCanvas");i.globalAlpha=r,i.drawImage(o,t-n,e-n)},a._getShadowCanvasCtx=function(){var t=this.get("shadowCanvas");t||(t=document.createElement("canvas"),this.set("shadowCanvas",t));var e=this.get("coord");return e&&(t.width=e.width,t.height=e.height),t.getContext("2d")},a._clearShadowCanvasCtx=function(){var t=this._getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},a._getImageShape=function(){var t=this.get("imageShape");return t||(t=this.get("container").addShape("Image",{}),this.set("imageShape",t),t)},a.clear=function(){this._clearShadowCanvasCtx(),t.prototype.clear.call(this)},a.drawWithRange=function(t){var e=this.get("coord"),n=e.start,r=e.end,i=e.width,o=e.height,a=this.getAttr("color").field,s=this.get("heatmapSize");this._clearShadowCanvasCtx();var u=this._getShadowCanvasCtx(),l=this.get("mappedData");t&&(l=l.filter((function(e){return e._origin[a]<=t[1]&&e._origin[a]>=t[0]})));for(var c=this._getScale(a),h=0;h<l.length;h++){var f=l[h],p=this.getDrawCfg(f),d=c.scale(f._origin[a]);this._drawGrayScaleBlurredCircle(p.x-n.x,p.y-r.y,s.radius+s.blur,d,u)}var v=u.getImageData(0,0,i,o);this._clearShadowCanvasCtx(),this._colorize(v),u.putImageData(v,0,0);var g=this._getImageShape();g.attr("x",n.x),g.attr("y",r.y),g.attr("width",i),g.attr("height",o),g.attr("img",u.canvas)},a.draw=function(t){this.set("mappedData",t),this._prepareRange(),this._prepareSize();var e=this.get("heatmapSize");this._prepareGreyScaleBlurredCircle(e.radius,e.blur);var n=this.get("valueRange");this.drawWithRange(n)},i}(i);i.Heatmap=a,t.exports=a},function(t,e,n){var r=n(8);r.Point=n(301),r.PointJitter=r.Point.Jitter,r.PointStack=r.Point.Stack,r.Path=n(130),r.Line=n(297),r.LineStack=r.Line.Stack,r.Interval=n(293),r.IntervalStack=r.Interval.Stack,r.IntervalDodge=r.Interval.Dodge,r.IntervalSymmetric=r.Interval.Symmetric,r.Area=n(289),r.AreaStack=r.Area.Stack,r.Polygon=n(302),r.Schema=n(303),r.SchemaDodge=r.Schema.Dodge,r.Edge=n(290),r.Heatmap=n(291),r.Venn=n(315),r.Violin=n(316),t.exports=r},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var i=n(8),o=n(0),a=n(70);n(306);var s=function(t){r(n,t);var e=n.prototype;function n(e){var n;return n=t.call(this,e)||this,o.assign(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n),a),n}return e.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="interval",e.shapeType="interval",e.generatePoints=!0,e},e.createShapePointsCfg=function(e){var n=t.prototype.createShapePointsCfg.call(this,e);return n.size=this.getNormalizedSize(e),n},e.clearInner=function(){t.prototype.clearInner.call(this),this.set("defaultSize",null)},n}(i),u=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"stack"}],e},e}(s),l=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"dodge"}],e},e}(s),c=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"symmetric"}],e},e}(s);s.Stack=u,s.Dodge=l,s.Symmetric=c,i.Interval=s,i.IntervalStack=u,i.IntervalDodge=l,i.IntervalSymmetric=c,t.exports=s},function(t,e,n){var r=n(69),i=n(127),o=n(296),a=n(295),s={getLabelsClass:function(t,e){var n=r;return"polar"===t?n=i:"theta"===t?n=o:"interval"!==e&&"polygon"!==e||(n=a),n}};t.exports=s},function(t,e,n){var r=n(0),i=n(69),o=function t(e){t.superclass.constructor.call(this,e)};r.extend(o,i),r.augment(o,{setLabelPosition:function(t,e,n,i){r.isFunction(i)&&(i=i(t.text,e._origin,n));var o=this.get("coord"),a=o.isTransposed,s=o.convertPoint(e.points[0]),u=o.convertPoint(e.points[2]),l=(s.x-u.x)/2*(a?-1:1),c=(s.y-u.y)/2*(a?-1:1);switch(i){case"right":a?(t.x-=l,t.y+=c,t.textAlign=t.textAlign||"center"):(t.x-=l,t.y+=c,t.textAlign=t.textAlign||"left");break;case"left":a?(t.x-=l,t.y-=c,t.textAlign=t.textAlign||"center"):(t.x+=l,t.y+=c,t.textAlign=t.textAlign||"right");break;case"bottom":a?(t.x-=2*l,t.textAlign=t.textAlign||"left"):(t.y+=2*c,t.textAlign=t.textAlign||"center");break;case"middle":a?t.x-=l:t.y+=c,t.textAlign=t.textAlign||"center";break;case"top":t.textAlign=a?t.textAlign||"left":t.textAlign||"center"}}}),t.exports=o},function(t,e,n){var r=n(0),i=n(127),o=n(25),a=n(5);function s(t,e,n){return{x:t.x+n*Math.cos(e),y:t.y+n*Math.sin(e)}}var u=function t(e){t.superclass.constructor.call(this,e)};r.extend(u,i),r.augment(u,{getDefaultCfg:function(){return{label:a.thetaLabels}},getDefaultOffset:function(t){return t.offset||0},adjustItems:function(t){var e=t[0]?t[0].offset:0;return e>0&&(t=this._distribute(t,e)),u.superclass.adjustItems.call(this,t)},_distribute:function(t,e){var n=this.get("coord"),r=n.getRadius(),i=this.get("label").labelHeight,o=n.getCenter(),a=2*(r+e)+2*i,s={start:n.start,end:n.end},u=this.get("geom");if(u){var l=u.get("view");s=l.getViewRegion()}var c=[[],[]];return t.forEach((function(t){t&&("right"===t.textAlign?c[0].push(t):c[1].push(t))})),c.forEach((function(t,e){var n=parseInt(a/i,10);t.length>n&&(t.sort((function(t,e){return e["..percent"]-t["..percent"]})),t.splice(n,t.length-n)),t.sort((function(t,e){return t.y-e.y})),function(t,e,n,r,i){var o,a=!0,s=n.start,u=n.end,l=Math.min(s.y,u.y),c=Math.abs(s.y-u.y),h=0,f=Number.MIN_VALUE,p=t.map((function(t){return t.y>h&&(h=t.y),t.y<f&&(f=t.y),{size:e,targets:[t.y-l]}}));for(f-=l,h-l>c&&(c=h-l);a;)for(p.forEach((function(t){var e=(Math.min.apply(f,t.targets)+Math.max.apply(f,t.targets))/2;t.pos=Math.min(Math.max(f,e-t.size/2),c-t.size)})),a=!1,o=p.length;o--;)if(o>0){var d=p[o-1],v=p[o];d.pos+d.size>v.pos&&(d.size+=v.size,d.targets=d.targets.concat(v.targets),d.pos+d.size>c&&(d.pos=c-d.size),p.splice(o,1),a=!0)}o=0,p.forEach((function(n){var r=l+e/2;n.targets.forEach((function(){t[o].y=n.pos+r,r+=e,o++}))})),t.forEach((function(t){var e=t.r*t.r,n=Math.pow(Math.abs(t.y-r.y),2);if(e<n)t.x=r.x;else{var o=Math.sqrt(e-n);t.x=i?r.x+o:r.x-o}}))}(t,i,s,o,e)})),c[0].concat(c[1])},lineToLabel:function(t){var e=this.get("coord"),n=e.getRadius(),r=t.offset,i=t.orignAngle||t.angle,o=e.getCenter(),a=s(o,i,n+2.5),u=s(o,i,n+r/2);t.labelLine||(t.labelLine=this.get("label").labelLine||{}),t.labelLine.path=["M"+a.x,a.y+" Q"+u.x,u.y+" "+t.x,t.y].join(",")},getLabelRotate:function(t,e){var n;return e<0&&((n=180*t/Math.PI)>90&&(n-=180),n<-90&&(n+=180)),n/180*Math.PI},getLabelAlign:function(t){var e,n=this.get("coord").getCenter();return e=t.angle<=Math.PI/2&&t.x>=n.x?"left":"right",this.getDefaultOffset(t)<=0&&(e="right"===e?"left":"right"),e},getArcPoint:function(t){return t},getPointAngle:function(t){var e=this.get("coord"),n={x:r.isArray(t.x)?t.x[0]:t.x,y:t.y[0]};this.transLabelPoint(n);var i,a={x:r.isArray(t.x)?t.x[1]:t.x,y:t.y[1]};this.transLabelPoint(a);var s=o.getPointAngle(e,n);if(t.points&&t.points[0].y===t.points[1].y)i=s;else{var u=o.getPointAngle(e,a);s>=u&&(u+=2*Math.PI),i=s+(u-s)/2}return i},getCirclePoint:function(t,e){var n=this.get("coord"),r=n.getCenter(),i=n.getRadius()+e,o=s(r,t,i);return o.angle=t,o.r=i,o}}),t.exports=u},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var i=n(8),o=n(130);n(307);var a=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="line",e.sortable=!0,e},e}(o),s=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"stack"}],e},e}(a);a.Stack=s,i.Line=a,i.LineStack=s,t.exports=a},function(t,e,n){var r=n(0),i=n(129);function o(t,e){if(!t)return!0;if(t.length!==e.length)return!0;var n=!1;return r.each(e,(function(e,i){if(!function(t,e){if(r.isNil(t)||r.isNil(e))return!1;var n=t.get("origin"),i=e.get("origin");return r.isEqual(n,i)}(e,t[i]))return n=!0,!1})),n}function a(t,e){var n={};return r.each(t,(function(t,i){var o=e.attr(i);r.isArray(o)&&(o=r.cloneDeep(o)),n[i]=o})),n}var s={_isAllowActive:function(){var t=this.get("allowActive");if(!r.isNil(t))return t;var e=this.get("view"),n=this.isShareTooltip();return!1===e.get("options").tooltip||!n},_onMouseenter:function(t){var e=t.shape,n=this.get("shapeContainer");e&&n.contain(e)&&this._isAllowActive()&&this.setShapesActived(e)},_onMouseleave:function(){var t=this.get("view").get("canvas");this.get("activeShapes")&&(this.clearActivedShapes(),t.draw())},_bindActiveAction:function(){var t=this.get("view"),e=this.get("type");t.on(e+":mouseenter",r.wrapBehavior(this,"_onMouseenter")),t.on(e+":mouseleave",r.wrapBehavior(this,"_onMouseleave"))},_offActiveAction:function(){var t=this.get("view"),e=this.get("type");t.off(e+":mouseenter",r.getWrapBehavior(this,"_onMouseenter")),t.off(e+":mouseleave",r.getWrapBehavior(this,"_onMouseleave"))},_setActiveShape:function(t){var e=this.get("activedOptions")||{},n=t.get("origin"),o=n.shape||this.getDefaultValue("shape");r.isArray(o)&&(o=o[0]);var s=this.get("shapeFactory"),u=r.mix({},t.attr(),{origin:n}),l=s.getActiveCfg(o,u);e.style&&r.mix(l,e.style);var c=a(l,t);t.setSilent("_originActiveAttrs",c),e.animate?t.animate(l,300):t.attr(l),i.toFront(t)},setShapesActived:function(t){var e=this;r.isArray(t)||(t=[t]);var n=e.get("activeShapes");if(o(n,t)){var i=e.get("view").get("canvas"),a=e.get("activedOptions");a&&a.highlight?(r.each(t,(function(t){t.get("animating")&&t.stopAnimate()})),e.highlightShapes(t)):(n&&e.clearActivedShapes(),r.each(t,(function(t){t.get("animating")&&t.stopAnimate(),t.get("visible")&&e._setActiveShape(t)}))),e.set("activeShapes",t),i.draw()}},clearActivedShapes:function(){var t=this.get("shapeContainer"),e=this.get("activedOptions"),n=e&&e.animate;if(t&&!t.get("destroyed")){var o=this.get("activeShapes");if(r.each(o,(function(t){var e=t.get("_originActiveAttrs");n?(t.stopAnimate(),t.animate(e,300)):t.attr(e),i.resetZIndex(t),t.setSilent("_originActiveAttrs",null)})),this.get("preHighlightShapes")){var a=t.get("children");r.each(a,(function(t){var e=t.get("_originActiveAttrs");e&&(n?(t.stopAnimate(),t.animate(e,300)):t.attr(e),i.resetZIndex(t),t.setSilent("_originActiveAttrs",null))}))}this.set("activeShapes",null),this.set("preHighlightShapes",null)}},getGroupShapesByPoint:function(t){var e=this.get("shapeContainer"),n=[];if(e){var i=this.getXScale().field,o=this.getShapes(),a=this._getOriginByPoint(t);r.each(o,(function(t){var e=t.get("origin");t.get("visible")&&e&&e._origin[i]===a[i]&&n.push(t)}))}return n},getSingleShapeByPoint:function(t){var e,n=this.get("shapeContainer"),r=n.get("canvas").get("pixelRatio");if(n&&(e=n.getShape(t.x*r,t.y*r)),e&&e.get("origin"))return e},highlightShapes:function(t,e){r.isArray(t)||(t=[t]);var n=this.get("activeShapes");if(o(n,t)){n&&this.clearActivedShapes();var s=this.getShapes(),u=this.get("activedOptions"),l=u&&u.animate,c=u&&u.style;r.each(s,(function(n){var o={};n.stopAnimate(),-1!==r.indexOf(t,n)?(r.mix(o,c,e),i.toFront(n)):(r.mix(o,{fillOpacity:.3,opacity:.3}),i.resetZIndex(n));var s=a(o,n);n.setSilent("_originActiveAttrs",s),l?n.animate(o,300):n.attr(o)})),this.set("preHighlightShapes",t),this.set("activeShapes",t)}}};t.exports=s},function(t,e,n){var r=n(0),i=n(129);function o(t,e){if(r.isNil(t)||r.isNil(e))return!1;var n=t.get("origin"),i=e.get("origin");return r.isEqual(n,i)}var a={_isAllowSelect:function(){var t=this.get("allowSelect");if(!r.isNil(t))return t;var e=this.get("type"),n=this.get("coord"),i=n&&n.type;return"interval"===e&&"theta"===i},_onClick:function(t){if(this._isAllowSelect()){var e=t.shape,n=this.get("shapeContainer");e&&n.contain(e)&&this.setShapeSelected(e)}},_bindSelectedAction:function(){var t=this.get("view"),e=this.get("type");t.on(e+":click",r.wrapBehavior(this,"_onClick"))},_offSelectedAction:function(){var t=this.get("view"),e=this.get("type");t.off(e+":click",r.getWrapBehavior(this,"_onClick"))},_setShapeStatus:function(t,e){var n=this.get("view"),o=this.get("selectedOptions")||{},a=!1!==o.animate,s=n.get("canvas");t.set("selected",e);var u=t.get("origin");if(e){var l=u.shape||this.getDefaultValue("shape");r.isArray(l)&&(l=l[0]);var c=this.get("shapeFactory"),h=r.mix({geom:this,point:u},o),f=c.getSelectedCfg(l,h);r.mix(f,h.style),t.get("_originAttrs")||(t.get("animating")&&t.stopAnimate(),t.set("_originAttrs",function(t,e){var n={};return r.each(t,(function(t,i){"transform"===i&&(i="matrix");var o=e.attr(i);r.isArray(o)&&(o=r.cloneDeep(o)),n[i]=o})),n}(f,t))),o.toFront&&i.toFront(t),a?t.animate(f,300):(t.attr(f),s.draw())}else{var p=t.get("_originAttrs");o.toFront&&i.resetZIndex(t),t.set("_originAttrs",null),a?t.animate(p,300):(t.attr(p),s.draw())}},setShapeSelected:function(t){var e=this._getSelectedShapes(),n=this.get("selectedOptions")||{},i=!1!==n.cancelable;if("multiple"===n.mode)-1===r.indexOf(e,t)?(e.push(t),this._setShapeStatus(t,!0)):i&&(r.Array.remove(e,t),this._setShapeStatus(t,!1));else{var a=e[0];i&&(t=o(a,t)?null:t),o(a,t)||(a&&this._setShapeStatus(a,!1),t&&this._setShapeStatus(t,!0))}},clearSelected:function(){var t=this,e=t.get("shapeContainer");if(e&&!e.get("destroyed")){var n=t._getSelectedShapes();r.each(n,(function(e){t._setShapeStatus(e,!1),e.set("_originAttrs",null)}))}},setSelected:function(t){var e=this,n=e.getShapes();return r.each(n,(function(n){var r=n.get("origin");r&&r._origin===t&&e.setShapeSelected(n)})),this},_getSelectedShapes:function(){var t=this.getShapes(),e=[];return r.each(t,(function(t){t.get("selected")&&e.push(t)})),this.set("selectedShapes",e),e}};t.exports=a},function(t,e,n){var r=n(0),i=n(5).defaultColor;function o(t){return t.alias||t.field}var a={_getIntervalSize:function(t){var e=null,n=this.get("type"),i=this.get("coord");if(i.isRect&&("interval"===n||"schema"===n)){e=this.getSize(t._origin);var o=i.isTransposed?"y":"x";r.isArray(t[o])&&(e=e<Math.abs(t[o][1]-t[o][0])?null:e)}return e},_snapEqual:function(t,e,n){return t=n.translate(t),e=n.translate(e),n.isCategory?t===e:r.snapEqual(t,e)},_getScaleValueByPoint:function(t){var e=0,n=this.get("coord"),r=this.getXScale(),i=n.invert(t).x;return this.isInCircle()&&i>(1+r.rangeMax())/2&&(i=r.rangeMin()),e=r.invert(i),r.isCategory&&(e=r.translate(e)),e},_getOriginByPoint:function(t){var e=this.getXScale(),n=this.getYScale(),r=e.field,i=n.field,o=this.get("coord").invert(t),a=e.invert(o.x),s=n.invert(o.y),u={};return u[r]=a,u[i]=s,u},_getScale:function(t){var e=this.get("scales"),n=null;return r.each(e,(function(e){if(e.field===t)return n=e,!1})),n},_getTipValueScale:function(){var t,e=this.getAttrsForLegend();r.each(e,(function(e){var n=e.getScale(e.type);if(n.isLinear)return t=n,!1}));var n=this.getXScale(),i=this.getYScale();return!t&&i&&"..y"===i.field?n:t||i||n},_getTipTitleScale:function(t){if(t)return this._getScale(t);var e,n=this.getAttr("position").getFields();return r.each(n,(function(t){if(!t.includes(".."))return e=t,!1})),this._getScale(e)},_filterValue:function(t,e){var n=this.get("coord"),i=this.getYScale(),o=i.field,a=n.invert(e).y;a=i.invert(a);var s=t[t.length-1];return r.each(t,(function(t){var e=t._origin;if(e[o][0]<=a&&e[o][1]>=a)return s=t,!1})),s},getXDistance:function(){var t=this.get("xDistance");if(!t){var e=this.getXScale();if(e.isCategory)t=1;else{var n=e.values,i=e.translate(n[0]),o=i;r.each(n,(function(t){(t=e.translate(t))<i&&(i=t),t>o&&(o=t)}));var a=n.length;t=(o-i)/(a-1)}this.set("xDistance",t)}return t},findPoint:function(t,e){var n=this,i=n.get("type"),o=n.getXScale(),a=n.getYScale(),s=o.field,u=a.field,l=null;if(r.indexOf(["heatmap","point"],i)>-1){var c=n.get("coord").invert(t),h=o.invert(c.x),f=a.invert(c.y),p=1/0;return r.each(e,(function(t){var e=Math.pow(t._origin[s]-h,2)+Math.pow(t._origin[u]-f,2);e<p&&(p=e,l=t)})),l}var d=e[0],v=e[e.length-1];if(!d)return l;var g=n._getScaleValueByPoint(t),y=d._origin[s],m=d._origin[u],_=v._origin[s],b=a.isLinear&&r.isArray(m);if(r.isArray(y))r.each(e,(function(t){var e=t._origin;if(o.translate(e[s][0])<=g&&o.translate(e[s][1])>=g){if(!b)return l=t,!1;r.isArray(l)||(l=[]),l.push(t)}})),r.isArray(l)&&(l=this._filterValue(l,t));else{var w;if(o.isLinear||"timeCat"===o.type){if((g>o.translate(_)||g<o.translate(y))&&(g>o.max||g<o.min))return null;for(var x,E=0,S=e.length-1;E<=S;){x=Math.floor((E+S)/2);var C=e[x]._origin[s];if(n._snapEqual(C,g,o))return e[x];o.translate(C)<=o.translate(g)?(E=x+1,v=e[x],w=e[x+1]):(0===S&&(v=e[0]),S=x-1)}}else r.each(e,(function(t,i){var a=t._origin;if(n._snapEqual(a[s],g,o)){if(!b)return l=t,!1;r.isArray(l)||(l=[]),l.push(t)}else o.translate(a[s])<=g&&(v=t,w=e[i+1])})),r.isArray(l)&&(l=this._filterValue(l,t));v&&w&&Math.abs(o.translate(v._origin[s])-g)>Math.abs(o.translate(w._origin[s])-g)&&(v=w)}var k=n.getXDistance();return!l&&Math.abs(o.translate(v._origin[s])-g)<=k/2&&(l=v),l},getTipTitle:function(t,e){var n="",r=this._getTipTitleScale(e);if(r){var i=t[r.field];n=r.getText(i)}else if("heatmap"===this.get("type")){var o=this.getXScale(),a=this.getYScale();n="( "+o.getText(t[o.field])+", "+a.getText(t[a.field])+" )"}return n},getTipValue:function(t,e){var n,i=e.field,o=t.key;if(n=t[i],r.isArray(n)){var a=[];r.each(n,(function(t){a.push(e.getText(t))})),n=a.join("-")}else n=e.getText(n,o);return n},getTipName:function(t){var e,n,i=this._getGroupScales();if(i.length&&r.each(i,(function(t){return n=t,!1})),n){var a=n.field;e=n.getText(t[a])}else e=o(this._getTipValueScale());return e},getTipItems:function(t,e){var n,a,s=this,u=t._origin,l=s.getTipTitle(u,e),c=s.get("tooltipCfg"),h=[];function f(e,n,o){if(!r.isNil(n)&&""!==n){var a={title:l,point:t,name:e||l,value:n,color:t.color||i,marker:!0};a.size=s._getIntervalSize(t),h.push(r.mix({},a,o))}}if(c){var p=c.fields,d=c.cfg,v=[];if(r.each(p,(function(t){v.push(u[t])})),d){r.isFunction(d)&&(d=d.apply(null,v));var g=r.mix({},{point:t,title:l,color:t.color||i,marker:!0},d);g.size=s._getIntervalSize(t),h.push(g)}else r.each(p,(function(t){if(!r.isNil(u[t])){var e=s._getScale(t);n=o(e),a=e.getText(u[t]),f(n,a)}}))}else{var y=s._getTipValueScale();r.isNil(u[y.field])||(a=s.getTipValue(u,y),f(n=s.getTipName(u),a))}return h},isShareTooltip:function(){var t,e=this.get("shareTooltip"),n=this.get("type"),i=this.get("view");if(t=i.get("parent")?i.get("parent").get("options"):i.get("options"),"interval"===n){var o=this.get("coord"),a=o.type;("theta"===a||"polar"===a&&o.isTransposed)&&(e=!1)}else this.getYScale()&&!r.inArray(["contour","point","polygon","edge"],n)||(e=!1);return t.tooltip&&r.isBoolean(t.tooltip.shared)&&(e=t.tooltip.shared),e}};t.exports=a},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var i=n(8),o=n(0);n(308);var a=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="point",e.shapeType="point",e.generatePoints=!0,e},n.drawPoint=function(t,e,n,r){var i,a=this,s=t.shape,u=a.getDrawCfg(t);if(a._applyViewThemeShapeStyle(u,s,n),o.isArray(t.y)){var l=a.hasStack();o.each(t.y,(function(t,o){u.y=t,u.yIndex=o,l&&0===o||(i=n.drawShape(s,u,e),a.appendShapeInfo(i,r+o))}))}else o.isNil(t.y)||(i=n.drawShape(s,u,e),a.appendShapeInfo(i,r))},e}(i),s=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"jitter"}],e},e}(a),u=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"stack"}],e},e}(a);a.Jitter=s,a.Stack=u,i.Point=a,i.PointJitter=s,i.PointStack=u,t.exports=a},function(t,e,n){var r=n(8),i=n(0);n(309);var o=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="polygon",e.shapeType="polygon",e.generatePoints=!0,e},o.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),o=r.x,a=r.y;if(!i.isArray(o)||!i.isArray(a)){var s=this.getXScale(),u=this.getYScale(),l=.5/(s.values?s.values.length:s.ticks.length),c=.5/(u.values?u.values.length:u.ticks.length);s.isCategory&&u.isCategory?(o=[o-l,o-l,o+l,o+l],a=[a-c,a+c,a+c,a-c]):i.isArray(o)?(o=[(n=o)[0],n[0],n[1],n[1]],a=[a-c/2,a+c/2,a+c/2,a-c/2]):i.isArray(a)&&(a=[(n=a)[0],n[1],n[1],n[0]],o=[o-l/2,o-l/2,o+l/2,o+l/2]),r.x=o,r.y=a}return r},r}(r);r.Polygon=o,t.exports=o},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var i=n(8),o=n(0),a=n(70);n(310);var s=function(t){r(n,t);var e=n.prototype;function n(e){var n;return n=t.call(this,e)||this,o.assign(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n),a),n}return e.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="schema",e.shapeType="schema",e.generatePoints=!0,e},e.createShapePointsCfg=function(e){var n=t.prototype.createShapePointsCfg.call(this,e);return n.size=this.getNormalizedSize(e),n},e.clearInner=function(){t.prototype.clearInner.call(this),this.set("defaultSize",null)},n}(i),u=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"dodge"}],e},e}(s);s.Dodge=u,i.Schema=s,i.SchemaDodge=u,t.exports=s},function(t,e,n){var r=n(0),i=n(9),o=n(25),a=n(23),s=n(5);function u(t){var e=s.shape.hollowArea,n=r.mix({},e,t.style);return a.addStrokeAttrs(n,t),r.isNumber(t.size)&&(n.lineWidth=t.size),n}function l(t){var e=s.shape.area,n=r.mix({},e,t.style);return a.addFillAttrs(n,t),t.color&&(n.stroke=n.stroke||t.color),r.isNumber(t.size)&&(n.lineWidth=t.size),n}function c(t,e,n){var i=[],a=[],s=[],u=[],l=t.isInCircle;return r.each(t.points,(function(t){s.push(t[1]),u.push(t[0])})),u=u.reverse(),a.push(s,u),r.each(a,(function(r,a){var s=[],u=(r=n.parsePoints(r))[0];l&&r.push({x:u.x,y:u.y}),s=e?o.getSplinePath(r,!1,t.constraint):o.getLinePath(r,!1),a>0&&(s[0][0]="L"),i=i.concat(s)})),i.push(["Z"]),i}function h(t){return{symbol:function(t,e,n){return[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},radius:5,fill:t.color,fillOpacity:.6}}var f=i.registerFactory("area",{defaultShapeType:"area",getDefaultPoints:function(t){var e=[],n=t.x,i=t.y,o=t.y0;return i=r.isArray(i)?i:[o,i],r.each(i,(function(t){e.push({x:n,y:t})})),e},getActiveCfg:function(t,e){return function(t,e){if("line"===t||"smoothLine"===t)return{lineWidth:(e.lineWidth||0)+1};var n=e.fillOpacity||e.opacity||1;return{fillOpacity:n-.15,strokeOpacity:n-.15}}(t,e)},drawShape:function(t,e,n){var i,o=this.getShape(t);return(i=1===e.points.length&&s.showSinglePoint?function(t,e,n){var i=t._coord.convertPoint(e.points[0][1]);return n.addShape("circle",{attrs:r.mix({x:i.x,y:i.y,r:2,fill:e.color},e.style)})}(this,e,n):o.draw(e,n))&&(i.set("origin",e.origin),i._id=e.splitedIndex?e._id+e.splitedIndex:e._id,i.name=this.name),i},getSelectedCfg:function(t,e){return e&&e.style?e.style:this.getActiveCfg(t,e)}});i.registerShape("area","area",{draw:function(t,e){var n=l(t),i=c(t,!1,this);return e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){return h(t)}}),i.registerShape("area","smooth",{draw:function(t,e){var n=l(t),i=this._coord;t.constraint=[[i.start.x,i.end.y],[i.end.x,i.start.y]];var o=c(t,!0,this);return e.addShape("path",{attrs:r.mix(n,{path:o})})},getMarkerCfg:function(t){return h(t)}}),i.registerShape("area","line",{draw:function(t,e){var n=u(t),i=c(t,!1,this);return e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){return h(t)}}),i.registerShape("area","smoothLine",{draw:function(t,e){var n=u(t),i=c(t,!0,this);return e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){return h(t)}}),f.spline=f.smooth,t.exports=f},function(t,e,n){var r=n(0),i=n(9),o=n(23),a=n(5),s=n(25);function u(t){var e=a.shape.edge,n=r.mix({},e,t.style);return o.addStrokeAttrs(n,t),t.size&&(n.lineWidth=t.size),n}var l=i.registerFactory("edge",{defaultShapeType:"line",getDefaultPoints:function(t){return o.splitPoints(t)},getActiveCfg:function(t,e){return{lineWidth:(e.lineWidth||0)+1}}});function c(t,e){var n=[];n.push({x:t.x,y:.5*t.y+1*e.y/2}),n.push({y:.5*t.y+1*e.y/2,x:e.x}),n.push(e);var i=["C"];return r.each(n,(function(t){i.push(t.x,t.y)})),i}function h(t,e){var n=[];n.push({x:e.x,y:e.y}),n.push(t);var i=["Q"];return r.each(n,(function(t){i.push(t.x,t.y)})),i}i.registerShape("edge","line",{draw:function(t,e){var n=this.parsePoints(t.points),i=u(t),o=s.getLinePath(n);return e.addShape("path",{attrs:r.mix(i,{path:o})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4.5},u(t))}}),i.registerShape("edge","vhv",{draw:function(t,e){var n=t.points,i=u(t),o=function(t,e){var n=[];n.push({y:t.y*(1-1/3)+e.y*(1/3),x:t.x}),n.push({y:t.y*(1-1/3)+e.y*(1/3),x:e.x}),n.push(e);var i=[["M",t.x,t.y]];return r.each(n,(function(t){i.push(["L",t.x,t.y])})),i}(n[0],n[1]);return o=this.parsePath(o),e.addShape("path",{attrs:r.mix(i,{path:o})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4.5},u(t))}}),i.registerShape("edge","smooth",{draw:function(t,e){var n=t.points,i=u(t),o=function(t,e){var n=c(t,e),r=[["M",t.x,t.y]];return r.push(n),r}(n[0],n[1]);return o=this.parsePath(o),e.addShape("path",{attrs:r.mix(i,{path:o})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4.5},u(t))}}),i.registerShape("edge","arc",{draw:function(t,e){var n,i,o=t.points,a=o.length>2?"weight":"normal",s=u(t);if(t.isInCircle){var l={x:0,y:1};"normal"===a?i=function(t,e,n){var r=h(e,n),i=[["M",t.x,t.y]];return i.push(r),i}(o[0],o[1],l):(s.fill=s.stroke,i=function(t,e){var n=h(t[1],e),r=h(t[3],e),i=[["M",t[0].x,t[0].y]];return i.push(r),i.push(["L",t[3].x,t[3].y]),i.push(["L",t[2].x,t[2].y]),i.push(n),i.push(["L",t[1].x,t[1].y]),i.push(["L",t[0].x,t[0].y]),i.push(["Z"]),i}(o,l)),i=this.parsePath(i),n=e.addShape("path",{attrs:r.mix(s,{path:i})})}else if("normal"===a)o=this.parsePoints(o),n=e.addShape("arc",{attrs:r.mix(s,{x:(o[1].x+o[0].x)/2,y:o[0].y,r:Math.abs(o[1].x-o[0].x)/2,startAngle:Math.PI,endAngle:2*Math.PI})});else{i=[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y]];var f=c(o[1],o[3]),p=c(o[2],o[0]);i.push(f),i.push(["L",o[3].x,o[3].y]),i.push(["L",o[2].x,o[2].y]),i.push(p),i.push(["Z"]),i=this.parsePath(i),s.fill=s.stroke,n=e.addShape("path",{attrs:r.mix(s,{path:i})})}return n},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4.5},u(t))}}),t.exports=l},function(t,e,n){var r=n(0),i=n(9),o=n(25),a=n(23),s=n(5),u=n(16),l=r.PathUtil;function c(t,e){var n,i,o=t.x,a=t.y,s=t.y0,u=t.size,l=s,c=a;r.isArray(a)&&(c=a[1],l=a[0]),r.isArray(o)?(n=o[0],i=o[1]):(n=o-u/2,i=o+u/2);var h=[];return h.push({x:n,y:l},{x:n,y:c}),e?h.push({x:i,y:(c+l)/2}):h.push({x:i,y:c},{x:i,y:l}),h}function h(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(r){var i=0===n?"M":"L";e.push([i,r.x,r.y])}}var o=t[0];return e.push(["L",o.x,o.y]),e.push(["z"]),e}function f(t){var e=s.shape.interval,n=r.mix({},e,t.style);return a.addFillAttrs(n,t),t.color&&(n.stroke=n.stroke||t.color),n}function p(t){var e=s.shape.hollowInterval,n=r.mix({},e,t.style);return a.addStrokeAttrs(n,t),n}function d(t,e){var n=[],i=t.points,o=t.nextPoints;return r.isNil(o)?e?n.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[3].x,i[3].y],["Z"]):n.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[2].x,i[2].y],["Z"]):n.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",o[1].x,o[1].y],["L",o[0].x,o[0].y],["Z"]),n}function v(t,e){var n,i=e.geom.get("coord"),a=e.point;if(i&&"theta"===i.type){var s=function(t,e){var n,i,a,s,u=e.getRadius(),l=u*e.innerRadius;return!r.isArray(t.x)&&r.isArray(t.y)&&(t.x=[t.x,t.x]),r.isArray(t.x)?(a={x:t.x[0],y:t.y[0]},s={x:t.x[1],y:t.y[1]},n=o.getPointAngle(e,a),(i=o.getPointAngle(e,s))<=n&&(i+=2*Math.PI)):(s=t,n=e.startAngle,i=o.getPointAngle(e,s)),{r:u,ir:l,startAngle:n,endAngle:i}}(a,i),u=(s.endAngle-s.startAngle)/2+s.startAngle;n={transform:[["t",7.5*Math.cos(u),7.5*Math.sin(u)]]}}return r.mix({},n)}var g=i.registerFactory("interval",{defaultShapeType:"rect",getActiveCfg:function(t,e){return!t||r.inArray(["rect","funnel","pyramid"],t)?{fillOpacity:(e.fillOpacity||e.opacity||1)-.15}:{lineWidth:(e.lineWidth||0)+1}},getDefaultPoints:function(t){return c(t)},getSelectedCfg:function(t,e){return v(0,e)}});function y(t,e,n,r){return 0===e?[[t+.5*n/Math.PI/2,r/2],[t+.5*n/Math.PI,r],[t+n/4,r]]:1===e?[[t+.5*n/Math.PI/2*(Math.PI-2),r],[t+.5*n/Math.PI/2*(Math.PI-1),r/2],[t+n/4,0]]:2===e?[[t+.5*n/Math.PI/2,-r/2],[t+.5*n/Math.PI,-r],[t+n/4,-r]]:[[t+.5*n/Math.PI/2*(Math.PI-2),-r],[t+.5*n/Math.PI/2*(Math.PI-1),-r/2],[t+n/4,0]]}function m(t,e,n,r,i,o,a){for(var s=2*Math.ceil(2*t/n*4),u=[];r<2*-Math.PI;)r+=2*Math.PI;for(;r>0;)r-=2*Math.PI;var l=o-t+(r=r/Math.PI/2*n)-2*t;u.push(["M",l,e]);for(var c=0,h=0;h<s;++h){var f=y(h*n/4,h%4,n,i);u.push(["C",f[0][0]+l,-f[0][1]+e,f[1][0]+l,-f[1][1]+e,f[2][0]+l,-f[2][1]+e]),h===s-1&&(c=f[2][0])}return u.push(["L",c+l,a+t]),u.push(["L",l,a+t]),u.push(["L",l,e]),u}function _(t,e,n,r,i,o,a,u){for(var l=a.getBBox(),c=l.maxX-l.minX,h=l.maxY-l.minY,f=0;f<r;f++){var p=o.addShape("path",{attrs:{path:m(u,l.minY+h*n,c/4,0,c/64,t,e),fill:i[f],clip:a}});"canvas"===s.renderer&&p.animate({transform:[["t",c/2,0]],repeat:!0},5e3-300*f)}}i.registerShape("interval","rect",{draw:function(t,e){var n=f(t),i=h(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){var e=f(t),n=t.isInCircle;return r.mix({symbol:n?"circle":"square",radius:n?4.5:4},e)}}),i.registerShape("interval","hollowRect",{draw:function(t,e){var n=p(t),i=h(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){var e=p(t),n=t.isInCircle;return r.mix({symbol:n?"circle":"square",radius:n?4.5:4},e)}}),i.registerShape("interval","line",{getPoints:function(t){return function(t){var e=t.x,n=t.y,i=t.y0,o=[];return r.isArray(n)?r.each(n,(function(t,n){o.push({x:r.isArray(e)?e[n]:e,y:t})})):o.push({x:e,y:n},{x:e,y:i}),o}(t)},draw:function(t,e){var n=p(t);n.lineWidth=t.size||1;var i=h(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){var e=p(t);return r.mix({symbol:"line",radius:5},e)}}),i.registerShape("interval","tick",{getPoints:function(t){return function(t){var e=t.x,n=r.isArray(t.y)?t.y[1]:t.y,i=r.isArray(t.y)?t.y[0]:t.y0,o=t.size,a=[];return a.push({x:e-o/2,y:n},{x:e+o/2,y:n},{x:e,y:n},{x:e,y:i},{x:e-o/2,y:i},{x:e+o/2,y:i}),a}(t)},draw:function(t,e){var n=p(t);n.lineWidth||(n.lineWidth=2);var i=function(t){var e=[];return e.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["M",t[4].x,t[4].y],["L",t[5].x,t[5].y]),e}(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){var e=p(t);return r.mix({symbol:"tick",radius:5},e)}}),i.registerShape("interval","funnel",{getPoints:function(t){return t.size=2*t.size,c(t)},draw:function(t,e){var n=f(t),i=d(t,!0);return i=this.parsePath(i),e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){var e=f(t);return r.mix({symbol:"square",radius:4},e)}}),i.registerShape("interval","pyramid",{getPoints:function(t){return t.size=2*t.size,c(t,!0)},draw:function(t,e){var n=f(t),i=d(t,!1);return i=this.parsePath(i),e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){var e=f(t);return r.mix({symbol:"square",radius:4},e)}}),i.registerShape("interval","liquid-fill-gauge",{draw:function(t,e){var n=0,i=1/0;r.each(t.points,(function(t){t.x<i&&(i=t.x),n+=t.x}));var o=n/t.points.length,a=this.parsePoint({x:o,y:.5}),s=this.parsePoint({x:i,y:.5}),l=a.x-s.x,c=Math.min(l,s.y),h=f(t),d=new u.Circle({attrs:{x:a.x,y:a.y,r:c}});return _(a.x,a.y,t.y/(2*a.y),1,[h.fill],e,d,4*c),e.addShape("circle",{attrs:r.mix(p(t),{x:a.x,y:a.y,r:c+c/8})})}});var b={};i.registerShape("interval","liquid-fill-path",{draw:function(t,e){var n=r.mix({},f(t)),i=t.shape[1],o=0,a=1/0;r.each(t.points,(function(t){t.x<a&&(a=t.x),o+=t.x}));var s,u=o/t.points.length,c=this.parsePoint({x:u,y:.5}),h=this.parsePoint({x:a,y:.5}),d=c.x-h.x,v=Math.min(d,h.y);if(b[i])s=b[i];else{var g=l.parsePathString(i);b[i]=s={segments:g}}var y=[];n.rotate&&(y.push(["r",n.rotate/180*Math.PI]),delete n.rotate);var m=e.addShape("path",{attrs:r.mix(n,{fillOpacity:0,path:s.segments})}),w=r.cloneDeep(m.getBBox()),x=w.maxX-w.minX,E=w.maxY-w.minY,S=2*v/Math.max(x,E);m.transform(y.concat([["s",S,S]]));var C=S*x/2,k=S*E/2;m.transform([["t",c.x-C,c.y-k]]),_(c.x,c.y,t.y/(2*c.y),1,[n.fill],e,m,4*h.y);var T=e.addShape("path",{attrs:r.mix(p(t),{path:s.segments})});return T.transform(y.concat([["s",S,S],["t",c.x-C,c.y-k]])),T}}),i.registerShape("interval","top-line",{draw:function(t,e){var n=f(t),i=t.style||{},o=[["M",t.points[1].x,t.points[1].y],["L",t.points[2].x,t.points[2].y]],a={stroke:i.stroke||"white",lineWidth:i.lineWidth||1,path:this.parsePath(o)},s=h(t.points);s=this.parsePath(s),delete n.stroke;var u=e.addShape("path",{attrs:r.mix(n,{zIndex:0,path:s})});return e.addShape("path",{zIndex:1,attrs:a}),u},getMarkerCfg:function(t){var e=f(t),n=t.isInCircle;return r.mix({symbol:n?"circle":"square",radius:n?4.5:4},e)}}),t.exports=g},function(t,e,n){var r=n(0),i=n(25),o=n(23),a=n(9),s=n(5),u=[1,1],l=[5.5,1];function c(t){var e=s.shape.line,n=r.mix({},e,t.style);return o.addStrokeAttrs(n,t),t.size&&(n.lineWidth=t.size),n}function h(t){var e=s.shape.line,n=r.mix({lineWidth:2,radius:6},e,t.style);return o.addStrokeAttrs(n,t),n}function f(t,e,n,r){var o;if(e){var a=r.constraint;n&&t.length&&t.push({x:t[0].x,y:t[0].y}),o=i.getSplinePath(t,!1,a)}else o=i.getLinePath(t,!1),n&&o.push(["Z"]);return o}function p(t,e){var n=t.points,i=t.isInCircle,a=n[0];return r.isArray(a.y)?function(t,e,n,r){for(var i=[],a=r.isStack,s=[],u=0;u<t.length;u++){var l=t[u],c=o.splitPoints(l);s.push(c[0]),i.push(c[1])}var h=f(i,e,n,r),p=f(s,e,n,r);return a?h:h.concat(p)}(n,e,i,t):f(n,e,i,t)}function d(t,e){return function(t){var e=[];return r.each(t,(function(t,n){var r=0===n?["M",t.x,t.y]:["L",t.x,t.y];e.push(r)})),e}(function(t,e){var n=[];return r.each(t,(function(r,i){var o=t[i+1];n.push(r),o&&(n=n.concat(e(r,o)))})),n}(t.points,e))}function v(t,e,n){return[["M",t-n,e],["L",t+n,e]]}function g(t,e,n){return[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]]}function y(t,e){return r.mix({symbol:e?g:v},h(t))}function m(t,e){return r.mix({symbol:e},h(t))}var _=a.registerFactory("line",{defaultShapeType:"line",getActiveCfg:function(t,e){return{lineWidth:(e.lineWidth||0)+1}},getDefaultPoints:function(t){return o.splitPoints(t)},drawShape:function(t,e,n){var i,o=this.getShape(t);return(i=1===e.points.length&&s.showSinglePoint?function(t,e,n){var i=e.points[0];return n.addShape("circle",{attrs:r.mix({x:i.x,y:i.y,r:2,fill:e.color},e.style)})}(0,e,n):o.draw(e,n))&&(i.set("origin",e.origin),i._id=e.splitedIndex?e._id+e.splitedIndex:e._id,i.name=this.name),i}});a.registerShape("line","line",{draw:function(t,e){var n=c(t),i=p(t,!1);return e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){return y(t)}}),a.registerShape("line","dot",{draw:function(t,e){var n=c(t),i=p(t,!1);return e.addShape("path",{attrs:r.mix(n,{path:i,lineDash:u})})},getMarkerCfg:function(t){var e=y(t,!1);return e.lineDash=u,e}}),a.registerShape("line","dash",{draw:function(t,e){var n=c(t),i=p(t,!1);return e.addShape("path",{attrs:r.mix({path:i,lineDash:l},n)})},getMarkerCfg:function(t){var e=y(t,!1);return e.lineDash=e.lineDash||l,e}}),a.registerShape("line","smooth",{draw:function(t,e){var n=c(t),i=this._coord;t.constraint=[[i.start.x,i.end.y],[i.end.x,i.start.y]];var o=p(t,!0);return e.addShape("path",{attrs:r.mix(n,{path:o})})},getMarkerCfg:function(t){return y(t,!0)}}),a.registerShape("line","hv",{draw:function(t,e){var n=c(t),i=d(t,(function(t,e){var n=[];return n.push({x:e.x,y:t.y}),n}));return e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){return m(t,(function(t,e,n){return[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]]}))}}),a.registerShape("line","vh",{draw:function(t,e){var n=c(t),i=d(t,(function(t,e){var n=[];return n.push({x:t.x,y:e.y}),n}));return e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){return m(t,(function(t,e,n){return[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]]}))}}),a.registerShape("line","hvh",{draw:function(t,e){var n=c(t),i=d(t,(function(t,e){var n=[],r=(e.x-t.x)/2+t.x;return n.push({x:r,y:t.y}),n.push({x:r,y:e.y}),n}));return e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){return m(t,(function(t,e,n){return[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]]}))}}),a.registerShape("line","vhv",{draw:function(t,e){var n=c(t),i=d(t,(function(t,e){var n=[],r=(e.y-t.y)/2+t.y;return n.push({x:t.x,y:r}),n.push({x:e.x,y:r}),n}));return e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){return m(t,(function(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}))}}),_.spline=_.smooth,t.exports=_},function(t,e,n){var r=n(0),i=n(23),o=n(5),a=n(9),s=n(16).Marker,u=r.PathUtil,l=["cross","tick","plus","hyphen","line","pointerLine","pointerArrow"],c=Math.sqrt(3);function h(t){var e=o.shape.point,n=r.mix({},e,t.style);return i.addFillAttrs(n,t),r.isNumber(t.size)&&(n.radius=t.size),n}function f(t){var e=o.shape.hollowPoint,n=r.mix({},e,t.style);return i.addStrokeAttrs(n,t),r.isNumber(t.size)&&(n.radius=t.size),n}r.mix(s.Symbols,{hexagon:function(t,e,n){var r=n/2*c;return[["M",t,e-n],["L",t+r,e-n/2],["L",t+r,e+n/2],["L",t,e+n],["L",t-r,e+n/2],["L",t-r,e-n/2],["Z"]]},bowtie:function(t,e,n){var r=n-1.5;return[["M",t-n,e-r],["L",t+n,e+r],["L",t+n,e-r],["L",t-n,e+r],["Z"]]},cross:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]]},tick:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},plus:function(t,e,n){return[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]]},hyphen:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},line:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]}});var p=a.registerFactory("point",{defaultShapeType:"hollowCircle",getActiveCfg:function(t,e){var n,i=e.radius;return{radius:i+1,shadowBlur:i,shadowColor:n=t&&(0===t.indexOf("hollow")||-1!==r.indexOf(l,t))||!t?e.stroke||e.strokeStyle:e.fill||e.fillStyle,stroke:n,strokeOpacity:1,lineWidth:1}},getDefaultPoints:function(t){return i.splitPoints(t)}});a.registerShape("point","rect",{draw:function(t,e){var n=h(t),i=function(t){var e=t.points[0].x,n=t.points[0].y,r=t.size[0],i=t.size[1];return[["M",e-.5*r,n-.5*i],["L",e+.5*r,n-.5*i],["L",e+.5*r,n+.5*i],["L",e-.5*r,n+.5*i],["z"]]}(t);return i=this.parsePath(i),e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){var e=h(t);return e.symbol="rect",e.radius=4.5,e}}),r.each(["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],(function(t){a.registerShape("point",t,{draw:function(e,n){var i=h(e);return n.addShape("Marker",{attrs:r.mix(i,{symbol:t,x:e.x,y:e.y})})},getMarkerCfg:function(e){var n=h(e);return n.symbol=t,n.radius=4.5,n}}),a.registerShape("point","hollow"+r.upperFirst(t),{draw:function(e,n){var i=f(e);return n.addShape("Marker",{attrs:r.mix(i,{symbol:t,x:e.x,y:e.y})})},getMarkerCfg:function(e){var n=f(e);return n.symbol=t,n.radius=4.5,n}})})),r.each(l,(function(t){a.registerShape("point",t,{draw:function(e,n){var i=f(e);return n.addShape("Marker",{attrs:r.mix(i,{symbol:t,x:e.x,y:e.y})})},getMarkerCfg:function(e){var n=f(e);return n.symbol=t,n.radius=4.5,n}})})),a.registerShape("point","image",{draw:function(t,e){return t.points=this.parsePoints(t.points),e.addShape("image",{attrs:{x:t.points[0].x-t.size/2,y:t.points[0].y-t.size,width:t.size,height:t.size,img:t.shape[1]}})}});var d={};a.registerShape("point","path",{draw:function(t,e){var n,i=r.mix({},f(t),h(t)),o=t.shape[1],a=t.size||10;if(d[o])n=d[o];else{var s=u.parsePathString(o),l=r.flatten(s).filter((function(t){return r.isNumber(t)}));d[o]=n={range:Math.max.apply(null,l)-Math.min.apply(null,l),segments:s}}var c=a/n.range,p=[];i.rotate&&(p.push(["r",i.rotate/180*Math.PI]),delete i.rotate);var v=e.addShape("path",{attrs:r.mix(i,{path:n.segments})});return p.push(["s",c,c],["t",t.x,t.y]),v.transform(p),v}}),t.exports=p},function(t,e,n){var r=n(0),i=n(9),o=n(23),a=n(5);function s(t){var e=a.shape.polygon,n=r.mix({},e,t.style);return o.addFillAttrs(n,t),n}function u(t){for(var e=t[0],n=1,i=[["M",e.x,e.y]];n<t.length;){var o=t[n];o.x===t[n-1].x&&o.y===t[n-1].y||(i.push(["L",o.x,o.y]),o.x===e.x&&o.y===e.y&&n<t.length-1&&(e=t[n+1],i.push(["Z"]),i.push(["M",e.x,e.y]),n++)),n++}return r.isEqual(i[i.length-1],e)||i.push(["L",e.x,e.y]),i.push(["Z"]),i}var l=i.registerFactory("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(t){var e=[];return r.each(t.x,(function(n,r){var i=t.y[r];e.push({x:n,y:i})})),e},getActiveCfg:function(t,e){var n=e.lineWidth||1;return"hollow"===t?{lineWidth:n+1}:{fillOpacity:(e.fillOpacity||e.opacity||1)-.08}},getSelectedCfg:function(t,e){return e&&e.style?e.style:this.getActiveCfg(t,e)}});i.registerShape("polygon","polygon",{draw:function(t,e){if(!r.isEmpty(t.points)){var n=s(t),i=u(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:r.mix(n,{path:i})})}},getMarkerCfg:function(t){return r.mix({symbol:"square",radius:4},s(t))}}),i.registerShape("polygon","hollow",{draw:function(t,e){if(!r.isEmpty(t.points)){var n=function(t){var e=a.shape.hollowPolygon,n=r.mix({},e,t.style);return o.addStrokeAttrs(n,t),n}(t),i=u(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:r.mix(n,{path:i})})}},getMarkerCfg:function(t){return r.mix({symbol:"square",radius:4},s(t))}}),t.exports=l},function(t,e,n){var r=n(0),i=n(9),o=n(23),a=n(5);function s(t){r.isArray(t)||(t=[t]);var e=t[0],n=t[t.length-1],i=t.length>1?t[1]:e;return{min:e,max:n,min1:i,max1:t.length>3?t[3]:n,median:t.length>2?t[2]:i}}function u(t,e,n){var i,o,a,u,l=[];return r.isArray(e)?i=[[t-n/2,(o=s(e)).max],[t+n/2,o.max],[t,o.max],[t,o.max1],[t-n/2,o.min1],[t-n/2,o.max1],[t+n/2,o.max1],[t+n/2,o.min1],[t,o.min1],[t,o.min],[t-n/2,o.min],[t+n/2,o.min],[t-n/2,o.median],[t+n/2,o.median]]:(e=e||.5,i=[[(o=s(t)).min,e-n/2],[o.min,e+n/2],[o.min,e],[o.min1,e],[o.min1,e-n/2],[o.min1,e+n/2],[o.max1,e+n/2],[o.max1,e-n/2],[o.max1,e],[o.max,e],[o.max,e-n/2],[o.max,e+n/2],[o.median,e-n/2],[o.median,e+n/2]]),a=i,u=l,r.each(a,(function(t){u.push({x:t[0],y:t[1]})})),l}function l(t,e,n){var i=function(t){r.isArray(t)||(t=[t]);var e=t.sort((function(t,e){return t<e?1:-1})),n=e.length;if(n<4)for(var i=e[n-1],o=0;o<4-n;o++)e.push(i);return e}(e);return[{x:t,y:i[0]},{x:t,y:i[1]},{x:t-n/2,y:i[2]},{x:t-n/2,y:i[1]},{x:t+n/2,y:i[1]},{x:t+n/2,y:i[2]},{x:t,y:i[2]},{x:t,y:i[3]}]}var c=i.registerFactory("schema",{defaultShapeType:"",getActiveCfg:function(t,e){if("box"===t)return{lineWidth:(e.lineWidth||1)+1};var n=e.fillOpacity||e.opacity||1;return{fillOpacity:n-.15,strokeOpacity:n-.15}},getSelectedCfg:function(t,e){return e&&e.style?e.style:this.getActiveCfg(t,e)}});i.registerShape("schema","box",{getPoints:function(t){return u(t.x,t.y,t.size)},draw:function(t,e){var n,i=function(t){var e=a.shape.schema,n=r.mix({},e,t.style);return o.addStrokeAttrs(n,t),n}(t),s=[["M",(n=t.points)[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["M",n[4].x,n[4].y],["L",n[5].x,n[5].y],["L",n[6].x,n[6].y],["L",n[7].x,n[7].y],["L",n[4].x,n[4].y],["Z"],["M",n[8].x,n[8].y],["L",n[9].x,n[9].y],["M",n[10].x,n[10].y],["L",n[11].x,n[11].y],["M",n[12].x,n[12].y],["L",n[13].x,n[13].y]];return s=this.parsePath(s),e.addShape("path",{attrs:r.mix(i,{path:s})})},getMarkerCfg:function(t){return{symbol:function(t,e,n){var r=u(t,[e-6,e-3,e,e+3,e+6],n);return[["M",r[0].x+1,r[0].y],["L",r[1].x-1,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["M",r[4].x,r[4].y],["L",r[5].x,r[5].y],["L",r[6].x,r[6].y],["L",r[7].x,r[7].y],["L",r[4].x,r[4].y],["Z"],["M",r[8].x,r[8].y],["L",r[9].x,r[9].y],["M",r[10].x+1,r[10].y],["L",r[11].x-1,r[11].y],["M",r[12].x,r[12].y],["L",r[13].x,r[13].y]]},radius:6,lineWidth:1,stroke:t.color}}}),i.registerShape("schema","candle",{getPoints:function(t){return l(t.x,t.y,t.size)},draw:function(t,e){var n,i=function(t){var e=a.shape.schema,n=r.mix({},e,t.style);return o.addFillAttrs(n,t),t.color&&(n.stroke=t.color||n.stroke),n}(t),s=[["M",(n=t.points)[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["L",n[4].x,n[4].y],["L",n[5].x,n[5].y],["Z"],["M",n[6].x,n[6].y],["L",n[7].x,n[7].y]];return s=this.parsePath(s),e.addShape("path",{attrs:r.mix(i,{path:s})})},getMarkerCfg:function(t){return{symbol:function(t,e,n){var r=l(t,e=[e+7.5,e+3,e-3,e-7.5],n);return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["L",r[4].x,r[4].y],["L",r[5].x,r[5].y],["Z"],["M",r[6].x,r[6].y],["L",r[7].x,r[7].y]]},lineWidth:1,stroke:t.color,fill:t.color,radius:6}}}),t.exports=c},function(t,e,n){var r=n(0),i=n(9),o=n(23),a=n(5),s=r.PathUtil;function u(t){var e=a.shape.venn,n=r.mix({},e,t.style);return o.addFillAttrs(n,t),n}var l=i.registerFactory("venn",{defaultShapeType:"venn",getActiveCfg:function(t,e){var n=e.lineWidth||1;return"hollow"===t?{lineWidth:n+1}:{fillOpacity:(e.fillOpacity||e.opacity||1)-.08}},getSelectedCfg:function(t,e){return e&&e.style?e.style:this.getActiveCfg(t,e)}});i.registerShape("venn","venn",{draw:function(t,e){var n=t.origin._origin.path,i=u(t),o=s.parsePathString(n);return e.addShape("path",{attrs:r.mix(i,{path:o})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4},u(t))}}),i.registerShape("venn","hollow",{draw:function(t,e){var n=t.origin._origin.path,i=function(t){var e=a.shape.hollowVenn,n=r.mix({},e,t.style);return o.addStrokeAttrs(n,t),n}(t),u=s.parsePathString(n);return e.addShape("path",{attrs:r.mix(i,{path:u})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4},u(t))}}),t.exports=l},function(t,e,n){var r=n(0),i=n(9),o=n(23),a=n(5),s=n(25);function u(t){var e=a.shape.venn,n=r.mix({},e,t.style);return o.addFillAttrs(n,t),t.color&&(n.stroke=n.stroke||t.color),n}function l(t){var e=a.shape.hollowVenn,n=r.mix({},e,t.style);return o.addStrokeAttrs(n,t),n}function c(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(r){var i=0===n?"M":"L";e.push([i,r.x,r.y])}}var o=t[0];return o&&(e.push(["L",o.x,o.y]),e.push(["z"])),e}function h(t){for(var e=t.length/2,n=[],r=[],i=0;i<t.length;i++)i<e?n.push(t[i]):r.push(t[i]);var o=s.getSplinePath(n,!1),a=s.getSplinePath(r,!1);r.length&&o.push(["L",r[0].x,r[0].y]),a.shift();var u=o.concat(a);return n.length&&u.push(["L",n[0].x,n[0].y]),u.push(["z"]),u}var f=i.registerFactory("violin",{defaultShapeType:"violin",getDefaultPoints:function(t){var e=t.size/2,n=[],i=function(t){var e=Math.max.apply(null,t);return t.map((function(t){return t/e}))}(t._size);return r.each(t.y,(function(r,o){var a=i[o]*e,s=0===o,u=o===t.y.length-1;n.push({isMin:s,isMax:u,x:t.x-a,y:r}),n.unshift({isMin:s,isMax:u,x:t.x+a,y:r})})),n},getActiveCfg:function(t,e){var n=e.lineWidth||1;return"hollow"===t?{lineWidth:n+1}:{fillOpacity:(e.fillOpacity||e.opacity||1)-.08}},getSelectedCfg:function(t,e){return e&&e.style?e.style:this.getActiveCfg(t,e)}});i.registerShape("violin","violin",{draw:function(t,e){var n=u(t),i=c(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4},u(t))}}),i.registerShape("violin","smooth",{draw:function(t,e){var n=u(t),i=h(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4},u(t))}}),i.registerShape("violin","hollow",{draw:function(t,e){var n=l(t),i=c(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4},l(t))}}),i.registerShape("violin","smoothHollow",{draw:function(t,e){var n=l(t),i=h(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4},l(t))}}),t.exports=f},function(t,e,n){var r=n(0);t.exports=function(t){return r.isArray(t)?t:r.isString(t)?t.split("*"):[t]}},function(t,e,n){var r=n(0).MatrixUtil.vec2;t.exports={catmullRom2bezier:function(t,e,n){for(var i=!!e,o=[],a=0,s=t.length;a<s;a+=2)o.push([t[a],t[a+1]]);for(var u,l,c,h=function(t,e,n,i){var o,a,s,u,l=[],c=!!i;if(c){s=[1/0,1/0],u=[-1/0,-1/0];for(var h=0,f=t.length;h<f;h++){var p=t[h];s=r.min([],s,p),u=r.max([],u,p)}s=r.min([],s,i[0]),u=r.max([],u,i[1])}for(var d=0,v=t.length;d<v;d++){var g=t[d];if(n)o=t[d?d-1:v-1],a=t[(d+1)%v];else{if(0===d||d===v-1){l.push(g);continue}o=t[d-1],a=t[d+1]}var y=[];y=r.sub(y,a,o),y=r.scale(y,y,e);var m=r.distance(g,o),_=r.distance(g,a),b=m+_;0!==b&&(m/=b,_/=b);var w=r.scale([],y,-m),x=r.scale([],y,_),E=r.add([],g,w),S=r.add([],g,x);c&&(E=r.max([],E,s),E=r.min([],E,u),S=r.max([],S,s),S=r.min([],S,u)),l.push(E),l.push(S)}return n&&l.push(l.shift()),l}(o,.4,i,n),f=o.length,p=[],d=0;d<f-1;d++)u=h[2*d],l=h[2*d+1],c=o[d+1],p.push(["C",u[0],u[1],l[0],l[1],c[0],c[1]]);return i&&(u=h[f],l=h[f+1],c=o[0],p.push(["C",u[0],u[1],l[0],l[1],c[0],c[1]])),p}}},function(t,e,n){var r=n(8),i=n(0),o=n(544),a=o.venn,s=o.scaleSolution,u=o.circlePath,l=o.intersectionAreaPath,c=o.computeTextCentres;n(311);var h=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="venn",e.shapeType="venn",e.generatePoints=!1,e},o._getAttrValues=function(e,n){return"position"===e.type?[n.x,n.y]:t.prototype._getAttrValues.call(this,e,n)},o.sets=function(t){return this.set("setsField",t),this},o._initAttrs=function(){t.prototype._initAttrs.call(this);var e=this.get("attrOptions"),n=this.get("setsField")||"sets",r=this.get("data"),o=e.size?e.size.field:"size";r.forEach((function(t){t.sets=t[n],t._sets=t[n].join("&"),t.size=t[o]}));var h=a(r),f=this.get("coord"),p=[Math.min(f.x.end,f.x.start),Math.max(f.x.end,f.x.start)],d=[Math.min(f.y.end,f.y.start),Math.max(f.y.end,f.y.start)],v=p[1]-p[0],g=d[1]-d[0],y=this.get("styleOptions"),m=y&&i.isObject(y.style)?y.style.padding:0;i.isFinite(m)||(m=0);var _=s(h,v,g,m),b=c(_,r);r.forEach((function(t){var e=t.sets,n=e.join(",");if(t.id=n,1===e.length){var r=_[n];t.path=u(r.x,r.y,r.radius),i.assign(t,r)}else{var o=e.map((function(t){return _[t]})),a=l(o);/[zZ]$/.test(a)||(a+="Z"),t.path=a;var s=b[n]||{x:0,y:0};i.assign(t,s)}}))},r}(r);r.Venn=h,t.exports=h},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var i=n(8),o=n(0),a=n(70);n(312);var s=function(t){r(n,t);var e=n.prototype;function n(e){var n;return n=t.call(this,e)||this,o.assign(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n),a),n}return e.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="violin",e.shapeType="violin",e.generatePoints=!0,e},e.createShapePointsCfg=function(e){var n=t.prototype.createShapePointsCfg.call(this,e);n.size=this.getNormalizedSize(e);var r=this.get("_sizeField");return n._size=e._origin[r],n},e.clearInner=function(){t.prototype.clearInner.call(this),this.set("defaultSize",null)},e._initAttrs=function(){var e=this.get("attrOptions"),n=e.size?e.size.field:this.get("_sizeField")?this.get("_sizeField"):"size";this.set("_sizeField",n),delete e.size,t.prototype._initAttrs.call(this)},n}(i),u=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"dodge"}],e},e}(s);s.Dodge=u,i.Violin=s,i.ViolinDodge=u,t.exports=s},function(t,e,n){var r=n(0),i=n(28),o=["X","Y","XY","POLYGON"],a=function(t){var e,n;n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=a.prototype;function a(e,n){var r,i=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r=t.call(this,e,n)||this);i.filter=!i.draggable,i.type=i.type.toUpperCase(),i.chart=n,o.includes(i.type)||(i.type="XY");var a,s=i.canvas;if(s&&(s.get("children").map((function(t){return"plotBack"===t.get("type")?(a=t.get("plotRange"),!1):t})),i.plot={start:a.bl,end:a.tr}),n){var u=n.get("coord");i.plot={start:u.start,end:u.end},n.on("afterrender",(function(){i.plot={start:u.start,end:u.end}})),i.isTransposed=u.isTransposed;var l=n._getScales("x"),c=n._getScales("y");i.xScale=i.xField?l[i.xField]:n.getXScale(),i.yScale=i.yField?c[i.yField]:n.getYScales()[0]}return r}return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"XY",startPoint:null,brushing:!1,dragging:!1,brushShape:null,container:null,polygonPath:null,style:{fill:"#C5D4EB",opacity:.3,lineWidth:1,stroke:"#82A6DD"},draggable:!1,dragOffX:0,dragOffY:0,inPlot:!0,xField:null,yField:null})},i.start=function(t){var e=this,n=e.canvas,r=e.type,i=e.brushShape;if(r){e.brushing&&e.end(t);var o={x:t.offsetX,y:t.offsetY};if(o.x){var a=e.plot&&e.inPlot,s=n.get("canvasDOM"),u=n.get("pixelRatio");if(e.selection&&(e.selection=null),e.draggable&&i&&!i.get("destroyed")){if(i.isHit(o.x*u,o.y*u)){if(s.style.cursor="move",e.selection=i,e.dragging=!0,"X"===r)e.dragoffX=o.x-i.attr("x"),e.dragoffY=0;else if("Y"===r)e.dragoffX=0,e.dragoffY=o.y-i.attr("y");else if("XY"===r)e.dragoffX=o.x-i.attr("x"),e.dragoffY=o.y-i.attr("y");else if("POLYGON"===r){var l=i.getBBox();e.dragoffX=o.x-l.minX,e.dragoffY=o.y-l.minY}e.onDragstart&&e.onDragstart(t)}e.prePoint=o}if(!e.dragging){e.onBrushstart&&e.onBrushstart(o);var c=e.container;if(a){var h=e.plot,f=h.start,p=h.end;if(o.x<f.x||o.x>p.x||o.y<p.y||o.y>f.y)return}s.style.cursor="crosshair",e.startPoint=o,e.brushShape=null,e.brushing=!0,c?c.clear():(c=n.addGroup({zIndex:5})).initTransform(),e.container=c,"POLYGON"===r&&(e.polygonPath="M "+o.x+" "+o.y)}}}},i.process=function(t){var e=this,n=e.brushing,i=e.dragging,o=e.type,a=e.plot,s=e.startPoint,u=e.xScale,l=e.yScale,c=e.canvas;if(n||i){var h={x:t.offsetX,y:t.offsetY},f=c.get("canvasDOM");if(n){f.style.cursor="crosshair";var p,d,v,g,y=a.start,m=a.end,_=e.polygonPath,b=e.brushShape,w=e.container;e.plot&&e.inPlot&&(h=e._limitCoordScope(h)),"Y"===o?(p=y.x,d=h.y>=s.y?s.y:h.y,v=Math.abs(y.x-m.x),g=Math.abs(s.y-h.y)):"X"===o?(p=h.x>=s.x?s.x:h.x,d=m.y,v=Math.abs(s.x-h.x),g=Math.abs(m.y-y.y)):"XY"===o?(h.x>=s.x?(p=s.x,d=h.y>=s.y?s.y:h.y):(p=h.x,d=h.y>=s.y?s.y:h.y),v=Math.abs(s.x-h.x),g=Math.abs(s.y-h.y)):"POLYGON"===o&&(_+="L "+h.x+" "+h.y,e.polygonPath=_,b?!b.get("destroyed")&&b.attr(r.mix({},b._attrs,{path:_})):b=w.addShape("path",{attrs:r.mix(e.style,{path:_})})),"POLYGON"!==o&&(b?!b.get("destroyed")&&b.attr(r.mix({},b._attrs,{x:p,y:d,width:v,height:g})):b=w.addShape("rect",{attrs:r.mix(e.style,{x:p,y:d,width:v,height:g})})),e.brushShape=b}else if(i){f.style.cursor="move";var x=e.selection;if(x&&!x.get("destroyed"))if("POLYGON"===o){var E=e.prePoint;e.selection.translate(h.x-E.x,h.y-E.y)}else e.dragoffX&&x.attr("x",h.x-e.dragoffX),e.dragoffY&&x.attr("y",h.y-e.dragoffY)}e.prePoint=h,c.draw();var S=e._getSelected(),C=S.data,k=S.shapes,T=S.xValues,I=S.yValues,A={data:C,shapes:k};u&&(A[u.field]=T),l&&(A[l.field]=I),r.mix(t,A),A.x=h.x,A.y=h.y,e.onDragmove&&e.onDragmove(A),e.onBrushmove&&e.onBrushmove(A)}},i.end=function(t){var e=this;if(e.brushing||e.dragging){var n=e.data,i=e.shapes,o=e.xValues,a=e.yValues,s=e.canvas,u=e.type,l=e.startPoint,c=e.chart,h=e.container,f=e.xScale,p=e.yScale,d=t.offsetX,v=t.offsetY;if(s.get("canvasDOM").style.cursor="default",null!==l){if(Math.abs(l.x-d)<=1&&Math.abs(l.y-v)<=1)return e.brushing=!1,e.dragging=!1,h.clear(),void s.draw();var g={data:n,shapes:i};if(f&&(g[f.field]=o),p&&(g[p.field]=a),r.mix(t,g),g.x=d,g.y=v,e.dragging)e.dragging=!1,e.onDragend&&e.onDragend(g);else if(e.brushing){e.brushing=!1;var y=e.brushShape,m=e.polygonPath;"POLYGON"===u&&(m+="z",y&&!y.get("destroyed")&&y.attr(r.mix({},y._attrs,{path:m})),e.polygonPath=m,s.draw()),e.onBrushend?e.onBrushend(g):c&&e.filter&&(h.clear(),!e.isTransposed&&"X"===u||e.isTransposed&&"Y"===u?f&&c.filter(f.field,(function(t){return o.indexOf(t)>-1})):(!e.isTransposed&&"Y"===u||e.isTransposed&&"X"===u||f&&c.filter(f.field,(function(t){return o.indexOf(t)>-1})),p&&c.filter(p.field,(function(t){return a.indexOf(t)>-1}))),c.repaint())}}}},i.reset=function(){var t=this.chart,e=this.filter,n=this.brushShape,r=this.canvas;this._init(),t&&e&&(t.get("options").filters={},t.repaint()),n&&(n.destroy(),r.draw())},i._limitCoordScope=function(t){var e=this.plot,n=e.start,r=e.end;return t.x<n.x&&(t.x=n.x),t.x>r.x&&(t.x=r.x),t.y<r.y&&(t.y=r.y),t.y>n.y&&(t.y=n.y),t},i._getSelected=function(){var t=this,e=t.chart,n=t.xScale,r=t.yScale,i=t.brushShape,o=t.canvas,a=o.get("pixelRatio"),s=[],u=[],l=[],c=[];return e&&e.get("geoms").map((function(t){return t.getShapes().map((function(t){var e=t.get("origin");return Array.isArray(e)||(e=[e]),e.map((function(e){if(i.isHit(e.x*a,e.y*a)){s.push(t);var o=e._origin;c.push(o),n&&u.push(o[n.field]),r&&l.push(o[r.field])}return e})),t})),t})),t.shapes=s,t.xValues=u,t.yValues=l,t.data=c,o.draw(),{data:c,xValues:u,yValues:l,shapes:s}},a}(i);t.exports=a},function(t,e,n){var r=n(0),i=n(16).Group,o=r.DomUtil,a=function t(e){t.superclass.constructor.call(this,e)};r.extend(a,i),r.augment(a,{getDefaultCfg:function(){return{range:null,middleAttr:null,backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},_initHandle:function(t){var e,n,i,o=this.addGroup(),a=this.get("layout"),s=this.get("handleStyle"),u=s.img,l=s.width,c=s.height;if("horizontal"===a){var h=s.width;i="ew-resize",n=o.addShape("Image",{attrs:{x:-h/2,y:0,width:h,height:c,img:u,cursor:i}}),e=o.addShape("Text",{attrs:r.mix({x:"min"===t?-(h/2+5):h/2+5,y:c/2,textAlign:"min"===t?"end":"start",textBaseline:"middle",text:"min"===t?this.get("minText"):this.get("maxText"),cursor:i},this.get("textStyle"))})}else i="ns-resize",n=o.addShape("Image",{attrs:{x:0,y:-c/2,width:l,height:c,img:u,cursor:i}}),e=o.addShape("Text",{attrs:r.mix({x:l/2,y:"min"===t?c/2+5:-(c/2+5),textAlign:"center",textBaseline:"middle",text:"min"===t?this.get("minText"):this.get("maxText"),cursor:i},this.get("textStyle"))});return this.set(t+"TextElement",e),this.set(t+"IconElement",n),o},_initSliderBackground:function(){var t=this.addGroup();return t.initTransform(),t.translate(0,0),t.addShape("Rect",{attrs:r.mix({x:0,y:0,width:this.get("width"),height:this.get("height")},this.get("backgroundStyle"))}),t},_beforeRenderUI:function(){var t=this._initSliderBackground(),e=this._initHandle("min"),n=this._initHandle("max"),r=this.addShape("rect",{attrs:this.get("middleAttr")});this.set("middleHandleElement",r),this.set("minHandleElement",e),this.set("maxHandleElement",n),this.set("backgroundElement",t),t.set("zIndex",0),r.set("zIndex",1),e.set("zIndex",2),n.set("zIndex",2),r.attr("cursor","move"),this.sort()},_renderUI:function(){"horizontal"===this.get("layout")?this._renderHorizontal():this._renderVertical()},_transform:function(t){var e=this.get("range"),n=e[0]/100,r=e[1]/100,i=this.get("width"),o=this.get("height"),a=this.get("minHandleElement"),s=this.get("maxHandleElement"),u=this.get("middleHandleElement");a.resetMatrix?(a.resetMatrix(),s.resetMatrix()):(a.initTransform(),s.initTransform()),"horizontal"===t?(u.attr({x:i*n,y:0,width:(r-n)*i,height:o}),a.translate(n*i,0),s.translate(r*i,0)):(u.attr({x:0,y:o*(1-r),width:i,height:(r-n)*o}),a.translate(0,(1-n)*o),s.translate(0,(1-r)*o))},_renderHorizontal:function(){this._transform("horizontal")},_renderVertical:function(){this._transform("vertical")},_bindUI:function(){this.on("mousedown",r.wrapBehavior(this,"_onMouseDown"))},_isElement:function(t,e){var n=this.get(e);return t===n||!!n.isGroup&&n.get("children").indexOf(t)>-1},_getRange:function(t,e){var n=t+e;return n=(n=n>100?100:n)<0?0:n},_limitRange:function(t,e,n){n[0]=this._getRange(t,n[0]),n[1]=n[0]+e,n[1]>100&&(n[1]=100,n[0]=n[1]-e)},_updateStatus:function(t,e){var n="x"===t?this.get("width"):this.get("height");t=r.upperFirst(t);var i,o=this.get("range"),a=this.get("page"+t),s=this.get("currentTarget"),u=this.get("rangeStash"),l="vertical"===this.get("layout")?-1:1,c=e["page"+t],h=(c-a)/n*100*l,f=this.get("minRange"),p=this.get("maxRange");o[1]<=o[0]?(this._isElement(s,"minHandleElement")||this._isElement(s,"maxHandleElement"))&&(o[0]=this._getRange(h,o[0]),o[1]=this._getRange(h,o[0])):(this._isElement(s,"minHandleElement")&&(o[0]=this._getRange(h,o[0]),f&&o[1]-o[0]<=f&&this._limitRange(h,f,o),p&&o[1]-o[0]>=p&&this._limitRange(h,p,o)),this._isElement(s,"maxHandleElement")&&(o[1]=this._getRange(h,o[1]),f&&o[1]-o[0]<=f&&this._limitRange(h,f,o),p&&o[1]-o[0]>=p&&this._limitRange(h,p,o))),this._isElement(s,"middleHandleElement")&&(i=u[1]-u[0],this._limitRange(h,i,o)),this.emit("sliderchange",{range:o}),this.set("page"+t,c),this._renderUI(),this.get("canvas").draw()},_onMouseDown:function(t){var e=t.currentTarget,n=t.event,r=this.get("range");n.stopPropagation(),n.preventDefault(),this.set("pageX",n.pageX),this.set("pageY",n.pageY),this.set("currentTarget",e),this.set("rangeStash",[r[0],r[1]]),this._bindCanvasEvents()},_bindCanvasEvents:function(){var t=this.get("canvas").get("containerDOM");this.onMouseMoveListener=o.addEventListener(t,"mousemove",r.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=o.addEventListener(t,"mouseup",r.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=o.addEventListener(t,"mouseleave",r.wrapBehavior(this,"_onCanvasMouseUp"))},_onCanvasMouseMove:function(t){"horizontal"===this.get("layout")?this._updateStatus("x",t):this._updateStatus("y",t)},_onCanvasMouseUp:function(){this._removeDocumentEvents()},_removeDocumentEvents:function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove(),this.onMouseLeaveListener.remove()}}),t.exports=a},function(t,e,n){var r=n(0),i=n(28),o=n(320),a=n(71),s=n(73),u=["X","Y","XY"],l=function(t){var e,n;n=t,(e=l).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=l.prototype;function l(e,n){var i,a=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i=t.call(this,e,n)||this);a.type=a.type.toUpperCase(),a.chart=n,a.coord=n.get("coord");var l=a.data=n.get("data");o(n);var c=n.getYScales(),h=n.getXScale();c.push(h);var f=n.get("scaleController");return c.forEach((function(t){var e=t.field;a.limitRange[e]=s(l,t);var n=f.defs[e]||{};a.originScaleDefsByField[e]=r.mix(n,{nice:!!n.nice}),t.isLinear&&(a.stepByField[e]=(t.max-t.min)*a.stepRatio)})),u.includes(a.type)||(a.type="X"),a._disableTooltip(),i}return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"X",stepRatio:.05,limitRange:{},stepByField:{},threshold:20,originScaleDefsByField:{},previousPoint:null,isDragging:!1})},i._disableTooltip=function(){var t=this.chart;t.get("tooltipController")&&(this._showTooltip=!0,t.tooltip(!1))},i._enableTooltip=function(t){var e=this.chart;this._showTooltip&&(e.tooltip(!0),e.showTooltip(t))},i._applyTranslate=function(t,e,n){void 0===e&&(e=0),t.isLinear?this._translateLinearScale(t,e,n):this._translateCatScale(t,e,n)},i._translateCatScale=function(t,e,n){var i=this.chart,o=t.type,s=t.field,u=t.values,l=t.ticks,c=a(i,s),h=this.limitRange[s],f=e/n,p=u.length,d=Math.max(1,Math.abs(parseInt(f*p))),v=h.indexOf(u[0]),g=h.indexOf(u[p-1]);if(e>0&&v>=0){for(var y=0;y<d&&v>0;y++)v-=1,g-=1;var m=h.slice(v,g+1),_=null;if("timeCat"===o){for(var b=l.length>2?l[1]-l[0]:864e5,w=l[0]-b;w>=m[0];w-=b)l.unshift(w);_=l}i.scale(s,r.mix({},c,{values:m,ticks:_}))}else if(e<0&&g<=h.length-1){for(var x=0;x<d&&g<h.length-1;x++)v+=1,g+=1;var E=h.slice(v,g+1),S=null;if("timeCat"===o){for(var C=l.length>2?l[1]-l[0]:864e5,k=l[l.length-1]+C;k<=E[E.length-1];k+=C)l.push(k);S=l}i.scale(s,r.mix({},c,{values:E,ticks:S}))}},i._translateLinearScale=function(t,e,n){var i=this.chart,o=this.limitRange,s=t.min,u=t.max,l=t.field;if(s!==o[l].min||u!==o[l].max){var c=e/n,h=u-s,f=a(i,l);i.scale(l,r.mix({},f,{nice:!1,min:s+c*h,max:u+c*h}))}},i.start=function(t){this.canvas.get("canvasDOM").style.cursor="pointer",this.isDragging=!0,this.previousPoint={x:t.x,y:t.y},this._disableTooltip()},i.process=function(t){var e=this;if(e.isDragging){var n=e.chart,r=e.type,i=e.canvas,o=e.coord,a=e.threshold;i.get("canvasDOM").style.cursor="move";var s=e.previousPoint,u=t,l=u.x-s.x,c=u.y-s.y,h=!1;if(Math.abs(l)>a&&r.indexOf("X")>-1){h=!0;var f=n.getXScale();e._applyTranslate(f,f.isLinear?-l:l,o.width)}Math.abs(c)>a&&r.indexOf("Y")>-1&&(h=!0,n.getYScales().forEach((function(t){e._applyTranslate(t,u.y-s.y,o.height)}))),h&&(e.previousPoint=u,n.repaint())}},i.end=function(t){this.isDragging=!1,this.canvas.get("canvasDOM").style.cursor="default",this._enableTooltip(t)},i.reset=function(){var t=this.view,e=this.originScaleDefsByField,n=t.getYScales(),r=t.getXScale();n.push(r),n.forEach((function(n){if(n.isLinear){var r=n.field;t.scale(r,e[r])}})),t.repaint(),this._disableTooltip()},l}(i);t.exports=l},function(t,e,n){var r=n(0),i=n(52),o=n(72);t.exports=function(t){t.on("beforeinitgeoms",(function(){t.set("limitInPlot",!0);var e=t.get("data"),n=o(t);if(!n)return e;var a=t.get("geoms"),s=!1;r.each(a,(function(t){if(["area","line","path"].includes(t.get("type")))return s=!0,!1}));var u=[];if(r.each(n,(function(t,e){!s&&t&&(t.values||t.min||t.max)&&u.push(e)})),0===u.length)return e;var l=[];r.each(e,(function(t){var e=!0;r.each(u,(function(o){var a=t[o];if(a){var s=n[o];if("timeCat"===s.type){var u=s.values;r.isNumber(u[0])&&(a=i.toTimeStamp(a))}(s.values&&!s.values.includes(a)||s.min&&a<s.min||s.max&&a>s.max)&&(e=!1)}})),e&&l.push(t)})),t.set("filteredData",l)}))}},function(t,e){t.exports=function(t,e,n){if(!t)return[0,1];var r=0,i=0;if("linear"===n){var o=e.min,a=e.max-o;r=(t.min-o)/a,i=(t.max-o)/a}else{var s=e,u=t.values,l=s.indexOf(u[0]),c=s.indexOf(u[u.length-1]);r=l/(s.length-1),i=c/(s.length-1)}return[r,i]}},function(t,e,n){var r=n(45),i=n(44),o=n(0),a={Base:n(28),Brush:n(317),Drag:n(319),ScrollBar:n(323),ShapeSelect:n(324),Slider:n(325),Zoom:n(326)};r._Interactions={},r.registerInteraction=function(t,e){r._Interactions[t]=e},r.getInteraction=function(t){return r._Interactions[t]},i.prototype.getInteractions=function(){return this._interactions||(this._interactions={}),this._interactions},i.prototype._setInteraction=function(t,e){var n=this.getInteractions();n[t]&&n[t]!==e&&n[t].destroy(),n[t]=e},i.prototype.clearInteraction=function(t){var e=this.getInteractions();t?(e[t]&&(e[t]._reset(),e[t].destroy()),delete e[t]):o.each(e,(function(t,n){t._reset(),t.destroy(),delete e[n]}))},i.prototype.interact=i.prototype.interaction=function(t,e){var n=new(r.getInteraction(t))(e,this);return this._setInteraction(t,n),this},r.registerInteraction("brush",a.Brush),r.registerInteraction("Brush",a.Brush),r.registerInteraction("drag",a.Drag),r.registerInteraction("Drag",a.Drag),r.registerInteraction("zoom",a.Zoom),r.registerInteraction("Zoom",a.Zoom),r.registerInteraction("scroll-bar",a.ScrollBar),r.registerInteraction("ScrollBar",a.ScrollBar),r.registerInteraction("shape-select",a.ShapeSelect),r.registerInteraction("ShapeSelect",a.ShapeSelect),r.registerInteraction("slider",a.Slider),r.registerInteraction("Slider",a.Slider),t.exports=a},function(t,e,n){var r=n(0),i=n(28),o=n(321),a=n(73),s=function(t){var e,n;n=t,(e=s).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=s.prototype;function s(e,n){var i,o=(i=t.call(this,e,n)||this).getDefaultCfg();return n.set("_scrollBarCfg",r.deepMix({},o,e)),n.set("_limitRange",{}),n.get("_horizontalBar")||n.get("_verticalBar")||i._renderScrollBars(),i}return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{startEvent:null,processEvent:null,endEvent:null,resetEvent:null,type:"X",xStyle:{backgroundColor:"rgba(202, 215, 239, .2)",fillerColor:"rgba(202, 215, 239, .75)",size:4,lineCap:"round",offsetX:0,offsetY:-10},yStyle:{backgroundColor:"rgba(202, 215, 239, .2)",fillerColor:"rgba(202, 215, 239, .75)",size:4,lineCap:"round",offsetX:8,offsetY:0}})},i._renderScrollBars=function(){var t=this.chart,e=t.get("_scrollBarCfg");if(e){var n=t.get("data"),r=t.get("plotRange");r.width=Math.abs(r.br.x-r.bl.x),r.height=Math.abs(r.tl.y-r.bl.y);var i=t.get("backPlot"),s=t.get("canvas").get("height"),u=t.get("_limitRange"),l=e.type;if(l.indexOf("X")>-1){var c=e.xStyle,h=c.offsetX,f=c.offsetY,p=c.lineCap,d=c.backgroundColor,v=c.fillerColor,g=c.size,y=t.getXScale(),m=u[y.field];m||(m=a(n,y),u[y.field]=m);var _=o(y,m,y.type),b=t.get("_horizontalBar"),w=s-g/2+f;b?b.get("children")[1].attr({x1:Math.max(r.bl.x+r.width*_[0]+h,r.bl.x),x2:Math.min(r.bl.x+r.width*_[1]+h,r.br.x)}):((b=i.addGroup({className:"horizontalBar"})).addShape("line",{attrs:{x1:r.bl.x+h,y1:w,x2:r.br.x+h,y2:w,lineWidth:g,stroke:d,lineCap:p}}),b.addShape("line",{attrs:{x1:Math.max(r.bl.x+r.width*_[0]+h,r.bl.x),y1:w,x2:Math.min(r.bl.x+r.width*_[1]+h,r.br.x),y2:w,lineWidth:g,stroke:v,lineCap:p}}),t.set("_horizontalBar",b))}if(l.indexOf("Y")>-1){var x=e.yStyle,E=x.offsetX,S=x.offsetY,C=x.lineCap,k=x.backgroundColor,T=x.fillerColor,I=x.size,A=t.getYScales()[0],M=u[A.field];M||(M=a(n,A),u[A.field]=M);var P=o(A,M,A.type),O=t.get("_verticalBar"),N=I/2+E;O?O.get("children")[1].attr({y1:Math.max(r.tl.y+r.height*P[0]+S,r.tl.y),y2:Math.min(r.tl.y+r.height*P[1]+S,r.bl.y)}):((O=i.addGroup({className:"verticalBar"})).addShape("line",{attrs:{x1:N,y1:r.tl.y+S,x2:N,y2:r.bl.y+S,lineWidth:I,stroke:k,lineCap:C}}),O.addShape("line",{attrs:{x1:N,y1:Math.max(r.tl.y+r.height*P[0]+S,r.tl.y),x2:N,y2:Math.min(r.tl.y+r.height*P[1]+S,r.bl.y),lineWidth:I,stroke:T,lineCap:C}}),t.set("_verticalBar",O))}}},i._clear=function(){var t=this.chart;if(t){var e=t.get("_horizontalBar"),n=t.get("_verticalBar");e&&e.remove(!0),n&&n.remove(!0),t.set("_horizontalBar",null),t.set("_verticalBar",null)}},i._bindEvents=function(){this._onAfterclearOrBeforechangedata=this._onAfterclearOrBeforechangedata.bind(this),this._onAfterclearinner=this._onAfterclearinner.bind(this),this._onAfterdrawgeoms=this._onAfterdrawgeoms.bind(this);var t=this.chart;t.on("afterclear",this._onAfterclearOrBeforechangedata),t.on("beforechangedata",this._onAfterclearOrBeforechangedata),t.on("afterclearinner",this._onAfterclearinner),t.on("afterdrawgeoms",this._onAfterdrawgeoms)},i._onAfterclearOrBeforechangedata=function(){this.chart&&this.chart.set("_limitRange",{})},i._onAfterclearinner=function(){this._clear()},i._onAfterdrawgeoms=function(){this._renderScrollBars()},i._clearEvents=function(){var t=this.chart;t&&(t.off("afterclear",this._onAfterclearOrBeforechangedata),t.off("beforechangedata",this._onAfterclearOrBeforechangedata),t.off("afterclearinner",this._onAfterclearinner),t.off("afterdrawgeoms",this._onAfterdrawgeoms))},i.destroy=function(){this._clearEvents(),this._clear(),this.canvas.draw()},s}(i);t.exports=s},function(t,e,n){var r=n(0);function i(t,e){var n={};for(var r in e)n[r]=t[r];return n}var o=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=o.prototype;return a.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{startEvent:"mouseup",processEvent:null,selectStyle:{fillOpacity:1},unSelectStyle:{fillOpacity:.1},cancelable:!0})},a.start=function(t){var e,n=this.view,o=[];if(n.eachShape((function(n,r){r.isPointInPath(t.x,t.y)?e=r:o.push(r)})),e)if(e.get("_selected")){if(!this.cancelable)return;this.reset()}else{var a=this.selectStyle,s=this.unSelectStyle,u=i(e.attr(),e);e.set("_originAttrs",u),e.attr(a),r.each(o,(function(t){var e=t.get("_originAttrs");e&&t.attr(e),t.set("_selected",!1),s&&(e=i(t.attr(),s),t.set("_originAttrs",e),t.attr(s))})),e.set("_selected",!0),this.selectedShape=e,this.canvas.draw()}else this.reset()},a.end=function(t){var e=this.selectedShape;e&&!e.get("destroyed")&&e.get("origin")&&(t.data=e.get("origin")._origin,t.shapeInfo=e.get("origin"),t.shape=e,t.selected=!!e.get("_selected"))},a.reset=function(){if(this.selectedShape){var t=this.view.get("geoms")[0].get("container").get("children")[0].get("children");r.each(t,(function(t){var e=t.get("_originAttrs");e&&(t._attrs=e,t.set("_originAttrs",null)),t.set("_selected",!1)})),this.canvas.draw()}},o}(n(28));t.exports=o},function(t,e,n){var r=n(318),i=n(44),o=n(0),a=n(16),s=n(5),u=n(28),l=n(71),c=n(72),h=a.Canvas,f=o.DomUtil,p=o.isNumber,d=function(t){var e,n;n=t,(e=u).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=u.prototype;function u(e,n){var r,i=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r=t.call(this,e,n)||this);return i._initContainer(),i._initStyle(),i.render(),r}return a.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return o.mix({},e,{startEvent:null,processEvent:null,endEvent:null,resetEvent:null,height:26,width:"auto",padding:s.plotCfg.padding,container:null,xAxis:null,yAxis:null,fillerStyle:{fill:"#BDCCED",fillOpacity:.3},backgroundStyle:{stroke:"#CCD6EC",fill:"#CCD6EC",fillOpacity:.3,lineWidth:1},range:[0,100],layout:"horizontal",textStyle:{fill:"#545454"},handleStyle:{img:"https://gw.alipayobjects.com/zos/rmsportal/QXtfhORGlDuRvLXFzpsQ.png",width:5},backgroundChart:{type:["area"],color:"#CCD6EC"}})},a._initContainer=function(){var t=this.container;if(!t)throw new Error("Please specify the container for the Slider!");o.isString(t)?this.domContainer=document.getElementById(t):this.domContainer=t},a.forceFit=function(){var t=this;if(t&&!t.destroyed){var e=f.getWidth(t.domContainer),n=t.height;if(e!==t.domWidth){var r=t.canvas;r.changeSize(e,n),t.bgChart&&t.bgChart.changeWidth(e),r.clear(),t._initWidth(),t._initSlider(),t._bindEvent(),r.draw()}}},a._initForceFitEvent=function(){var t=setTimeout(o.wrapBehavior(this,"forceFit"),200);clearTimeout(this.resizeTimer),this.resizeTimer=t},a._initStyle=function(){var t=this;t.handleStyle=o.mix({width:t.height,height:t.height},t.handleStyle),"auto"===t.width&&window.addEventListener("resize",o.wrapBehavior(t,"_initForceFitEvent"))},a._initWidth=function(){var t,e=this;t="auto"===e.width?f.getWidth(e.domContainer):e.width,e.domWidth=t;var n=o.toAllPadding(e.padding);"horizontal"===e.layout?(e.plotWidth=t-n[1]-n[3],e.plotPadding=n[3],e.plotHeight=e.height):"vertical"===e.layout&&(e.plotWidth=e.width,e.plotHeight=e.height-n[0]-n[2],e.plotPadding=n[0])},a._initCanvas=function(){var t=this.domWidth,e=this.height,n=new h({width:t,height:e,containerDOM:this.domContainer,capture:!1}),r=n.get("el");r.style.position="absolute",r.style.top=0,r.style.left=0,r.style.zIndex=3,this.canvas=n},a._initBackground=function(){var t,e=this,n=this.chart,r=n.getAllGeoms[0],a=e.data=e.data||n.get("data"),s=n.getXScale(),u=e.xAxis||s.field,l=e.yAxis||n.getYScales()[0].field,h=o.deepMix(((t={})[""+u]={range:[0,1]},t),c(n),e.scales);if(delete h[u].min,delete h[u].max,!a)throw new Error("Please specify the data!");if(!u)throw new Error("Please specify the xAxis!");if(!l)throw new Error("Please specify the yAxis!");var f=e.backgroundChart,p=f.type||r.get("type"),d=f.color||"grey",v=f.shape;o.isArray(p)||(p=[p]);var g=o.toAllPadding(e.padding),y=new i({container:e.container,width:e.domWidth,height:e.height,padding:[0,g[1],0,g[3]],animate:!1});y.source(a),y.scale(h),y.axis(!1),y.tooltip(!1),y.legend(!1),o.each(p,(function(t,e){var n=y[t]().position(u+"*"+l).opacity(1),r=o.isArray(d)?d[e]:d;r&&(o.isObject(r)?r.field&&n.color(r.field,r.colors):n.color(r));var i=o.isArray(v)?v[e]:v;i&&(o.isObject(i)?i.field&&n.shape(i.field,i.callback||i.shapes):n.shape(i))})),y.render(),e.bgChart=y,e.scale="horizontal"===e.layout?y.getXScale():y.getYScales()[0],"vertical"===e.layout&&y.destroy()},a._initRange=function(){var t=this,e=t.startRadio,n=t.endRadio,r=t._startValue,i=t._endValue,o=t.scale,a=0,s=1;p(e)?a=e:r&&(a=o.scale(o.translate(r))),p(n)?s=n:i&&(s=o.scale(o.translate(i)));var u=t.minSpan,l=t.maxSpan,c=0;if("time"===o.type||"timeCat"===o.type){var h=o.values,f=h[0];c=h[h.length-1]-f}else o.isLinear&&(c=o.max-o.min);c&&u&&(t.minRange=u/c*100),c&&l&&(t.maxRange=l/c*100);var d=[100*a,100*s];return t.range=d,d},a._getHandleValue=function(t){var e=this,n=e.range,r=n[0]/100,i=n[1]/100,o=e.scale;return"min"===t?e._startValue?e._startValue:o.invert(r):e._endValue?e._endValue:o.invert(i)},a._initSlider=function(){var t=this,e=t.canvas,n=t._initRange(),i=t.scale,o=e.addGroup(r,{middleAttr:t.fillerStyle,range:n,minRange:t.minRange,maxRange:t.maxRange,layout:t.layout,width:t.plotWidth,height:t.plotHeight,backgroundStyle:t.backgroundStyle,textStyle:t.textStyle,handleStyle:t.handleStyle,minText:i.getText(t._getHandleValue("min")),maxText:i.getText(t._getHandleValue("max"))});"horizontal"===t.layout?o.translate(t.plotPadding,0):"vertical"===t.layout&&o.translate(0,t.plotPadding),t.rangeElement=o},a._updateElement=function(t,e){var n=this,r=n.chart,i=n.scale,a=n.rangeElement,s=i.field,u=a.get("minTextElement"),c=a.get("maxTextElement"),h=i.invert(t),f=i.invert(e),p=i.getText(h),d=i.getText(f);u.attr("text",p),c.attr("text",d),n._startValue=p,n._endValue=d,n.onChange&&n.onChange({startText:p,endText:d,startValue:h,endValue:f,startRadio:t,endRadio:e}),r.scale(s,o.mix({},l(r,s),{nice:!1,min:h,max:f})),r.repaint()},a._bindEvent=function(){var t=this;t.rangeElement.on("sliderchange",(function(e){var n=e.range,r=n[0]/100,i=n[1]/100;t._updateElement(r,i)}))},a.clear=function(){var t=this;t.canvas.clear(),t.bgChart&&t.bgChart.destroy(),t.bgChart=null,t.scale=null,t.canvas.draw()},a.repaint=function(){this.clear(),this.render()},a.render=function(){var t=this;t._initWidth(),t._initCanvas(),t._initBackground(),t._initSlider(),t._bindEvent(),t.canvas.draw()},a.destroy=function(){var t=this;clearTimeout(t.resizeTimer),t.rangeElement.off("sliderchange"),t.bgChart&&t.bgChart.destroy(),t.canvas.destroy();for(var e=t.domContainer;e.hasChildNodes();)e.removeChild(e.firstChild);window.removeEventListener("resize",o.getWrapBehavior(t,"_initForceFitEvent")),t.destroyed=!0},u}(u);t.exports=d},function(t,e,n){var r=n(0),i=n(28),o=n(71),a=n(73),s=["X","Y","XY"],u=function(t){var e,n;n=t,(e=u).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=u.prototype;function u(e,n){var i,o=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i=t.call(this,e,n)||this);o.chart=n,o.type=o.type.toUpperCase();var u=o.data=n.get("data"),l=n.getYScales(),c=n.getXScale();l.push(c);var h=n.get("scaleController");return l.forEach((function(t){var e=t.field,n=h.defs[e]||{};o.limitRange[e]=a(u,t),o.originScaleDefsByField[e]=r.mix(n,{nice:!!n.nice}),t.isLinear?o.stepByField[e]=(t.max-t.min)*o.stepRatio:o.stepByField[e]=o.catStep})),s.includes(o.type)||(o.type="X"),i}return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{processEvent:"mousewheel",type:"X",stepRatio:.05,stepByField:{},minScale:1,maxScale:4,catStep:2,limitRange:{},originScaleDefsByField:{}})},i._applyScale=function(t,e,n,i){void 0===n&&(n=0);var a=this,s=a.chart,u=a.stepByField;if(t.isLinear){var l=t.min,c=t.max,h=t.field,f=1-n,p=u[h]*e,d=l+p*n,v=c-p*f;if(v>d){var g=o(s,h);s.scale(h,r.mix({},g,{nice:!1,min:d,max:v}))}}else{var y=t.field,m=t.values,_=a.chart,b=_.get("coord"),w=o(_,y),x=a.limitRange[y],E=x.length,S=E/a.maxScale,C=E/a.minScale,k=m.length,T=b.invertPoint(i).x,I=k-e*this.catStep,A=parseInt(I*T),M=I+A;if(e>0&&k>=S){var P=A,O=M;M>k&&(O=k-1,P=k-I);var N=m.slice(P,O);_.scale(y,r.mix({},w,{values:N}))}else if(e<0&&k<=C){var D=x.indexOf(m[0]),R=x.indexOf(m[k-1]),L=Math.max(0,D-A),F=Math.min(R+M,E),j=x.slice(L,F);_.scale(y,r.mix({},w,{values:j}))}}},i.process=function(t){var e=this,n=e.chart,r=e.type,i=n.get("coord"),o=t.deltaY,a=i.invertPoint(t);if(o){e.onZoom&&e.onZoom(o,a,e),o>0?e.onZoomin&&e.onZoomin(o,a,e):e.onZoomout&&e.onZoomout(o,a,e);var s=o/Math.abs(o);r.indexOf("X")>-1&&e._applyScale(n.getXScale(),s,a.x,t),r.indexOf("Y")>-1&&n.getYScales().forEach((function(n){e._applyScale(n,s,a.y,t)}))}n.repaint()},i.reset=function(){var t=this.view,e=this.originScaleDefsByField,n=t.getYScales(),r=t.getXScale();n.push(r),n.forEach((function(n){if(n.isLinear){var r=n.field;t.scale(r,e[r])}})),t.repaint()},u}(i);t.exports=u},function(t,e,n){var r,i,o=n(0),a=n(131),s=o.deepMix({},a,{background:{fill:"#1F1F1F",radius:2},plotBackground:{fill:"#1F1F1F"},axis:{top:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"}},bottom:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"}},left:{label:{textStyle:{fill:"#A6A6A6"}},grid:{lineStyle:{stroke:"#404040"}}},right:{label:{textStyle:{fill:"#A6A6A6"}},grid:{lineStyle:{stroke:"#404040"}}},circle:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"},grid:{lineStyle:{stroke:"#404040"}}},radius:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"},grid:{lineStyle:{stroke:"#404040"}}},helix:{line:{stroke:"#737373"},tickLine:{stroke:"#737373"}}},label:{textStyle:{fill:"#A6A6A6"}},legend:{right:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},left:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},top:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},bottom:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},html:(r={},r["g2-legend"]={color:"#D9D9D9"},r),gradient:{textStyle:{fill:"#D9D9D9"},lineStyle:{stroke:"#404040"}}},tooltip:(i={},i["g2-tooltip"]={color:"#D9D9D9",backgroundColor:"rgba(0, 0, 0, 0.5)",boxShadow:"0px 0px 2px #000"},i),tooltipCrosshairsRect:{type:"rect",rectStyle:{fill:"#fff",opacity:.1}},tooltipCrosshairsLine:{lineStyle:{stroke:"rgba(255, 255, 255, 0.45)"}},guide:{line:{text:{style:{fill:"#A6A6A6"}}},text:{style:{fill:"#A6A6A6"}},region:{style:{lineWidth:0,fill:"#000",fillOpacity:.04}}}});t.exports=s},function(t,e,n){var r=n(1),i=n(135),o=n(134),a=n(332),s=n(337),u=function t(e){t.superclass.constructor.call(this,e)};u.CFG={eventEnable:!0,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null,renderer:"canvas"},r.extend(u,o),r.augment(u,{init:function(){u.superclass.init.call(this),this._setGlobalParam(),this._setContainer(),this._initPainter(),this._scale(),this.get("eventEnable")&&this._registEvents()},getEmitter:function(t,e){if(t){if(!r.isEmpty(t._getEvents()))return t;var n=t.get("parent");if(n&&!e.propagationStopped)return this.getEmitter(n,e)}},_getEventObj:function(t,e,n,r){var o=new i(t,e,!0,!0);return o.x=n.x,o.y=n.y,o.clientX=e.clientX,o.clientY=e.clientY,o.currentTarget=r,o.target=r,o},_triggerEvent:function(t,e){var n,r=this.getPointByClient(e.clientX,e.clientY),i=this.getShape(r.x,r.y,e),o=this.get("el");if("mousemove"===t){var a=this.get("preShape");if(a&&a!==i){var s=this._getEventObj("mouseleave",e,r,a);(n=this.getEmitter(a,e))&&n.emit("mouseleave",s),o.style.cursor="default"}if(i){var u=this._getEventObj("mousemove",e,r,i);if((n=this.getEmitter(i,e))&&n.emit("mousemove",u),a!==i){var l=this._getEventObj("mouseenter",e,r,i);n&&n.emit("mouseenter",l,e)}}else{var c=this._getEventObj("mousemove",e,r,this);this.emit("mousemove",c)}this.set("preShape",i)}else{var h=this._getEventObj(t,e,r,i||this);(n=this.getEmitter(i,e))&&n!==this&&n.emit(t,h),this.emit(t,h)}i&&!i.get("destroyed")&&(o.style.cursor=i.attr("cursor")||"default")},_registEvents:function(){var t=this,e=t.get("el");r.each(["mouseout","mouseover","mousemove","mousedown","mouseleave","mouseup","click","dblclick"],(function(n){e.addEventListener(n,(function(e){t._triggerEvent(n,e)}),!1)})),e.addEventListener("touchstart",(function(e){r.isEmpty(e.touches)||t._triggerEvent("touchstart",e.touches[0])}),!1),e.addEventListener("touchmove",(function(e){r.isEmpty(e.touches)||t._triggerEvent("touchmove",e.touches[0])}),!1),e.addEventListener("touchend",(function(e){r.isEmpty(e.changedTouches)||t._triggerEvent("touchend",e.changedTouches[0])}),!1)},_scale:function(){var t=this.get("pixelRatio");this.scale(t,t)},_setGlobalParam:function(){this.get("pixelRatio")||this.set("pixelRatio",r.getRatio());var t=s[this.get("renderer")||"canvas"];this._cfg.renderer=t,this._cfg.canvas=this;var e=new a(this);this._cfg.timeline=e},_setContainer:function(){var t=this.get("containerId"),e=this.get("containerDOM");e||(e=document.getElementById(t),this.set("containerDOM",e)),r.modifyCSS(e,{position:"relative"})},_initPainter:function(){var t=this.get("containerDOM"),e=new this._cfg.renderer.painter(t);this._cfg.painter=e,this._cfg.canvasDOM=this._cfg.el=e.canvas,this.changeSize(this.get("width"),this.get("height"))},_resize:function(){var t=this.get("canvasDOM"),e=this.get("widthCanvas"),n=this.get("heightCanvas"),r=this.get("widthStyle"),i=this.get("heightStyle");t.style.width=r,t.style.height=i,t.setAttribute("width",e),t.setAttribute("height",n)},getWidth:function(){var t=this.get("pixelRatio");return this.get("width")*t},getHeight:function(){var t=this.get("pixelRatio");return this.get("height")*t},changeSize:function(t,e){var n=this.get("pixelRatio"),r=t*n,i=e*n;this.set("widthCanvas",r),this.set("heightCanvas",i),this.set("widthStyle",t+"px"),this.set("heightStyle",e+"px"),this.set("width",t),this.set("height",e),this._resize()},getPointByClient:function(t,e){var n=this.get("el"),r=this.get("pixelRatio")||1,i=n.getBoundingClientRect();return{x:(t-i.left)*r,y:(e-i.top)*r}},getClientByPoint:function(t,e){var n=this.get("el").getBoundingClientRect(),r=this.get("pixelRatio")||1;return{clientX:t/r+n.left,clientY:e/r+n.top}},draw:function(){this._cfg.painter.draw(this)},getShape:function(t,e,n){return 3===arguments.length&&this._cfg.renderer.getShape?this._cfg.renderer.getShape.call(this,t,e,n):u.superclass.getShape.call(this,t,e)},_drawSync:function(){this._cfg.painter.drawSync(this)},destroy:function(){var t=this._cfg,e=t.containerDOM,n=t.canvasDOM;n&&e&&e.removeChild(n),t.timeline.stop(),u.superclass.destroy.call(this)}}),t.exports=u},function(t,e,n){var r=n(1),i={delay:"delay",rotate:"rotate"},o={fill:"fill",stroke:"stroke",fillStyle:"fillStyle",strokeStyle:"strokeStyle"};function a(t,e){var n={},r=e._attrs;for(var i in t.attrs)n[i]=r[i];return n}t.exports={animate:function(t,e,n,s,u){void 0===u&&(u=0),this.set("animating",!0);var l=this.get("timeline");l||(l=this.get("canvas").get("timeline"),this.setSilent("timeline",l));var c=this.get("animators")||[];l._timer||l.initTimer(),r.isNumber(s)&&(u=s,s=null),r.isFunction(n)?(s=n,n="easeLinear"):n=n||"easeLinear";var h=function(t,e){var n={matrix:null,attrs:{}},a=e._attrs;for(var s in t)if("transform"===s)n.matrix=r.transform(e.getMatrix(),t[s]);else if("rotate"===s)n.matrix=r.transform(e.getMatrix(),[["r",t[s]]]);else if("matrix"===s)n.matrix=t[s];else{if(o[s]&&/^[r,R,L,l]{1}[\s]*\(/.test(t[s]))continue;i[s]||a[s]===t[s]||(n.attrs[s]=t[s])}return n}(t,this),f={fromAttrs:a(h,this),toAttrs:h.attrs,fromMatrix:r.clone(this.getMatrix()),toMatrix:h.matrix,duration:e,easing:n,callback:s,delay:u,startTime:l.getTime(),id:r.uniqueId()};c.length>0?c=function(t,e){var n=e.delay,i=Object.prototype.hasOwnProperty;return r.each(e.toAttrs,(function(e,o){r.each(t,(function(t){n<t.startTime+t.duration&&i.call(t.toAttrs,o)&&(delete t.toAttrs[o],delete t.fromAttrs[o])}))})),e.toMatrix&&r.each(t,(function(t){n<t.startTime+t.duration&&t.toMatrix&&delete t.toMatrix})),t}(c,f):l.addAnimator(this),c.push(f),this.setSilent("animators",c),this.setSilent("pause",{isPaused:!1})},stopAnimate:function(){var t=this,e=this.get("animators");r.each(e,(function(e){t.attr(e.toAttrs),e.toMatrix&&t.attr("matrix",e.toMatrix),e.callback&&e.callback()})),this.setSilent("animating",!1),this.setSilent("animators",[])},pauseAnimate:function(){var t=this.get("timeline");return this.setSilent("pause",{isPaused:!0,pauseTime:t.getTime()}),this},resumeAnimate:function(){var t=this.get("timeline").getTime(),e=this.get("animators"),n=this.get("pause").pauseTime;return r.each(e,(function(e){e.startTime=e.startTime+(t-n),e._paused=!1,e._pauseTime=null})),this.setSilent("pause",{isPaused:!1}),this.setSilent("animators",e),this}}},function(t,e,n){var r=n(1);t.exports={canFill:!1,canStroke:!1,initAttrs:function(t){return this._attrs={opacity:1,fillOpacity:1,strokeOpacity:1,matrix:[1,0,0,0,1,0,0,0,1]},this.attr(r.assign(this.getDefaultAttrs(),t)),this},getDefaultAttrs:function(){return{}},attr:function(t,e){var n=this;if(0===arguments.length)return n._attrs;if(r.isObject(t)){for(var i in t)this._setAttr(i,t[i]);return n.clearBBox(),this._cfg.hasUpdate=!0,n}return 2===arguments.length?(this._setAttr(t,e),n.clearBBox(),this._cfg.hasUpdate=!0,n):n._attrs[t]},_setAttr:function(t,e){var n=this._attrs;n[t]=e,"fill"!==t&&"stroke"!==t?"opacity"!==t?"clip"===t&&e?this._setClip(e):"path"===t&&this._afterSetAttrPath?this._afterSetAttrPath(e):"transform"!==t?"rotate"===t&&this.rotateAtStart(e):this.transform(e):n.globalAlpha=e:n[t+"Style"]=e},clearBBox:function(){this.setSilent("box",null)},hasFill:function(){return this.canFill&&this._attrs.fillStyle},hasStroke:function(){return this.canStroke&&this._attrs.strokeStyle},_setClip:function(t){t._cfg.renderer=this._cfg.renderer,t._cfg.canvas=this._cfg.canvas,t._cfg.parent=this._cfg.parent,t.hasFill=function(){return!0}}}},function(t,e,n){var r=n(1),i=n(76),o={arc:n(47),ellipse:n(143),line:n(48)},a=r.createDom('<canvas width="500" height="500"></canvas>').getContext("2d");function s(t,e,n){return n.createPath(a),a.isPointInPath(t,e)}var u={arc:function(t,e){var n=this._attrs,r=n.x,o=n.y,a=n.r,s=n.startAngle,u=n.endAngle,l=n.clockwise,c=this.getHitLineWidth();return!!this.hasStroke()&&i.arcline(r,o,a,s,u,l,c,t,e)},circle:function(t,e){var n=this._attrs,r=n.x,o=n.y,a=n.r,s=this.getHitLineWidth(),u=this.hasFill(),l=this.hasStroke();return u&&l?i.circle(r,o,a,t,e)||i.arcline(r,o,a,0,2*Math.PI,!1,s,t,e):u?i.circle(r,o,a,t,e):!!l&&i.arcline(r,o,a,0,2*Math.PI,!1,s,t,e)},dom:function(t,e){if(!this._cfg.el)return!1;var n=this._cfg.el.getBBox();return i.box(n.x,n.x+n.width,n.y,n.y+n.height,t,e)},ellipse:function(t,e){var n=this._attrs,o=this.hasFill(),a=this.hasStroke(),s=n.x,u=n.y,l=n.rx,c=n.ry,h=this.getHitLineWidth(),f=l>c?l:c,p=l>c?1:l/c,d=l>c?c/l:1,v=[t,e,1],g=[1,0,0,0,1,0,0,0,1];r.mat3.scale(g,g,[p,d]),r.mat3.translate(g,g,[s,u]);var y=r.mat3.invert([],g);return r.vec3.transformMat3(v,v,y),o&&a?i.circle(0,0,f,v[0],v[1])||i.arcline(0,0,f,0,2*Math.PI,!1,h,v[0],v[1]):o?i.circle(0,0,f,v[0],v[1]):!!a&&i.arcline(0,0,f,0,2*Math.PI,!1,h,v[0],v[1])},fan:function(t,e){var n=this,a=n.hasFill(),s=n.hasStroke(),u=n._attrs,l=u.x,c=u.y,h=u.rs,f=u.re,p=u.startAngle,d=u.endAngle,v=u.clockwise,g=[t-l,e-c],y=r.vec2.angleTo([1,0],g);function m(){var t=o.arc.nearAngle(y,p,d,v);if(r.isNumberEqual(y,t)){var e=r.vec2.squaredLength(g);if(h*h<=e&&e<=f*f)return!0}return!1}function _(){var r=n.getHitLineWidth(),o={x:Math.cos(p)*h+l,y:Math.sin(p)*h+c},a={x:Math.cos(p)*f+l,y:Math.sin(p)*f+c},s={x:Math.cos(d)*h+l,y:Math.sin(d)*h+c},u={x:Math.cos(d)*f+l,y:Math.sin(d)*f+c};return!!i.line(o.x,o.y,a.x,a.y,r,t,e)||!!i.line(s.x,s.y,u.x,u.y,r,t,e)||!!i.arcline(l,c,h,p,d,v,r,t,e)||!!i.arcline(l,c,f,p,d,v,r,t,e)}return a&&s?m()||_():a?m():!!s&&_()},image:function(t,e){var n=this._attrs;if(this.get("toDraw")||!n.img)return!1;this._cfg.attrs&&this._cfg.attrs.img===n.img||this._setAttrImg();var r=n.x,o=n.y,a=n.width,s=n.height;return i.rect(r,o,a,s,t,e)},line:function(t,e){var n=this._attrs,r=n.x1,o=n.y1,a=n.x2,s=n.y2,u=this.getHitLineWidth();return!!this.hasStroke()&&i.line(r,o,a,s,u,t,e)},path:function(t,e){var n=this,i=n.get("segments"),o=n.hasFill(),a=n.hasStroke();function u(){if(!r.isEmpty(i)){for(var o=n.getHitLineWidth(),a=0,s=i.length;a<s;a++)if(i[a].isInside(t,e,o))return!0;return!1}}return o&&a?s(t,e,n)||u():o?s(t,e,n):!!a&&u()},marker:function(t,e){var n=this._attrs,r=n.x,o=n.y,a=n.radius||n.r,s=this.getHitLineWidth();return i.circle(r,o,a+s/2,t,e)},polygon:function(t,e){var n=this,r=n.hasFill(),o=n.hasStroke();function a(){var r=n._attrs.points;if(r.length<2)return!1;var o=n.getHitLineWidth(),a=r.slice(0);return r.length>=3&&a.push(r[0]),i.polyline(a,o,t,e)}return r&&o?s(t,e,n)||a():r?s(t,e,n):!!o&&a()},polyline:function(t,e){var n=this._attrs;if(this.hasStroke()){var r=n.points;if(r.length<2)return!1;var o=n.lineWidth;return i.polyline(r,o,t,e)}return!1},rect:function(t,e){var n=this,r=n.hasFill(),o=n.hasStroke();function a(){var r=n._attrs,o=r.x,a=r.y,s=r.width,u=r.height,l=r.radius,c=n.getHitLineWidth();if(0===l){var h=c/2;return i.line(o-h,a,o+s+h,a,c,t,e)||i.line(o+s,a-h,o+s,a+u+h,c,t,e)||i.line(o+s+h,a+u,o-h,a+u,c,t,e)||i.line(o,a+u+h,o,a-h,c,t,e)}return i.line(o+l,a,o+s-l,a,c,t,e)||i.line(o+s,a+l,o+s,a+u-l,c,t,e)||i.line(o+s-l,a+u,o+l,a+u,c,t,e)||i.line(o,a+u-l,o,a+l,c,t,e)||i.arcline(o+s-l,a+l,l,1.5*Math.PI,2*Math.PI,!1,c,t,e)||i.arcline(o+s-l,a+u-l,l,0,.5*Math.PI,!1,c,t,e)||i.arcline(o+l,a+u-l,l,.5*Math.PI,Math.PI,!1,c,t,e)||i.arcline(o+l,a+l,l,Math.PI,1.5*Math.PI,!1,c,t,e)}return r&&o?s(t,e,n)||a():r?s(t,e,n):!!o&&a()},text:function(t,e){var n=this.getBBox();if(this.hasFill()||this.hasStroke())return i.box(n.minX,n.maxX,n.minY,n.maxY,t,e)}};t.exports={isPointInPath:function(t,e){var n=u[this.type];return!!n&&n.call(this,t,e)}}},function(t,e,n){var r=n(1),i=n(77),o=n(103),a=n(199),s=n(453),u=s.interpolate,l=s.interpolateArray,c=function(t){this._animators=[],this._current=0,this._timer=null,this.canvas=t};function h(t,e,n){var o,s=e.startTime;if(n<s+e.delay||e.isPaused)return!1;var c=e.duration,h=e.easing;if(n=n-s-e.delay,e.toAttrs.repeat)o=n%c/c,o=a[h](o);else{if(!((o=n/c)<1))return t.attr(e.toAttrs),e.toMatrix&&t.setMatrix(e.toMatrix),!0;o=a[h](o)}return function(t,e,n){var o={},a=e.toAttrs,s=e.fromAttrs,c=e.toMatrix;if(!t.get("destroyed")){var h;for(var f in a)if(!r.isEqual(s[f],a[f]))if("path"===f){var p=a[f],d=s[f];p.length>d.length?(p=i.parsePathString(a[f]),d=i.parsePathString(s[f]),d=i.fillPathByDiff(d,p),d=i.formatPath(d,p),e.fromAttrs.path=d,e.toAttrs.path=p):e.pathFormatted||(p=i.parsePathString(a[f]),d=i.parsePathString(s[f]),d=i.formatPath(d,p),e.fromAttrs.path=d,e.toAttrs.path=p,e.pathFormatted=!0),o[f]=[];for(var v=0;v<p.length;v++){for(var g=p[v],y=d[v],m=[],_=0;_<g.length;_++)r.isNumber(g[_])&&y&&r.isNumber(y[_])?(h=u(y[_],g[_]),m.push(h(n))):m.push(g[_]);o[f].push(m)}}else h=u(s[f],a[f]),o[f]=h(n);if(c){var b=l(e.fromMatrix,c)(n);t.setMatrix(b)}t.attr(o)}}(t,e,o),!1}r.augment(c,{initTimer:function(){var t,e,n,r=this,i=this;i._timer=o.timer((function(o){if(i._current=o,r._animators.length>0){for(var a=r._animators.length-1;a>=0;a--)if((t=r._animators[a]).get("destroyed"))i.removeAnimator(a);else{if(!t.get("pause").isPaused)for(var s=(e=t.get("animators")).length-1;s>=0;s--)n=e[s],h(t,n,o)&&(e.splice(s,1),n.callback&&n.callback());0===e.length&&i.removeAnimator(a)}r.canvas.draw()}}))},addAnimator:function(t){this._animators.push(t)},removeAnimator:function(t){this._animators.splice(t,1)},isAnimating:function(){return!!this._animators.length},stop:function(){this._timer&&this._timer.stop()},stopAllAnimations:function(){this._animators.forEach((function(t){t.stopAnimate()})),this._animators=[],this.canvas.draw()},getTime:function(){return this._current}}),t.exports=c},function(t,e,n){var r=n(1);function i(t){return 1===t[0]&&0===t[1]&&0===t[3]&&1===t[4]&&0===t[6]&&0===t[7]}function o(t){return 0===t[1]&&0===t[3]&&0===t[6]&&0===t[7]}function a(t,e){i(e)||(o(e)?(t[0]*=e[0],t[4]*=e[4]):r.mat3.multiply(t,t,e))}t.exports={initTransform:function(){},resetMatrix:function(){this.attr("matrix",[1,0,0,0,1,0,0,0,1])},translate:function(t,e){var n=this._attrs.matrix;return r.mat3.translate(n,n,[t,e]),this.clearTotalMatrix(),this.attr("matrix",n),this},rotate:function(t){var e=this._attrs.matrix;return r.mat3.rotate(e,e,t),this.clearTotalMatrix(),this.attr("matrix",e),this},scale:function(t,e){var n=this._attrs.matrix;return r.mat3.scale(n,n,[t,e]),this.clearTotalMatrix(),this.attr("matrix",n),this},rotateAtStart:function(t){var e=this._attrs.x||this._cfg.attrs.x,n=this._attrs.y||this._cfg.attrs.y;return Math.abs(t)>2*Math.PI&&(t=t/180*Math.PI),this.transform([["t",-e,-n],["r",t],["t",e,n]])},move:function(t,e){var n=this.get("x")||0,r=this.get("y")||0;return this.translate(t-n,e-r),this.set("x",t),this.set("y",e),this},transform:function(t){var e=this,n=this._attrs.matrix;return r.each(t,(function(t){switch(t[0]){case"t":e.translate(t[1],t[2]);break;case"s":e.scale(t[1],t[2]);break;case"r":e.rotate(t[1]);break;case"m":e.attr("matrix",r.mat3.multiply([],n,t[1])),e.clearTotalMatrix()}})),e},setTransform:function(t){return this.attr("matrix",[1,0,0,0,1,0,0,0,1]),this.transform(t)},getMatrix:function(){return this.attr("matrix")},setMatrix:function(t){return this.attr("matrix",t),this.clearTotalMatrix(),this},apply:function(t,e){var n;return n=e?this._getMatrixByRoot(e):this.attr("matrix"),r.vec3.transformMat3(t,t,n),this},_getMatrixByRoot:function(t){t=t||this;for(var e=this,n=[];e!==t;)n.unshift(e),e=e.get("parent");n.unshift(e);var i=[1,0,0,0,1,0,0,0,1];return r.each(n,(function(t){r.mat3.multiply(i,t.attr("matrix"),i)})),i},getTotalMatrix:function(){var t=this._cfg.totalMatrix;if(!t){t=[1,0,0,0,1,0,0,0,1];var e=this._cfg.parent;e&&a(t,e.getTotalMatrix()),a(t,this.attr("matrix")),this._cfg.totalMatrix=t}return t},clearTotalMatrix:function(){},invert:function(t){var e=this.getTotalMatrix();if(o(e))t[0]/=e[0],t[1]/=e[4];else{var n=r.mat3.invert([],e);n&&r.vec3.transformMat3(t,t,n)}return this},resetTransform:function(t){var e=this.attr("matrix");i(e)||t.transform(e[0],e[1],e[3],e[4],e[6],e[7])}}},function(t,e,n){t.exports={painter:n(335)}},function(t,e,n){var r=n(1),i=n(336),o=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","lineDashOffset"],a=function(){function t(t){if(!t)return null;var e=r.uniqueId("canvas_"),n=r.createDom('<canvas id="'+e+'"></canvas>');return t.appendChild(n),this.type="canvas",this.canvas=n,this.context=n.getContext("2d"),this.toDraw=!1,this}var e=t.prototype;return e.beforeDraw=function(){var t=this.canvas;this.context&&this.context.clearRect(0,0,t.width,t.height)},e.draw=function(t){var e=this;e.animateHandler?e.toDraw=!0:function n(){e.animateHandler=r.requestAnimationFrame((function(){e.animateHandler=void 0,e.toDraw&&n()})),e.beforeDraw();try{e._drawGroup(t)}catch(i){console.warn("error in draw canvas, detail as:"),console.warn(i),e.toDraw=!1}e.toDraw=!1}()},e.drawSync=function(t){this.beforeDraw(),this._drawGroup(t)},e._drawGroup=function(t){if(!t._cfg.removed&&!t._cfg.destroyed&&t._cfg.visible){var e=t._cfg.children,n=null;this.setContext(t);for(var r=0;r<e.length;r++)n=e[r],e[r].isGroup?this._drawGroup(n):this._drawShape(n);this.restoreContext(t)}},e._drawShape=function(t){t._cfg.removed||t._cfg.destroyed||!t._cfg.visible||(this.setContext(t),t.drawInner(this.context),this.restoreContext(t),t._cfg.attrs=t._attrs,t._cfg.hasUpdate=!1)},e.setContext=function(t){var e=this.context,n=t._attrs.clip;e.save(),n&&(n.resetTransform(e),n.createPath(e),e.clip()),this.resetContext(t),t.resetTransform(e)},e.restoreContext=function(){this.context.restore()},e.resetContext=function(t){var e=this.context,n=t._attrs;if(!t.isGroup)for(var a in n)if(o.indexOf(a)>-1){var s=n[a];"fillStyle"===a&&(s=i.parseStyle(s,t,e)),"strokeStyle"===a&&(s=i.parseStyle(s,t,e)),"lineDash"===a&&e.setLineDash?r.isArray(s)?e.setLineDash(s):r.isString(s)&&e.setLineDash(s.split(" ")):e[a]=s}},t}();t.exports=a},function(t,e,n){var r=n(1),i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,o=/[^\s\,]+/gi,a=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,s=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,u=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,l=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,c={};function h(t,e){var n=t.match(l);r.each(n,(function(t){t=t.split(":"),e.addColorStop(t[0],t[1])}))}t.exports={parsePath:function(t){return t=t||[],r.isArray(t)?t:r.isString(t)?(t=t.match(i),r.each(t,(function(e,n){if((e=e.match(o))[0].length>1){var i=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=i}r.each(e,(function(t,n){isNaN(t)||(e[n]=+t)})),t[n]=e})),t):void 0},parseStyle:function(t,e,n){if(r.isString(t)){if("("===t[1]||"("===t[2]){if("l"===t[0])return function(t,e,n){var i,o,s=a.exec(t),u=r.mod(r.toRadian(parseFloat(s[1])),2*Math.PI),l=s[2],c=e.getBBox();u>=0&&u<.5*Math.PI?(i={x:c.minX,y:c.minY},o={x:c.maxX,y:c.maxY}):.5*Math.PI<=u&&u<Math.PI?(i={x:c.maxX,y:c.minY},o={x:c.minX,y:c.maxY}):Math.PI<=u&&u<1.5*Math.PI?(i={x:c.maxX,y:c.maxY},o={x:c.minX,y:c.minY}):(i={x:c.minX,y:c.maxY},o={x:c.maxX,y:c.minY});var f=Math.tan(u),p=f*f,d=(o.x-i.x+f*(o.y-i.y))/(p+1)+i.x,v=f*(o.x-i.x+f*(o.y-i.y))/(p+1)+i.y,g=n.createLinearGradient(i.x,i.y,d,v);return h(l,g),g}(t,e,n);if("r"===t[0])return function(t,e,n){var r=s.exec(t),i=parseFloat(r[1]),o=parseFloat(r[2]),a=parseFloat(r[3]),u=r[4];if(0===a){var c=u.match(l);return c[c.length-1].split(":")[1]}var f=e.getBBox(),p=f.maxX-f.minX,d=f.maxY-f.minY,v=Math.sqrt(p*p+d*d)/2,g=n.createRadialGradient(f.minX+p*i,f.minY+d*o,a*v,f.minX+p/2,f.minY+d/2,v);return h(u,g),g}(t,e,n);if("p"===t[0])return function(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===t)return e.get("pattern");var r,i,o=u.exec(t),a=o[1],s=o[2];function l(){r=n.createPattern(i,a),e.setSilent("pattern",r),e.setSilent("patternSource",t)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;case"n":a="no-repeat";break;default:a="no-repeat"}return i=new Image,s.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=s,i.complete?l():(i.onload=l,i.src=i.src),r}(t,e,n)}return t}},numberToColor:function(t){var e=c[t];if(!e){for(var n=t.toString(16),r=n.length;r<6;r++)n="0"+n;e="#"+n,c[t]=e}return e}}},function(t,e,n){t.exports={canvas:n(334),svg:n(345)}},function(t,e,n){var r=n(1),i=n(341),o=n(343),a=n(339),s=n(340),u=n(342),l=function(){function t(t){var e=document.createElementNS("http://www.w3.org/2000/svg","defs"),n=r.uniqueId("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}var e=t.prototype;return e.find=function(t,e){for(var n=this.children,r=null,i=0;i<n.length;i++)if(n[i].match(t,e)){r=n[i].id;break}return r},e.findById=function(t){for(var e=this.children,n=null,r=0;r<e.length;r++)if(e[r].id===t){n=e[r];break}return n},e.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},e.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var r=new a(t,e);return this.defaultArrow[n]=r,this.el.appendChild(r.el),r.id},e.addGradient=function(t){var e=new i(t);return this.el.appendChild(e.el),this.add(e),e.id},e.addArrow=function(t,e){var n=new a(t,e);return this.el.appendChild(n.el),n.id},e.addShadow=function(t){var e=new o(t);return this.el.appendChild(e.el),this.add(e),e.id},e.addPattern=function(t){var e=new u(t);return this.el.appendChild(e.el),this.add(e),e.id},e.addClip=function(t){var e=new s(t);return this.el.appendChild(e.el),this.add(e),e.id},t}();t.exports=l},function(t,e,n){var r=n(1),i=function(){function t(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","marker"),i=r.uniqueId("marker_");n.setAttribute("id",i);var o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("stroke","none"),o.setAttribute("fill",t.stroke||"#000"),n.appendChild(o),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=o,this.id=i,this.cfg=t["marker-start"===e?"startArrow":"endArrow"],this.stroke=t.stroke||"#000",!0===this.cfg?this._setDefaultPath(e,o):this._setMarker(t.lineWidth,o),this}var e=t.prototype;return e.match=function(){return!1},e._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L6,3 L0,6 L3,3Z"),n.setAttribute("refX",3),n.setAttribute("refY",3)},e._setMarker=function(t,e){var n=this.el,i=this.cfg.path,o=this.cfg.d;r.isArray(i)&&(i=i.map((function(t){return t.join(" ")})).join("")),e.setAttribute("d",i),n.appendChild(e),o&&n.setAttribute("refX",o/t)},e.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},t}();t.exports=i},function(t,e,n){var r=n(1),i=function(){function t(t){this.type="clip";var e=document.createElementNS("http://www.w3.org/2000/svg","clipPath");this.el=e,this.id=r.uniqueId("clip_"),e.id=this.id;var n=t._cfg.el;return e.appendChild(n.cloneNode(!0)),this.cfg=t,this}var e=t.prototype;return e.match=function(){return!1},e.remove=function(){var t=this.el;t.parentNode.removeChild(t)},t}();t.exports=i},function(t,e,n){var r=n(1),i=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,o=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,a=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function s(t){var e=t.match(a);if(!e)return"";var n="";return e.sort((function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])})),r.each(e,(function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'})),n}var u=function(){function t(t){var e=null,n=r.uniqueId("gradient_");return"l"===t.toLowerCase()[0]?function(t,e){var n,o,a=i.exec(t),u=r.mod(r.toRadian(parseFloat(a[1])),2*Math.PI),l=a[2];u>=0&&u<.5*Math.PI?(n={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=u&&u<Math.PI?(n={x:1,y:0},o={x:0,y:1}):Math.PI<=u&&u<1.5*Math.PI?(n={x:1,y:1},o={x:0,y:0}):(n={x:0,y:1},o={x:1,y:0});var c=Math.tan(u),h=c*c,f=(o.x-n.x+c*(o.y-n.y))/(h+1)+n.x,p=c*(o.x-n.x+c*(o.y-n.y))/(h+1)+n.y;e.setAttribute("x1",n.x),e.setAttribute("y1",n.y),e.setAttribute("x2",f),e.setAttribute("y2",p),e.innerHTML=s(l)}(t,e=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")):function(t,e){var n=o.exec(t),r=parseFloat(n[1]),i=parseFloat(n[2]),a=parseFloat(n[3]),u=n[4];e.setAttribute("cx",r),e.setAttribute("cy",i),e.setAttribute("r",a),e.innerHTML=s(u)}(t,e=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")),e.setAttribute("id",n),this.el=e,this.id=n,this.cfg=t,this}return t.prototype.match=function(t,e){return this.cfg===e},t}();t.exports=u},function(t,e,n){var r=n(1),i=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,o=function(){function t(t){var e=document.createElementNS("http://www.w3.org/2000/svg","pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=document.createElementNS("http://www.w3.org/2000/svg","image");e.appendChild(n);var o=r.uniqueId("pattern_");e.id=o,this.el=e,this.id=o,this.cfg=t;var a=i.exec(t)[2];n.setAttribute("href",a);var s=new Image;function u(){console.log(s.width,s.height),e.setAttribute("width",s.width),e.setAttribute("height",s.height)}return a.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=a,s.complete?u():(s.onload=u,s.src=s.src),this}return t.prototype.match=function(t,e){return this.cfg===e},t}();t.exports=o},function(t,e,n){var r=n(1),i={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},o={x:"-40%",y:"-40%",width:"200%",height:"200%"},a=function(){function t(t){this.type="filter";var e=document.createElementNS("http://www.w3.org/2000/svg","filter");return r.each(o,(function(t,n){e.setAttribute(n,t)})),this.el=e,this.id=r.uniqueId("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}var e=t.prototype;return e.match=function(t,e){if(this.type!==t)return!1;var n=!0,i=this.cfg;return r.each(Object.keys(i),(function(t){if(i[t]!==e[t])return n=!1,!1})),n},e.update=function(t,e){var n=this.cfg;return n[i[t]]=e,this._parseShadow(n,this.el),this},e._parseShadow=function(t,e){var n='<feDropShadow \n      dx="'+(t.dx||0)+'" \n      dy="'+(t.dy||0)+'" \n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=n},t}();t.exports=a},function(t,e){var n={svg:"svg",circle:"circle",rect:"rect",text:"text",path:"path",foreignObject:"foreignObject",polygon:"polygon",ellipse:"ellipse",image:"image"};t.exports=function(t,e,r){var i=r.target||r.srcElement;if(!n[i.tagName]){for(var o=i.parentNode;o&&!n[o.tagName];)o=o.parentNode;i=o}return this._cfg.el===i?this:this.find((function(t){return t._cfg&&t._cfg.el===i}))}},function(t,e,n){t.exports={painter:n(346),getShape:n(344)}},function(t,e,n){var r=n(1),i=n(37).parseRadius,o=n(74),a=n(338),s={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject",fan:"path",group:"g"},u={opacity:"opacity",fillStyle:"fill",strokeOpacity:"stroke-opacity",fillOpacity:"fill-opacity",strokeStyle:"stroke",x:"x",y:"y",r:"r",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},l={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},c={left:"left",start:"left",center:"middle",right:"end",end:"end"},h=function(){function t(t){if(!t)return null;var e=r.uniqueId("canvas_"),n=r.createDom('<svg id="'+e+'"></svg>');return t.appendChild(n),this.type="svg",this.canvas=n,this.context=new a(n),this.toDraw=!1,this}var e=t.prototype;return e.draw=function(t){var e=this;e.animateHandler?e.toDraw=!0:function n(){e.animateHandler=r.requestAnimationFrame((function(){e.animateHandler=void 0,e.toDraw&&n()}));try{t.resetMatrix(),e._drawGroup(t,!1)}catch(i){console.warn("error in draw canvas, detail as:"),console.warn(i),e.toDraw=!1}e.toDraw=!1}()},e.drawSync=function(t){this._drawChildren(t,!1)},e._drawGroup=function(t,e){var n=t._cfg;n.removed||n.destroyed||(!n.el&&n.attrs&&(e=!0),n.tobeRemoved&&(r.each(n.tobeRemoved,(function(t){t.parentNode&&t.parentNode.removeChild(t)})),n.tobeRemoved=[]),this._drawShape(t,e),n.children&&n.children.length>0&&this._drawChildren(t,e))},e._drawChildren=function(t,e){var n,r=t._cfg.children;if(r){if(t._cfg.el&&!e){var i=t._cfg.el.childNodes.length+1;0!==i&&i!==r.length&&(e=!0)}for(var o=0;o<r.length;o++)(n=r[o]).isGroup?this._drawGroup(n,e):this._drawShape(n,e)}},e._drawShape=function(t,e){var n=t._attrs,r=t._cfg,i=r.el;r.removed||r.destroyed?i&&i.parentNode.removeChild(r.el):(e&&i&&(i.parentNode&&i.parentNode.removeChild(i),i=null),!i&&r.parent&&(this._createDom(t),this._updateShape(t)),i=r.el,!1!==r.visible?(r.visible&&i.hasAttribute("visibility")&&i.removeAttribute("visibility"),r.hasUpdate&&this._updateShape(t),n.clip&&n.clip._cfg.hasUpdate&&this._updateShape(n.clip)):i.setAttribute("visibility","hidden"))},e._updateShape=function(t){var e=t._attrs,n=t._cfg.attrs;if(n)if(t._cfg.el||this._createDom(t),"clip"in e&&this._setClip(t,e.clip),("shadowOffsetX"in e||"shadowOffsetY"in e||"shadowBlur"in e||"shadowColor"in e)&&this._setShadow(t),"text"!==t.type){for(var i in"fan"===t.type&&this._updateFan(t),"marker"===t.type&&t._cfg.el.setAttribute("d",this._assembleMarker(e)),"rect"===t.type&&t._cfg.el.setAttribute("d",this._assembleRect(e)),e)e[i]!==n[i]&&this._setAttribute(t,i,e[i]);t._cfg.attrs=r.deepMix({},t._attrs),t._cfg.hasUpdate=!1}else this._updateText(t)},e._setAttribute=function(t,e,n){var i=t.type,o=t._attrs,a=t._cfg.el,s=this.context;if("marker"!==i&&"rect"!==i||!~["x","y","radius","r"].indexOf(e))if(~["circle","ellipse"].indexOf(i)&&~["x","y"].indexOf(e))a.setAttribute("c"+e,parseInt(n,10));else{if("polygon"===i&&"points"===e)return n&&0!==n.length||(n=""),r.isArray(n)&&(n=(n=n.map((function(t){return t[0]+","+t[1]}))).join(" ")),void a.setAttribute("points",n);if("path"===e&&r.isArray(n))a.setAttribute("d",this._formatPath(n));else if("img"!==e){if("transform"===e)return n?void this._setTransform(t):void a.removeAttribute("transform");if("rotate"===e)return n?void this._setTransform(t):void a.removeAttribute("transform");if("matrix"!==e)if("fillStyle"!==e&&"strokeStyle"!==e){if("clip"!==e)if(~e.indexOf("Arrow"))if(e=u[e],n){var l=null;l="boolean"===typeof n?s.getDefaultArrow(o,e):s.addArrow(o,e),a.setAttribute(e,"url(#"+l+")"),t._cfg[e]=l}else t._cfg[e]=null,a.removeAttribute(e);else"html"===e&&("string"===typeof n?a.innerHTML=n:(a.innerHTML="",a.appendChild(n))),u[e]&&a.setAttribute(u[e],n)}else this._setColor(t,e,n);else this._setTransform(t)}else this._setImage(t,n)}},e._createDom=function(t){var e=s[t.type],n=t._attrs;if(!e)throw new Error("the type"+t.type+"is not supported by svg");var r=document.createElementNS("http://www.w3.org/2000/svg",e);return t._cfg.el=r,t._cfg.parent&&t._cfg.parent.get("el").appendChild(r),t._cfg.attrs={},"text"===t.type?(r.setAttribute("paint-order","stroke"),r.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")):(n.stroke||n.strokeStyle||r.setAttribute("stroke","none"),n.fill||n.fillStyle||r.setAttribute("fill","none")),r},e._assembleMarker=function(t){var e=t.r;if("undefined"===typeof t.r&&(e=t.radius),isNaN(Number(t.x))||isNaN(Number(t.y))||isNaN(Number(e)))return"";var n="";return n="function"===typeof t.symbol?t.symbol(t.x,t.y,e):o.Symbols[t.symbol||"circle"](t.x,t.y,e),r.isArray(n)&&(n=n.map((function(t){return t.join(" ")})).join("")),n},e._assembleRect=function(t){var e=t.x,n=t.y,o=t.width,a=t.height,s=t.radius;if(!s)return"M "+e+","+n+" l "+o+",0 l 0,"+a+" l"+-o+" 0 z";var u=i(s);return r.isArray(s)?1===s.length?u.r1=u.r2=u.r3=u.r4=s[0]:2===s.length?(u.r1=u.r3=s[0],u.r2=u.r4=s[1]):3===s.length?(u.r1=s[0],u.r2=u.r4=s[1],u.r3=s[2]):(u.r1=s[0],u.r2=s[1],u.r3=s[2],u.r4=s[3]):u.r1=u.r2=u.r3=u.r4=s,[["M "+(e+u.r1)+","+n],["l "+(o-u.r1-u.r2)+",0"],["a "+u.r2+","+u.r2+",0,0,1,"+u.r2+","+u.r2],["l 0,"+(a-u.r2-u.r3)],["a "+u.r3+","+u.r3+",0,0,1,"+-u.r3+","+u.r3],["l "+(u.r3+u.r4-o)+",0"],["a "+u.r4+","+u.r4+",0,0,1,"+-u.r4+","+-u.r4],["l 0,"+(u.r4+u.r1-a)],["a "+u.r1+","+u.r1+",0,0,1,"+u.r1+","+-u.r1],["z"]].join(" ")},e._formatPath=function(t){return~(t=t.map((function(t){return t.join(" ")})).join("")).indexOf("NaN")?"":t},e._setTransform=function(t){for(var e=t._attrs.matrix,n=t._cfg.el,r=[],i=0;i<9;i+=3)r.push(e[i]+","+e[i+1]);-1===(r=r.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",e)},e._setImage=function(t,e){var n=t._attrs,i=t._cfg.el;if(r.isString(e))i.setAttribute("href",e);else if(e instanceof Image)n.width||(i.setAttribute("width",e.width),t._attrs.width=e.width),n.height||(i.setAttribute("height",e.height),t._attrs.height=e.height),i.setAttribute("href",e.src);else if(e instanceof HTMLElement&&r.isString(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase())i.setAttribute("href",e.toDataURL());else if(e instanceof ImageData){var o=document.createElement("canvas");o.setAttribute("width",e.width),o.setAttribute("height",e.height),o.getContext("2d").putImageData(e,0,0),n.width||(i.setAttribute("width",e.width),t._attrs.width=e.width),n.height||(i.setAttribute("height",e.height),t._attrs.height=e.height),i.setAttribute("href",o.toDataURL())}},e._updateFan=function(t){function e(t,e,n){return{x:e*Math.cos(t)+n.x,y:e*Math.sin(t)+n.y}}var n=t._attrs,i=t._cfg,o={x:n.x,y:n.y},a=[],s=n.startAngle,u=n.endAngle;r.isNumberEqual(u-s,2*Math.PI)&&(u-=1e-5);var l=e(s,n.re,o),c=e(u,n.re,o),h=u>s?1:0,f=Math.abs(u-s)>Math.PI?1:0,p=n.rs,d=n.re,v=e(s,n.rs,o),g=e(u,n.rs,o);n.rs>0?(a.push("M "+c.x+","+c.y),a.push("L "+g.x+","+g.y),a.push("A "+p+","+p+",0,"+f+","+(1===h?0:1)+","+v.x+","+v.y),a.push("L "+l.x+" "+l.y)):(a.push("M "+o.x+","+o.y),a.push("L "+l.x+","+l.y)),a.push("A "+d+","+d+",0,"+f+","+h+","+c.x+","+c.y),n.rs>0?a.push("L "+g.x+","+g.y):a.push("Z"),i.el.setAttribute("d",a.join(" "))},e._updateText=function(t){var e=t._attrs,n=t._cfg.attrs,r=t._cfg.el;for(var i in this._setFont(t),e)if(e[i]!==n[i]){if("text"===i){this._setText(t,""+e[i]);continue}if("fillStyle"===i||"strokeStyle"===i){this._setColor(t,i,e[i]);continue}if("matrix"===i){this._setTransform(t);continue}u[i]&&r.setAttribute(u[i],e[i])}t._cfg.attrs=Object.assign({},t._attrs),t._cfg.hasUpdate=!1},e._setFont=function(t){var e=t.get("el"),n=t._attrs,r=n.fontSize;e.setAttribute("alignment-baseline",l[n.textBaseline]||"baseline"),e.setAttribute("text-anchor",c[n.textAlign]||"left"),r&&+r<12&&(n.matrix=[1,0,0,0,1,0,0,0,1],t.transform([["t",-n.x,-n.y],["s",+r/12,+r/12],["t",n.x,n.y]]))},e._setText=function(t,e){var n=t._cfg.el,i=t._attrs.textBaseline||"bottom";if(e)if(~e.indexOf("\n")){var o=t._attrs.x,a=e.split("\n"),s=a.length-1,u="";r.each(a,(function(t,e){0===e?"alphabetic"===i?u+='<tspan x="'+o+'" dy="'+-s+'em">'+t+"</tspan>":"top"===i?u+='<tspan x="'+o+'" dy="0.9em">'+t+"</tspan>":"middle"===i?u+='<tspan x="'+o+'" dy="'+-(s-1)/2+'em">'+t+"</tspan>":"bottom"===i?u+='<tspan x="'+o+'" dy="-'+(s+.3)+'em">'+t+"</tspan>":"hanging"===i&&(u+='<tspan x="'+o+'" dy="'+(-(s-1)-.3)+'em">'+t+"</tspan>"):u+='<tspan x="'+o+'" dy="1em">'+t+"</tspan>"})),n.innerHTML=u}else n.innerHTML=e;else n.innerHTML=""},e._setClip=function(t,e){var n=t._cfg.el;if(e)if(n.hasAttribute("clip-path"))e._cfg.hasUpdate&&this._updateShape(e);else{this._createDom(e),this._updateShape(e);var r=this.context.addClip(e);n.setAttribute("clip-path","url(#"+r+")")}else n.removeAttribute("clip-path")},e._setColor=function(t,e,n){var r=t._cfg.el,i=this.context;if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var o=i.find("gradient",n);o||(o=i.addGradient(n)),r.setAttribute(u[e],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var a=i.find("pattern",n);a||(a=i.addPattern(n)),r.setAttribute(u[e],"url(#"+a+")")}else r.setAttribute(u[e],n);else r.setAttribute(u[e],"none")},e._setShadow=function(t){var e=t._cfg.el,n=t._attrs,r={dx:n.shadowOffsetX,dy:n.shadowOffsetY,blur:n.shadowBlur,color:n.shadowColor};if(r.dx||r.dy||r.blur||r.color){var i=this.context.find("filter",r);i||(i=this.context.addShadow(r,this)),e.setAttribute("filter","url(#"+i+")")}else e.removeAttribute("filter")},t}();t.exports=h},function(t,e,n){var r=n(7);r.Arc=n(136),r.Circle=n(137),r.Dom=n(138),r.Ellipse=n(139),r.Fan=n(140),r.Image=n(141),r.Line=n(142),r.Marker=n(74),r.Path=n(145),r.Polygon=n(146),r.Polyline=n(147),r.Rect=n(148),r.Text=n(149),t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new r.ARRAY_TYPE(9);return r.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,n,i,o,a,s,u,l){var c=new r.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=i,c[4]=o,c[5]=a,c[6]=s,c[7]=u,c[8]=l,c},e.set=function(t,e,n,r,i,o,a,s,u,l){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=l,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=c*a-s*l,f=-c*o+s*u,p=l*o-a*u,d=n*h+r*f+i*p;return d?(d=1/d,t[0]=h*d,t[1]=(-c*r+i*l)*d,t[2]=(s*r-i*a)*d,t[3]=f*d,t[4]=(c*n-i*u)*d,t[5]=(-s*n+i*o)*d,t[6]=p*d,t[7]=(-l*n+r*u)*d,t[8]=(a*n-r*o)*d,t):null},e.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8];return t[0]=a*c-s*l,t[1]=i*l-r*c,t[2]=r*s-i*a,t[3]=s*u-o*c,t[4]=n*c-i*u,t[5]=i*o-n*s,t[6]=o*l-a*u,t[7]=r*u-n*l,t[8]=n*a-r*o,t},e.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8];return e*(l*o-a*u)+n*(-l*i+a*s)+r*(u*i-o*s)},e.multiply=i,e.translate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=n[0],p=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=f*r+p*a+l,t[7]=f*i+p*s+c,t[8]=f*o+p*u+h,t},e.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=Math.sin(n),p=Math.cos(n);return t[0]=p*r+f*a,t[1]=p*i+f*s,t[2]=p*o+f*u,t[3]=p*a-f*r,t[4]=p*s-f*i,t[5]=p*u-f*o,t[6]=l,t[7]=c,t[8]=h,t},e.scale=function(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,h=r*s,f=i*a,p=i*s,d=i*u,v=o*a,g=o*s,y=o*u;return t[0]=1-h-d,t[3]=c-y,t[6]=f+g,t[1]=c+y,t[4]=1-l-d,t[7]=p-v,t[2]=f-g,t[5]=p+v,t[8]=1-l-h,t},e.normalFromMat4=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],p=e[11],d=e[12],v=e[13],g=e[14],y=e[15],m=n*s-r*a,_=n*u-i*a,b=n*l-o*a,w=r*u-i*s,x=r*l-o*s,E=i*l-o*u,S=c*v-h*d,C=c*g-f*d,k=c*y-p*d,T=h*g-f*v,I=h*y-p*v,A=f*y-p*g,M=m*A-_*I+b*T+w*k-x*C+E*S;return M?(M=1/M,t[0]=(s*A-u*I+l*T)*M,t[1]=(u*k-a*A-l*C)*M,t[2]=(a*I-s*k+l*S)*M,t[3]=(i*I-r*A-o*T)*M,t[4]=(n*A-i*k+o*C)*M,t[5]=(r*k-n*I-o*S)*M,t[6]=(v*E-g*x+y*w)*M,t[7]=(g*b-d*E-y*_)*M,t[8]=(d*x-v*b+y*m)*M,t):null},e.projection=function(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},e.subtract=o,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],h=t[8],f=e[0],p=e[1],d=e[2],v=e[3],g=e[4],y=e[5],m=e[6],_=e[7],b=e[8];return Math.abs(n-f)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(i-p)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-d)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(a-v)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(s-g)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(u-y)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(l-m)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(c-_)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(_))&&Math.abs(h-b)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(b))};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(78));function i(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=n[0],p=n[1],d=n[2],v=n[3],g=n[4],y=n[5],m=n[6],_=n[7],b=n[8];return t[0]=f*r+p*a+d*l,t[1]=f*i+p*s+d*c,t[2]=f*o+p*u+d*h,t[3]=v*r+g*a+y*l,t[4]=v*i+g*s+y*c,t[5]=v*o+g*u+y*h,t[6]=m*r+_*a+b*l,t[7]=m*i+_*s+b*c,t[8]=m*o+_*u+b*h,t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}e.mul=i,e.sub=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=i,e.clone=function(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,n){return t[0]=e,t[1]=n,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},e.subtract=o,e.multiply=a,e.divide=s,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},e.distance=u,e.squaredDistance=l,e.length=c,e.squaredLength=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},e.lerp=function(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t},e.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},e.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},e.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},e.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},e.transformMat4=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},e.rotate=function(t,e,n,r){var i=e[0]-n[0],o=e[1]-n[1],a=Math.sin(r),s=Math.cos(r);return t[0]=i*s-o*a+n[0],t[1]=i*a+o*s+n[1],t},e.angle=function(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=n*n+r*r;a>0&&(a=1/Math.sqrt(a));var s=i*i+o*o;s>0&&(s=1/Math.sqrt(s));var u=(n*i+r*o)*a*s;return u>1?0:u<-1?Math.PI:Math.acos(u)},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var n=t[0],i=t[1],o=e[0],a=e[1];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(78));function i(){var t=new r.ARRAY_TYPE(2);return r.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function a(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function s(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function u(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function l(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function c(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function h(t){var e=t[0],n=t[1];return e*e+n*n}e.len=c,e.sub=o,e.mul=a,e.div=s,e.dist=u,e.sqrDist=l,e.sqrLen=h,e.forEach=function(){var t=i();return function(e,n,r,i,o,a){var s=void 0,u=void 0;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=i,e.clone=function(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=o,e.fromValues=a,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},e.subtract=s,e.multiply=u,e.divide=l,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},e.distance=c,e.squaredDistance=h,e.squaredLength=f,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=p,e.dot=d,e.cross=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t},e.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t},e.hermite=function(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,l=a*(o-1),c=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+r[0]*l+i[0]*c,t[1]=e[1]*s+n[1]*u+r[1]*l+i[1]*c,t[2]=e[2]*s+n[2]*u+r[2]*l+i[2]*c,t},e.bezier=function(t,e,n,r,i,o){var a=1-o,s=a*a,u=o*o,l=s*a,c=3*o*s,h=3*u*a,f=u*o;return t[0]=e[0]*l+n[0]*c+r[0]*h+i[0]*f,t[1]=e[1]*l+n[1]*c+r[1]*h+i[1]*f,t[2]=e[2]*l+n[2]*c+r[2]*h+i[2]*f,t},e.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI,i=2*r.RANDOM()-1,o=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=i*e,t},e.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t},e.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},e.transformQuat=function(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],u=e[1],l=e[2],c=i*l-o*u,h=o*s-r*l,f=r*u-i*s,p=i*f-o*h,d=o*c-r*f,v=r*h-i*c,g=2*a;return c*=g,h*=g,f*=g,p*=2,d*=2,v*=2,t[0]=s+c+p,t[1]=u+h+d,t[2]=l+f+v,t},e.rotateX=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateY=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateZ=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.angle=function(t,e){var n=a(t[0],t[1],t[2]),r=a(e[0],e[1],e[2]);p(n,n),p(r,r);var i=d(n,r);return i>1?0:i<-1?Math.PI:Math.acos(i)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=e[0],s=e[1],u=e[2];return Math.abs(n-a)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-u)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(78));function i(){var t=new r.ARRAY_TYPE(3);return r.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function o(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function a(t,e,n){var i=new r.ARRAY_TYPE(3);return i[0]=t,i[1]=e,i[2]=n,i}function s(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function u(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function l(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function c(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function h(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function f(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function p(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function d(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}e.sub=s,e.mul=u,e.div=l,e.dist=c,e.sqrDist=h,e.len=o,e.sqrLen=f,e.forEach=function(){var t=i();return function(e,n,r,i,o,a){var s=void 0,u=void 0;for(n||(n=3),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}()},function(t,e,n){var r=n(6),i=n(11),o=n(152),a=[0,1,1.2,1.5,1.6,2,2.2,2.4,2.5,3,4,5,6,7.5,8,10],s=[0,1,2,4,5,10];t.exports=function(t){var e=t.min,n=t.max,u=t.interval,l=t.minTickInterval,c=[],h=t.minCount||5,f=t.maxCount||7,p=h===f,d=r(t.minLimit)?-1/0:t.minLimit,v=r(t.maxLimit)?1/0:t.maxLimit,g=(h+f)/2,y=g,m=t.snapArray?t.snapArray:p?a:s;if(e===d&&n===v&&p&&(u=(n-e)/(y-1)),r(e)&&(e=0),r(n)&&(n=0),Math.abs(n-e)<1e-12&&(0===e?n=1:e>0?e=0:n=0,n-e<5&&!u&&n-e>=1&&(u=1)),r(u)){var _=(n-e)/(g-1);u=o.snapFactorTo(_,m,"ceil"),f!==h&&((y=parseInt((n-e)/u,10))>f&&(y=f),y<h&&(y=h),u=o.snapFactorTo((n-e)/(y-1),m,"floor"))}if(i(l)&&u<l&&(u=l),t.interval||f!==h){n=Math.min(o.snapMultiple(n,u,"ceil"),v),e=Math.max(o.snapMultiple(e,u,"floor"),d),y=Math.round((n-e)/u),e=o.fixedBase(e,u),n=o.fixedBase(n,u);for(var b=null;e>d&&d>-1/0&&(null===b||e<b);)b=e,e=o.fixedBase(e-u,u)}else{g=parseInt(g,10);var w,x=(n+e)/2,E=o.snapMultiple(x,u,"ceil"),S=Math.floor((g-2)/2),C=E+S*u;w=g%2===0?E-S*u:E-(S+1)*u;for(var k=null;C<n&&(null===k||C>k);)k=C,C=o.fixedBase(C+u,u);for(var T=null;w>e&&(null===T||w<T);)T=w,w=o.fixedBase(w-u,u);n=C,e=w}n=Math.min(n,v),e=Math.max(e,d),c.push(e);for(var I=1;I<y;I++){var A=o.fixedBase(u*I+e,u);A<n&&c.push(A)}return c[c.length-1]<n&&c.push(n),{min:e,max:n,interval:u,count:y,ticks:c}}},function(t,e,n){var r=n(152),i=n(6),o=[1,2,4,6,8,12];function a(t){return new Date(t).getFullYear()}function s(t){return new Date(t,0,1).getTime()}function u(t){return new Date(t).getMonth()}function l(t,e){return new Date(t,e,1).getTime()}t.exports=function(t){var e,n=t.minInterval,c=[],h=t.min,f=t.max,p=t.interval;if(f===h&&(f=h+864e5),i(p)){p=parseInt((f-h)/(t.maxCount||6),10),n&&n>p&&(p=n);var d=p/31536e6,v=a(h);if(d>.51){for(var g=Math.ceil(d),y=a(f),m=v;m<=y+g;m+=g)c.push(s(m));p=null}else if(d>.0834){for(var _=Math.ceil(d/.0834),b=u(h),w=function(t,e){var n=a(t),r=a(e),i=u(t);return 12*(r-n)+(u(e)-i)%12}(h,f),x=0;x<=w+_;x+=_)c.push(l(v,x+b));p=null}else if(p>432e5){var E=new Date(h),S=E.getFullYear(),C=E.getMonth(h),k=E.getDate(),T=Math.ceil(p/864e5),I=function(t,e){return Math.ceil((e-t)/864e5)}(h,f);p=864e5*T;for(var A=0;A<I+T;A+=T)c.push(new Date(S,C,k+A).getTime())}else if(p>36e5){var M=new Date(h),P=M.getFullYear(),O=M.getMonth(h),N=M.getDate(),D=M.getHours(),R=r.snapTo(o,Math.ceil(p/36e5)),L=function(t,e){return Math.ceil((e-t)/36e5)}(h,f);p=36e5*R;for(var F=0;F<=L+R;F+=R)c.push(new Date(P,O,N,D+F).getTime())}else if(p>6e4){var j=function(t,e){return Math.ceil((e-t)/6e4)}(h,f),B=Math.ceil(p/6e4);p=6e4*B;for(var V=0;V<=j+B;V+=B)c.push(h+6e4*V)}else{p<1e3&&(p=1e3),h=1e3*Math.floor(h/1e3);var U=Math.ceil((f-h)/1e3),q=Math.ceil(p/1e3);p=1e3*q;for(var z=0;z<U+q;z+=q)c.push(h+1e3*z)}}if(!c.length){h=1e3*Math.floor(h/1e3),e=((f=1e3*Math.ceil(f/1e3))-h)/p;for(var H=0;H<=e;H++)c.push(r.fixedBase(p*H+h,p))}return{max:f,min:h,interval:p,ticks:c,count:c.length}}},function(t,e,n){var r=n(26),i=n(11),o=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.isIdentity=!0,this.type="identity",this.value=null},o.getText=function(){return this.value.toString()},o.scale=function(t){return this.value!==t&&i(t)?t:this.range[0]},o.invert=function(){return this.value},r}(r);r.Identity=o,t.exports=o},function(t,e,n){var r=n(2),i=n(26);function o(t,e){return 1===t?1:Math.log(e)/Math.log(t)}var a=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=i.prototype;return a._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="log",this.tickCount=10,this.base=2,this._minTick=null},a.calculateTicks=function(){var t,e=this.base;if(this.min<0)throw new Error("The minimum value must be greater than zero!");var n=o(e,this.max);if(this.min>0)t=Math.floor(o(e,this.min));else{var i=this.values,a=this.max;r(i,(function(t){t>0&&t<a&&(a=t)})),a===this.max&&(a=this.max/e),a>1&&(a=1),t=Math.floor(o(e,a)),this._minTick=t,this.positiveMin=a}for(var s=n-t,u=this.tickCount,l=Math.ceil(s/u),c=[],h=t;h<n+l;h+=l)c.push(Math.pow(e,h));return 0===this.min&&c.unshift(0),c},a._getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;if(t<=0)return 0;var r=this.base,i=this.positiveMin;return i&&(n=1*i/r),t<i?t/i/(o(r,e)-o(r,n)):(o(r,t)-o(r,n))/(o(r,e)-o(r,n))},a.scale=function(t){var e=this._getScalePercent(t),n=this.rangeMin();return n+e*(this.rangeMax()-n)},a.invert=function(t){var e,n=this.base,r=o(n,this.max),i=this.rangeMin(),a=this.rangeMax()-i,s=this.positiveMin;if(s){if(0===t)return 0;var u=1/(r-(e=o(n,s/n)))*a;if(t<u)return t/u*s}else e=o(n,this.min);var l=(t-i)/a*(r-e)+e;return Math.pow(n,l)},i}(n(51));i.Log=a,t.exports=a},function(t,e,n){var r=n(26);function i(t,e){var n=Math.E;return Math.pow(n,Math.log(e)/t)}var o=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="pow",this.tickCount=10,this.exponent=2},o.calculateTicks=function(){var t,e=this.exponent,n=Math.ceil(i(e,this.max));if((t=this.min>=0?Math.floor(i(e,this.min)):0)>n){var r=n;n=t,t=r}for(var o=n-t,a=this.tickCount,s=Math.ceil(o/a),u=[],l=t;l<n+s;l+=s)u.push(Math.pow(l,e));return u},o._getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;var r=this.exponent;return(i(r,t)-i(r,n))/(i(r,e)-i(r,n))},o.scale=function(t){var e=this._getScalePercent(t),n=this.rangeMin();return n+e*(this.rangeMax()-n)},o.invert=function(t){var e=(t-this.rangeMin())/(this.rangeMax()-this.rangeMin()),n=this.exponent,r=i(n,this.max),o=i(n,this.min),a=e*(r-o)+o;return Math.pow(a,n)},r}(n(51));r.Pow=o,t.exports=o},function(t,e,n){var r=n(26),i=n(153),o=n(222),a=n(151),s=n(52),u=n(2),l=n(11),c=n(39),h=n(15),f=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="timeCat",this.sortable=!0,this.tickCount=5,this.mask="YYYY-MM-DD"},i.init=function(){var t=this,e=this.values;u(e,(function(n,r){e[r]=t._toTimeStamp(n)})),this.sortable&&e.sort((function(t,e){return t-e})),t.ticks||(t.ticks=this.calculateTicks())},i.calculateTicks=function(){var t=this.tickCount;return t?a({maxCount:t,data:this.values,isRounding:this.isRounding}).ticks:this.values},i.translate=function(t){t=this._toTimeStamp(t);var e=this.values.indexOf(t);return-1===e&&(e=l(t)&&t<this.values.length?t:NaN),e},i.scale=function(t){var e=this.rangeMin(),n=this.rangeMax(),r=this.translate(t);return e+(1===this.values.length||isNaN(r)?r:r>-1?r/(this.values.length-1):0)*(n-e)},i.getText=function(t){var e="",n=this.translate(t);e=n>-1?this.values[n]:t;var r=this.formatter;return e=parseInt(e,10),e=r?r(e):o.format(e,this.mask)},i.getTicks=function(){var t=this,e=this.ticks,n=[];return u(e,(function(e){var r;r=c(e)?e:{text:h(e)?e:t.getText(e),value:t.scale(e),tickValue:e},n.push(r)})),n},i._toTimeStamp=function(t){return s.toTimeStamp(t)},r}(i);r.TimeCat=f,t.exports=f},function(t,e,n){var r=n(222),i=n(2),o=n(6),a=n(15),s=n(26),u=n(51),l=n(352),c=n(52),h=function(t){var e,n;function s(){return t.apply(this,arguments)||this}n=t,(e=s).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var u=s.prototype;return u._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="time",this.mask="YYYY-MM-DD"},u.init=function(){var e=this,n=e.values;if(n&&n.length){var r=[],a=1/0,s=a,u=0;i(n,(function(t){var n=e._toTimeStamp(t);if(isNaN(n))throw new TypeError("Invalid Time: "+t);a>n?(s=a,a=n):s>n&&(s=n),u<n&&(u=n),r.push(n)})),n.length>1&&(e.minTickInterval=s-a),(o(e.min)||e._toTimeStamp(e.min)>a)&&(e.min=a),(o(e.max)||e._toTimeStamp(e.max)<u)&&(e.max=u)}t.prototype.init.call(this)},u.calculateTicks=function(){var t=this.min,e=this.max,n=this.tickCount,r=this.tickInterval;return l({min:t,max:e,minCount:n,maxCount:n,interval:r,minInterval:this.minTickInterval}).ticks},u.getText=function(t){var e=this.formatter;return t=this.translate(t),t=e?e(t):r.format(t,this.mask)},u.scale=function(e){return a(e)&&(e=this.translate(e)),t.prototype.scale.call(this,e)},u.translate=function(t){return this._toTimeStamp(t)},u._toTimeStamp=function(t){return c.toTimeStamp(t)},s}(u);s.Time=h,t.exports=h},function(t,e,n){var r=n(82),i=n(53);t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r(t,(function(t){return!i(e,t)}))}},function(t,e,n){var r=n(14),i=n(40),o=n(177);t.exports=function(t,e){var n=void 0;if(r(e)&&(n=e),i(e)&&(n=function(t){return o(t,e)}),n)for(var a=0;a<t.length;a+=1)if(n(t[a]))return t[a];return null}},function(t,e,n){var r=n(6),i=n(4);t.exports=function(t,e){for(var n=null,o=0;o<t.length;o++){var a=t[o][e];if(!r(a)){n=i(a)?a[0]:a;break}}return n}},function(t,e,n){var r=n(4);t.exports=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(r(e))for(var i=0;i<e.length;i+=1)t(e[i],n);else n.push(e);return n}},function(t,e,n){var r=n(4),i=n(2);t.exports=function(t){if(!r(t))return t;var e=[];return i(t,(function(t){r(t)?i(t,(function(t){e.push(t)})):e.push(t)})),e}},function(t,e,n){var r=n(82),i=n(4);t.exports=function(t){if(!(t=r(t,(function(t){return!isNaN(t)}))).length)return{min:0,max:0};if(i(t[0])){for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);t=e}var o=Math.max.apply(null,t);return{min:Math.min.apply(null,t),max:o}}},function(t,e,n){t.exports={contains:n(53),difference:n(358),find:n(359),firstValue:n(360),flatten:n(362),flattenDeep:n(361),getRange:n(363),merge:n(54),pull:n(156),pullAt:n(155),reduce:n(365),remove:n(366),sortBy:n(367),union:n(368),uniq:n(157),valuesOfKey:n(79)}},function(t,e,n){var r=n(4),i=n(40),o=n(2);t.exports=function(t,e,n){if(!r(t)&&!i(t))return t;var a=n;return o(t,(function(t,n){a=e(a,t,n)})),a}},function(t,e,n){var r=n(21),i=n(155);t.exports=function(t,e){var n=[];if(!r(t))return n;for(var o=-1,a=[],s=t.length;++o<s;){var u=t[o];e(u,o,t)&&(n.push(u),a.push(o))}return i(t,a),n}},function(t,e,n){var r=n(15),i=n(14),o=n(4);t.exports=function(t,e){var n=void 0;if(i(e))n=function(t,n){return e(t)-e(n)};else{var a=[];r(e)?a.push(e):o(e)&&(a=e),n=function(t,e){for(var n=0;n<a.length;n+=1){var r=a[n];if(t[r]>e[r])return 1;if(t[r]<e[r])return-1}return 0}}return t.sort(n),t}},function(t,e,n){var r=n(2),i=n(57),o=n(157);t.exports=function(){var t=[],e=i(arguments);return r(e,(function(e){t=t.concat(e)})),o(t)}},function(t,e){t.exports=function(t,e,n){var r=void 0;return function(){var i=this,o=arguments,a=function(){r=null,n||t.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(i,o)}}},function(t,e){t.exports=function(t,e,n){if(t){if(t.addEventListener)return t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}};if(t.attachEvent)return t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}}}},function(t,e){t.exports=function(t,e){if(t&&t.getBoundingClientRect){var n=t.getBoundingClientRect(),r=document.documentElement.clientTop,i=document.documentElement.clientLeft;return{top:n.top-r,bottom:n.bottom-r,left:n.left-i,right:n.right-i}}return e||null}},function(t,e){t.exports=function(t,e){var n=this.getStyle(t,"height",e);return"auto"===n&&(n=t.offsetHeight),parseFloat(n)}},function(t,e){t.exports=function(t,e){var n=this.getHeight(t,e),r=parseFloat(this.getStyle(t,"borderTopWidth"))||0,i=parseFloat(this.getStyle(t,"paddingTop"))||0,o=parseFloat(this.getStyle(t,"paddingBottom"))||0;return n+r+(parseFloat(this.getStyle(t,"borderBottomWidth"))||0)+i+o}},function(t,e){t.exports=function(t,e){var n=this.getWidth(t,e),r=parseFloat(this.getStyle(t,"borderLeftWidth"))||0,i=parseFloat(this.getStyle(t,"paddingLeft"))||0,o=parseFloat(this.getStyle(t,"paddingRight"))||0;return n+r+(parseFloat(this.getStyle(t,"borderRightWidth"))||0)+i+o}},function(t,e){t.exports=function(){return window.devicePixelRatio?window.devicePixelRatio:2}},function(t,e,n){var r=n(6);t.exports=function(t,e,n){try{return window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.currentStyle[e]}catch(i){return r(n)?null:n}}},function(t,e){t.exports=function(t,e){var n=this.getStyle(t,"width",e);return"auto"===n&&(n=t.offsetWidth),parseFloat(n)}},function(t,e,n){t.exports={addEventListener:n(370),createDom:n(159),getBoundingClientRect:n(371),getHeight:n(372),getOuterHeight:n(373),getOuterWidth:n(374),getRatio:n(375),getStyle:n(376),getWidth:n(377),modifyCSS:n(160),requestAnimationFrame:n(161)}},function(t,e){t.exports=function(t,e){return t["_wrap_"+e]}},function(t,e,n){t.exports={getWrapBehavior:n(379),wrapBehavior:n(381)}},function(t,e){t.exports=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n}},function(t,e,n){var r=n(383);t.exports={number2color:r,numberToColor:r,parsePath:n(384),parseRadius:n(385)}},function(t,e){var n={};t.exports=function(t){var e=n[t];if(!e){for(var r=t.toString(16),i=r.length;i<6;i++)r="0"+r;e="#"+r,n[t]=e}return e}},function(t,e,n){var r=n(4),i=n(15),o=n(2),a=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,s=/[^\s\,]+/gi;t.exports=function(t){return r(t=t||[])?t:i(t)?(t=t.match(a),o(t,(function(e,n){if((e=e.match(s))[0].length>1){var r=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=r}o(e,(function(t,n){isNaN(t)||(e[n]=+t)})),t[n]=e})),t):void 0}},function(t,e,n){var r=n(4);t.exports=function(t){var e=0,n=0,i=0,o=0;return r(t)?1===t.length?e=n=i=o=t[0]:2===t.length?(e=i=t[0],n=o=t[1]):3===t.length?(e=t[0],n=o=t[1],i=t[2]):(e=t[0],n=t[1],i=t[2],o=t[3]):e=n=i=o=t,{r1:e,r2:n,r3:i,r4:o}}},function(t,e,n){var r=n(21);t.exports=function(t,e){if(!r(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var i=-1,o=0;o<t.length;o++)if(t[o]===e){i=o;break}return i}},function(t,e,n){var r=n(14),i=n(83);t.exports=function(t,e,n){return r(n)?!!n(t,e):i(t,e)}},function(t,e,n){var r=n(2),i=n(21);t.exports=function(t,e){if(!i(t))return t;var n=[];return r(t,(function(t,r){n.push(e(t,r))})),n}},function(t,e){t.exports=function(t,e){var n=e.toString(),r=n.indexOf(".");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))}},function(t,e,n){var r=n(55);t.exports={clamp:n(84),fixedBase:n(389),isDecimal:n(391),isEven:n(392),isInteger:n(393),isNegative:n(394),isNumberEqual:r,isOdd:n(395),isPositive:n(396),maxBy:n(168),minBy:n(397),mod:n(169),snapEqual:r,toDegree:n(170),toInt:n(171),toInteger:n(171),toRadian:n(172)}},function(t,e,n){var r=n(11);t.exports=function(t){return r(t)&&t%1!==0}},function(t,e,n){var r=n(11);t.exports=function(t){return r(t)&&t%2===0}},function(t,e,n){var r=n(11),i=Number.isInteger?Number.isInteger:function(t){return r(t)&&t%1===0};t.exports=i},function(t,e,n){var r=n(11);t.exports=function(t){return r(t)&&t<0}},function(t,e,n){var r=n(11);t.exports=function(t){return r(t)&&t%2!==0}},function(t,e,n){var r=n(11);t.exports=function(t){return r(t)&&t>0}},function(t,e,n){var r=n(4),i=n(14),o=n(2);t.exports=function(t,e){if(r(t)){var n=t[0],a=void 0;a=i(e)?e(t[0]):t[0][e];var s=void 0;return o(t,(function(t){(s=i(e)?e(t):t[e])<a&&(n=t,a=s)})),n}}},function(t,e,n){t.exports=n(2)},function(t,e,n){t.exports=n(176)},function(t,e,n){var r=n(53),i=n(179);t.exports=function(t,e){return r(i(t),e)}},function(t,e,n){t.exports={forIn:n(398),has:n(176),hasKey:n(399),hasValue:n(400),keys:n(178),isMatch:n(177),values:n(179)}},function(t,e,n){var r=n(406);function i(t,e,n){var r=null,i=n;return e<i&&(i=e,r="add"),t<i&&(i=t,r="del"),{type:r,min:i}}t.exports=function(t,e){var n=function(t,e){var n=t.length,o=e.length,a=void 0,s=void 0,u=0;if(0===n||0===o)return null;for(var l=[],c=0;c<=n;c++)l[c]=[],l[c][0]={min:c};for(var h=0;h<=o;h++)l[0][h]={min:h};for(var f=1;f<=n;f++){a=t[f-1];for(var p=1;p<=o;p++){s=e[p-1],u=r(a,s)?0:1;var d=l[f-1][p].min+1,v=l[f][p-1].min+1,g=l[f-1][p-1].min+u;l[f][p]=i(d,v,g)}}return l}(t,e),o=t.length,a=e.length,s=[],u=1,l=1;if(n[o][a]!==o){for(var c=1;c<=o;c++){var h=n[c][c].min;l=c;for(var f=u;f<=a;f++)n[c][f].min<h&&(h=n[c][f].min,l=f);u=l,n[c][u].type&&s.push({index:c-1,type:n[c][u].type})}for(var p=s.length-1;p>=0;p--)u=s[p].index,"add"===s[p].type?t.splice(u,0,[].concat(t[u])):t.splice(u,1)}if((o=t.length)<a)for(var d=0;d<a-o;d++)"z"===t[o-1][0]||"Z"===t[o-1][0]?t.splice(o-2,0,t[o-2]):t.push(t[o-1]);return t}},function(t,e){function n(t,e){var n=[],r=[];return t.length&&function t(e,i){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var o=[],a=0;a<e.length-1;a++)0===a&&n.push(e[0]),a===e.length-2&&r.push(e[a+1]),o[a]=[(1-i)*e[a][0]+i*e[a+1][0],(1-i)*e[a][1]+i*e[a+1][1]];t(o,i)}}(t,e),{left:n,right:r.reverse()}}function r(t,e,r){if(1===r)return[[].concat(t)];var i=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])i=i.concat(function(t,e,r){var i=[[t[1],t[2]]];r=r||2;var o=[];"A"===e[0]?(i.push(e[6]),i.push(e[7])):"C"===e[0]?(i.push([e[1],e[2]]),i.push([e[3],e[4]]),i.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(i.push([e[1],e[2]]),i.push([e[3],e[4]])):i.push([e[1],e[2]]);for(var a=i,s=1/r,u=0;u<r-1;u++){var l=n(a,s/(1-s*u));o.push(l.left),a=l.right}return o.push(a),o.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1])}))}(t,e,r));else{var o=[].concat(t);"M"===o[0]&&(o[0]="L");for(var a=0;a<=r-1;a++)i.push(o)}return i}t.exports=function(t,e){if(1===t.length)return t;var n=t.length-1,i=e.length-1,o=n/i,a=[];if(1===t.length&&"M"===t[0][0]){for(var s=0;s<i-n;s++)t.push(t[0]);return t}for(var u=0;u<i;u++){var l=Math.floor(o*u);a[l]=(a[l]||0)+1}var c=a.reduce((function(e,i,o){return o===n?e.concat(t[n]):e.concat(r(t[o],t[o+1],i))}),[]);return c.unshift(t[0]),"Z"!==e[i]&&"z"!==e[i]||c.push("Z"),c}},function(t,e){function n(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}function r(t,e,r){for(var i=[].concat(t),o=void 0,a=1/(r+1),s=n(e)[0],u=1;u<=r;u++)a*=u,0===(o=Math.floor(t.length*a))?i.unshift([s[0]*a+t[o][0]*(1-a),s[1]*a+t[o][1]*(1-a)]):i.splice(o,0,[s[0]*a+t[o][0]*(1-a),s[1]*a+t[o][1]*(1-a)]);return i}t.exports=function(t,e){if(t.length<=1)return t;for(var i=void 0,o=0;o<e.length;o++)if(t[o][0]!==e[o][0])switch(i=n(t[o]),e[o][0]){case"M":t[o]=["M"].concat(i[0]);break;case"L":t[o]=["L"].concat(i[0]);break;case"A":t[o]=[].concat(e[o]),t[o][6]=i[0][0],t[o][7]=i[0][1];break;case"Q":if(i.length<2){if(!(o>0)){t[o]=e[o];break}i=r(i,t[o-1],1)}t[o]=["Q"].concat(i.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":t[o]=["T"].concat(i[0]);break;case"C":if(i.length<3){if(!(o>0)){t[o]=e[o];break}i=r(i,t[o-1],2)}t[o]=["C"].concat(i.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(i.length<2){if(!(o>0)){t[o]=e[o];break}i=r(i,t[o-1],1)}t[o]=["S"].concat(i.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[o]=e[o]}return t}},function(t,e,n){var r=n(407),i=n(183),o=n(184),a=n(180);t.exports={catmullRom2Bezier:a,catmullRomToBezier:a,fillPath:n(403),fillPathByDiff:n(402),formatPath:n(404),intersection:r,pathIntersection:r,parsePathArray:n(181),parsePathString:n(182),pathToAbsolute:i,path2absolute:i,pathTocurve:o,path2curve:o,rectPath:n(185)}},function(t,e,n){var r=n(2);t.exports=function(t,e){if(t.length!==e.length)return!1;var n=!0;return r(t,(function(t,r){if(t!==e[r])return n=!1,!1})),n}},function(t,e,n){var r=n(4),i=n(185),o=n(184),a=function(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n},s=function(t,e,n,r,i,o,s,u,l){null===l&&(l=1);for(var c=(l=l>1?1:l<0?0:l)/2,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,d=0;d<12;d++){var v=c*h[d]+c,g=a(v,t,n,i,s),y=a(v,e,r,o,u),m=g*g+y*y;p+=f[d]*Math.sqrt(m)}return c*p},u=function(t,e,n,r,i,o,a,s){for(var u=[],l=[[],[]],c=void 0,h=void 0,f=void 0,p=void 0,d=0;d<2;++d)if(0===d?(h=6*t-12*n+6*i,c=-3*t+9*n-9*i+3*a,f=3*n-3*t):(h=6*e-12*r+6*o,c=-3*e+9*r-9*o+3*s,f=3*r-3*e),Math.abs(c)<1e-12){if(Math.abs(h)<1e-12)continue;(p=-f/h)>0&&p<1&&u.push(p)}else{var v=h*h-4*f*c,g=Math.sqrt(v);if(!(v<0)){var y=(-h+g)/(2*c);y>0&&y<1&&u.push(y);var m=(-h-g)/(2*c);m>0&&m<1&&u.push(m)}}for(var _=u.length,b=_,w=void 0;_--;)w=1-(p=u[_]),l[0][_]=w*w*w*t+3*w*w*p*n+3*w*p*p*i+p*p*p*a,l[1][_]=w*w*w*e+3*w*w*p*r+3*w*p*p*o+p*p*p*s;return l[0][b]=t,l[1][b]=e,l[0][b+1]=a,l[1][b+1]=s,l[0].length=l[1].length=b+2,{min:{x:Math.min.apply(0,l[0]),y:Math.min.apply(0,l[1])},max:{x:Math.max.apply(0,l[0]),y:Math.max.apply(0,l[1])}}},l=function(t,e,n,r,i,o,a,s){if(!(Math.max(t,n)<Math.min(i,a)||Math.min(t,n)>Math.max(i,a)||Math.max(e,r)<Math.min(o,s)||Math.min(e,r)>Math.max(o,s))){var u=(t-n)*(o-s)-(e-r)*(i-a);if(u){var l=((t*r-e*n)*(i-a)-(t-n)*(i*s-o*a))/u,c=((t*r-e*n)*(o-s)-(e-r)*(i*s-o*a))/u,h=+l.toFixed(2),f=+c.toFixed(2);if(!(h<+Math.min(t,n).toFixed(2)||h>+Math.max(t,n).toFixed(2)||h<+Math.min(i,a).toFixed(2)||h>+Math.max(i,a).toFixed(2)||f<+Math.min(e,r).toFixed(2)||f>+Math.max(e,r).toFixed(2)||f<+Math.min(o,s).toFixed(2)||f>+Math.max(o,s).toFixed(2)))return{x:l,y:c}}}},c=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},h=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:i(t,e,n,r),vb:[t,e,n,r].join(" ")}},f=function(t,e,n,i,o,a,s,l){r(t)||(t=[t,e,n,i,o,a,s,l]);var c=u.apply(null,t);return h(c.min.x,c.min.y,c.max.x-c.min.x,c.max.y-c.min.y)},p=function(t,e,n,r,i,o,a,s,u){var l=1-u,c=Math.pow(l,3),h=Math.pow(l,2),f=u*u,p=f*u,d=t+2*u*(n-t)+f*(i-2*n+t),v=e+2*u*(r-e)+f*(o-2*r+e),g=n+2*u*(i-n)+f*(a-2*i+n),y=r+2*u*(o-r)+f*(s-2*o+r);return{x:c*t+3*h*u*n+3*l*u*u*i+p*a,y:c*e+3*h*u*r+3*l*u*u*o+p*s,m:{x:d,y:v},n:{x:g,y:y},start:{x:l*t+u*n,y:l*e+u*r},end:{x:l*i+u*a,y:l*o+u*s},alpha:90-180*Math.atan2(d-g,v-y)/Math.PI}},d=function(t,e,n){if(!function(t,e){return t=h(t),e=h(e),c(e,t.x,t.y)||c(e,t.x2,t.y)||c(e,t.x,t.y2)||c(e,t.x2,t.y2)||c(t,e.x,e.y)||c(t,e.x2,e.y)||c(t,e.x,e.y2)||c(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(f(t),f(e)))return n?0:[];for(var r=~~(s.apply(0,t)/8),i=~~(s.apply(0,e)/8),o=[],a=[],u={},d=n?0:[],v=0;v<r+1;v++){var g=p.apply(0,t.concat(v/r));o.push({x:g.x,y:g.y,t:v/r})}for(var y=0;y<i+1;y++){var m=p.apply(0,e.concat(y/i));a.push({x:m.x,y:m.y,t:y/i})}for(var _=0;_<r;_++)for(var b=0;b<i;b++){var w=o[_],x=o[_+1],E=a[b],S=a[b+1],C=Math.abs(x.x-w.x)<.001?"y":"x",k=Math.abs(S.x-E.x)<.001?"y":"x",T=l(w.x,w.y,x.x,x.y,E.x,E.y,S.x,S.y);if(T){if(u[T.x.toFixed(4)]===T.y.toFixed(4))continue;u[T.x.toFixed(4)]=T.y.toFixed(4);var I=w.t+Math.abs((T[C]-w[C])/(x[C]-w[C]))*(x.t-w.t),A=E.t+Math.abs((T[k]-E[k])/(S[k]-E[k]))*(S.t-E.t);I>=0&&I<=1&&A>=0&&A<=1&&(n?d++:d.push({x:T.x,y:T.y,t1:I,t2:A}))}}return d};t.exports=function(t,e){return function(t,e,n){t=o(t),e=o(e);for(var r=void 0,i=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,h=void 0,f=void 0,p=void 0,v=n?0:[],g=0,y=t.length;g<y;g++){var m=t[g];if("M"===m[0])r=u=m[1],i=l=m[2];else{"C"===m[0]?(f=[r,i].concat(m.slice(1)),r=f[6],i=f[7]):(f=[r,i,r,i,u,l,u,l],r=u,i=l);for(var _=0,b=e.length;_<b;_++){var w=e[_];if("M"===w[0])a=c=w[1],s=h=w[2];else{"C"===w[0]?(p=[a,s].concat(w.slice(1)),a=p[6],s=p[7]):(p=[a,s,a,s,c,h,c,h],a=c,s=h);var x=d(f,p,n);if(n)v+=x;else{for(var E=0,S=x.length;E<S;E++)x[E].segment1=g,x[E].segment2=_,x[E].bez1=f,x[E].bez2=p;v=v.concat(x)}}}}}return v}(t,e)}},function(t,e,n){var r=n(2),i=n(40),o=Object.prototype.hasOwnProperty;t.exports=function(t,e){if(null===t||!i(t))return{};var n={};return r(e,(function(e){o.call(t,e)&&(n[e]=t[e])})),n}},function(t,e,n){var r={lc:n(410),lowerCase:n(186),lowerFirst:n(187),substitute:n(411),uc:n(412),upperCase:n(188),upperFirst:n(189)};t.exports=r},function(t,e,n){t.exports=n(186)},function(t,e){t.exports=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]})):t}},function(t,e,n){t.exports=n(188)},function(t,e){t.exports=function(t,e,n){var r=void 0,i=void 0,o=void 0,a=void 0,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),r=null,a=t.apply(i,o),r||(i=o=null)},l=function(){var l=Date.now();s||!1!==n.leading||(s=l);var c=e-(l-s);return i=this,o=arguments,c<=0||c>e?(r&&(clearTimeout(r),r=null),s=l,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,c)),a};return l.cancel=function(){clearTimeout(r),s=0,r=i=o=null},l}},function(t,e,n){var r=n(17),i={getType:n(190),isArray:n(4),isArrayLike:n(21),isBoolean:n(191),isFunction:n(14),isNil:n(6),isNull:n(417),isNumber:n(11),isObject:n(39),isObjectLike:n(86),isPlainObject:n(40),isPrototype:n(193),isType:r,isUndefined:n(419),isString:n(15),isRegExp:n(418),isDate:n(192),isArguments:n(415),isError:n(416)};t.exports=i},function(t,e,n){var r=n(17);t.exports=function(t){return r(t,"Arguments")}},function(t,e,n){var r=n(17);t.exports=function(t){return r(t,"Error")}},function(t,e){t.exports=function(t){return null===t}},function(t,e,n){var r=n(17);t.exports=function(t){return r(t,"RegExp")}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(24),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default.generateBaseTypedComponent("Axis")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=a(n(42)),o=a(n(29));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(0,a(n(545)).default)(i.default.PureComponent,"`React.PureComponent` needs React >=15.3.0");var l=function(t){function e(){return s(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"render",value:function(){var t=this.props,e=t.width,n=t.height,r=t.placeholder;return i.default.createElement("div",{style:{width:e,height:n}},r)}}]),e}(i.default.PureComponent||i.default.Component);l.propTypes={width:o.default.oneOfType([o.default.string,o.default.number]),height:o.default.oneOfType([o.default.string,o.default.number]),placeholder:o.default.node},l.defaultProps={width:"100%",placeholder:i.default.createElement("div",{style:{position:"relative",top:"48%",textAlign:"center"}},"\u6682\u65e0\u6570\u636e")},e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=l(n(42)),a=l(n(423)),s=l(n(421)),u=l(n(425));function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function f(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function p(t){var e=!0;return(null==t||0===t.length||t.rows&&0===t.rows.length)&&(e=!1),!!e}var d=function(t){function e(){var t,n,r;c(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=h(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r._refCallback=function(t){t&&(r.chart=t.getG2Instance())},r.hasViewSource=function(){var t=!1;return o.default.Children.map(r.props.children,(function(e){!t&&e&&"function"===typeof e.type&&"View"===e.type.name&&e.props.data&&p(e.props.data)&&(t=!0)})),t},h(r,n)}return f(e,t),i(e,[{key:"getG2Instance",value:function(){return this.chart}},{key:"render",value:function(){var t=this.props,e=t.data,n=t.width,i=t.height,u=t.placeholder,l=t.className,c=t.style;return o.default.createElement("div",{className:l,style:c},p(e)||this.hasViewSource()||!u?o.default.createElement(a.default,r({ref:this._refCallback},this.props)):o.default.createElement(s.default,{width:n,height:i,placeholder:!0===u?void 0:u}))}}]),e}(o.default.PureComponent||o.default.Component),v=function(t){function e(){return c(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),i(e,[{key:"render",value:function(){var t=this.props,e=t.widthErrorBoundary,n=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["widthErrorBoundary"]);return!1===e?o.default.createElement(d,n):o.default.createElement(u.default,null,o.default.createElement(d,n))}}]),e}(o.default.Component);e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(42),a=h(o),s=h(n(29)),u=h(n(436)),l=h(n(543)),c=h(n(538));function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return p.call(n),n.name="Chart",n.gId=0,n.id=n.createId(),n.g2Processor=new u.default,n.forceFit=(0,c.default)((function(){n.chart&&n.chart.forceFit()}),300),n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"getChildContext",value:function(){return{addElement:this.addElement,updateElement:this.updateElement,deleteElement:this.deleteElement,createId:this.createId,getParentInfo:this.getParentInfo,getViewId:this.getViewId}}},{key:"componentDidMount",value:function(){if(this.addElement(this.name,this.id,r({},this.props,{container:this.containerWrap})),this.chart=this.g2Processor.createG2Instance(),this.notifyG2Instance(),this.props.forceFit){var t=new l.default(this.forceFit);t.observe(this.containerWrap),this.observe=t}}},{key:"componentDidUpdate",value:function(){this.updateElement(this.name,this.id,r({},this.props,{container:this.containerWrap}));var t=this.g2Processor.batchedUpdate();this.chart!==t&&(this.chart=t,this.notifyG2Instance()),this.props.forceUpdate&&this.chart.forceFit()}},{key:"componentWillUnmount",value:function(){this.g2Processor.destory(),this.chart=null,this.forceFit&&this.forceFit.cancel(),this.observe&&this.observe.unobserve(this.containerWrap),this.containerWrap=null}},{key:"getG2Instance",value:function(){return this.chart}},{key:"notifyG2Instance",value:function(){this.props.onGetG2Instance&&this.props.onGetG2Instance(this.chart)}},{key:"render",value:function(){return a.default.createElement("div",{ref:this.refHandle},this.props.children)}}]),e}(o.Component);f.propTypes={data:s.default.oneOfType([s.default.arrayOf(s.default.object),s.default.object]),scale:s.default.oneOfType([s.default.object,s.default.array]),animate:s.default.bool,width:s.default.number,height:s.default.number.isRequired,onGetG2Instance:s.default.func,forceFit:s.default.bool,forceUpdate:s.default.bool},f.childContextTypes={addElement:s.default.func,updateElement:s.default.func,deleteElement:s.default.func,createId:s.default.func,getParentInfo:s.default.func,getViewId:s.default.func};var p=function(){var t=this;this.getViewId=function(){},this.getParentInfo=function(){return{id:t.id,name:t.name}},this.createId=function(){return t.gId+=1,t.gId},this.addElement=function(e,n,r,i,o){return t.g2Processor.addElement(e,n,r,i,o)},this.updateElement=function(e,n,r,i,o){t.g2Processor.updateElement(e,n,r,i,o)},this.deleteElement=function(e,n,r){t.g2Processor.deleteElement(e,n,r)},this.refHandle=function(e){t.containerWrap||(t.containerWrap=e)}};e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(24),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default.generateBaseTypedComponent("Coord")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(42),a=(r=o)&&r.__esModule?r:{default:r},s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={hasError:!1},n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"shouldComponentUpdate",value:function(){return this.state.hasError&&this.setState({hasError:!1}),!0}},{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"unstable_handleError",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?a.default.createElement("h1",null,"bizcharts error."):this.props.children}}]),e}(a.default.Component);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(285);var r,i=n(24),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default.generateBaseTypedComponent("Facet")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(292);var r,i=n(24),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default.generateBaseTypedComponent("Geom")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(24),o=(r=i)&&r.__esModule?r:{default:r},a=o.default.generateBaseTypedComponent("Guide");a.Line=o.default.generateBaseTypedComponent("GuideLine"),a.Image=o.default.generateBaseTypedComponent("GuideImage"),a.Text=o.default.generateBaseTypedComponent("GuideText"),a.Region=o.default.generateBaseTypedComponent("GuideRegion"),a.Html=o.default.generateBaseTypedComponent("GuideHtml"),a.Arc=o.default.generateBaseTypedComponent("GuideArc"),a.RegionFilter=o.default.generateBaseTypedComponent("GuideRegionFilter"),a.DataMarker=o.default.generateBaseTypedComponent("GuideDataMarker"),a.DataRegion=o.default.generateBaseTypedComponent("GuideDataRegion"),e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=s(n(537)),o=s(n(24)),a=s(n(29));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,"Label"))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"componentWillMount",value:function(){var t=this.context.getParentInfo();(0,i.default)("Geom"===t.name,"`<Label />` must be wrapped in `<Geom />`"),this.id=this.context.createId(),this.context.addElement(this.name,this.id,this.props,this.context.getParentInfo(),this.context.getViewId())}}]),e}(o.default);u.contextTypes={addElement:a.default.func,updateElement:a.default.func,deleteElement:a.default.func,createId:a.default.func,getParentInfo:a.default.func,getViewId:a.default.func},u.childContextTypes={addElement:a.default.func,updateElement:a.default.func,deleteElement:a.default.func,createId:a.default.func,getParentInfo:a.default.func,getViewId:a.default.func},e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(24)),i=o(n(29));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,"Legend"))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(r.default);a.contextTypes={addElement:i.default.func,updateElement:i.default.func,deleteElement:i.default.func,createId:i.default.func,getParentInfo:i.default.func,getViewId:i.default.func},a.childContextTypes={addElement:i.default.func,updateElement:i.default.func,deleteElement:i.default.func,createId:i.default.func,getParentInfo:i.default.func,getViewId:i.default.func},a.defaultProps={visible:!0},e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(24),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default.generateBaseTypedComponent("Tooltip")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=a(n(24)),o=a(n(29));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,"View"));return n.getViewId=function(){return n.id},n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"getChildContext",value:function(){return{addElement:this.context.addElement,updateElement:this.context.updateElement,deleteElement:this.context.deleteElement,createId:this.context.createId,getParentInfo:this.getParentInfo,getViewId:this.getViewId}}}]),e}(i.default);s.contextTypes={addElement:o.default.func,updateElement:o.default.func,deleteElement:o.default.func,createId:o.default.func,getParentInfo:o.default.func,getViewId:o.default.func},s.childContextTypes={addElement:o.default.func,updateElement:o.default.func,deleteElement:o.default.func,createId:o.default.func,getParentInfo:o.default.func,getViewId:o.default.func},e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={Chart:"addChart",Coord:"addCoord",Geom:"addGeom",Axis:"addAxis",Tooltip:"addTooltip",Legend:"addLegend",Label:"addLabel",View:"addView",Guide:"addGuide",GuideLine:"addGuideLine",GuideImage:"addGuideImage",GuideText:"addGuideText",GuideRegion:"addGuideRegion",GuideHtml:"addGuideHtml",GuideArc:"addGuideArc",GuideRegionFilter:"addGuideRegionFilter",GuideDataMarker:"addGuideDataMarker",GuideDataRegion:"addGuideDataRegion",Facet:"addFacet"},i={addElement:function(t,e,n){this[r[t]](e,n,n.id,n.viewId,n.parentInfo)},getConfigContainer:function(t,e){return e&&(t.views||(t.views={}),(t=t.views[e])||((t={}).views[e]=t)),t},addUniqueElement:function(t,e,n,r,i){var o=this.getConfigContainer(t,i);return o[e],o[e]=n,r},addChart:function(t,e,n){return this.addUniqueElement(t,"chart",e,n,null)},addView:function(t,e,n){return t.views||(t.views={}),t.views[n]=e,n},addAxis:function(t,e,n,r){var i=this.getConfigContainer(t,r);return i.axises||(i.axises={}),i.axises[n]=e,n},addCoord:function(t,e,n,r){return this.addUniqueElement(t,"coord",e,n,r)},addGeom:function(t,e,n,r,i){var o=this.getConfigContainer(t,r);return o.geoms||(o.geoms={}),o.geoms[n]?i?o.geoms[n].label=e.label:(o.geoms[n].label||console.log("geom label error"),e.label=o.geoms[n].label,o.geoms[n]=e):o.geoms[n]=e,n},addLabel:function(t,e,n,r,i){var o=this.getConfigContainer(t,r);return o.geoms||(o.geoms={}),this.addGeom(t,{label:e},i.id,r,!0),n},addTooltip:function(t,e,n,r){return this.addUniqueElement(t,"tooltip",e,n,r)},addFacet:function(t,e,n,r){return this.addUniqueElement(t,"facet",e,n,r)},addLegend:function(t,e,n,r){var i=this.getConfigContainer(t,r);return i.legends||(i.legends={}),i.legends[n]=e,n},addGuide:function(t,e,n,r){return this.addUniqueElement(t,"guide",e,n,r)},addTypedGuide:function(t,e,n,r,i,o){var a=this.getConfigContainer(t,i),s=a.guide;return s||(this.addUniqueElement("guide",{},o.id,i),s=a.guide),s.elements||(s.elements={}),n.type=e,s.elements[r]=n,r},addGuideLine:function(t,e,n,r,i){this.addTypedGuide(t,"line",e,n,r,i)},addGuideImage:function(t,e,n,r,i){this.addTypedGuide(t,"image",e,n,r,i)},addGuideText:function(t,e,n,r,i){this.addTypedGuide(t,"text",e,n,r,i)},addGuideRegion:function(t,e,n,r,i){this.addTypedGuide(t,"region",e,n,r,i)},addGuideHtml:function(t,e,n,r,i){this.addTypedGuide(t,"html",e,n,r,i)},addGuideArc:function(t,e,n,r,i){this.addTypedGuide(t,"arc",e,n,r,i)},addGuideRegionFilter:function(t,e,n,r,i){this.addTypedGuide(t,"regionFilter",e,n,r,i)},addGuideDataMarker:function(t,e,n,r,i){this.addTypedGuide(t,"dataMarker",e,n,r,i)},addGuideDataRegion:function(t,e,n,r,i){this.addTypedGuide(t,"dataRegion",e,n,r,i)}};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={Chart:"deleteChart",Coord:"deleteCoord",Geom:"deleteGeom",Axis:"deleteAxis",Tooltip:"deleteTooltip",Legend:"deleteLegend",Label:"deleteLabel",View:"deleteView",Guide:"deleteGuide",GuideLine:"deleteTypedGuide",GuideImage:"deleteTypedGuide",GuideText:"deleteTypedGuide",GuideRegion:"deleteTypedGuide",GuideHtml:"deleteTypedGuide",GuideArc:"deleteTypedGuide",Facet:"deleteFacet"},i={Geom:!0,Label:!0,Facet:!0},o={deleteAxis:function(t,e,n){var r=e.axises[n].props;t.axis(r.name,!1)},deleteTooltip:function(t){t.tooltip(!1)},deleteCoord:function(t){t.coord("rect",{})},deleteLegend:function(t,e,n){var r=e.legends[n].props;t.legend.apply(t,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(r.name?[r.name,!1]:[!1]))},deleteGuide:function(t){t.guide().clear()},deleteView:function(t,e,n){e.views[n].g2Instance&&(t.removeView(e.views[n].g2Instance),delete e.views[n].g2Instance)},deleteViewElement:function(t,e,n,o){var a=this;Object.keys(n).forEach((function(t){var n=o[t],s=n.viewId;s&&(i[n.name]?e.views[s].needReExecute=!0:e.views[s].g2Instance&&a[r[n.name]]&&a[r[n.name]](e.views[s].g2Instance,e.views[s],n.id))}))},needReExecute:function(t,e){for(var n in t)if(i[e[n].name]&&!e[n].viewId)return!0;return!1},synchronizeG2Delete:function(t,e,n,i){var o=this;Object.keys(n).forEach((function(n){var a=r[i[n].name];o[a]&&!i[n].viewId&&o[a](t,e,n)})),this.deleteViewElement(t,e,n,i)}};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(88),o=l(n(195)),a=l(n(197)),s=l(n(87)),u=l(n(196));function l(t){return t&&t.__esModule?t:{default:t}}function c(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function h(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var f=o.default.COORD_FUNC_PROPS,p=o.default.GEOM_FUNC_PROPS,d={needRebuildChart:function(t){if(null==t.chart.props||null==t.chart.updateProps)return!1;var e=t.chart.props,n=t.chart.updateProps;return!(i.Util.shallowEqual(e.padding,n.padding)&&i.Util.shallowEqual(e.background,n.background)&&i.Util.shallowEqual(e.plotBackground,n.plotBackground)&&i.Util.shallowEqual(e.pixelRatio,n.pixelRatio))},needReExecute:function(t){var e=t.geoms;if(null==e)return!1;for(var n in e)if(e[n].props&&e[n].updateProps&&(e[n].props.type!==e[n].updateProps.type||e[n].props.color&&!e[n].updateProps.color||e[n].props.size&&!e[n].updateProps.size||e[n].props.shape&&!e[n].updateProps.shape))return!0;return!1},needRepaint:function(t){var e=t.chart;return e.props.data===e.updateProps.data},synchronizeG2Update:function(t,e){this.updateChart(t,e.chart),this.updateAxises(t,e.axises),this.updateTooltip(t,e),this.updateCoord(t,e),this.updateLegends(t,e.legends),this.updateGeoms(t,e.geoms),this.updateGuide(t,e.guide),this.updateFacet(t,e),this.updateViews(t,e)},updateChart:function(t,e){if(e){var n=e.props,r=e.updateProps,o=n.width,a=n.height,s=n.animate,l=n.data,c=n.scale,h=r.width,f=r.height,p=r.animate,d=r.data,v=r.scale;l!==d&&t.changeData(d),i.Util.shallowEqual(c,v)||(i.Util.isArray(v)?t.scale(v[0],v[1]):t.scale(v)),s!==p&&t.animate(p),o!==h&&a!==f?t.changeSize(h,f):o!==h?t.changeWidth(h):a!==f&&t.changeHeight(f),u.default.updateEvents(t,u.default.chartEvents,e.props,r),u.default.updateBaseEvents(t,e.updateProps,r)}},updateAxis:function(t,e){var n=e.props,r=n.name,o=n.visible,a=h(n,["name","visible"]),s=e.updateProps,u=(s.name,s.visible),l=h(s,["name","visible"]);o!==u&&t.axis(r,!!u),i.Util.shallowEqual(a,l)||t.axis(r,l)},updateAxises:function(t,e){if(e)for(var n in e)e[n]&&e[n].props&&e[n].updateProps&&this.updateAxis(t,e[n])},updateTooltip:function(t,e){if(e.tooltip){var n=e.tooltip.props,o=e.tooltip.updateProps;null==n&&null==o||i.Util.shallowEqual(n,o)||t.tooltip(r({},o))}},updateCoord:function(t,e){var n=e.coord;if(n){var r=n.props,o=n.updateProps;if(null!=r&&null!=o){var a=i.Util.without(o,f.concat(["type"]));if(!i.Util.shallowEqual(r,o)){var s=t.coord(o.type,a);n.g2Instance=s,i.Prop.init(f,o,(function(t,e){"reflect"===e?i.Util.each(t,(function(t){return s[e](t)})):"transpose"===e?!0===t[0]&&s[e].apply(s,c(t)):s[e].apply(s,c(t))}))}}}},updateLegend:function(t,e){var n=e.props,r=e.updateProps;if(r&&!i.Util.shallowEqual(n,r)){var o=r.name,a=r.visible,s=h(r,["name","visible"]),u=a?s:a;t.legend.apply(t,c(o?[o,u]:[u]))}},updateLegends:function(t,e){if(null!=e)for(var n in e)e[n]&&this.updateLegend(t,e[n])},updateLabel:function(t,e,n){if(null!=e&&null!=n){var r=e.content,o=h(e,["content"]),a=n.content,s=h(n,["content"]);i.Util.shallowEqual(o,s)&&i.Util.shallowEqual(r,a)||(i.Util.isArray(a)?t.label(a[0],a[1],s):t.label(a,s))}},updateGeom:function(t,e){var n=e.props,r=e.updateProps;if(n&&r&&n.type===r.type){var o=e.g2Instance;if(i.Util.shallowEqual(n,r))e.label&&this.updateLabel(o,e.label.props,e.label.updateProps);else{var a=n.adjust,s=h(n,["adjust"]),u=r.adjust,l=h(r,["adjust"]);(a||u)&&o.adjust(u),i.Prop.update(p,s,l,(function(t,e){o[e].apply(o,c(t))})),e.label&&this.updateLabel(o,e.label.props,e.label.updateProps)}}},updateGeoms:function(t,e){if(null==e)return!1;for(var n in e)e[n]&&this.updateGeom(t,e[n]);return!1},isTypedGuideChanged:function(t){return!i.Util.shallowEqual(t.props,t.updateProps)},updateGuide:function(t,e){if(e&&e.elements){var n=e.elements,r=!1;for(var i in n)if(n[i]&&(n[i].updateProps||this.isTypedGuideChanged(n[i]))){r=!0;break}r&&(s.default.mergeGuide(e,!0),t.guide().clear(),a.default.guide(t,e))}},updateView:function(t,e){if(e&&e.props&&e.updateProps&&"Facet"!==e.parentInfo.name){var n=e.g2Instance,r=e.props,o=e.updateProps,a=r.scale,s=r.data,u=r.animate,l=r.axis,c=r.filter,h=o.scale,f=o.animate,p=o.data,d=o.axis,v=o.filter;u!==f&&n.animate(f),s!==p&&n.changeData(p),i.Util.shallowEqual(a,h)||n.scale(h),i.Util.shallowEqual(c,v)||v.forEach((function(t){n.filter(t[0],t[1])})),l!==d&&n.axis(d),this.updateCoord(n,e),this.updateAxises(n,e.axises),this.updateGeoms(n,e.geoms),this.updateGuide(n,e.guide)}},updateViews:function(t,e){var n=e.views;if(n)for(var r in n){var i=n[r];i&&(i.needReExecute||this.needReExecute(i))?(a.default.synchronizeG2View(i.g2Instance,i),n[r].needReExecute=!1):this.updateView(t,i)}},updateFacet:function(t,e){var n=e.facet;if(n){var r=n.props,o=n.updateProps;if(null!=r&&null!=o){var s=r.type,u=h(r,["type"]),l=o.type,c=h(o,["type"]);s===l&&i.Util.shallowEqual(u,c)||(n.props=o,a.default.facet(t,e))}}}};e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=h(n(433)),a=h(n(87)),s=h(n(435)),u=h(n(434)),l=h(n(197)),c=n(88);function h(t){return t&&t.__esModule?t:{default:t}}function f(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config={},this.elementInfos={},this.added=!1,this.initedG2=!1,this.updated=!1,this.deleted=!1,this.deleteInfos={}}return i(t,[{key:"calUpdateFlag",value:function(t,e){var n=this.elementInfos[e].props,r=(n.children,f(n,["children"])),i=this.elementInfos[e].updateProps,o=(i.children,f(i,["children"]));if("Chart"===t||"View"===t){var a=r.data,s=f(r,["data"]),u=o.data,l=f(o,["data"]);a===u&&c.Util.isEqual(s,l)||(this.updated=!0)}else c.Util.isEqual(r,o)||(this.updated=!0)}},{key:"addElement",value:function(t,e,n,i,a){!this.chart&&this.initedG2||(this.added=!0,this.elementInfos[e]={id:e,viewId:a,parentInfo:i,name:t,props:r({},n)},i&&!this.elementInfos[i.id]&&(this.elementInfos[i.id]={id:i.id,name:i.name}),o.default.addElement(t,this.config,this.elementInfos[e]))}},{key:"updateElement",value:function(t,e,n){this.elementInfos[e].updateProps=r({},n),this.calUpdateFlag(t,e)}},{key:"deleteElement",value:function(t,e){this.chart&&(this.deleteInfos[e]=e,this.deleted=!0)}},{key:"createG2Instance",value:function(){var t=this.config,e=l.default.createChart(t,this.elementInfos);return l.default.executeChartConfig(e,t,this.elementInfos),l.default.synchronizeG2Add(e,t,this.elementInfos),e.render(),this.chart=e,this.initedG2=!0,this.resetStates(),e}},{key:"destory",value:function(){this.chart.destroy(),this.chart=null}},{key:"resetStates",value:function(){var t=this.elementInfos;for(var e in t)t[e].updateProps&&delete t[e].updateProps,this.deleteInfos[e]&&delete t[e];this.added=!1,this.updated=!1,this.deleteInfos={}}},{key:"reExecuteChart",value:function(){return this.chart.clear(),a.default.merge(this.config,this.deleteInfos,this.elementInfos,!0),l.default.executeChartConfig(this.chart,this.config,this.elementInfos),l.default.synchronizeG2Add(this.chart,this.config,this.elementInfos),this.chart.repaint(),this.resetStates(),this.chart}},{key:"batchedUpdate",value:function(){return null==this.chart?null:this.config.chart.props.forceUpdate||s.default.needRebuildChart(this.config)?(a.default.merge(this.config,this.deleteInfos,this.elementInfos,!0),this.chart.destroy(),this.chart="destroy",this.createG2Instance()):u.default.needReExecute(this.deleteInfos,this.elementInfos)||s.default.needReExecute(this.config)?(this.reExecuteChart(),this.chart):(this.deleted&&(u.default.synchronizeG2Delete(this.chart,this.config,this.deleteInfos,this.elementInfos),a.default.mergeDelete(this.config,this.deleteInfos,this.elementInfos)),this.added&&l.default.synchronizeG2Add(this.chart,this.config),this.updated&&s.default.synchronizeG2Update(this.chart,this.config),(this.added||this.deleted||this.updated)&&this.chart.repaint(),a.default.mergeUpdate(this.config,!1),this.resetStates(),this.chart)}}]),t}();e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(58),o=(r=i)&&r.__esModule?r:{default:r};e.default={init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=arguments[2];o.default.each(t,(function(t){var r=e[t];void 0!==r&&(o.default.isArray(r)||(r=[r]),n(r,t))}))},update:function(t,e,n,r){var i=void 0,a=void 0;o.default.each(t,(function(t){i=e[t],a=n[t],o.default.shallowEqual(a,i)||(o.default.isArray(a)||(a=[a]),r(a,t))}))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,n){"use strict";e.a=v;var r=n(90),i=n(89),o=n(198),a=-.14861,s=1.78277,u=-.29227,l=-.90649,c=1.97294,h=c*l,f=c*s,p=s*u-l*a;function d(t){if(t instanceof g)return new g(t.h,t.s,t.l,t.opacity);t instanceof i.a||(t=n.i(i.b)(t));var e=t.r/255,r=t.g/255,a=t.b/255,s=(p*a+h*e-f*r)/(p+h-f),d=a-s,v=(c*(r-s)-u*d)/l,y=Math.sqrt(v*v+d*d)/(c*s*(1-s)),m=y?Math.atan2(v,d)*o.a-120:NaN;return new g(m<0?m+360:m,y,s,t.opacity)}function v(t,e,n,r){return 1===arguments.length?d(t):new g(t,e,n,null==r?1:r)}function g(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}n.i(r.a)(g,v,n.i(r.b)(i.c,{brighter:function(t){return t=null==t?i.d:Math.pow(i.d,t),new g(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?i.e:Math.pow(i.e,t),new g(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*o.b,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),h=Math.sin(t);return new i.a(255*(e+n*(a*r+s*h)),255*(e+n*(u*r+l*h)),255*(e+n*(c*r)),this.opacity)}}))},function(t,e,n){"use strict";e.b=l,e.a=g;var r=n(90),i=n(89),o=n(198),a=6/29,s=3*a*a;function u(t){if(t instanceof c)return new c(t.l,t.a,t.b,t.opacity);if(t instanceof y)return m(t);t instanceof i.a||(t=n.i(i.b)(t));var e,r,o=d(t.r),a=d(t.g),s=d(t.b),u=h((.2225045*o+.7168786*a+.0606169*s)/1);return o===a&&a===s?e=r=u:(e=h((.4360747*o+.3850649*a+.1430804*s)/.96422),r=h((.0139322*o+.0971045*a+.7141733*s)/.82521)),new c(116*u-16,500*(e-u),200*(u-r),t.opacity)}function l(t,e,n,r){return 1===arguments.length?u(t):new c(t,e,n,null==r?1:r)}function c(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function h(t){return t>.008856451679035631?Math.pow(t,1/3):t/s+4/29}function f(t){return t>a?t*t*t:s*(t-4/29)}function p(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function d(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function v(t){if(t instanceof y)return new y(t.h,t.c,t.l,t.opacity);if(t instanceof c||(t=u(t)),0===t.a&&0===t.b)return new y(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*o.a;return new y(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function g(t,e,n,r){return 1===arguments.length?v(t):new y(t,e,n,null==r?1:r)}function y(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function m(t){if(isNaN(t.h))return new c(t.l,0,0,t.opacity);var e=t.h*o.b;return new c(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}n.i(r.a)(c,l,n.i(r.b)(i.c,{brighter:function(t){return new c(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new c(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=.96422*f(e),t=1*f(t),n=.82521*f(n),new i.a(p(3.1338561*e-1.6168667*t-.4906146*n),p(-.9787684*e+1.9161415*t+.033454*n),p(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),n.i(r.a)(y,g,n.i(r.b)(i.c,{brighter:function(t){return new y(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new y(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return m(this).rgb()}}))},function(t,e,n){"use strict";var r={value:function(){}};function i(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new o(r)}function o(t){this._=t}function a(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function s(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function u(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=r,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}o.prototype=i.prototype={constructor:o,on:function(t,e){var n,r=this._,i=a(t+"",r),o=-1,l=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);for(;++o<l;)if(n=(t=i[o]).type)r[n]=u(r[n],t.name,e);else if(null==e)for(n in r)r[n]=u(r[n],t.name,null);return this}for(;++o<l;)if((n=(t=i[o]).type)&&(n=s(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new o(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}},e.a=i},function(t,e,n){"use strict";var r=n(441);n.d(e,"a",(function(){return r.a}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}));var r=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),i=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),o=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158)},function(t,e,n){"use strict";e.b=function(t){return 1-i(1-t)},e.a=i,e.c=function(t){return((t*=2)<=1?1-i(1-t):i(t-1)+1)/2};var r=7.5625;function i(t){return(t=+t)<4/11?r*t*t:t<8/11?r*(t-=6/11)*t+.75:t<10/11?r*(t-=9/11)*t+.9375:r*(t-=21/22)*t+63/64}},function(t,e,n){"use strict";e.b=function(t){return 1-Math.sqrt(1-t*t)},e.c=function(t){return Math.sqrt(1- --t*t)},e.a=function(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}},function(t,e,n){"use strict";e.b=function(t){return t*t*t},e.c=function(t){return--t*t*t+1},e.a=function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return a}));var r=2*Math.PI,i=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=r);function o(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/n)}return o.amplitude=function(e){return t(e,n*r)},o.period=function(n){return t(e,n)},o}(1,.3),o=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=r);function o(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/n)}return o.amplitude=function(e){return t(e,n*r)},o.period=function(n){return t(e,n)},o}(1,.3),a=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=r);function o(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/n))/2}return o.amplitude=function(e){return t(e,n*r)},o.period=function(n){return t(e,n)},o}(1,.3)},function(t,e,n){"use strict";e.b=function(t){return Math.pow(2,10*t-10)},e.c=function(t){return 1-Math.pow(2,-10*t)},e.a=function(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}},function(t,e,n){"use strict";e.a=function(t){return+t}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}));var r=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),i=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),o=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3)},function(t,e,n){"use strict";e.b=function(t){return t*t},e.c=function(t){return t*(2-t)},e.a=function(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}},function(t,e,n){"use strict";e.b=function(t){return 1-Math.cos(t*i)},e.c=function(t){return Math.sin(t*i)},e.a=function(t){return(1-Math.cos(r*t))/2};var r=Math.PI,i=r/2},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(92);n.d(e,"interpolate",(function(){return r.a}));var i=n(200);n.d(e,"interpolateArray",(function(){return i.a}));var o=n(91);n.d(e,"interpolateBasis",(function(){return o.a}));var a=n(201);n.d(e,"interpolateBasisClosed",(function(){return a.a}));var s=n(203);n.d(e,"interpolateDate",(function(){return s.a}));var u=n(59);n.d(e,"interpolateNumber",(function(){return u.a}));var l=n(204);n.d(e,"interpolateObject",(function(){return l.a}));var c=n(459);n.d(e,"interpolateRound",(function(){return c.a}));var h=n(206);n.d(e,"interpolateString",(function(){return h.a}));var f=n(461);n.d(e,"interpolateTransformCss",(function(){return f.a})),n.d(e,"interpolateTransformSvg",(function(){return f.b}));var p=n(463);n.d(e,"interpolateZoom",(function(){return p.a}));var d=n(205);n.d(e,"interpolateRgb",(function(){return d.a})),n.d(e,"interpolateRgbBasis",(function(){return d.b})),n.d(e,"interpolateRgbBasisClosed",(function(){return d.c}));var v=n(456);n.d(e,"interpolateHsl",(function(){return v.a})),n.d(e,"interpolateHslLong",(function(){return v.b}));var g=n(457);n.d(e,"interpolateLab",(function(){return g.a}));var y=n(455);n.d(e,"interpolateHcl",(function(){return y.a})),n.d(e,"interpolateHclLong",(function(){return y.b}));var m=n(454);n.d(e,"interpolateCubehelix",(function(){return m.a})),n.d(e,"interpolateCubehelixLong",(function(){return m.b}));var _=n(458);n.d(e,"quantize",(function(){return _.a}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return a}));var r=n(12),i=n(41);function o(t){return function e(o){function a(e,a){var s=t((e=n.i(r.a)(e)).h,(a=n.i(r.a)(a)).h),u=n.i(i.a)(e.s,a.s),l=n.i(i.a)(e.l,a.l),c=n.i(i.a)(e.opacity,a.opacity);return function(t){return e.h=s(t),e.s=u(t),e.l=l(Math.pow(t,o)),e.opacity=c(t),e+""}}return o=+o,a.gamma=e,a}(1)}e.a=o(i.b);var a=o(i.a)},function(t,e,n){"use strict";n.d(e,"b",(function(){return a}));var r=n(12),i=n(41);function o(t){return function(e,o){var a=t((e=n.i(r.b)(e)).h,(o=n.i(r.b)(o)).h),s=n.i(i.a)(e.c,o.c),u=n.i(i.a)(e.l,o.l),l=n.i(i.a)(e.opacity,o.opacity);return function(t){return e.h=a(t),e.c=s(t),e.l=u(t),e.opacity=l(t),e+""}}}e.a=o(i.b);var a=o(i.a)},function(t,e,n){"use strict";n.d(e,"b",(function(){return a}));var r=n(12),i=n(41);function o(t){return function(e,o){var a=t((e=n.i(r.d)(e)).h,(o=n.i(r.d)(o)).h),s=n.i(i.a)(e.s,o.s),u=n.i(i.a)(e.l,o.l),l=n.i(i.a)(e.opacity,o.opacity);return function(t){return e.h=a(t),e.s=s(t),e.l=u(t),e.opacity=l(t),e+""}}}e.a=o(i.b);var a=o(i.a)},function(t,e,n){"use strict";e.a=function(t,e){var o=n.i(i.a)((t=n.i(r.c)(t)).l,(e=n.i(r.c)(e)).l),a=n.i(i.a)(t.a,e.a),s=n.i(i.a)(t.b,e.b),u=n.i(i.a)(t.opacity,e.opacity);return function(e){return t.l=o(e),t.a=a(e),t.b=s(e),t.opacity=u(e),t+""}};var r=n(12),i=n(41)},function(t,e,n){"use strict";e.a=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}},function(t,e,n){"use strict";e.a=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=180/Math.PI,i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};e.b=function(t,e,n,i,o,a){var s,u,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,l/=u),t*i<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(e,t)*r,skewX:Math.atan(l)*r,scaleX:s,scaleY:u}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s}));var r=n(59),i=n(462);function o(t,e,i,o){function a(t){return t.length?t.pop()+" ":""}return function(s,u){var l=[],c=[];return s=t(s),u=t(u),function(t,o,a,s,u,l){if(t!==a||o!==s){var c=u.push("translate(",null,e,null,i);l.push({i:c-4,x:n.i(r.a)(t,a)},{i:c-2,x:n.i(r.a)(o,s)})}else(a||s)&&u.push("translate("+a+e+s+i)}(s.translateX,s.translateY,u.translateX,u.translateY,l,c),function(t,e,i,s){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),s.push({i:i.push(a(i)+"rotate(",null,o)-2,x:n.i(r.a)(t,e)})):e&&i.push(a(i)+"rotate("+e+o)}(s.rotate,u.rotate,l,c),function(t,e,i,s){t!==e?s.push({i:i.push(a(i)+"skewX(",null,o)-2,x:n.i(r.a)(t,e)}):e&&i.push(a(i)+"skewX("+e+o)}(s.skewX,u.skewX,l,c),function(t,e,i,o,s,u){if(t!==i||e!==o){var l=s.push(a(s)+"scale(",null,",",null,")");u.push({i:l-4,x:n.i(r.a)(t,i)},{i:l-2,x:n.i(r.a)(e,o)})}else 1===i&&1===o||s.push(a(s)+"scale("+i+","+o+")")}(s.scaleX,s.scaleY,u.scaleX,u.scaleY,l,c),s=u=null,function(t){for(var e,n=-1,r=c.length;++n<r;)l[(e=c[n]).i]=e.x(t);return l.join("")}}}var a=o(i.a,"px, ","px)","deg)"),s=o(i.b,", ",")",")")},function(t,e,n){"use strict";e.a=function(t){return"none"===t?s.a:(r||(r=document.createElement("DIV"),i=document.documentElement,o=document.defaultView),r.style.transform=t,t=o.getComputedStyle(i.appendChild(r),null).getPropertyValue("transform"),i.removeChild(r),t=t.slice(7,-1).split(","),n.i(s.b)(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},e.b=function(t){return null==t?s.a:(a||(a=document.createElementNS("http://www.w3.org/2000/svg","g")),a.setAttribute("transform",t),(t=a.transform.baseVal.consolidate())?(t=t.matrix,n.i(s.b)(t.a,t.b,t.c,t.d,t.e,t.f)):s.a)};var r,i,o,a,s=n(460)},function(t,e,n){"use strict";var r=Math.SQRT2;function i(t){return((t=Math.exp(t))+1/t)/2}e.a=function(t,e){var n,o,a=t[0],s=t[1],u=t[2],l=e[0],c=e[1],h=e[2],f=l-a,p=c-s,d=f*f+p*p;if(d<1e-12)o=Math.log(h/u)/r,n=function(t){return[a+t*f,s+t*p,u*Math.exp(r*t*o)]};else{var v=Math.sqrt(d),g=(h*h-u*u+4*d)/(2*u*2*v),y=(h*h-u*u-4*d)/(2*h*2*v),m=Math.log(Math.sqrt(g*g+1)-g),_=Math.log(Math.sqrt(y*y+1)-y);o=(_-m)/r,n=function(t){var e,n=t*o,l=i(m),c=u/(2*v)*(l*(e=r*n+m,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[a+c*f,s+c*p,u*l/i(r*n+m)]}}return n.duration=1e3*o,n}},function(t,e,n){"use strict";var r=n(12),i=n(32);function o(t){return function e(o){function a(e,a){var s=t((e=n.i(r.a)(e)).h,(a=n.i(r.a)(a)).h),u=n.i(i.a)(e.s,a.s),l=n.i(i.a)(e.l,a.l),c=n.i(i.a)(e.opacity,a.opacity);return function(t){return e.h=s(t),e.s=u(t),e.l=l(Math.pow(t,o)),e.opacity=c(t),e+""}}return o=+o,a.gamma=e,a}(1)}o(i.b),o(i.a)},function(t,e,n){},function(t,e,n){"use strict";var r=n(12),i=n(32);function o(t){return function(e,o){var a=t((e=n.i(r.b)(e)).h,(o=n.i(r.b)(o)).h),s=n.i(i.a)(e.c,o.c),u=n.i(i.a)(e.l,o.l),l=n.i(i.a)(e.opacity,o.opacity);return function(t){return e.h=a(t),e.c=s(t),e.l=u(t),e.opacity=l(t),e+""}}}o(i.b),o(i.a)},function(t,e,n){"use strict";var r=n(12),i=n(32);function o(t){return function(e,o){var a=t((e=n.i(r.d)(e)).h,(o=n.i(r.d)(o)).h),s=n.i(i.a)(e.s,o.s),u=n.i(i.a)(e.l,o.l),l=n.i(i.a)(e.opacity,o.opacity);return function(t){return e.h=a(t),e.s=s(t),e.l=u(t),e.opacity=l(t),e+""}}}o(i.b),o(i.a)},function(t,e,n){"use strict";n(32)},function(t,e,n){"use strict";n(12),n(32)},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=180/Math.PI,i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};e.b=function(t,e,n,i,o,a){var s,u,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,l/=u),t*i<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(e,t)*r,skewX:Math.atan(l)*r,scaleX:s,scaleY:u}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s}));var r=n(60),i=n(475);function o(t,e,i,o){function a(t){return t.length?t.pop()+" ":""}return function(s,u){var l=[],c=[];return s=t(s),u=t(u),function(t,o,a,s,u,l){if(t!==a||o!==s){var c=u.push("translate(",null,e,null,i);l.push({i:c-4,x:n.i(r.a)(t,a)},{i:c-2,x:n.i(r.a)(o,s)})}else(a||s)&&u.push("translate("+a+e+s+i)}(s.translateX,s.translateY,u.translateX,u.translateY,l,c),function(t,e,i,s){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),s.push({i:i.push(a(i)+"rotate(",null,o)-2,x:n.i(r.a)(t,e)})):e&&i.push(a(i)+"rotate("+e+o)}(s.rotate,u.rotate,l,c),function(t,e,i,s){t!==e?s.push({i:i.push(a(i)+"skewX(",null,o)-2,x:n.i(r.a)(t,e)}):e&&i.push(a(i)+"skewX("+e+o)}(s.skewX,u.skewX,l,c),function(t,e,i,o,s,u){if(t!==i||e!==o){var l=s.push(a(s)+"scale(",null,",",null,")");u.push({i:l-4,x:n.i(r.a)(t,i)},{i:l-2,x:n.i(r.a)(e,o)})}else 1===i&&1===o||s.push(a(s)+"scale("+i+","+o+")")}(s.scaleX,s.scaleY,u.scaleX,u.scaleY,l,c),s=u=null,function(t){for(var e,n=-1,r=c.length;++n<r;)l[(e=c[n]).i]=e.x(t);return l.join("")}}}var a=o(i.a,"px, ","px)","deg)"),s=o(i.b,", ",")",")")},function(t,e,n){"use strict";e.a=function(t){return"none"===t?s.a:(r||(r=document.createElement("DIV"),i=document.documentElement,o=document.defaultView),r.style.transform=t,t=o.getComputedStyle(i.appendChild(r),null).getPropertyValue("transform"),i.removeChild(r),t=t.slice(7,-1).split(","),n.i(s.b)(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},e.b=function(t){return null==t?s.a:(a||(a=document.createElementNS("http://www.w3.org/2000/svg","g")),a.setAttribute("transform",t),(t=a.transform.baseVal.consolidate())?(t=t.matrix,n.i(s.b)(t.a,t.b,t.c,t.d,t.e,t.f)):s.a)};var r,i,o,a,s=n(473)},function(t,e,n){"use strict";Math.SQRT2},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(61),i=n(215);e.a=function(t){return n.i(i.a)(n.i(r.a)(t).call(document.documentElement))}},function(t,e,n){"use strict";e.a=i;var r=0;function i(){return new o}function o(){this._="@"+(++r).toString(36)}o.prototype=i.prototype={constructor:o,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}}},function(t,e,n){"use strict";var r=n(101),i=n(62);e.a=function(t){var e=n.i(r.a)();return e.changedTouches&&(e=e.changedTouches[0]),n.i(i.a)(t,e)}},function(t,e,n){"use strict";var r=n(18);e.a=function(t){return"string"===typeof t?new r.b([document.querySelectorAll(t)],[document.documentElement]):new r.b([null==t?[]:t],r.c)}},function(t,e,n){"use strict";var r=n(61);e.a=function(t){var e="function"===typeof t?t:n.i(r.a)(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))}},function(t,e,n){"use strict";var r=n(97);function i(t){return function(){this.removeAttribute(t)}}function o(t){return function(){this.removeAttributeNS(t.space,t.local)}}function a(t,e){return function(){this.setAttribute(t,e)}}function s(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function u(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function l(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}e.a=function(t,e){var c=n.i(r.a)(t);if(arguments.length<2){var h=this.node();return c.local?h.getAttributeNS(c.space,c.local):h.getAttribute(c)}return this.each((null==e?c.local?o:i:"function"===typeof e?c.local?l:u:c.local?s:a)(c,e))}},function(t,e,n){"use strict";e.a=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}},function(t,e,n){"use strict";function r(t){return t.trim().split(/^|\s+/)}function i(t){return t.classList||new o(t)}function o(t){this._node=t,this._names=r(t.getAttribute("class")||"")}function a(t,e){for(var n=i(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function s(t,e){for(var n=i(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function u(t){return function(){a(this,t)}}function l(t){return function(){s(this,t)}}function c(t,e){return function(){(e.apply(this,arguments)?a:s)(this,t)}}o.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}},e.a=function(t,e){var n=r(t+"");if(arguments.length<2){for(var o=i(this.node()),a=-1,s=n.length;++a<s;)if(!o.contains(n[a]))return!1;return!0}return this.each(("function"===typeof e?c:e?u:l)(n,e))}},function(t,e,n){"use strict";function r(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function i(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}e.a=function(t){return this.select(t?i:r)}},function(t,e,n){"use strict";var r=n(18),i=n(216),o=n(477);function a(t,e,n,r,o,a){for(var s,u=0,l=e.length,c=a.length;u<c;++u)(s=e[u])?(s.__data__=a[u],r[u]=s):n[u]=new i.b(t,a[u]);for(;u<l;++u)(s=e[u])&&(o[u]=s)}function s(t,e,n,r,o,a,s){var u,l,c,h={},f=e.length,p=a.length,d=new Array(f);for(u=0;u<f;++u)(l=e[u])&&(d[u]=c="$"+s.call(l,l.__data__,u,e),c in h?o[u]=l:h[c]=l);for(u=0;u<p;++u)(l=h[c="$"+s.call(t,a[u],u,a)])?(r[u]=l,l.__data__=a[u],h[c]=null):n[u]=new i.b(t,a[u]);for(u=0;u<f;++u)(l=e[u])&&h[d[u]]===l&&(o[u]=l)}e.a=function(t,e){if(!t)return m=new Array(this.size()),d=-1,this.each((function(t){m[++d]=t})),m;var i=e?s:a,u=this._parents,l=this._groups;"function"!==typeof t&&(t=n.i(o.a)(t));for(var c=l.length,h=new Array(c),f=new Array(c),p=new Array(c),d=0;d<c;++d){var v=u[d],g=l[d],y=g.length,m=t.call(v,v&&v.__data__,d,u),_=m.length,b=f[d]=new Array(_),w=h[d]=new Array(_);i(v,g,b,w,p[d]=new Array(y),m,e);for(var x,E,S=0,C=0;S<_;++S)if(x=b[S]){for(S>=C&&(C=S+1);!(E=w[C])&&++C<_;);x._next=E||null}}return(h=new r.b(h,u))._enter=f,h._exit=p,h}},function(t,e,n){"use strict";e.a=function(t){return arguments.length?this.property("__data__",t):this.node().__data__}},function(t,e,n){"use strict";var r=n(102);function i(t,e,i){var o=n.i(r.a)(t),a=o.CustomEvent;"function"===typeof a?a=new a(e,i):(a=o.document.createEvent("Event"),i?(a.initEvent(e,i.bubbles,i.cancelable),a.detail=i.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function o(t,e){return function(){return i(this,t,e)}}function a(t,e){return function(){return i(this,t,e.apply(this,arguments))}}e.a=function(t,e){return this.each(("function"===typeof e?a:o)(t,e))}},function(t,e,n){"use strict";e.a=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this}},function(t,e,n){"use strict";e.a=function(){return!this.node()}},function(t,e,n){"use strict";var r=n(217),i=n(18);e.a=function(){return new i.b(this._exit||this._groups.map(r.a),this._parents)}},function(t,e,n){"use strict";var r=n(18),i=n(214);e.a=function(t){"function"!==typeof t&&(t=n.i(i.a)(t));for(var e=this._groups,o=e.length,a=new Array(o),s=0;s<o;++s)for(var u,l=e[s],c=l.length,h=a[s]=[],f=0;f<c;++f)(u=l[f])&&t.call(u,u.__data__,f,l)&&h.push(u);return new r.b(a,this._parents)}},function(t,e,n){"use strict";function r(){this.innerHTML=""}function i(t){return function(){this.innerHTML=t}}function o(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}e.a=function(t){return arguments.length?this.each(null==t?r:("function"===typeof t?o:i)(t)):this.node().innerHTML}},function(t,e,n){"use strict";var r=n(61),i=n(100);function o(){return null}e.a=function(t,e){var a="function"===typeof t?t:n.i(r.a)(t),s=null==e?o:"function"===typeof e?e:n.i(i.a)(e);return this.select((function(){return this.insertBefore(a.apply(this,arguments),s.apply(this,arguments)||null)}))}},function(t,e,n){"use strict";e.a=function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"===typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i}},function(t,e,n){"use strict";function r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";var r=n(18);e.a=function(t){for(var e=this._groups,n=t._groups,i=e.length,o=n.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var l,c=e[u],h=n[u],f=c.length,p=s[u]=new Array(f),d=0;d<f;++d)(l=c[d]||h[d])&&(p[d]=l);for(;u<i;++u)s[u]=e[u];return new r.b(s,this._parents)}},function(t,e,n){"use strict";e.a=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}},function(t,e,n){"use strict";e.a=function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t}},function(t,e,n){"use strict";e.a=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this}},function(t,e,n){"use strict";function r(t){return function(){delete this[t]}}function i(t,e){return function(){this[t]=e}}function o(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}e.a=function(t,e){return arguments.length>1?this.each((null==e?r:"function"===typeof e?o:i)(t,e)):this.node()[t]}},function(t,e,n){"use strict";function r(){this.nextSibling&&this.parentNode.appendChild(this)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";function r(){var t=this.parentNode;t&&t.removeChild(this)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";var r=n(18),i=n(100);e.a=function(t){"function"!==typeof t&&(t=n.i(i.a)(t));for(var e=this._groups,o=e.length,a=new Array(o),s=0;s<o;++s)for(var u,l,c=e[s],h=c.length,f=a[s]=new Array(h),p=0;p<h;++p)(u=c[p])&&(l=t.call(u,u.__data__,p,c))&&("__data__"in u&&(l.__data__=u.__data__),f[p]=l);return new r.b(a,this._parents)}},function(t,e,n){"use strict";var r=n(18),i=n(219);e.a=function(t){"function"!==typeof t&&(t=n.i(i.a)(t));for(var e=this._groups,o=e.length,a=[],s=[],u=0;u<o;++u)for(var l,c=e[u],h=c.length,f=0;f<h;++f)(l=c[f])&&(a.push(t.call(l,l.__data__,f,c)),s.push(l));return new r.b(a,s)}},function(t,e,n){"use strict";e.a=function(){var t=0;return this.each((function(){++t})),t}},function(t,e,n){"use strict";var r=n(18);function i(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}e.a=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=i);for(var n=this._groups,o=n.length,a=new Array(o),s=0;s<o;++s){for(var u,l=n[s],c=l.length,h=a[s]=new Array(c),f=0;f<c;++f)(u=l[f])&&(h[f]=u);h.sort(e)}return new r.b(a,this._parents).order()}},function(t,e,n){"use strict";function r(){this.textContent=""}function i(t){return function(){this.textContent=t}}function o(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}e.a=function(t){return arguments.length?this.each(null==t?r:("function"===typeof t?o:i)(t)):this.node().textContent}},function(t,e,n){"use strict";var r=n(101),i=n(62);e.a=function(t,e,o){arguments.length<3&&(o=e,e=n.i(r.a)().changedTouches);for(var a,s=0,u=e?e.length:0;s<u;++s)if((a=e[s]).identifier===o)return n.i(i.a)(t,a);return null}},function(t,e,n){"use strict";var r=n(101),i=n(62);e.a=function(t,e){null==e&&(e=n.i(r.a)().touches);for(var o=0,a=e?e.length:0,s=new Array(a);o<a;++o)s[o]=n.i(i.a)(t,e[o]);return s}},function(t,e,n){"use strict";var r=n(104);e.a=function(t,e,i){var o=new r.d,a=e;return null==e?(o.restart(t,e,i),o):(e=+e,i=null==i?n.i(r.a)():+i,o.restart((function n(r){r+=a,o.restart(n,a+=e,i),t(r)}),e,i),o)}},function(t,e,n){"use strict";var r=n(104);e.a=function(t,e,n){var i=new r.d;return e=null==e?0:+e,i.restart((function(n){i.stop(),t(n+e)}),e,n),i}},function(t,e,n){"use strict";var r=n(27),i=n(13),o=[null];e.a=function(t,e){var n,a,s=t.__transition;if(s)for(a in e=null==e?null:e+"",s)if((n=s[a]).state>i.d&&n.name===e)return new r.b([[t]],o,e,+a);return null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(516);var r=n(27);n.d(e,"transition",(function(){return r.a}));var i=n(514);n.d(e,"active",(function(){return i.a}));var o=n(220);n.d(e,"interrupt",(function(){return o.a}))},function(t,e,n){"use strict";var r=n(22),i=n(517),o=n(518);r.selection.prototype.interrupt=i.a,r.selection.prototype.transition=o.a},function(t,e,n){"use strict";var r=n(220);e.a=function(t){return this.each((function(){n.i(r.a)(this,t)}))}},function(t,e,n){"use strict";var r=n(27),i=n(13),o=n(199),a=n(103),s={time:null,delay:0,duration:250,ease:o.easeCubicInOut};function u(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))return s.time=n.i(a.now)(),s;return r}e.a=function(t){var e,o;t instanceof r.b?(e=t._id,t=t._name):(e=n.i(r.c)(),(o=s).time=n.i(a.now)(),t=null==t?null:t+"");for(var l=this._groups,c=l.length,h=0;h<c;++h)for(var f,p=l[h],d=p.length,v=0;v<d;++v)(f=p[v])&&n.i(i.h)(f,t,e,v,p,o||u(f,e));return new r.b(l,this._parents,t,e)}},function(t,e,n){"use strict";var r=n(94),i=n(22),o=n(63),a=n(221);function s(t){return function(){this.removeAttribute(t)}}function u(t){return function(){this.removeAttributeNS(t.space,t.local)}}function l(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function c(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function h(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttribute(t)}}function f(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}e.a=function(t,e){var p=n.i(i.namespace)(t),d="transform"===p?r.e:a.a;return this.attrTween(t,"function"===typeof e?(p.local?f:h)(p,d,n.i(o.b)(this,"attr."+t,e)):null==e?(p.local?u:s)(p):(p.local?c:l)(p,d,e))}},function(t,e,n){"use strict";var r=n(22);function i(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function o(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function a(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&o(t,i)),n}return i._value=e,i}function s(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&i(t,o)),n}return o._value=e,o}e.a=function(t,e){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!==typeof e)throw new Error;var o=n.i(r.namespace)(t);return this.tween(i,(o.local?a:s)(o,e))}},function(t,e,n){"use strict";var r=n(13);function i(t,e){return function(){n.i(r.g)(this,t).delay=+e.apply(this,arguments)}}function o(t,e){return e=+e,function(){n.i(r.g)(this,t).delay=e}}e.a=function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?i:o)(e,t)):n.i(r.f)(this.node(),e).delay}},function(t,e,n){"use strict";var r=n(13);function i(t,e){return function(){n.i(r.e)(this,t).duration=+e.apply(this,arguments)}}function o(t,e){return e=+e,function(){n.i(r.e)(this,t).duration=e}}e.a=function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?i:o)(e,t)):n.i(r.f)(this.node(),e).duration}},function(t,e,n){"use strict";var r=n(13);function i(t,e){if("function"!==typeof e)throw new Error;return function(){n.i(r.e)(this,t).ease=e}}e.a=function(t){var e=this._id;return arguments.length?this.each(i(e,t)):n.i(r.f)(this.node(),e).ease}},function(t,e,n){"use strict";var r=n(13);e.a=function(){var t,e,i=this,o=i._id,a=i.size();return new Promise((function(s,u){var l={value:u},c={value:function(){0===--a&&s()}};i.each((function(){var i=n.i(r.e)(this,o),a=i.on;a!==t&&((e=(t=a).copy())._.cancel.push(l),e._.interrupt.push(l),e._.end.push(c)),i.on=e}))}))}},function(t,e,n){"use strict";var r=n(22),i=n(27);e.a=function(t){"function"!==typeof t&&(t=n.i(r.matcher)(t));for(var e=this._groups,o=e.length,a=new Array(o),s=0;s<o;++s)for(var u,l=e[s],c=l.length,h=a[s]=[],f=0;f<c;++f)(u=l[f])&&t.call(u,u.__data__,f,l)&&h.push(u);return new i.b(a,this._parents,this._name,this._id)}},function(t,e,n){"use strict";var r=n(27);e.a=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var l,c=e[u],h=n[u],f=c.length,p=s[u]=new Array(f),d=0;d<f;++d)(l=c[d]||h[d])&&(p[d]=l);for(;u<i;++u)s[u]=e[u];return new r.b(s,this._parents,this._name,this._id)}},function(t,e,n){"use strict";var r=n(13);function i(t,e,n){var i,o,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?r.g:r.e;return function(){var r=a(this,t),s=r.on;s!==i&&(o=(i=s).copy()).on(e,n),r.on=o}}e.a=function(t,e){var o=this._id;return arguments.length<2?n.i(r.f)(this.node(),o).on.on(t):this.each(i(o,t,e))}},function(t,e,n){"use strict";e.a=function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t}},function(t,e,n){"use strict";var r=n(22),i=n(27),o=n(13);e.a=function(t){var e=this._name,a=this._id;"function"!==typeof t&&(t=n.i(r.selector)(t));for(var s=this._groups,u=s.length,l=new Array(u),c=0;c<u;++c)for(var h,f,p=s[c],d=p.length,v=l[c]=new Array(d),g=0;g<d;++g)(h=p[g])&&(f=t.call(h,h.__data__,g,p))&&("__data__"in h&&(f.__data__=h.__data__),v[g]=f,n.i(o.h)(v[g],e,a,g,v,n.i(o.f)(h,a)));return new i.b(l,this._parents,e,a)}},function(t,e,n){"use strict";var r=n(22),i=n(27),o=n(13);e.a=function(t){var e=this._name,a=this._id;"function"!==typeof t&&(t=n.i(r.selectorAll)(t));for(var s=this._groups,u=s.length,l=[],c=[],h=0;h<u;++h)for(var f,p=s[h],d=p.length,v=0;v<d;++v)if(f=p[v]){for(var g,y=t.call(f,f.__data__,v,p),m=n.i(o.f)(f,a),_=0,b=y.length;_<b;++_)(g=y[_])&&n.i(o.h)(g,e,a,_,y,m);l.push(y),c.push(f)}return new i.b(l,c,e,a)}},function(t,e,n){"use strict";var r=n(22).selection.prototype.constructor;e.a=function(){return new r(this._groups,this._parents)}},function(t,e,n){"use strict";var r=n(94),i=n(22),o=n(13),a=n(63),s=n(221);function u(t){return function(){this.style.removeProperty(t)}}e.a=function(t,e,l){var c="transform"===(t+="")?r.a:s.a;return null==e?this.styleTween(t,function(t,e){var r,o,a;return function(){var s=n.i(i.style)(this,t),u=(this.style.removeProperty(t),n.i(i.style)(this,t));return s===u?null:s===r&&u===o?a:a=e(r=s,o=u)}}(t,c)).on("end.style."+t,u(t)):"function"===typeof e?this.styleTween(t,function(t,e,r){var o,a,s;return function(){var u=n.i(i.style)(this,t),l=r(this),c=l+"";return null==l&&(this.style.removeProperty(t),c=l=n.i(i.style)(this,t)),u===c?null:u===o&&c===a?s:(a=c,s=e(o=u,l))}}(t,c,n.i(a.b)(this,"style."+t,e))).each(function(t,e){var r,i,a,s,l="style."+e,c="end."+l;return function(){var h=n.i(o.e)(this,t),f=h.on,p=null==h.value[l]?s||(s=u(e)):void 0;f===r&&a===p||(i=(r=f).copy()).on(c,a=p),h.on=i}}(this._id,t)):this.styleTween(t,function(t,e,r){var o,a,s=r+"";return function(){var u=n.i(i.style)(this,t);return u===s?null:u===o?a:a=e(o=u,r)}}(t,c,e),l).on("end.style."+t,null)}},function(t,e,n){"use strict";function r(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function i(t,e,n){var i,o;function a(){var a=e.apply(this,arguments);return a!==o&&(i=(o=a)&&r(t,a,n)),i}return a._value=e,a}e.a=function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!==typeof e)throw new Error;return this.tween(r,i(t,e,null==n?"":n))}},function(t,e,n){"use strict";var r=n(63);e.a=function(t){return this.tween("text","function"===typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(n.i(r.b)(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))}},function(t,e,n){"use strict";function r(t){return function(e){this.textContent=t.call(this,e)}}function i(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&r(i)),e}return i._value=t,i}e.a=function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!==typeof t)throw new Error;return this.tween(e,i(t))}},function(t,e,n){"use strict";var r=n(27),i=n(13);e.a=function(){for(var t=this._name,e=this._id,o=n.i(r.c)(),a=this._groups,s=a.length,u=0;u<s;++u)for(var l,c=a[u],h=c.length,f=0;f<h;++f)if(l=c[f]){var p=n.i(i.f)(l,e);n.i(i.h)(l,t,o,f,c,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new r.b(a,this._parents,t,o)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i,o,a,s){if(void 0===e)throw new Error("invariant requires an error message argument");if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;(u=new Error(e.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,e,n){(function(e){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,l=s||u||Function("return this")(),c=Object.prototype.toString,h=Math.max,f=Math.min,p=function(){return l.Date.now()};function d(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function v(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==c.call(t)}(t))return NaN;if(d(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=d(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var s=i.test(t);return s||o.test(t)?a(t.slice(2),s?2:8):r.test(t)?NaN:+t}t.exports=function(t,e,n){var r,i,o,a,s,u,l=0,c=!1,g=!1,y=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function m(e){var n=r,o=i;return r=i=void 0,l=e,a=t.apply(o,n)}function _(t){return l=t,s=setTimeout(w,e),c?m(t):a}function b(t){var n=t-u;return void 0===u||n>=e||n<0||g&&t-l>=o}function w(){var t=p();if(b(t))return x(t);s=setTimeout(w,function(t){var n=e-(t-u);return g?f(n,o-(t-l)):n}(t))}function x(t){return s=void 0,y&&r?m(t):(r=i=void 0,a)}function E(){var t=p(),n=b(t);if(r=arguments,i=this,u=t,n){if(void 0===s)return _(u);if(g)return s=setTimeout(w,e),m(u)}return void 0===s&&(s=setTimeout(w,e)),a}return e=v(e)||0,d(n)&&(c=!!n.leading,o=(g="maxWait"in n)?h(v(n.maxWait)||0,e):o,y="trailing"in n?!!n.trailing:y),E.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=u=i=s=void 0},E.flush=function(){return void 0===s?a:x(p())},E}}).call(e,n(225))},function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,s,u=a(t),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(t,e,n){"use strict";var r=function(){},i=n(223),o={},a=Function.call.bind(Object.prototype.hasOwnProperty);function s(t,e,n,s,u){for(var l in t)if(a(t,l)){var c;try{if("function"!==typeof t[l]){var h=Error((s||"React class")+": "+n+" type `"+l+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof t[l]+"`.");throw h.name="Invariant Violation",h}c=t[l](e,l,s,n,null,i)}catch(p){c=p}if(!c||c instanceof Error||r((s||"React class")+": type specification of "+n+" `"+l+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof c+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),c instanceof Error&&!(c.message in o)){o[c.message]=!0;var f=u?u():"";r("Failed "+n+" type: "+c.message+(null!=f?f:""))}}}r=function(t){var e="Warning: "+t;"undefined"!==typeof console&&console.error(e);try{throw new Error(e)}catch(n){}},s.resetWarningCache=function(){o={}},t.exports=s},function(t,e,n){"use strict";var r=n(224),i=n(539),o=n(223),a=n(540),s=Function.call.bind(Object.prototype.hasOwnProperty),u=function(){};function l(){return null}u=function(t){var e="Warning: "+t;"undefined"!==typeof console&&console.error(e);try{throw new Error(e)}catch(n){}},t.exports=function(t,e){var n="function"===typeof Symbol&&Symbol.iterator,c={array:d("array"),bool:d("boolean"),func:d("function"),number:d("number"),object:d("object"),string:d("string"),symbol:d("symbol"),any:p(l),arrayOf:function(t){return p((function(e,n,r,i,a){if("function"!==typeof t)return new f("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=e[n];if(!Array.isArray(s))return new f("Invalid "+i+" `"+a+"` of type `"+g(s)+"` supplied to `"+r+"`, expected an array.");for(var u=0;u<s.length;u++){var l=t(s,u,r,i,a+"["+u+"]",o);if(l instanceof Error)return l}return null}))},element:p((function(e,n,r,i,o){var a=e[n];return t(a)?null:new f("Invalid "+i+" `"+o+"` of type `"+g(a)+"` supplied to `"+r+"`, expected a single ReactElement.")})),elementType:p((function(t,e,n,i,o){var a=t[e];return r.isValidElementType(a)?null:new f("Invalid "+i+" `"+o+"` of type `"+g(a)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf:function(t){return p((function(e,n,r,i,o){if(!(e[n]instanceof t)){var a=t.name||"<<anonymous>>";return new f("Invalid "+i+" `"+o+"` of type `"+((s=e[n]).constructor&&s.constructor.name?s.constructor.name:"<<anonymous>>")+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}var s;return null}))},node:p((function(t,e,n,r,i){return v(t[e])?null:new f("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(t){return p((function(e,n,r,i,a){if("function"!==typeof t)return new f("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var u=e[n],l=g(u);if("object"!==l)return new f("Invalid "+i+" `"+a+"` of type `"+l+"` supplied to `"+r+"`, expected an object.");for(var c in u)if(s(u,c)){var h=t(u,c,r,i,a+"."+c,o);if(h instanceof Error)return h}return null}))},oneOf:function(t){if(!Array.isArray(t))return arguments.length>1?u("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):u("Invalid argument supplied to oneOf, expected an array."),l;function e(e,n,r,i,o){for(var a=e[n],s=0;s<t.length;s++)if(h(a,t[s]))return null;var u=JSON.stringify(t,(function(t,e){return"symbol"===y(e)?String(e):e}));return new f("Invalid "+i+" `"+o+"` of value `"+String(a)+"` supplied to `"+r+"`, expected one of "+u+".")}return p(e)},oneOfType:function(t){if(!Array.isArray(t))return u("Invalid argument supplied to oneOfType, expected an instance of array."),l;for(var e=0;e<t.length;e++){var n=t[e];if("function"!==typeof n)return u("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+m(n)+" at index "+e+"."),l}return p((function(e,n,r,i,a){for(var s=0;s<t.length;s++)if(null==(0,t[s])(e,n,r,i,a,o))return null;return new f("Invalid "+i+" `"+a+"` supplied to `"+r+"`.")}))},shape:function(t){return p((function(e,n,r,i,a){var s=e[n],u=g(s);if("object"!==u)return new f("Invalid "+i+" `"+a+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var l in t){var c=t[l];if(c){var h=c(s,l,r,i,a+"."+l,o);if(h)return h}}return null}))},exact:function(t){return p((function(e,n,r,a,s){var u=e[n],l=g(u);if("object"!==l)return new f("Invalid "+a+" `"+s+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");var c=i({},e[n],t);for(var h in c){var p=t[h];if(!p)return new f("Invalid "+a+" `"+s+"` key `"+h+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(e[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(t),null,"  "));var d=p(u,h,r,a,s+"."+h,o);if(d)return d}return null}))}};function h(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}function f(t){this.message=t,this.stack=""}function p(t){var n={},r=0;function i(i,a,s,l,c,h,p){if(l=l||"<<anonymous>>",h=h||s,p!==o){if(e){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}if("undefined"!==typeof console){var v=l+":"+s;!n[v]&&r<3&&(u("You are manually calling a React.PropTypes validation function for the `"+h+"` prop on `"+l+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),n[v]=!0,r++)}}return null==a[s]?i?null===a[s]?new f("The "+c+" `"+h+"` is marked as required in `"+l+"`, but its value is `null`."):new f("The "+c+" `"+h+"` is marked as required in `"+l+"`, but its value is `undefined`."):null:t(a,s,l,c,h)}var a=i.bind(null,!1);return a.isRequired=i.bind(null,!0),a}function d(t){return p((function(e,n,r,i,o,a){var s=e[n];return g(s)!==t?new f("Invalid "+i+" `"+o+"` of type `"+y(s)+"` supplied to `"+r+"`, expected `"+t+"`."):null}))}function v(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(v);if(null===e||t(e))return!0;var r=function(t){var e=t&&(n&&t[n]||t["@@iterator"]);if("function"===typeof e)return e}(e);if(!r)return!1;var i,o=r.call(e);if(r!==e.entries){for(;!(i=o.next()).done;)if(!v(i.value))return!1}else for(;!(i=o.next()).done;){var a=i.value;if(a&&!v(a[1]))return!1}return!0;default:return!1}}function g(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":function(t,e){return"symbol"===t||!!e&&("Symbol"===e["@@toStringTag"]||"function"===typeof Symbol&&e instanceof Symbol)}(e,t)?"symbol":e}function y(t){if("undefined"===typeof t||null===t)return""+t;var e=g(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function m(t){var e=y(t);switch(e){case"array":case"object":return"an "+e;case"boolean":case"date":case"regexp":return"a "+e;default:return e}}return f.prototype=Error.prototype,c.checkPropTypes=a,c.resetWarningCache=a.resetWarningCache,c.PropTypes=c,c}},function(t,e,n){"use strict";!function(){var t="function"===typeof Symbol&&Symbol.for,n=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,o=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,u=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,c=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,d=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,g=t?Symbol.for("react.block"):60121,y=t?Symbol.for("react.fundamental"):60117,m=t?Symbol.for("react.responder"):60118,_=t?Symbol.for("react.scope"):60119;function b(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case n:var p=t.type;switch(p){case l:case c:case i:case a:case o:case f:return p;default:var g=p&&p.$$typeof;switch(g){case u:case h:case v:case d:case s:return g;default:return e}}case r:return e}}}var w=l,x=c,E=u,S=s,C=n,k=h,T=i,I=v,A=d,M=r,P=a,O=o,N=f,D=!1;function R(t){return b(t)===c}e.AsyncMode=w,e.ConcurrentMode=x,e.ContextConsumer=E,e.ContextProvider=S,e.Element=C,e.ForwardRef=k,e.Fragment=T,e.Lazy=I,e.Memo=A,e.Portal=M,e.Profiler=P,e.StrictMode=O,e.Suspense=N,e.isAsyncMode=function(t){return D||(D=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),R(t)||b(t)===l},e.isConcurrentMode=R,e.isContextConsumer=function(t){return b(t)===u},e.isContextProvider=function(t){return b(t)===s},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===n},e.isForwardRef=function(t){return b(t)===h},e.isFragment=function(t){return b(t)===i},e.isLazy=function(t){return b(t)===v},e.isMemo=function(t){return b(t)===d},e.isPortal=function(t){return b(t)===r},e.isProfiler=function(t){return b(t)===a},e.isStrictMode=function(t){return b(t)===o},e.isSuspense=function(t){return b(t)===f},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===i||t===c||t===a||t===o||t===f||t===p||"object"===typeof t&&null!==t&&(t.$$typeof===v||t.$$typeof===d||t.$$typeof===s||t.$$typeof===u||t.$$typeof===h||t.$$typeof===y||t.$$typeof===m||t.$$typeof===_||t.$$typeof===g)},e.typeOf=b}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var n=function(){if("undefined"!==typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return(function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}())}(),r="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,i="undefined"!==typeof t&&t.Math===Math?t:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),o="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)},a=["top","right","bottom","left","width","height","size","weight"],s="undefined"!==typeof MutationObserver,u=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function a(){n&&(n=!1,t()),r&&u()}function s(){o(a)}function u(){var t=Date.now();if(n){if(t-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=t}return u}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;a.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),l=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},c=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||i},h=y(0,0,0,0);function f(t){return parseFloat(t)||0}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+f(t["border-"+n+"-width"])}),0)}function d(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return h;var r=c(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=t["padding-"+i];e[i]=f(o)}return e}(r),o=i.left+i.right,a=i.top+i.bottom,s=f(r.width),u=f(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==e&&(s-=p(r,"left","right")+o),Math.round(u+a)!==n&&(u-=p(r,"top","bottom")+a)),!function(t){return t===c(t).document.documentElement}(t)){var l=Math.round(s+o)-e,d=Math.round(u+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(d)&&(u-=d)}return y(i.left,i.top,s,u)}var v="undefined"!==typeof SVGGraphicsElement?function(t){return t instanceof c(t).SVGGraphicsElement}:function(t){return t instanceof c(t).SVGElement&&"function"===typeof t.getBBox};function g(t){return r?v(t)?function(t){var e=t.getBBox();return y(0,0,e.width,e.height)}(t):d(t):h}function y(t,e,n,r){return{x:t,y:e,width:n,height:r}}var m=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=g(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),_=function(t,e){var n=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return l(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}(e);l(this,{target:t,contentRect:n})},b=function(){function t(t,e,r){if(this.activeObservations_=[],this.observations_=new n,"function"!==typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=r}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof c(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new m(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof c(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new _(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),w="undefined"!==typeof WeakMap?new WeakMap:new n,x=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=u.getInstance(),r=new b(e,n,this);w.set(this,r)};["observe","unobserve","disconnect"].forEach((function(t){x.prototype[t]=function(){var e;return(e=w.get(this))[t].apply(e,arguments)}}));var E="undefined"!==typeof i.ResizeObserver?i.ResizeObserver:x;e.default=E}.call(e,n(225))},function(t,e,n){!function(t,e,n){"use strict";function r(t,e){var n,r=function(t){for(var e=[],n=0;n<t.length;++n)for(var r=n+1;r<t.length;++r)for(var i=s(t[n],t[r]),o=0;o<i.length;++o){var a=i[o];a.parentIndex=[n,r],e.push(a)}return e}(t),a=r.filter((function(e){return function(t,e){for(var n=0;n<e.length;++n)if(o(t,e[n])>e[n].radius+1e-10)return!1;return!0}(e,t)})),l=0,c=0,h=[];if(a.length>1){var f=u(a);for(n=0;n<a.length;++n){var p=a[n];p.angle=Math.atan2(p.x-f.x,p.y-f.y)}a.sort((function(t,e){return e.angle-t.angle}));var d=a[a.length-1];for(n=0;n<a.length;++n){var v=a[n];c+=(d.x+v.x)*(v.y-d.y);for(var g={x:(v.x+d.x)/2,y:(v.y+d.y)/2},y=null,m=0;m<v.parentIndex.length;++m)if(d.parentIndex.indexOf(v.parentIndex[m])>-1){var _=t[v.parentIndex[m]],b=Math.atan2(v.x-_.x,v.y-_.y),w=Math.atan2(d.x-_.x,d.y-_.y),x=w-b;x<0&&(x+=2*Math.PI);var E=w-x/2,S=o(g,{x:_.x+_.radius*Math.sin(E),y:_.y+_.radius*Math.cos(E)});S>2*_.radius&&(S=2*_.radius),(null===y||y.width>S)&&(y={circle:_,width:S,p1:v,p2:d})}null!==y&&(h.push(y),l+=i(y.circle.radius,y.width),d=v)}}else{var C=t[0];for(n=1;n<t.length;++n)t[n].radius<C.radius&&(C=t[n]);var k=!1;for(n=0;n<t.length;++n)if(o(t[n],C)>Math.abs(C.radius-t[n].radius)){k=!0;break}k?l=c=0:(l=C.radius*C.radius*Math.PI,h.push({circle:C,p1:{x:C.x,y:C.y+C.radius},p2:{x:C.x-1e-10,y:C.y+C.radius},width:2*C.radius}))}return c/=2,e&&(e.area=l+c,e.arcArea=l,e.polygonArea=c,e.arcs=h,e.innerPoints=a,e.intersectionPoints=r),l+c}function i(t,e){return t*t*Math.acos(1-e/t)-(t-e)*Math.sqrt(e*(2*t-e))}function o(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function a(t,e,n){if(n>=t+e)return 0;if(n<=Math.abs(t-e))return Math.PI*Math.min(t,e)*Math.min(t,e);var r=e-(n*n-t*t+e*e)/(2*n);return i(t,t-(n*n-e*e+t*t)/(2*n))+i(e,r)}function s(t,e){var n=o(t,e),r=t.radius,i=e.radius;if(n>=r+i||n<=Math.abs(r-i))return[];var a=(r*r-i*i+n*n)/(2*n),s=Math.sqrt(r*r-a*a),u=t.x+a*(e.x-t.x)/n,l=t.y+a*(e.y-t.y)/n,c=-(e.y-t.y)*(s/n),h=-(e.x-t.x)*(s/n);return[{x:u+c,y:l-h},{x:u-c,y:l+h}]}function u(t){for(var e={x:0,y:0},n=0;n<t.length;++n)e.x+=t[n].x,e.y+=t[n].y;return e.x/=t.length,e.y/=t.length,e}function l(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=0;return e}function c(t,e){return l(t).map((function(){return l(e)}))}function h(t,e){for(var n=0,r=0;r<t.length;++r)n+=t[r]*e[r];return n}function f(t){return Math.sqrt(h(t,t))}function p(t,e,n){for(var r=0;r<e.length;++r)t[r]=e[r]*n}function d(t,e,n,r,i){for(var o=0;o<t.length;++o)t[o]=e*n[o]+r*i[o]}function v(t,e,n){var r,i=(n=n||{}).maxIterations||200*e.length,o=n.nonZeroDelta||1.05,a=n.zeroDelta||.001,s=n.minErrorDelta||1e-6,u=n.minErrorDelta||1e-5,l=void 0!==n.rho?n.rho:1,c=void 0!==n.chi?n.chi:2,h=void 0!==n.psi?n.psi:-.5,f=void 0!==n.sigma?n.sigma:.5,p=e.length,v=new Array(p+1);v[0]=e,v[0].fx=t(e),v[0].id=0;for(var g=0;g<p;++g){var y=e.slice();y[g]=y[g]?y[g]*o:a,v[g+1]=y,v[g+1].fx=t(y),v[g+1].id=g+1}function m(t){for(var e=0;e<t.length;e++)v[p][e]=t[e];v[p].fx=t.fx}for(var _=function(t,e){return t.fx-e.fx},b=e.slice(),w=e.slice(),x=e.slice(),E=e.slice(),S=0;S<i;++S){if(v.sort(_),n.history){var C=v.map((function(t){var e=t.slice();return e.fx=t.fx,e.id=t.id,e}));C.sort((function(t,e){return t.id-e.id})),n.history.push({x:v[0].slice(),fx:v[0].fx,simplex:C})}for(r=0,g=0;g<p;++g)r=Math.max(r,Math.abs(v[0][g]-v[1][g]));if(Math.abs(v[0].fx-v[p].fx)<s&&r<u)break;for(g=0;g<p;++g){b[g]=0;for(var k=0;k<p;++k)b[g]+=v[k][g];b[g]/=p}var T=v[p];if(d(w,1+l,b,-l,T),w.fx=t(w),w.fx<v[0].fx)d(E,1+c,b,-c,T),E.fx=t(E),E.fx<w.fx?m(E):m(w);else if(w.fx>=v[p-1].fx){var I=!1;if(w.fx>T.fx?(d(x,1+h,b,-h,T),x.fx=t(x),x.fx<T.fx?m(x):I=!0):(d(x,1-h*l,b,h*l,T),x.fx=t(x),x.fx<w.fx?m(x):I=!0),I){if(f>=1)break;for(g=1;g<v.length;++g)d(v[g],1-f,v[0],f,v[g]),v[g].fx=t(v[g])}}else m(w)}return v.sort(_),{fx:v[0].fx,x:v[0]}}function g(t,e,n,r,i,o,a){var s=n.fx,u=h(n.fxprime,e),l=s,c=s,f=u,p=0;function v(c,p,v){for(var g=0;g<16;++g)if(i=(c+p)/2,d(r.x,1,n.x,i,e),l=r.fx=t(r.x,r.fxprime),f=h(r.fxprime,e),l>s+o*i*u||l>=v)p=i;else{if(Math.abs(f)<=-a*u)return i;f*(p-c)>=0&&(p=c),c=i,v=l}return 0}i=i||1,o=o||1e-6,a=a||.1;for(var g=0;g<10;++g){if(d(r.x,1,n.x,i,e),l=r.fx=t(r.x,r.fxprime),f=h(r.fxprime,e),l>s+o*i*u||g&&l>=c)return v(p,i,c);if(Math.abs(f)<=-a*u)return i;if(f>=0)return v(i,p,l);c=l,p=i,i*=2}return i}function y(t,e,n){var r,i,o,a={x:e.slice(),fx:0,fxprime:e.slice()},s={x:e.slice(),fx:0,fxprime:e.slice()},u=e.slice(),l=1;o=(n=n||{}).maxIterations||20*e.length,a.fx=t(a.x,a.fxprime),p(r=a.fxprime.slice(),a.fxprime,-1);for(var c=0;c<o;++c){if(l=g(t,r,a,s,l),n.history&&n.history.push({x:a.x.slice(),fx:a.fx,fxprime:a.fxprime.slice(),alpha:l}),l){d(u,1,s.fxprime,-1,a.fxprime);var v=h(a.fxprime,a.fxprime);d(r,Math.max(0,h(u,s.fxprime)/v),r,-1,s.fxprime),i=a,a=s,s=i}else p(r,a.fxprime,-1);if(f(a.fxprime)<=1e-5)break}return n.history&&n.history.push({x:a.x.slice(),fx:a.fx,fxprime:a.fxprime.slice(),alpha:l}),a}function m(t,e){(e=e||{}).maxIterations=e.maxIterations||500;var n,r=e.initialLayout||b,i=e.lossFunction||x,o=r(t=function(t){t=t.slice();var e,n,r,i,o=[],a={};for(e=0;e<t.length;++e){var s=t[e];1==s.sets.length?o.push(s.sets[0]):2==s.sets.length&&(r=s.sets[0],i=s.sets[1],a[[r,i]]=!0,a[[i,r]]=!0)}for(o.sort((function(t,e){return t>e})),e=0;e<o.length;++e)for(r=o[e],n=e+1;n<o.length;++n)i=o[n],[r,i]in a||t.push({sets:[r,i],size:0});return t}(t),e),a=[],s=[];for(n in o)o.hasOwnProperty(n)&&(a.push(o[n].x),a.push(o[n].y),s.push(n));for(var u=v((function(e){for(var n={},r=0;r<s.length;++r){var a=s[r];n[a]={x:e[2*r],y:e[2*r+1],radius:o[a].radius}}return i(n,t)}),a,e).x,l=0;l<s.length;++l)n=s[l],o[n].x=u[2*l],o[n].y=u[2*l+1];return o}function _(t,e,n){return Math.min(t,e)*Math.min(t,e)*Math.PI<=n+1e-10?Math.abs(t-e):function(t,e,n,r){var i=(r=r||{}).maxIterations||100,o=r.tolerance||1e-10,a=t(e),s=t(n),u=n-e;if(a*s>0)throw"Initial bisect points must have opposite signs";if(0===a)return e;if(0===s)return n;for(var l=0;l<i;++l){var c=e+(u/=2),h=t(c);if(h*a>=0&&(e=c),Math.abs(u)<o||0===h)return c}return e+u}((function(r){return a(t,e,r)-n}),0,t+e)}function b(t,e){var n=w(t,e),r=e.lossFunction||x;if(t.length>=8){var i=function(t,e){var n,r=(e=e||{}).restarts||10,i=[],o={};for(n=0;n<t.length;++n){var a=t[n];1==a.sets.length&&(o[a.sets[0]]=i.length,i.push(a))}var s=function(t,e,n){var r=c(e.length,e.length),i=c(e.length,e.length);return t.filter((function(t){return 2==t.sets.length})).map((function(t){var o=n[t.sets[0]],a=n[t.sets[1]],s=_(Math.sqrt(e[o].size/Math.PI),Math.sqrt(e[a].size/Math.PI),t.size);r[o][a]=r[a][o]=s;var u=0;t.size+1e-10>=Math.min(e[o].size,e[a].size)?u=1:t.size<=1e-10&&(u=-1),i[o][a]=i[a][o]=u})),{distances:r,constraints:i}}(t,i,o),u=s.distances,h=s.constraints,d=f(u.map(f))/u.length;u=u.map((function(t){return t.map((function(t){return t/d}))}));var v,g,m=function(t,e){return function(t,e,n,r){var i,o=0;for(i=0;i<e.length;++i)e[i]=0;for(i=0;i<n.length;++i)for(var a=t[2*i],s=t[2*i+1],u=i+1;u<n.length;++u){var l=t[2*u],c=t[2*u+1],h=n[i][u],f=r[i][u],p=(l-a)*(l-a)+(c-s)*(c-s),d=Math.sqrt(p),v=p-h*h;f>0&&d<=h||f<0&&d>=h||(o+=2*v*v,e[2*i]+=4*v*(a-l),e[2*i+1]+=4*v*(s-c),e[2*u]+=4*v*(l-a),e[2*u+1]+=4*v*(c-s))}return o}(t,e,u,h)};for(n=0;n<r;++n){var b=l(2*u.length).map(Math.random);g=y(m,b,e),(!v||g.fx<v.fx)&&(v=g)}var w=v.x,x={};for(n=0;n<i.length;++n){var E=i[n];x[E.sets[0]]={x:w[2*n]*d,y:w[2*n+1]*d,radius:Math.sqrt(E.size/Math.PI)}}if(e.history)for(n=0;n<e.history.length;++n)p(e.history[n].x,d);return x}(t,e);r(i,t)+1e-8<r(n,t)&&(n=i)}return n}function w(t,e){for(var n,r=e&&e.lossFunction?e.lossFunction:x,i={},o={},a=0;a<t.length;++a){var u=t[a];1==u.sets.length&&(n=u.sets[0],i[n]={x:1e10,y:1e10,rowid:i.length,size:u.size,radius:Math.sqrt(u.size/Math.PI)},o[n]=[])}for(t=t.filter((function(t){return 2==t.sets.length})),a=0;a<t.length;++a){var l=t[a],c=l.hasOwnProperty("weight")?l.weight:1,h=l.sets[0],f=l.sets[1];l.size+1e-10>=Math.min(i[h].size,i[f].size)&&(c=0),o[h].push({set:f,size:l.size,weight:c}),o[f].push({set:h,size:l.size,weight:c})}var p=[];for(n in o)if(o.hasOwnProperty(n)){var d=0;for(a=0;a<o[n].length;++a)d+=o[n][a].size*o[n][a].weight;p.push({set:n,size:d})}function v(t,e){return e.size-t.size}p.sort(v);var g={};function y(t){return t.set in g}function m(t,e){i[e].x=t.x,i[e].y=t.y,g[e]=!0}for(m({x:0,y:0},p[0].set),a=1;a<p.length;++a){var b=p[a].set,w=o[b].filter(y);if(n=i[b],w.sort(v),0===w.length)throw"ERROR: missing pairwise overlap information";for(var E=[],S=0;S<w.length;++S){var C=i[w[S].set],k=_(n.radius,C.radius,w[S].size);E.push({x:C.x+k,y:C.y}),E.push({x:C.x-k,y:C.y}),E.push({y:C.y+k,x:C.x}),E.push({y:C.y-k,x:C.x});for(var T=S+1;T<w.length;++T)for(var I=i[w[T].set],A=_(n.radius,I.radius,w[T].size),M=s({x:C.x,y:C.y,radius:k},{x:I.x,y:I.y,radius:A}),P=0;P<M.length;++P)E.push(M[P])}var O=1e50,N=E[0];for(S=0;S<E.length;++S){i[b].x=E[S].x,i[b].y=E[S].y;var D=r(i,t);D<O&&(O=D,N=E[S])}m(N,b)}return i}function x(t,e){for(var n=0,i=0;i<e.length;++i){var s,u=e[i];if(1!=u.sets.length){if(2==u.sets.length){var l=t[u.sets[0]],c=t[u.sets[1]];s=a(l.radius,c.radius,o(l,c))}else s=r(u.sets.map((function(e){return t[e]})));n+=(u.hasOwnProperty("weight")?u.weight:1)*(s-u.size)*(s-u.size)}}return n}function E(t,e,n){var r;if(null===n?t.sort((function(t,e){return e.radius-t.radius})):t.sort(n),t.length>0){var i=t[0].x,a=t[0].y;for(r=0;r<t.length;++r)t[r].x-=i,t[r].y-=a}if(2==t.length&&o(t[0],t[1])<Math.abs(t[1].radius-t[0].radius)&&(t[1].x=t[0].x+t[0].radius-t[1].radius-1e-10,t[1].y=t[0].y),t.length>1){var s,u,l=Math.atan2(t[1].x,t[1].y)-e,c=Math.cos(l),h=Math.sin(l);for(r=0;r<t.length;++r)s=t[r].x,u=t[r].y,t[r].x=c*s-h*u,t[r].y=h*s+c*u}if(t.length>2){for(var f=Math.atan2(t[2].x,t[2].y)-e;f<0;)f+=2*Math.PI;for(;f>2*Math.PI;)f-=2*Math.PI;if(f>Math.PI){var p=t[1].y/(1e-10+t[1].x);for(r=0;r<t.length;++r){var d=(t[r].x+p*t[r].y)/(1+p*p);t[r].x=2*d-t[r].x,t[r].y=2*d*p-t[r].y}}}}function S(t){function e(t){return t.parent!==t&&(t.parent=e(t.parent)),t.parent}function n(t,n){var r=e(t),i=e(n);r.parent=i}t.map((function(t){t.parent=t}));for(var r=0;r<t.length;++r)for(var i=r+1;i<t.length;++i){var a=t[r].radius+t[i].radius;o(t[r],t[i])+1e-10<a&&n(t[i],t[r])}var s,u={};for(r=0;r<t.length;++r)(s=e(t[r]).parent.setid)in u||(u[s]=[]),u[s].push(t[r]);t.map((function(t){delete t.parent}));var l=[];for(s in u)u.hasOwnProperty(s)&&l.push(u[s]);return l}function C(t){var e=function(e){return{max:Math.max.apply(null,t.map((function(t){return t[e]+t.radius}))),min:Math.min.apply(null,t.map((function(t){return t[e]-t.radius})))}};return{xRange:e("x"),yRange:e("y")}}function k(t,e,n){null===e&&(e=Math.PI/2);var r,i,o=[];for(i in t)if(t.hasOwnProperty(i)){var a=t[i];o.push({x:a.x,y:a.y,radius:a.radius,setid:i})}var s=S(o);for(r=0;r<s.length;++r){E(s[r],e,n);var u=C(s[r]);s[r].size=(u.xRange.max-u.xRange.min)*(u.yRange.max-u.yRange.min),s[r].bounds=u}s.sort((function(t,e){return e.size-t.size}));var l=(o=s[0]).bounds,c=(l.xRange.max-l.xRange.min)/50;function h(t,e,n){if(t){var r,i,a,s=t.bounds;e?r=l.xRange.max-s.xRange.min+c:(r=l.xRange.max-s.xRange.max,(a=(s.xRange.max-s.xRange.min)/2-(l.xRange.max-l.xRange.min)/2)<0&&(r+=a)),n?i=l.yRange.max-s.yRange.min+c:(i=l.yRange.max-s.yRange.max,(a=(s.yRange.max-s.yRange.min)/2-(l.yRange.max-l.yRange.min)/2)<0&&(i+=a));for(var u=0;u<t.length;++u)t[u].x+=r,t[u].y+=i,o.push(t[u])}}for(var f=1;f<s.length;)h(s[f],!0,!1),h(s[f+1],!1,!0),h(s[f+2],!0,!0),f+=3,l=C(o);var p={};for(r=0;r<o.length;++r)p[o[r].setid]=o[r];return p}function T(t,e,n,r){var i=[],o=[];for(var a in t)t.hasOwnProperty(a)&&(o.push(a),i.push(t[a]));e-=2*r,n-=2*r;var s=C(i),u=s.xRange,l=s.yRange;if(u.max==u.min||l.max==l.min)return console.log("not scaling solution: zero size detected"),t;for(var c=e/(u.max-u.min),h=n/(l.max-l.min),f=Math.min(h,c),p=(e-(u.max-u.min)*f)/2,d=(n-(l.max-l.min)*f)/2,v={},g=0;g<i.length;++g){var y=i[g];v[o[g]]={radius:f*y.radius,x:r+p+(y.x-u.min)*f,y:r+d+(y.y-l.min)*f}}return v}function I(t,n){return function(){for(var r,i=e.select(this),o=i.datum(),a=t[o.sets[0]].radius||50,s=n(o)||"",u=s.split(/\s+/).reverse(),l=(s.length+u.length)/3,c=u.pop(),h=[c],f=0,p=i.text(null).append("tspan").text(c);c=u.pop();)h.push(c),r=h.join(" "),p.text(r),r.length>l&&p.node().getComputedTextLength()>a&&(h.pop(),p.text(h.join(" ")),h=[c],p=i.append("tspan").text(c),f++);var d=.35-1.1*f/2,v=i.attr("x"),g=i.attr("y");i.selectAll("tspan").attr("x",v).attr("y",g).attr("dy",(function(t,e){return d+1.1*e+"em"}))}}function A(t,e,n){var r,i,a=e[0].radius-o(e[0],t);for(r=1;r<e.length;++r)(i=e[r].radius-o(e[r],t))<=a&&(a=i);for(r=0;r<n.length;++r)(i=o(n[r],t)-n[r].radius)<=a&&(a=i);return a}function M(t,e){var n,i=[];for(n=0;n<t.length;++n){var a=t[n];i.push({x:a.x,y:a.y}),i.push({x:a.x+a.radius/2,y:a.y}),i.push({x:a.x-a.radius/2,y:a.y}),i.push({x:a.x,y:a.y+a.radius/2}),i.push({x:a.x,y:a.y-a.radius/2})}var s=i[0],l=A(i[0],t,e);for(n=1;n<i.length;++n){var c=A(i[n],t,e);c>=l&&(s=i[n],l=c)}var h=v((function(n){return-1*A({x:n[0],y:n[1]},t,e)}),[s.x,s.y],{maxIterations:500,minErrorDelta:1e-10}).x,f={x:h[0],y:h[1]},p=!0;for(n=0;n<t.length;++n)if(o(f,t[n])>t[n].radius){p=!1;break}for(n=0;n<e.length;++n)if(o(f,e[n])<e[n].radius){p=!1;break}if(!p)if(1==t.length)f={x:t[0].x,y:t[0].y};else{var d={};r(t,d),f=0===d.arcs.length?{x:0,y:-1e3,disjoint:!0}:1==d.arcs.length?{x:d.arcs[0].circle.x,y:d.arcs[0].circle.y}:e.length?M(t,[]):u(d.arcs.map((function(t){return t.p1})))}return f}function P(t){var e={},n=[];for(var r in t)n.push(r),e[r]=[];for(var i=0;i<n.length;i++)for(var a=t[n[i]],s=i+1;s<n.length;++s){var u=t[n[s]],l=o(a,u);l+u.radius<=a.radius+1e-10?e[n[s]].push(n[i]):l+a.radius<=u.radius+1e-10&&e[n[i]].push(n[s])}return e}function O(t,e){for(var n={},r=P(t),i=0;i<e.length;++i){for(var o=e[i].sets,a={},s={},u=0;u<o.length;++u){a[o[u]]=!0;for(var l=r[o[u]],c=0;c<l.length;++c)s[l[c]]=!0}var h=[],f=[];for(var p in t)p in a?h.push(t[p]):p in s||f.push(t[p]);var d=M(h,f);n[o]=d,d.disjoint&&e[i].size>0&&console.log("WARNING: area "+o+" not represented on screen")}return n}function N(t,e,n){var r=[];return r.push("\nM",t,e),r.push("\nm",-n,0),r.push("\na",n,n,0,1,0,2*n,0),r.push("\na",n,n,0,1,0,2*-n,0),r.join(" ")}function D(t){var e=t.split(" ");return{x:parseFloat(e[1]),y:parseFloat(e[2]),radius:-parseFloat(e[4])}}function R(t){var e={};r(t,e);var n=e.arcs;if(0===n.length)return"M 0 0";if(1==n.length){var i=n[0].circle;return N(i.x,i.y,i.radius)}for(var o=["\nM",n[0].p2.x,n[0].p2.y],a=0;a<n.length;++a){var s=n[a],u=s.circle.radius,l=s.width>u;o.push("\nA",u,u,0,l?1:0,1,s.p1.x,s.p1.y)}return o.join(" ")}t.intersectionArea=r,t.circleCircleIntersection=s,t.circleOverlap=a,t.circleArea=i,t.distance=o,t.venn=m,t.greedyLayout=w,t.scaleSolution=T,t.normalizeSolution=k,t.bestInitialLayout=b,t.lossFunction=x,t.disjointCluster=S,t.distanceFromIntersectArea=_,t.VennDiagram=function(){var t=600,n=350,r=15,i=1e3,o=Math.PI/2,a=!0,s=!0,u=!0,l=null,c=null,h={},f=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],p=0,d=function(t){if(t in h)return h[t];var e=h[t]=f[p];return(p+=1)>=f.length&&(p=0),e},v=m,g=x;function y(h){var f=h.datum(),p={};f.forEach((function(t){0==t.size&&1==t.sets.length&&(p[t.sets[0]]=1)})),f=f.filter((function(t){return!t.sets.some((function(t){return t in p}))}));var y={},m={};if(f.length>0){var _=v(f,{lossFunction:g});a&&(_=k(_,o,c)),y=T(_,t,n,r),m=O(y,f)}var b={};function w(t){return t.sets in b?b[t.sets]:1==t.sets.length?""+t.sets[0]:void 0}f.forEach((function(t){t.label&&(b[t.sets]=t.label)})),h.selectAll("svg").data([y]).enter().append("svg");var x=h.select("svg").attr("width",t).attr("height",n),E={},S=!1;x.selectAll(".venn-area path").each((function(t){var n=e.select(this).attr("d");1==t.sets.length&&n&&(S=!0,E[t.sets[0]]=D(n))}));var C=function(e){return function(r){return R(e.sets.map((function(e){var i=E[e],o=y[e];return i||(i={x:t/2,y:n/2,radius:1}),o||(o={x:t/2,y:n/2,radius:1}),{x:i.x*(1-r)+o.x*r,y:i.y*(1-r)+o.y*r,radius:i.radius*(1-r)+o.radius*r}})))}},A=x.selectAll(".venn-area").data(f,(function(t){return t.sets})),M=A.enter().append("g").attr("class",(function(t){return"venn-area venn-"+(1==t.sets.length?"circle":"intersection")})).attr("data-venn-sets",(function(t){return t.sets.join("_")})),P=M.append("path"),N=M.append("text").attr("class","label").text((function(t){return w(t)})).attr("text-anchor","middle").attr("dy",".35em").attr("x",t/2).attr("y",n/2);u&&(P.style("fill-opacity","0").filter((function(t){return 1==t.sets.length})).style("fill",(function(t){return d(t.sets)})).style("fill-opacity",".25"),N.style("fill",(function(t){return 1==t.sets.length?d(t.sets):"#444"})));var L=h;S?(L=h.transition("venn").duration(i)).selectAll("path").attrTween("d",C):L.selectAll("path").attr("d",(function(t){return R(t.sets.map((function(t){return y[t]})))}));var F=L.selectAll("text").filter((function(t){return t.sets in m})).text((function(t){return w(t)})).attr("x",(function(t){return Math.floor(m[t.sets].x)})).attr("y",(function(t){return Math.floor(m[t.sets].y)}));s&&(S?"on"in F?F.on("end",I(y,w)):F.each("end",I(y,w)):F.each(I(y,w)));var j=A.exit().transition("venn").duration(i).remove();j.selectAll("path").attrTween("d",C);var B=j.selectAll("text").attr("x",t/2).attr("y",n/2);return null!==l&&(N.style("font-size","0px"),F.style("font-size",l),B.style("font-size","0px")),{circles:y,textCentres:m,nodes:A,enter:M,update:L,exit:j}}return y.wrap=function(t){return arguments.length?(s=t,y):s},y.width=function(e){return arguments.length?(t=e,y):t},y.height=function(t){return arguments.length?(n=t,y):n},y.padding=function(t){return arguments.length?(r=t,y):r},y.colours=function(t){return arguments.length?(d=t,y):d},y.fontSize=function(t){return arguments.length?(l=t,y):l},y.duration=function(t){return arguments.length?(i=t,y):i},y.layoutFunction=function(t){return arguments.length?(v=t,y):v},y.normalize=function(t){return arguments.length?(a=t,y):a},y.styled=function(t){return arguments.length?(u=t,y):u},y.orientation=function(t){return arguments.length?(o=t,y):o},y.orientationOrder=function(t){return arguments.length?(c=t,y):c},y.lossFunction=function(t){return arguments.length?(g=t,y):g},y},t.wrapText=I,t.computeTextCentres=O,t.computeTextCentre=M,t.sortAreas=function(t,e){for(var n=P(t.selectAll("svg").datum()),r={},i=0;i<e.sets.length;++i){var o=e.sets[i];for(var a in n)for(var s=n[a],u=0;u<s.length;++u)if(s[u]==o){r[a]=!0;break}}function l(t){for(var e=0;e<t.length;++e)if(!(t[e]in r))return!1;return!0}t.selectAll("g").sort((function(t,n){return t.sets.length!=n.sets.length?t.sets.length-n.sets.length:t==e?l(n.sets)?-1:1:n==e?l(t.sets)?1:-1:n.size-t.size}))},t.circlePath=N,t.circleFromPath=D,t.intersectionAreaPath=R,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(22),n(515))},function(t,e,n){"use strict";var r=function(){};r=function(t,e,n){var r=arguments.length;n=new Array(r>2?r-2:0);for(var i=2;i<r;i++)n[i-2]=arguments[i];if(void 0===e)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(e.length<10||/^[s\W]*$/.test(e))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+e);if(!t){var o=0,a="Warning: "+e.replace(/%s/g,(function(){return n[o++]}));"undefined"!==typeof console&&console.error(a);try{throw new Error(a)}catch(s){}}},t.exports=r},function(t,e,n){n(64),t.exports=n(64)}])},t.exports=r(n(0))},function(t,e,n){"use strict";var r,i=(r=n(2))&&"object"===typeof r&&"default"in r?r.default:r;n(66),n(67),n(69),n(72),n(80),n(81),n(74),n(82),n(76);i.registerVersion("firebase","7.9.3","app");console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),i.registerVersion("firebase","7.9.3"),t.exports=i},function(t,e,n){"use strict";var r=n(16),i=n(0),o=n.n(i),a=n(27),s=n.n(a),u=n(14),l=n(35),c=n.n(l),h=n(44),f=n.n(h);function p(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter((function(e){return e!==t}))},get:function(){return t},set:function(n,r){t=n,e.forEach((function(e){return e(t,r)}))}}}var d=o.a.createContext||function(t,e){var n,r,o="__create-react-context-"+f()()+"__",a=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).emitter=p(e.props.value),e}c()(n,t);var r=n.prototype;return r.getChildContext=function(){var t;return(t={})[o]=this.emitter,t},r.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var n,r=this.props.value,i=t.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof e?e(r,i):1073741823,0!==(n|=0)&&this.emitter.set(t.value,n))}var o,a},r.render=function(){return this.props.children},n}(i.Component);a.childContextTypes=((n={})[o]=s.a.object.isRequired,n);var u=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!==((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}c()(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=void 0===e||null===e?1073741823:e},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=void 0===t||null===t?1073741823:t},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():t},r.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(i.Component);return u.contextTypes=((r={})[o]=s.a.object,r),{Provider:a,Consumer:u}},v=n(13),g=n(9),y=n(36),m=n.n(y),_=(n(39),n(21));n(45);n.d(e,"a",(function(){return C})),n.d(e,"b",(function(){return w})),n.d(e,"c",(function(){return P})),n.d(e,"d",(function(){return b})),n.d(e,"e",(function(){return S}));var b=function(t){var e=d();return e.displayName=t,e}("Router"),w=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(t){n._isMounted?n.setState({location:t}):n._pendingLocation=t}))),n}Object(r.a)(e,t),e.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(b.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},e}(o.a.Component);o.a.Component;o.a.Component;var x={},E=0;function S(t,e){void 0===e&&(e={}),("string"===typeof e||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,l=void 0!==u&&u;return[].concat(r).reduce((function(e,n){if(!n&&""!==n)return null;if(e)return e;var r=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=x[n]||(x[n]={});if(r[t])return r[t];var i=[],o={regexp:m()(t,i,e),keys:i};return E<1e4&&(r[t]=o,E++),o}(n,{end:o,strict:s,sensitive:l}),i=r.regexp,a=r.keys,u=i.exec(t);if(!u)return null;var c=u[0],h=u.slice(1),f=t===c;return o&&!f?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:f,params:a.reduce((function(t,e,n){return t[e.name]=h[n],t}),{})}}),null)}var C=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.render=function(){var t=this;return o.a.createElement(b.Consumer,null,(function(e){e||Object(v.a)(!1);var n=t.props.location||e.location,r=t.props.computedMatch?t.props.computedMatch:t.props.path?S(n.pathname,t.props):e.match,i=Object(g.a)({},e,{location:n,match:r}),a=t.props,s=a.children,u=a.component,l=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(b.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:u?o.a.createElement(u,i):l?l(i):null:"function"===typeof s?s(i):null)}))},e}(o.a.Component);function k(t){return"/"===t.charAt(0)?t:"/"+t}function T(t,e){if(!t)return e;var n=k(t);return 0!==e.pathname.indexOf(n)?e:Object(g.a)({},e,{pathname:e.pathname.substr(n.length)})}function I(t){return"string"===typeof t?t:Object(u.e)(t)}function A(t){return function(){Object(v.a)(!1)}}function M(){}o.a.Component;var P=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.render=function(){var t=this;return o.a.createElement(b.Consumer,null,(function(e){e||Object(v.a)(!1);var n,r,i=t.props.location||e.location;return o.a.Children.forEach(t.props.children,(function(t){if(null==r&&o.a.isValidElement(t)){n=t;var a=t.props.path||t.props.from;r=a?S(i.pathname,Object(g.a)({},t.props,{path:a})):e.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},e}(o.a.Component);o.a.useContext},function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,a){n(i=t[e].apply(t,r)).then(o,a)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new c(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function a(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function s(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function u(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function l(t){this._index=t}function c(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function p(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new f(n)}function d(t){this._db=t}o(l,"_index",["name","keyPath","multiEntry","unique"]),a(l,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(l,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(c,"_cursor",["direction","key","primaryKey","value"]),a(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(c.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new c(t,e._request)}))}))})})),h.prototype.createIndex=function(){return new l(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new l(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[h,l].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[l,h].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new p(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new d(t)}))},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n.d(e,"a",(function(){return r}))},,,function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}n.r(e),n.d(e,"LogLevel",(function(){return i})),n.d(e,"Logger",(function(){return u})),n.d(e,"setLogLevel",(function(){return l}));var i,o=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(i||(i={}));var a=i.INFO,s=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(e<t.logLevel)){var a=(new Date).toISOString();switch(e){case i.DEBUG:case i.VERBOSE:console.log.apply(console,r(["["+a+"]  "+t.name+":"],n));break;case i.INFO:console.info.apply(console,r(["["+a+"]  "+t.name+":"],n));break;case i.WARN:console.warn.apply(console,r(["["+a+"]  "+t.name+":"],n));break;case i.ERROR:console.error.apply(console,r(["["+a+"]  "+t.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},u=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=s,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,i.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,i.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,i.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,i.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,i.ERROR],t))},t}();function l(t){o.forEach((function(e){e.logLevel=t}))}},,function(t,e,n){t.exports=n(59)()},function(t,e,n){t.exports=n(78)},function(t,e,n){"use strict";n.r(e);var r=n(2),i=n.n(r),o=n(10);var a=function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function l(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function c(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var h=n(12),f=n(20);n.d(e,"registerInstallations",(function(){return Z}));var p,d=((p={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',p["not-registered"]="Firebase Installation is not registered.",p["installation-not-found"]="Firebase Installation not found.",p["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',p["app-offline"]="Could not process request. Application offline.",p["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",p),v=new h.ErrorFactory("installations","Installations",d);function g(t){return t instanceof h.FirebaseError&&t.code.includes("request-failed")}function y(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function m(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function _(t,e){return s(this,void 0,void 0,(function(){var n,r;return u(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,v.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function b(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function w(t,e){var n=e.refreshToken,r=b(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function x(t){return s(this,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function E(t,e){var n=e.fid;return s(this,void 0,void 0,(function(){var e,r,i,o,a,s;return u(this,(function(u){switch(u.label){case 0:return e=y(t),r=b(t),i={fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.4"},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,x((function(){return fetch(e,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:m(s.authToken)}];case 3:return[4,_("Create Installation",a)];case 4:throw u.sent()}}))}))}function S(t){return new Promise((function(e){setTimeout(e,t)}))}function C(t){return btoa(String.fromCharCode.apply(String,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}(t))).replace(/\+/g,"-").replace(/\//g,"_")}var k=/^[cdef][\w-]{21}$/;function T(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return C(t).substr(0,22)}(t);return k.test(e)?e:""}catch(n){return""}}function I(t){return t.appName+"!"+t.appId}var A=new Map;function M(t,e){var n=I(t);P(n,e),function(t,e){var n=N();n&&n.postMessage({key:t,fid:e});D()}(n,e)}function P(t,e){var n,r,i=A.get(t);if(i)try{for(var o=l(i),a=o.next();!a.done;a=o.next()){(0,a.value)(e)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var O=null;function N(){return!O&&"BroadcastChannel"in self&&((O=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){P(t.data.key,t.data.fid)}),O}function D(){0===A.size&&O&&(O.close(),O=null)}var R="firebase-installations-store",L=null;function F(){return L||(L=Object(f.openDb)("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(R)}}))),L}function j(t,e){return s(this,void 0,void 0,(function(){var n,r,i,o,a;return u(this,(function(s){switch(s.label){case 0:return n=I(t),[4,F()];case 1:return r=s.sent(),i=r.transaction(R,"readwrite"),[4,(o=i.objectStore(R)).get(n)];case 2:return a=s.sent(),[4,o.put(e,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===e.fid||M(t,e.fid),[2,e]}}))}))}function B(t){return s(this,void 0,void 0,(function(){var e,n,r;return u(this,(function(i){switch(i.label){case 0:return e=I(t),[4,F()];case 1:return n=i.sent(),[4,(r=n.transaction(R,"readwrite")).objectStore(R).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function V(t,e){return s(this,void 0,void 0,(function(){var n,r,i,o,a,s;return u(this,(function(u){switch(u.label){case 0:return n=I(t),[4,F()];case 1:return r=u.sent(),i=r.transaction(R,"readwrite"),[4,(o=i.objectStore(R)).get(n)];case 2:return a=u.sent(),void 0!==(s=e(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||M(t,s.fid),[2,s]}}))}))}function U(t){return s(this,void 0,void 0,(function(){var e,n,r;return u(this,(function(i){switch(i.label){case 0:return[4,V(t,(function(n){var r=function(t){return H(t||{fid:T(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine){var n=Promise.reject(v.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function(t,e){return s(this,void 0,void 0,(function(){var n,r;return u(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,E(t,e)];case 1:return n=i.sent(),[2,j(t,n)];case 2:return g(r=i.sent())&&409===r.serverCode?[4,B(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,j(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,r);return{installationEntry:r,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:q(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function q(t){return s(this,void 0,void 0,(function(){var e,n,r,i;return u(this,(function(o){switch(o.label){case 0:return[4,z(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,S(100)];case 3:return o.sent(),[4,z(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,U(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function z(t){return V(t,(function(t){if(!t)throw v.create("installation-not-found");return H(t)}))}function H(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function W(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return s(this,void 0,void 0,(function(){var t,i,o,a,s,l,c;return u(this,(function(u){switch(u.label){case 0:return t=function(t,e){var n=e.fid;return y(t)+"/"+n+"/authTokens:generate"}(n,e),i=w(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:"w:0.4.4"}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,x((function(){return fetch(t,s)}))];case 1:return(l=u.sent()).ok?[4,l.json()]:[3,3];case 2:return c=u.sent(),[2,m(c)];case 3:return[4,_("Generate Auth Token",l)];case 4:throw u.sent()}}))}))}function G(t,e){return void 0===e&&(e=!1),s(this,void 0,void 0,(function(){var n,r,i;return u(this,(function(o){switch(o.label){case 0:return[4,V(t.appConfig,(function(r){if(!$(r))throw v.create("not-registered");var i=r.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}(i))return r;if(1===i.requestStatus)return n=function(t,e){return s(this,void 0,void 0,(function(){var n,r;return u(this,(function(i){switch(i.label){case 0:return[4,Y(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,S(100)];case 3:return i.sent(),[4,Y(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,G(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw v.create("app-offline");var o=function(t){var e={requestStatus:1,requestTime:Date.now()};return a(a({},t),{authToken:e})}(r);return n=function(t,e){return s(this,void 0,void 0,(function(){var n,r,i;return u(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,W(t,e)];case 1:return n=o.sent(),i=a(a({},e),{authToken:n}),[4,j(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!g(r=o.sent())||401!==r.serverCode&&404!==r.serverCode?[3,5]:[4,B(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=a(a({},e),{authToken:{requestStatus:0}}),[4,j(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function Y(t){return V(t,(function(t){if(!$(t))throw v.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+1e4<Date.now()?a(a({},t),{authToken:{requestStatus:0}}):t}))}function $(t){return void 0!==t&&2===t.registrationStatus}function X(t){return s(this,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return[4,U(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function Q(t,e){return s(this,void 0,void 0,(function(){var n,r,i,o;return u(this,(function(a){switch(a.label){case 0:return n=function(t,e){var n=e.fid;return y(t)+"/"+n}(t,e),r=w(t,e),i={method:"DELETE",headers:r},[4,x((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,_("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function K(t,e){var n=t.appConfig;return function(t,e){N();var n=I(t),r=A.get(n);r||(r=new Set,A.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=I(t),r=A.get(n);r&&(r.delete(e),0===r.size&&A.delete(n),D())}(n,e)}}function J(t){return v.create("missing-app-config-values",{valueName:t})}function Z(t){t.INTERNAL.registerComponent(new o.Component("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw J("App Configuration");if(!t.name)throw J("App Name");try{for(var r=l(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw J(o)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return s(this,void 0,void 0,(function(){var e,n,r;return u(this,(function(i){switch(i.label){case 0:return[4,U(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):G(t).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),s(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,X(t.appConfig)];case 1:return n.sent(),[4,G(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return s(this,void 0,void 0,(function(){var e,n;return u(this,(function(r){switch(r.label){case 0:return[4,V(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw v.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw v.create("app-offline");case 3:return[4,Q(e,n)];case 4:return r.sent(),[4,B(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return K(n,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations","0.4.4")}Z(i.a)},,,,,,function(t,e){t.exports=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}},function(t,e,n){var r=n(61);t.exports=p,t.exports.parse=o,t.exports.compile=function(t,e){return s(o(t,e),e)},t.exports.tokensToFunction=s,t.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t,e){for(var n,r=[],o=0,a=0,s="",c=e&&e.delimiter||"/";null!=(n=i.exec(t));){var h=n[0],f=n[1],p=n.index;if(s+=t.slice(a,p),a=p+h.length,f)s+=f[1];else{var d=t[a],v=n[2],g=n[3],y=n[4],m=n[5],_=n[6],b=n[7];s&&(r.push(s),s="");var w=null!=v&&null!=d&&d!==v,x="+"===_||"*"===_,E="?"===_||"*"===_,S=n[2]||c,C=y||m;r.push({name:g||o++,prefix:v||"",delimiter:S,optional:E,repeat:x,partial:w,asterisk:!!b,pattern:C?l(C):b?".*":"[^"+u(S)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&r.push(s),r}function a(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function s(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"===typeof t[i]&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",h(e)));return function(e,i){for(var o="",s=e||{},u=(i||{}).pretty?a:encodeURIComponent,l=0;l<t.length;l++){var c=t[l];if("string"!==typeof c){var h,f=s[c.name];if(null==f){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(f)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var p=0;p<f.length;p++){if(h=u(f[p]),!n[l].test(h))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===p?c.prefix:c.delimiter)+h}}else{if(h=c.asterisk?encodeURI(f).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[l].test(h))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+h+'"');o+=c.prefix+h}}else o+=c}return o}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function c(t,e){return t.keys=e,t}function h(t){return t&&t.sensitive?"":"i"}function f(t,e,n){r(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<t.length;s++){var l=t[s];if("string"===typeof l)a+=u(l);else{var f=u(l.prefix),p="(?:"+l.pattern+")";e.push(l),l.repeat&&(p+="(?:"+f+p+")*"),a+=p=l.optional?l.partial?f+"("+p+")?":"(?:"+f+"("+p+"))?":f+"("+p+")"}}var d=u(n.delimiter||"/"),v=a.slice(-d.length)===d;return i||(a=(v?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=o?"$":i&&v?"":"(?="+d+"|$)",c(new RegExp("^"+a,h(n)),e)}function p(t,e,n){return r(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(t,e)}(t,e):r(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(p(t[i],e,n).source);return c(new RegExp("(?:"+r.join("|")+")",h(n)),e)}(t,e,n):function(t,e,n){return f(o(t,n),e,n)}(t,e,n)}},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(l){return void n(l)}s.done?e(u):Promise.resolve(u).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,u,"next",t)}function u(t){r(a,i,o,s,u,"throw",t)}s(void 0)}))}}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,s,u=a(t),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(t,e,n){"use strict";t.exports=n(62)},,function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&p())}function p(){if(!c){var t=s(f);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||c||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}}(),t.exports=n(56)},,function(t,e,n){"use strict";(function(e){var n="__global_unique_id__";t.exports=function(){return e[n]=(e[n]||0)+1}}).call(this,n(24))},function(t,e,n){"use strict";var r=n(39),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var l=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(d){var i=p(n);i&&i!==d&&t(e,i,r)}var a=c(n);h&&(a=a.concat(h(n)));for(var s=u(e),v=u(n),g=0;g<a.length;++g){var y=a[g];if(!o[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var m=f(n,y);try{l(e,y,m)}catch(_){}}}}return e}},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},,,,,,,,,function(t,e,n){"use strict";var r=n(38),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,d=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,g="function"===typeof Symbol&&Symbol.iterator;function y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function b(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||m}function w(){}function x(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||m}b.prototype.isReactComponent={},b.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(y(85));this.updater.enqueueSetState(this,t,e,"setState")},b.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},w.prototype=b.prototype;var E=x.prototype=new w;E.constructor=x,r(E,b.prototype),E.isPureReactComponent=!0;var S={current:null},C=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function T(t,e,n){var r,i={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)C.call(e,r)&&!k.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:S.current}}function I(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var A=/\/+/g,M=[];function P(t,e,n,r){if(M.length){var i=M.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function O(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>M.length&&M.push(t)}function N(t,e,n){return null==t?0:function t(e,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case a:u=!0}}if(u)return r(i,e,""===n?"."+D(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=n+D(s=e[l],l);u+=t(s,c,r,i)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=g&&e[g]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=t(s=s.value,c=n+D(s,l++),r,i);else if("object"===s)throw r=""+e,Error(y(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return u}(t,"",e,n)}function D(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function R(t,e){t.func.call(t.context,e,t.count++)}function L(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?F(t,r,n,(function(t){return t})):null!=t&&(I(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(A,"$&/")+"/")+n)),r.push(t))}function F(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(A,"$&/")+"/"),N(t,L,e=P(e,o,r,i)),O(e)}var j={current:null};function B(){var t=j.current;if(null===t)throw Error(y(321));return t}var V={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:function(t,e,n){if(null==t)return t;var r=[];return F(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;N(t,R,e=P(null,null,e,n)),O(e)},count:function(t){return N(t,(function(){return null}),null)},toArray:function(t){var e=[];return F(t,e,null,(function(t){return t})),e},only:function(t){if(!I(t))throw Error(y(143));return t}},e.Component=b,e.Fragment=s,e.Profiler=l,e.PureComponent=x,e.StrictMode=u,e.Suspense=p,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(y(267,t));var i=r({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=S.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)C.call(e,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];i.children=l}return{$$typeof:o,type:t.type,key:a,ref:s,props:i,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},e.createElement=T,e.createFactory=function(t){var e=T.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:f,render:t}},e.isValidElement=I,e.lazy=function(t){return{$$typeof:v,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return B().useCallback(t,e)},e.useContext=function(t,e){return B().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return B().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return B().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return B().useLayoutEffect(t,e)},e.useMemo=function(t,e){return B().useMemo(t,e)},e.useReducer=function(t,e,n){return B().useReducer(t,e,n)},e.useRef=function(t){return B().useRef(t)},e.useState=function(t){return B().useState(t)},e.version="16.13.0"},function(t,e,n){"use strict";var r=n(0),i=n(38),o=n(57);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(t,e,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var u=!1,l=null,c=!1,h=null,f={onError:function(t){u=!0,l=t}};function p(t,e,n,r,i,o,a,c,h){u=!1,l=null,s.apply(f,arguments)}var d=null,v=null,g=null;function y(t,e,n){var r=t.type||"unknown-event";t.currentTarget=g(n),function(t,e,n,r,i,o,s,f,d){if(p.apply(this,arguments),u){if(!u)throw Error(a(198));var v=l;u=!1,l=null,c||(c=!0,h=v)}}(r,e,void 0,t),t.currentTarget=null}var m=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;m.hasOwnProperty("ReactCurrentDispatcher")||(m.ReactCurrentDispatcher={current:null}),m.hasOwnProperty("ReactCurrentBatchConfig")||(m.ReactCurrentBatchConfig={suspense:null});var _=/^(.*)[\\\/]/,b="function"===typeof Symbol&&Symbol.for,w=b?Symbol.for("react.element"):60103,x=b?Symbol.for("react.portal"):60106,E=b?Symbol.for("react.fragment"):60107,S=b?Symbol.for("react.strict_mode"):60108,C=b?Symbol.for("react.profiler"):60114,k=b?Symbol.for("react.provider"):60109,T=b?Symbol.for("react.context"):60110,I=b?Symbol.for("react.concurrent_mode"):60111,A=b?Symbol.for("react.forward_ref"):60112,M=b?Symbol.for("react.suspense"):60113,P=b?Symbol.for("react.suspense_list"):60120,O=b?Symbol.for("react.memo"):60115,N=b?Symbol.for("react.lazy"):60116,D=b?Symbol.for("react.block"):60121,R="function"===typeof Symbol&&Symbol.iterator;function L(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=R&&t[R]||t["@@iterator"])?t:null}function F(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case E:return"Fragment";case x:return"Portal";case C:return"Profiler";case S:return"StrictMode";case M:return"Suspense";case P:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case T:return"Context.Consumer";case k:return"Context.Provider";case A:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case O:return F(t.type);case D:return F(t.render);case N:if(t=1===t._status?t._result:null)return F(t)}return null}function j(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=F(t.type);n=null,r&&(n=F(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(_,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}var B=null,V={};function U(){if(B)for(var t in V){var e=V[t],n=B.indexOf(t);if(!(-1<n))throw Error(a(96,t));if(!z[n]){if(!e.extractEvents)throw Error(a(97,t));for(var r in z[n]=e,n=e.eventTypes){var i=void 0,o=n[r],s=e,u=r;if(H.hasOwnProperty(u))throw Error(a(99,u));H[u]=o;var l=o.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&q(l[i],s,u);i=!0}else o.registrationName?(q(o.registrationName,s,u),i=!0):i=!1;if(!i)throw Error(a(98,r,t))}}}}function q(t,e,n){if(W[t])throw Error(a(100,t));W[t]=e,G[t]=e.eventTypes[n].dependencies}var z=[],H={},W={},G={};function Y(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];if(!V.hasOwnProperty(e)||V[e]!==r){if(V[e])throw Error(a(102,e));V[e]=r,n=!0}}n&&U()}var $=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),X=null,Q=null,K=null;function J(t){if(t=v(t)){if("function"!==typeof X)throw Error(a(280));var e=t.stateNode;e&&(e=d(e),X(t.stateNode,t.type,e))}}function Z(t){Q?K?K.push(t):K=[t]:Q=t}function tt(){if(Q){var t=Q,e=K;if(K=Q=null,J(t),e)for(t=0;t<e.length;t++)J(e[t])}}function et(t,e){return t(e)}function nt(t,e,n,r,i){return t(e,n,r,i)}function rt(){}var it=et,ot=!1,at=!1;function st(){null===Q&&null===K||(rt(),tt())}function ut(t,e,n){if(at)return t(e,n);at=!0;try{return it(t,e,n)}finally{at=!1,st()}}var lt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ct=Object.prototype.hasOwnProperty,ht={},ft={};function pt(t,e,n,r,i,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o}var dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){dt[t]=new pt(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];dt[e]=new pt(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){dt[t]=new pt(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){dt[t]=new pt(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){dt[t]=new pt(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){dt[t]=new pt(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){dt[t]=new pt(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){dt[t]=new pt(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){dt[t]=new pt(t,5,!1,t.toLowerCase(),null,!1)}));var vt=/[\-:]([a-z])/g;function gt(t){return t[1].toUpperCase()}function yt(t,e,n,r){var i=dt.hasOwnProperty(e)?dt[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!ct.call(ft,t)||!ct.call(ht,t)&&(lt.test(t)?ft[t]=!0:(ht[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}function mt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function _t(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function bt(t){t._valueTracker||(t._valueTracker=function(t){var e=_t(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function wt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_t(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function xt(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Et(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=mt(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function St(t,e){null!=(e=e.checked)&&yt(t,"checked",e,!1)}function Ct(t,e){St(t,e);var n=mt(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?Tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tt(t,e.type,mt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function kt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function Tt(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function It(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function At(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function Mt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Pt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:mt(n)}}function Ot(t,e){var n=mt(e.value),r=mt(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function Nt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(vt,gt);dt[e]=new pt(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(vt,gt);dt[e]=new pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(vt,gt);dt[e]=new pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){dt[t]=new pt(t,1,!1,t.toLowerCase(),null,!1)})),dt.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){dt[t]=new pt(t,1,!1,t.toLowerCase(),null,!0)}));var Dt="http://www.w3.org/1999/xhtml",Rt="http://www.w3.org/2000/svg";function Lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ft(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Lt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var jt,Bt=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction((function(){return t(e,n)}))}:t}((function(t,e){if(t.namespaceURI!==Rt||"innerHTML"in t)t.innerHTML=e;else{for((jt=jt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function Vt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function Ut(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var qt={animationend:Ut("Animation","AnimationEnd"),animationiteration:Ut("Animation","AnimationIteration"),animationstart:Ut("Animation","AnimationStart"),transitionend:Ut("Transition","TransitionEnd")},zt={},Ht={};function Wt(t){if(zt[t])return zt[t];if(!qt[t])return t;var e,n=qt[t];for(e in n)if(n.hasOwnProperty(e)&&e in Ht)return zt[t]=n[e];return t}$&&(Ht=document.createElement("div").style,"AnimationEvent"in window||(delete qt.animationend.animation,delete qt.animationiteration.animation,delete qt.animationstart.animation),"TransitionEvent"in window||delete qt.transitionend.transition);var Gt=Wt("animationend"),Yt=Wt("animationiteration"),$t=Wt("animationstart"),Xt=Wt("transitionend"),Qt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kt=new("function"===typeof WeakMap?WeakMap:Map);function Jt(t){var e=Kt.get(t);return void 0===e&&(e=new Map,Kt.set(t,e)),e}function Zt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function te(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ee(t){if(Zt(t)!==t)throw Error(a(188))}function ne(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Zt(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ee(i),t;if(o===r)return ee(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function re(t,e){if(null==e)throw Error(a(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function ie(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var oe=null;function ae(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)y(t,e[r],n[r]);else e&&y(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function se(t){if(null!==t&&(oe=re(oe,t)),t=oe,oe=null,t){if(ie(t,ae),oe)throw Error(a(95));if(c)throw t=h,c=!1,h=null,t}}function ue(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function le(t){if(!$)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}var ce=[];function he(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>ce.length&&ce.push(t)}function fe(t,e,n,r){if(ce.length){var i=ce.pop();return i.topLevelType=t,i.eventSystemFlags=r,i.nativeEvent=e,i.targetInst=n,i}return{topLevelType:t,eventSystemFlags:r,nativeEvent:e,targetInst:n,ancestors:[]}}function pe(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=Tn(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=ue(t.nativeEvent);r=t.topLevelType;var o=t.nativeEvent,a=t.eventSystemFlags;0===n&&(a|=64);for(var s=null,u=0;u<z.length;u++){var l=z[u];l&&(l=l.extractEvents(r,e,o,i,a))&&(s=re(s,l))}se(s)}}function de(t,e,n){if(!n.has(t)){switch(t){case"scroll":$e(e,"scroll",!0);break;case"focus":case"blur":$e(e,"focus",!0),$e(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":le(t)&&$e(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Qt.indexOf(t)&&Ye(t,e)}n.set(t,null)}}var ve,ge,ye,me=!1,_e=[],be=null,we=null,xe=null,Ee=new Map,Se=new Map,Ce=[],ke="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Te="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ie(t,e,n,r,i){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Ae(t,e){switch(t){case"focus":case"blur":be=null;break;case"dragenter":case"dragleave":we=null;break;case"mouseover":case"mouseout":xe=null;break;case"pointerover":case"pointerout":Ee.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Se.delete(e.pointerId)}}function Me(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=Ie(e,n,r,i,o),null!==e&&(null!==(e=In(e))&&ge(e)),t):(t.eventSystemFlags|=r,t)}function Pe(t){var e=Tn(t.target);if(null!==e){var n=Zt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=te(n)))return t.blockedOn=e,void o.unstable_runWithPriority(t.priority,(function(){ye(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Oe(t){if(null!==t.blockedOn)return!1;var e=Je(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var n=In(e);return null!==n&&ge(n),t.blockedOn=e,!1}return!0}function Ne(t,e,n){Oe(t)&&n.delete(e)}function De(){for(me=!1;0<_e.length;){var t=_e[0];if(null!==t.blockedOn){null!==(t=In(t.blockedOn))&&ve(t);break}var e=Je(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:_e.shift()}null!==be&&Oe(be)&&(be=null),null!==we&&Oe(we)&&(we=null),null!==xe&&Oe(xe)&&(xe=null),Ee.forEach(Ne),Se.forEach(Ne)}function Re(t,e){t.blockedOn===e&&(t.blockedOn=null,me||(me=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,De)))}function Le(t){function e(e){return Re(e,t)}if(0<_e.length){Re(_e[0],t);for(var n=1;n<_e.length;n++){var r=_e[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==be&&Re(be,t),null!==we&&Re(we,t),null!==xe&&Re(xe,t),Ee.forEach(e),Se.forEach(e),n=0;n<Ce.length;n++)(r=Ce[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Ce.length&&null===(n=Ce[0]).blockedOn;)Pe(n),null===n.blockedOn&&Ce.shift()}var Fe={},je=new Map,Be=new Map,Ve=["abort","abort",Gt,"animationEnd",Yt,"animationIteration",$t,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xt,"transitionEnd","waiting","waiting"];function Ue(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:e},Be.set(r,e),je.set(r,o),Fe[i]=o}}Ue("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ue("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ue(Ve,2);for(var qe="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),ze=0;ze<qe.length;ze++)Be.set(qe[ze],0);var He=o.unstable_UserBlockingPriority,We=o.unstable_runWithPriority,Ge=!0;function Ye(t,e){$e(e,t,!1)}function $e(t,e,n){var r=Be.get(e);switch(void 0===r?2:r){case 0:r=Xe.bind(null,e,1,t);break;case 1:r=Qe.bind(null,e,1,t);break;default:r=Ke.bind(null,e,1,t)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function Xe(t,e,n,r){ot||rt();var i=Ke,o=ot;ot=!0;try{nt(i,t,e,n,r)}finally{(ot=o)||st()}}function Qe(t,e,n,r){We(He,Ke.bind(null,t,e,n,r))}function Ke(t,e,n,r){if(Ge)if(0<_e.length&&-1<ke.indexOf(t))t=Ie(null,t,e,n,r),_e.push(t);else{var i=Je(t,e,n,r);if(null===i)Ae(t,r);else if(-1<ke.indexOf(t))t=Ie(i,t,e,n,r),_e.push(t);else if(!function(t,e,n,r,i){switch(e){case"focus":return be=Me(be,t,e,n,r,i),!0;case"dragenter":return we=Me(we,t,e,n,r,i),!0;case"mouseover":return xe=Me(xe,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ee.set(o,Me(Ee.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Se.set(o,Me(Se.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r)){Ae(t,r),t=fe(t,r,null,e);try{ut(pe,t)}finally{he(t)}}}}function Je(t,e,n,r){if(null!==(n=Tn(n=ue(r)))){var i=Zt(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=te(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}t=fe(t,r,n,e);try{ut(pe,t)}finally{he(t)}return null}var Ze={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function en(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||Ze.hasOwnProperty(t)&&Ze[t]?(""+e).trim():e+"px"}function nn(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=en(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(Ze).forEach((function(t){tn.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ze[e]=Ze[t]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(t,e){if(e){if(rn[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if(!("object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62,""))}}function an(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Dt;function un(t,e){var n=Jt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=G[e];for(var r=0;r<e.length;r++)de(e[r],t,n)}function ln(){}function cn(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function hn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fn(t,e){var n,r=hn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=hn(r)}}function pn(){for(var t=window,e=cn();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=cn((t=e.contentWindow).document)}return e}function dn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var vn=null,gn=null;function yn(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function mn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var _n="function"===typeof setTimeout?setTimeout:void 0,bn="function"===typeof clearTimeout?clearTimeout:void 0;function wn(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function xn(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var En=Math.random().toString(36).slice(2),Sn="__reactInternalInstance$"+En,Cn="__reactEventHandlers$"+En,kn="__reactContainere$"+En;function Tn(t){var e=t[Sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[kn]||n[Sn]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=xn(t);null!==t;){if(n=t[Sn])return n;t=xn(t)}return e}n=(t=n).parentNode}return null}function In(t){return!(t=t[Sn]||t[kn])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function An(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function Mn(t){return t[Cn]||null}function Pn(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function On(t,e){var n=t.stateNode;if(!n)return null;var r=d(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}function Nn(t,e,n){(e=On(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Dn(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Pn(e);for(e=n.length;0<e--;)Nn(n[e],"captured",t);for(e=0;e<n.length;e++)Nn(n[e],"bubbled",t)}}function Rn(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=On(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Ln(t){t&&t.dispatchConfig.registrationName&&Rn(t._targetInst,null,t)}function Fn(t){ie(t,Dn)}var jn=null,Bn=null,Vn=null;function Un(){if(Vn)return Vn;var t,e,n=Bn,r=n.length,i="value"in jn?jn.value:jn.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return Vn=i.slice(t,1<e?1-e:void 0)}function qn(){return!0}function zn(){return!1}function Hn(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?qn:zn,this.isPropagationStopped=zn,this}function Wn(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function Gn(t){if(!(t instanceof this))throw Error(a(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Yn(t){t.eventPool=[],t.getPooled=Wn,t.release=Gn}i(Hn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){this.isPersistent=qn},isPersistent:zn,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=zn,this._dispatchInstances=this._dispatchListeners=null}}),Hn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Hn.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var o=new e;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,t),n.extend=r.extend,Yn(n),n},Yn(Hn);var $n=Hn.extend({data:null}),Xn=Hn.extend({data:null}),Qn=[9,13,27,32],Kn=$&&"CompositionEvent"in window,Jn=null;$&&"documentMode"in document&&(Jn=document.documentMode);var Zn=$&&"TextEvent"in window&&!Jn,tr=$&&(!Kn||Jn&&8<Jn&&11>=Jn),er=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(t,e){switch(t){case"keyup":return-1!==Qn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function or(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var ar=!1;var sr={eventTypes:nr,extractEvents:function(t,e,n,r){var i;if(Kn)t:{switch(t){case"compositionstart":var o=nr.compositionStart;break t;case"compositionend":o=nr.compositionEnd;break t;case"compositionupdate":o=nr.compositionUpdate;break t}o=void 0}else ar?ir(t,n)&&(o=nr.compositionEnd):"keydown"===t&&229===n.keyCode&&(o=nr.compositionStart);return o?(tr&&"ko"!==n.locale&&(ar||o!==nr.compositionStart?o===nr.compositionEnd&&ar&&(i=Un()):(Bn="value"in(jn=r)?jn.value:jn.textContent,ar=!0)),o=$n.getPooled(o,e,n,r),i?o.data=i:null!==(i=or(n))&&(o.data=i),Fn(o),i=o):i=null,(t=Zn?function(t,e){switch(t){case"compositionend":return or(e);case"keypress":return 32!==e.which?null:(rr=!0,er);case"textInput":return(t=e.data)===er&&rr?null:t;default:return null}}(t,n):function(t,e){if(ar)return"compositionend"===t||!Kn&&ir(t,e)?(t=Un(),Vn=Bn=jn=null,ar=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tr&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=Xn.getPooled(nr.beforeInput,e,n,r)).data=t,Fn(e)):e=null,null===i?e:null===e?i:[i,e]}},ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!ur[t.type]:"textarea"===e}var cr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function hr(t,e,n){return(t=Hn.getPooled(cr.change,t,e,n)).type="change",Z(n),Fn(t),t}var fr=null,pr=null;function dr(t){se(t)}function vr(t){if(wt(An(t)))return t}function gr(t,e){if("change"===t)return e}var yr=!1;function mr(){fr&&(fr.detachEvent("onpropertychange",_r),pr=fr=null)}function _r(t){if("value"===t.propertyName&&vr(pr))if(t=hr(pr,t,ue(t)),ot)se(t);else{ot=!0;try{et(dr,t)}finally{ot=!1,st()}}}function br(t,e,n){"focus"===t?(mr(),pr=n,(fr=e).attachEvent("onpropertychange",_r)):"blur"===t&&mr()}function wr(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return vr(pr)}function xr(t,e){if("click"===t)return vr(e)}function Er(t,e){if("input"===t||"change"===t)return vr(e)}$&&(yr=le("input")&&(!document.documentMode||9<document.documentMode));var Sr={eventTypes:cr,_isInputEventSupported:yr,extractEvents:function(t,e,n,r){var i=e?An(e):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=gr;else if(lr(i))if(yr)a=Er;else{a=wr;var s=br}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=xr);if(a&&(a=a(t,e)))return hr(a,n,r);s&&s(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&Tt(i,"number",i.value)}},Cr=Hn.extend({view:null,detail:null}),kr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=kr[t])&&!!e[t]}function Ir(){return Tr}var Ar=0,Mr=0,Pr=!1,Or=!1,Nr=Cr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ir,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Ar;return Ar=t.screenX,Pr?"mousemove"===t.type?t.screenX-e:0:(Pr=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Mr;return Mr=t.screenY,Or?"mousemove"===t.type?t.screenY-e:0:(Or=!0,0)}}),Dr=Nr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Rr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Lr={eventTypes:Rr,extractEvents:function(t,e,n,r,i){var o="mouseover"===t||"pointerover"===t,a="mouseout"===t||"pointerout"===t;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=e,null!==(e=(e=n.relatedTarget||n.toElement)?Tn(e):null)&&(e!==Zt(e)||5!==e.tag&&6!==e.tag)&&(e=null)):a=null;if(a===e)return null;if("mouseout"===t||"mouseover"===t)var s=Nr,u=Rr.mouseLeave,l=Rr.mouseEnter,c="mouse";else"pointerout"!==t&&"pointerover"!==t||(s=Dr,u=Rr.pointerLeave,l=Rr.pointerEnter,c="pointer");if(t=null==a?o:An(a),o=null==e?o:An(e),(u=s.getPooled(u,a,n,r)).type=c+"leave",u.target=t,u.relatedTarget=o,(n=s.getPooled(l,e,n,r)).type=c+"enter",n.target=o,n.relatedTarget=t,c=e,(r=a)&&c)t:{for(l=c,a=0,t=s=r;t;t=Pn(t))a++;for(t=0,e=l;e;e=Pn(e))t++;for(;0<a-t;)s=Pn(s),a--;for(;0<t-a;)l=Pn(l),t--;for(;a--;){if(s===l||s===l.alternate)break t;s=Pn(s),l=Pn(l)}s=null}else s=null;for(l=s,s=[];r&&r!==l&&(null===(a=r.alternate)||a!==l);)s.push(r),r=Pn(r);for(r=[];c&&c!==l&&(null===(a=c.alternate)||a!==l);)r.push(c),c=Pn(c);for(c=0;c<s.length;c++)Rn(s[c],"bubbled",u);for(c=r.length;0<c--;)Rn(r[c],"captured",n);return 0===(64&i)?[u]:[u,n]}};var Fr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},jr=Object.prototype.hasOwnProperty;function Br(t,e){if(Fr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!jr.call(e,n[r])||!Fr(t[n[r]],e[n[r]]))return!1;return!0}var Vr=$&&"documentMode"in document&&11>=document.documentMode,Ur={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},qr=null,zr=null,Hr=null,Wr=!1;function Gr(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Wr||null==qr||qr!==cn(n)?null:("selectionStart"in(n=qr)&&dn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Hr&&Br(Hr,n)?null:(Hr=n,(t=Hn.getPooled(Ur.select,zr,t,e)).type="select",t.target=qr,Fn(t),t))}var Yr={eventTypes:Ur,extractEvents:function(t,e,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){t:{i=Jt(i),o=G.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break t}i=!0}o=!i}if(o)return null;switch(i=e?An(e):window,t){case"focus":(lr(i)||"true"===i.contentEditable)&&(qr=i,zr=e,Hr=null);break;case"blur":Hr=zr=qr=null;break;case"mousedown":Wr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wr=!1,Gr(n,r);case"selectionchange":if(Vr)break;case"keydown":case"keyup":return Gr(n,r)}return null}},$r=Hn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Xr=Hn.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qr=Cr.extend({relatedTarget:null});function Kr(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ti=Cr.extend({key:function(t){if(t.key){var e=Jr[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Kr(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Zr[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ir,charCode:function(t){return"keypress"===t.type?Kr(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Kr(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),ei=Nr.extend({dataTransfer:null}),ni=Cr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ir}),ri=Hn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Nr.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),oi={eventTypes:Fe,extractEvents:function(t,e,n,r){var i=je.get(t);if(!i)return null;switch(t){case"keypress":if(0===Kr(n))return null;case"keydown":case"keyup":t=ti;break;case"blur":case"focus":t=Qr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=ei;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=ni;break;case Gt:case Yt:case $t:t=$r;break;case Xt:t=ri;break;case"scroll":t=Cr;break;case"wheel":t=ii;break;case"copy":case"cut":case"paste":t=Xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Dr;break;default:t=Hn}return Fn(e=t.getPooled(i,e,n,r)),e}};if(B)throw Error(a(101));B=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),U(),d=Mn,v=In,g=An,Y({SimpleEventPlugin:oi,EnterLeaveEventPlugin:Lr,ChangeEventPlugin:Sr,SelectEventPlugin:Yr,BeforeInputEventPlugin:sr});var ai=[],si=-1;function ui(t){0>si||(t.current=ai[si],ai[si]=null,si--)}function li(t,e){si++,ai[si]=t.current,t.current=e}var ci={},hi={current:ci},fi={current:!1},pi=ci;function di(t,e){var n=t.type.contextTypes;if(!n)return ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function vi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function gi(){ui(fi),ui(hi)}function yi(t,e,n){if(hi.current!==ci)throw Error(a(168));li(hi,e),li(fi,n)}function mi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,F(e)||"Unknown",o));return i({},n,{},r)}function _i(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ci,pi=hi.current,li(hi,t),li(fi,fi.current),!0}function bi(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=mi(t,e,pi),r.__reactInternalMemoizedMergedChildContext=t,ui(fi),ui(hi),li(hi,t)):ui(fi),li(fi,n)}var wi=o.unstable_runWithPriority,xi=o.unstable_scheduleCallback,Ei=o.unstable_cancelCallback,Si=o.unstable_requestPaint,Ci=o.unstable_now,ki=o.unstable_getCurrentPriorityLevel,Ti=o.unstable_ImmediatePriority,Ii=o.unstable_UserBlockingPriority,Ai=o.unstable_NormalPriority,Mi=o.unstable_LowPriority,Pi=o.unstable_IdlePriority,Oi={},Ni=o.unstable_shouldYield,Di=void 0!==Si?Si:function(){},Ri=null,Li=null,Fi=!1,ji=Ci(),Bi=1e4>ji?Ci:function(){return Ci()-ji};function Vi(){switch(ki()){case Ti:return 99;case Ii:return 98;case Ai:return 97;case Mi:return 96;case Pi:return 95;default:throw Error(a(332))}}function Ui(t){switch(t){case 99:return Ti;case 98:return Ii;case 97:return Ai;case 96:return Mi;case 95:return Pi;default:throw Error(a(332))}}function qi(t,e){return t=Ui(t),wi(t,e)}function zi(t,e,n){return t=Ui(t),xi(t,e,n)}function Hi(t){return null===Ri?(Ri=[t],Li=xi(Ti,Gi)):Ri.push(t),Oi}function Wi(){if(null!==Li){var t=Li;Li=null,Ei(t)}Gi()}function Gi(){if(!Fi&&null!==Ri){Fi=!0;var t=0;try{var e=Ri;qi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Ri=null}catch(n){throw null!==Ri&&(Ri=Ri.slice(t+1)),xi(Ti,Wi),n}finally{Fi=!1}}}function Yi(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function $i(t,e){if(t&&t.defaultProps)for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var Xi={current:null},Qi=null,Ki=null,Ji=null;function Zi(){Ji=Ki=Qi=null}function to(t){var e=Xi.current;ui(Xi),t.type._context._currentValue=e}function eo(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function no(t,e){Qi=t,Ji=Ki=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Ma=!0),t.firstContext=null)}function ro(t,e){if(Ji!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(Ji=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Ki){if(null===Qi)throw Error(a(308));Ki=e,Qi.dependencies={expirationTime:0,firstContext:e,responders:null}}else Ki=Ki.next=e;return t._currentValue}var io=!1;function oo(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function so(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function uo(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function lo(t,e){var n=t.alternate;null!==n&&ao(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function co(t,e,n,r){var o=t.updateQueue;io=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var u=a.next;a.next=s.next,s.next=u}a=s,o.shared.pending=null,null!==(u=t.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==a){u=a.next;var l=o.baseState,c=0,h=null,f=null,p=null;if(null!==u)for(var d=u;;){if((s=d.expirationTime)<r){var v={expirationTime:d.expirationTime,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null};null===p?(f=p=v,h=l):p=p.next=v,s>c&&(c=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null}),ou(s,d.suspenseConfig);t:{var g=t,y=d;switch(s=e,v=n,y.tag){case 1:if("function"===typeof(g=y.payload)){l=g.call(v,l,s);break t}l=g;break t;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null===(s="function"===typeof(g=y.payload)?g.call(v,l,s):g)||void 0===s)break t;l=i({},l,s);break t;case 2:io=!0}}null!==d.callback&&(t.effectTag|=32,null===(s=o.effects)?o.effects=[d]:s.push(d))}if(null===(d=d.next)||d===u){if(null===(s=o.shared.pending))break;d=a.next=s.next,s.next=u,o.baseQueue=a=s,o.shared.pending=null}}null===p?h=l:p.next=f,o.baseState=h,o.baseQueue=p,au(c),t.expirationTime=c,t.memoizedState=l}}function ho(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var fo=m.ReactCurrentBatchConfig,po=(new r.Component).refs;function vo(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var go={isMounted:function(t){return!!(t=t._reactInternalFiber)&&Zt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=Gs(),i=fo.suspense;(i=so(r=Ys(r,t,i),i)).payload=e,void 0!==n&&null!==n&&(i.callback=n),uo(t,i),$s(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=Gs(),i=fo.suspense;(i=so(r=Ys(r,t,i),i)).tag=1,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),uo(t,i),$s(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=Gs(),r=fo.suspense;(r=so(n=Ys(n,t,r),r)).tag=2,void 0!==e&&null!==e&&(r.callback=e),uo(t,r),$s(t,n)}};function yo(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!Br(n,r)||!Br(i,o))}function mo(t,e,n){var r=!1,i=ci,o=e.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=vi(e)?pi:hi.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?di(t,i):ci),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=go,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function _o(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&go.enqueueReplaceState(e,e.state,null)}function bo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=po,oo(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=vi(e)?pi:hi.current,i.context=di(t,o)),co(t,n,i,r),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(vo(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&go.enqueueReplaceState(i,i.state,null),co(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.effectTag|=4)}var wo=Array.isArray;function xo(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===po&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!==typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function Eo(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function So(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=ku(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Au(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function l(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=xo(t,e,n),r.return=t,r):((r=Tu(n.type,n.key,n.props,null,t.mode,r)).ref=xo(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Mu(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=Iu(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Au(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case w:return(n=Tu(e.type,e.key,e.props,null,t.mode,n)).ref=xo(t,null,e),n.return=t,n;case x:return(e=Mu(e,t.mode,n)).return=t,e}if(wo(e)||L(e))return(e=Iu(e,t.mode,n,null)).return=t,e;Eo(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?n.type===E?h(t,e,n.props.children,r,i):l(t,e,n,r):null;case x:return n.key===i?c(t,e,n,r):null}if(wo(n)||L(n))return null!==i?null:h(t,e,n,r,null);Eo(t,n)}return null}function d(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return t=t.get(null===r.key?n:r.key)||null,r.type===E?h(e,t,r.props.children,i,r.key):l(e,t,r,i);case x:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(wo(r)||L(r))return h(e,t=t.get(n)||null,r,i,null);Eo(e,r)}return null}function v(i,a,s,u){for(var l=null,c=null,h=a,v=a=0,g=null;null!==h&&v<s.length;v++){h.index>v?(g=h,h=null):g=h.sibling;var y=p(i,h,s[v],u);if(null===y){null===h&&(h=g);break}t&&h&&null===y.alternate&&e(i,h),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y,h=g}if(v===s.length)return n(i,h),l;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===c?l=h:c.sibling=h,c=h);return l}for(h=r(i,h);v<s.length;v++)null!==(g=d(h,i,v,s[v],u))&&(t&&null!==g.alternate&&h.delete(null===g.key?v:g.key),a=o(g,a,v),null===c?l=g:c.sibling=g,c=g);return t&&h.forEach((function(t){return e(i,t)})),l}function g(i,s,u,l){var c=L(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var h=c=null,v=s,g=s=0,y=null,m=u.next();null!==v&&!m.done;g++,m=u.next()){v.index>g?(y=v,v=null):y=v.sibling;var _=p(i,v,m.value,l);if(null===_){null===v&&(v=y);break}t&&v&&null===_.alternate&&e(i,v),s=o(_,s,g),null===h?c=_:h.sibling=_,h=_,v=y}if(m.done)return n(i,v),c;if(null===v){for(;!m.done;g++,m=u.next())null!==(m=f(i,m.value,l))&&(s=o(m,s,g),null===h?c=m:h.sibling=m,h=m);return c}for(v=r(i,v);!m.done;g++,m=u.next())null!==(m=d(v,i,g,m.value,l))&&(t&&null!==m.alternate&&v.delete(null===m.key?g:m.key),s=o(m,s,g),null===h?c=m:h.sibling=m,h=m);return t&&v.forEach((function(t){return e(i,t)})),c}return function(t,r,o,u){var l="object"===typeof o&&null!==o&&o.type===E&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case w:t:{for(c=o.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(o.type===E){n(t,l.sibling),(r=i(l,o.props.children)).return=t,t=r;break t}break;default:if(l.elementType===o.type){n(t,l.sibling),(r=i(l,o.props)).ref=xo(t,l,o),r.return=t,t=r;break t}}n(t,l);break}e(t,l),l=l.sibling}o.type===E?((r=Iu(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=Tu(o.type,o.key,o.props,null,t.mode,u)).ref=xo(t,r,o),u.return=t,t=u)}return s(t);case x:t:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Mu(o,t.mode,u)).return=t,t=r}return s(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Au(o,t.mode,u)).return=t,t=r),s(t);if(wo(o))return v(t,r,o,u);if(L(o))return g(t,r,o,u);if(c&&Eo(t,o),"undefined"===typeof o&&!l)switch(t.tag){case 1:case 0:throw t=t.type,Error(a(152,t.displayName||t.name||"Component"))}return n(t,r)}}var Co=So(!0),ko=So(!1),To={},Io={current:To},Ao={current:To},Mo={current:To};function Po(t){if(t===To)throw Error(a(174));return t}function Oo(t,e){switch(li(Mo,e),li(Ao,t),li(Io,To),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ft(null,"");break;default:e=Ft(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ui(Io),li(Io,e)}function No(){ui(Io),ui(Ao),ui(Mo)}function Do(t){Po(Mo.current);var e=Po(Io.current),n=Ft(e,t.type);e!==n&&(li(Ao,t),li(Io,n))}function Ro(t){Ao.current===t&&(ui(Io),ui(Ao))}var Lo={current:0};function Fo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function jo(t,e){return{responder:t,props:e}}var Bo=m.ReactCurrentDispatcher,Vo=m.ReactCurrentBatchConfig,Uo=0,qo=null,zo=null,Ho=null,Wo=!1;function Go(){throw Error(a(321))}function Yo(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fr(t[n],e[n]))return!1;return!0}function $o(t,e,n,r,i,o){if(Uo=o,qo=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Bo.current=null===t||null===t.memoizedState?ya:ma,t=n(r,i),e.expirationTime===Uo){o=0;do{if(e.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Ho=zo=null,e.updateQueue=null,Bo.current=_a,t=n(r,i)}while(e.expirationTime===Uo)}if(Bo.current=ga,e=null!==zo&&null!==zo.next,Uo=0,Ho=zo=qo=null,Wo=!1,e)throw Error(a(300));return t}function Xo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ho?qo.memoizedState=Ho=t:Ho=Ho.next=t,Ho}function Qo(){if(null===zo){var t=qo.alternate;t=null!==t?t.memoizedState:null}else t=zo.next;var e=null===Ho?qo.memoizedState:Ho.next;if(null!==e)Ho=e,zo=t;else{if(null===t)throw Error(a(310));t={memoizedState:(zo=t).memoizedState,baseState:zo.baseState,baseQueue:zo.baseQueue,queue:zo.queue,next:null},null===Ho?qo.memoizedState=Ho=t:Ho=Ho.next=t}return Ho}function Ko(t,e){return"function"===typeof e?e(t):e}function Jo(t){var e=Qo(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=zo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,l=i;do{var c=l.expirationTime;if(c<Uo){var h={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=h,o=r):u=u.next=h,c>qo.expirationTime&&(qo.expirationTime=c,au(c))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),ou(c,l.suspenseConfig),r=l.eagerReducer===t?l.eagerState:t(r,l.action);l=l.next}while(null!==l&&l!==i);null===u?o=r:u.next=s,Fr(r,e.memoizedState)||(Ma=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function Zo(t){var e=Qo(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);Fr(o,e.memoizedState)||(Ma=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ta(t){var e=Xo();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:t}).dispatch=va.bind(null,qo,t),[e.memoizedState,t]}function ea(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=qo.updateQueue)?(e={lastEffect:null},qo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function na(){return Qo().memoizedState}function ra(t,e,n,r){var i=Xo();qo.effectTag|=t,i.memoizedState=ea(1|e,n,void 0,void 0===r?null:r)}function ia(t,e,n,r){var i=Qo();r=void 0===r?null:r;var o=void 0;if(null!==zo){var a=zo.memoizedState;if(o=a.destroy,null!==r&&Yo(r,a.deps))return void ea(e,n,o,r)}qo.effectTag|=t,i.memoizedState=ea(1|e,n,o,r)}function oa(t,e){return ra(516,4,t,e)}function aa(t,e){return ia(516,4,t,e)}function sa(t,e){return ia(4,2,t,e)}function ua(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function la(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ia(4,2,ua.bind(null,e,t),n)}function ca(){}function ha(t,e){return Xo().memoizedState=[t,void 0===e?null:e],t}function fa(t,e){var n=Qo();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Yo(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pa(t,e){var n=Qo();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Yo(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function da(t,e,n){var r=Vi();qi(98>r?98:r,(function(){t(!0)})),qi(97<r?97:r,(function(){var r=Vo.suspense;Vo.suspense=void 0===e?null:e;try{t(!1),n()}finally{Vo.suspense=r}}))}function va(t,e,n){var r=Gs(),i=fo.suspense;i={expirationTime:r=Ys(r,t,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),e.pending=i,o=t.alternate,t===qo||null!==o&&o===qo)Wo=!0,i.expirationTime=Uo,qo.expirationTime=Uo;else{if(0===t.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,Fr(s,a))return}catch(u){}$s(t,r)}}var ga={readContext:ro,useCallback:Go,useContext:Go,useEffect:Go,useImperativeHandle:Go,useLayoutEffect:Go,useMemo:Go,useReducer:Go,useRef:Go,useState:Go,useDebugValue:Go,useResponder:Go,useDeferredValue:Go,useTransition:Go},ya={readContext:ro,useCallback:ha,useContext:ro,useEffect:oa,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ra(4,2,ua.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ra(4,2,t,e)},useMemo:function(t,e){var n=Xo();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xo();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=va.bind(null,qo,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},Xo().memoizedState=t},useState:ta,useDebugValue:ca,useResponder:jo,useDeferredValue:function(t,e){var n=ta(t),r=n[0],i=n[1];return oa((function(){var n=Vo.suspense;Vo.suspense=void 0===e?null:e;try{i(t)}finally{Vo.suspense=n}}),[t,e]),r},useTransition:function(t){var e=ta(!1),n=e[0];return e=e[1],[ha(da.bind(null,e,t),[e,t]),n]}},ma={readContext:ro,useCallback:fa,useContext:ro,useEffect:aa,useImperativeHandle:la,useLayoutEffect:sa,useMemo:pa,useReducer:Jo,useRef:na,useState:function(){return Jo(Ko)},useDebugValue:ca,useResponder:jo,useDeferredValue:function(t,e){var n=Jo(Ko),r=n[0],i=n[1];return aa((function(){var n=Vo.suspense;Vo.suspense=void 0===e?null:e;try{i(t)}finally{Vo.suspense=n}}),[t,e]),r},useTransition:function(t){var e=Jo(Ko),n=e[0];return e=e[1],[fa(da.bind(null,e,t),[e,t]),n]}},_a={readContext:ro,useCallback:fa,useContext:ro,useEffect:aa,useImperativeHandle:la,useLayoutEffect:sa,useMemo:pa,useReducer:Zo,useRef:na,useState:function(){return Zo(Ko)},useDebugValue:ca,useResponder:jo,useDeferredValue:function(t,e){var n=Zo(Ko),r=n[0],i=n[1];return aa((function(){var n=Vo.suspense;Vo.suspense=void 0===e?null:e;try{i(t)}finally{Vo.suspense=n}}),[t,e]),r},useTransition:function(t){var e=Zo(Ko),n=e[0];return e=e[1],[fa(da.bind(null,e,t),[e,t]),n]}},ba=null,wa=null,xa=!1;function Ea(t,e){var n=Su(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Sa(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Ca(t){if(xa){var e=wa;if(e){var n=e;if(!Sa(t,e)){if(!(e=wn(n.nextSibling))||!Sa(t,e))return t.effectTag=-1025&t.effectTag|2,xa=!1,void(ba=t);Ea(ba,n)}ba=t,wa=wn(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,xa=!1,ba=t}}function ka(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ba=t}function Ta(t){if(t!==ba)return!1;if(!xa)return ka(t),xa=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!mn(e,t.memoizedProps))for(e=wa;e;)Ea(t,e),e=wn(e.nextSibling);if(ka(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){wa=wn(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}wa=null}}else wa=ba?wn(t.stateNode.nextSibling):null;return!0}function Ia(){wa=ba=null,xa=!1}var Aa=m.ReactCurrentOwner,Ma=!1;function Pa(t,e,n,r){e.child=null===t?ko(e,null,n,r):Co(e,t.child,n,r)}function Oa(t,e,n,r,i){n=n.render;var o=e.ref;return no(e,i),r=$o(t,e,n,r,o,i),null===t||Ma?(e.effectTag|=1,Pa(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),$a(t,e,i))}function Na(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||Cu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Tu(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Da(t,e,a,r,i,o))}return a=t.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Br)(i,r)&&t.ref===e.ref)?$a(t,e,o):(e.effectTag|=1,(t=ku(a,r)).ref=e.ref,t.return=e,e.child=t)}function Da(t,e,n,r,i,o){return null!==t&&Br(t.memoizedProps,r)&&t.ref===e.ref&&(Ma=!1,i<o)?(e.expirationTime=t.expirationTime,$a(t,e,o)):La(t,e,n,r,o)}function Ra(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function La(t,e,n,r,i){var o=vi(n)?pi:hi.current;return o=di(e,o),no(e,i),n=$o(t,e,n,r,o,i),null===t||Ma?(e.effectTag|=1,Pa(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),$a(t,e,i))}function Fa(t,e,n,r,i){if(vi(n)){var o=!0;_i(e)}else o=!1;if(no(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),mo(e,n,r),bo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=ro(l):l=di(e,l=vi(n)?pi:hi.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&_o(e,a,r,l),io=!1;var f=e.memoizedState;a.state=f,co(e,r,a,i),u=e.memoizedState,s!==r||f!==u||fi.current||io?("function"===typeof c&&(vo(e,n,c,r),u=e.memoizedState),(s=io||yo(e,n,s,r,f,u,l))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.effectTag|=4)):("function"===typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,ao(t,e),s=e.memoizedProps,a.props=e.type===e.elementType?s:$i(e.type,s),u=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=ro(l):l=di(e,l=vi(n)?pi:hi.current),(h="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&_o(e,a,r,l),io=!1,u=e.memoizedState,a.state=u,co(e,r,a,i),f=e.memoizedState,s!==r||u!==f||fi.current||io?("function"===typeof c&&(vo(e,n,c,r),f=e.memoizedState),(c=io||yo(e,n,s,r,u,f,l))?(h||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(e.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),r=!1);return ja(t,e,n,r,o,i)}function ja(t,e,n,r,i,o){Ra(t,e);var a=0!==(64&e.effectTag);if(!r&&!a)return i&&bi(e,n,!1),$a(t,e,o);r=e.stateNode,Aa.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=Co(e,t.child,null,o),e.child=Co(e,null,s,o)):Pa(t,e,s,o),e.memoizedState=r.state,i&&bi(e,n,!0),e.child}function Ba(t){var e=t.stateNode;e.pendingContext?yi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&yi(0,e.context,!1),Oo(t,e.containerInfo)}var Va,Ua,qa,za={dehydrated:null,retryTime:0};function Ha(t,e,n){var r,i=e.mode,o=e.pendingProps,a=Lo.current,s=!1;if((r=0!==(64&e.effectTag))||(r=0!==(2&a)&&(null===t||null!==t.memoizedState)),r?(s=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),li(Lo,1&a),null===t){if(void 0!==o.fallback&&Ca(e),s){if(s=o.fallback,(o=Iu(null,i,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Iu(s,i,n,null)).return=e,o.sibling=n,e.memoizedState=za,e.child=o,n}return i=o.children,e.memoizedState=null,e.child=ko(e,null,i,n)}if(null!==t.memoizedState){if(i=(t=t.child).sibling,s){if(o=o.fallback,(n=ku(t,t.pendingProps)).return=e,0===(2&e.mode)&&(s=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=ku(i,o)).return=e,n.sibling=i,n.childExpirationTime=0,e.memoizedState=za,e.child=n,i}return n=Co(e,t.child,o.children,n),e.memoizedState=null,e.child=n}if(t=t.child,s){if(s=o.fallback,(o=Iu(null,i,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Iu(s,i,n,null)).return=e,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,e.memoizedState=za,e.child=o,n}return e.memoizedState=null,e.child=Co(e,t,o.children,n)}function Wa(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),eo(t.return,e)}function Ga(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Ya(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Pa(t,e,r.children,n),0!==(2&(r=Lo.current)))r=1&r|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Wa(t,n);else if(19===t.tag)Wa(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(li(Lo,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Fo(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ga(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Fo(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ga(e,!0,n,null,o,e.lastEffect);break;case"together":Ga(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function $a(t,e,n){null!==t&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(0!==r&&au(r),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=ku(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=ku(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Xa(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Qa(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return vi(e.type)&&gi(),null;case 3:return No(),ui(fi),ui(hi),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!Ta(e)||(e.effectTag|=4),null;case 5:Ro(e),n=Po(Mo.current);var o=e.type;if(null!==t&&null!=e.stateNode)Ua(t,e,o,r,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=Po(Io.current),Ta(e)){r=e.stateNode,o=e.type;var s=e.memoizedProps;switch(r[Sn]=e,r[Cn]=s,o){case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(t=0;t<Qt.length;t++)Ye(Qt[t],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"form":Ye("reset",r),Ye("submit",r);break;case"details":Ye("toggle",r);break;case"input":Et(r,s),Ye("invalid",r),un(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ye("invalid",r),un(n,"onChange");break;case"textarea":Pt(r,s),Ye("invalid",r),un(n,"onChange")}for(var u in on(o,s),t=null,s)if(s.hasOwnProperty(u)){var l=s[u];"children"===u?"string"===typeof l?r.textContent!==l&&(t=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(t=["children",""+l]):W.hasOwnProperty(u)&&null!=l&&un(n,u)}switch(o){case"input":bt(r),kt(r,s,!0);break;case"textarea":bt(r),Nt(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=ln)}n=t,e.updateQueue=n,null!==n&&(e.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,t===sn&&(t=Lt(o)),t===sn?"script"===o?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=u.createElement(o,{is:r.is}):(t=u.createElement(o),"select"===o&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,o),t[Sn]=e,t[Cn]=r,Va(t,e),e.stateNode=t,u=an(o,r),o){case"iframe":case"object":case"embed":Ye("load",t),l=r;break;case"video":case"audio":for(l=0;l<Qt.length;l++)Ye(Qt[l],t);l=r;break;case"source":Ye("error",t),l=r;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),l=r;break;case"form":Ye("reset",t),Ye("submit",t),l=r;break;case"details":Ye("toggle",t),l=r;break;case"input":Et(t,r),l=xt(t,r),Ye("invalid",t),un(n,"onChange");break;case"option":l=It(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},l=i({},r,{value:void 0}),Ye("invalid",t),un(n,"onChange");break;case"textarea":Pt(t,r),l=Mt(t,r),Ye("invalid",t),un(n,"onChange");break;default:l=r}on(o,l);var c=l;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];"style"===s?nn(t,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&Bt(t,h):"children"===s?"string"===typeof h?("textarea"!==o||""!==h)&&Vt(t,h):"number"===typeof h&&Vt(t,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(W.hasOwnProperty(s)?null!=h&&un(n,s):null!=h&&yt(t,s,h,u))}switch(o){case"input":bt(t),kt(t,r,!1);break;case"textarea":bt(t),Nt(t);break;case"option":null!=r.value&&t.setAttribute("value",""+mt(r.value));break;case"select":t.multiple=!!r.multiple,null!=(n=r.value)?At(t,!!r.multiple,n,!1):null!=r.defaultValue&&At(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof l.onClick&&(t.onclick=ln)}yn(o,r)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)qa(0,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(a(166));n=Po(Mo.current),Po(Io.current),Ta(e)?(n=e.stateNode,r=e.memoizedProps,n[Sn]=e,n.nodeValue!==r&&(e.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Sn]=e,e.stateNode=n)}return null;case 13:return ui(Lo),r=e.memoizedState,0!==(64&e.effectTag)?(e.expirationTime=n,e):(n=null!==r,r=!1,null===t?void 0!==e.memoizedProps.fallback&&Ta(e):(r=null!==(o=t.memoizedState),n||null===o||null!==(o=t.child.sibling)&&(null!==(s=e.firstEffect)?(e.firstEffect=o,o.nextEffect=s):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Lo.current)?Ts===bs&&(Ts=ws):(Ts!==bs&&Ts!==ws||(Ts=xs),0!==Os&&null!==Ss&&(Nu(Ss,ks),Du(Ss,Os)))),(n||r)&&(e.effectTag|=4),null);case 4:return No(),null;case 10:return to(e),null;case 17:return vi(e.type)&&gi(),null;case 19:if(ui(Lo),null===(r=e.memoizedState))return null;if(o=0!==(64&e.effectTag),null===(s=r.rendering)){if(o)Xa(r,!1);else if(Ts!==bs||null!==t&&0!==(64&t.effectTag))for(s=e.child;null!==s;){if(null!==(t=Fo(s))){for(e.effectTag|=64,Xa(r,!1),null!==(o=t.updateQueue)&&(e.updateQueue=o,e.effectTag|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=e.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(t=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=t.childExpirationTime,o.expirationTime=t.expirationTime,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,s=t.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return li(Lo,1&Lo.current|2),e.child}s=s.sibling}}else{if(!o)if(null!==(t=Fo(s))){if(e.effectTag|=64,o=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),Xa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>r.tailExpiration&&1<n&&(e.effectTag|=64,o=!0,Xa(r,!1),e.expirationTime=e.childExpirationTime=n-1);r.isBackwards?(s.sibling=e.child,e.child=s):(null!==(n=r.last)?n.sibling=s:e.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Bi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,e=Lo.current,li(Lo,o?1&e|2:1&e),n):null}throw Error(a(156,e.tag))}function Ka(t){switch(t.tag){case 1:vi(t.type)&&gi();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(No(),ui(fi),ui(hi),0!==(64&(e=t.effectTag)))throw Error(a(285));return t.effectTag=-4097&e|64,t;case 5:return Ro(t),null;case 13:return ui(Lo),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return ui(Lo),null;case 4:return No(),null;case 10:return to(t),null;default:return null}}function Ja(t,e){return{value:t,source:e,stack:j(e)}}Va=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ua=function(t,e,n,r,o){var a=t.memoizedProps;if(a!==r){var s,u,l=e.stateNode;switch(Po(Io.current),t=null,n){case"input":a=xt(l,a),r=xt(l,r),t=[];break;case"option":a=It(l,a),r=It(l,r),t=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),t=[];break;case"textarea":a=Mt(l,a),r=Mt(l,r),t=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(l.onclick=ln)}for(s in on(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(u in l=a[s])l.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(W.hasOwnProperty(s)?t||(t=[]):(t=t||[]).push(s,null));for(s in r){var c=r[s];if(l=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&c!==l&&(null!=c||null!=l))if("style"===s)if(l){for(u in l)!l.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in c)c.hasOwnProperty(u)&&l[u]!==c[u]&&(n||(n={}),n[u]=c[u])}else n||(t||(t=[]),t.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(t=t||[]).push(s,c)):"children"===s?l===c||"string"!==typeof c&&"number"!==typeof c||(t=t||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(W.hasOwnProperty(s)?(null!=c&&un(o,s),t||l===c||(t=[])):(t=t||[]).push(s,c))}n&&(t=t||[]).push("style",n),o=t,(e.updateQueue=o)&&(e.effectTag|=4)}},qa=function(t,e,n,r){n!==r&&(e.effectTag|=4)};var Za="function"===typeof WeakSet?WeakSet:Set;function ts(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=j(n)),null!==n&&F(n.type),e=e.value,null!==t&&1===t.tag&&F(t.type);try{console.error(e)}catch(i){setTimeout((function(){throw i}))}}function es(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){mu(t,n)}else e.current=null}function ns(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:$i(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function rs(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==e)}}function is(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function os(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void is(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var r=n.elementType===n.type?e.memoizedProps:$i(n.type,e.memoizedProps);t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&ho(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}ho(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&yn(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Le(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(t,e,n){switch("function"===typeof xu&&xu(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;qi(97<n?97:n,(function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(o){mu(i,o)}}t=t.next}while(t!==r)}))}break;case 1:es(e),"function"===typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(n){mu(t,n)}}(e,n);break;case 5:es(e);break;case 4:cs(t,e,n)}}function ss(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&ss(e)}function us(t){return 5===t.tag||3===t.tag||4===t.tag}function ls(t){t:{for(var e=t.return;null!==e;){if(us(e)){var n=e;break t}e=e.return}throw Error(a(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Vt(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||us(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}r?function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(8===r.nodeType?(n=r.parentNode).insertBefore(e,r):(n=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=ln));else if(4!==i&&null!==(e=e.child))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e):function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?r.insertBefore(e,n):r.appendChild(e);else if(4!==i&&null!==(e=e.child))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e)}function cs(t,e,n){for(var r,i,o=e,s=!1;;){if(!s){s=o.return;t:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break t;case 3:case 4:r=r.containerInfo,i=!0;break t}s=s.return}s=!0}if(5===o.tag||6===o.tag){t:for(var u=t,l=o,c=n,h=l;;)if(as(u,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===l)break t;for(;null===h.sibling;){if(null===h.return||h.return===l)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(u=r,l=o.stateNode,8===u.nodeType?u.parentNode.removeChild(l):u.removeChild(l)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(as(t,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function hs(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void rs(3,e);case 1:return;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Cn]=r,"input"===t&&"radio"===r.type&&null!=r.name&&St(n,r),an(t,i),e=an(t,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?nn(n,u):"dangerouslySetInnerHTML"===s?Bt(n,u):"children"===s?Vt(n,u):yt(n,s,u,e)}switch(t){case"input":Ct(n,r);break;case"textarea":Ot(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(t=r.value)?At(n,!!r.multiple,t,!1):e!==!!r.multiple&&(null!=r.defaultValue?At(n,!!r.multiple,r.defaultValue,!0):At(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,Le(e.containerInfo)));case 12:return;case 13:if(n=e,null===e.memoizedState?r=!1:(r=!0,n=e.child,Ds=Bi()),null!==n)t:for(t=n;;){if(5===t.tag)o=t.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=t.stateNode,i=void 0!==(i=t.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=en("display",i));else if(6===t.tag)t.stateNode.nodeValue=r?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(o=t.child.sibling).return=t,t=o;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void fs(e);case 19:return void fs(e);case 17:return}throw Error(a(163))}function fs(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Za),e.forEach((function(e){var r=bu.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function ds(t,e,n){(n=so(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ls||(Ls=!0,Fs=r),ts(t,e)},n}function vs(t,e,n){(n=so(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return ts(t,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===js?js=new Set([this]):js.add(this),ts(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var gs,ys=Math.ceil,ms=m.ReactCurrentDispatcher,_s=m.ReactCurrentOwner,bs=0,ws=3,xs=4,Es=0,Ss=null,Cs=null,ks=0,Ts=bs,Is=null,As=1073741823,Ms=1073741823,Ps=null,Os=0,Ns=!1,Ds=0,Rs=null,Ls=!1,Fs=null,js=null,Bs=!1,Vs=null,Us=90,qs=null,zs=0,Hs=null,Ws=0;function Gs(){return 0!==(48&Es)?1073741821-(Bi()/10|0):0!==Ws?Ws:Ws=1073741821-(Bi()/10|0)}function Ys(t,e,n){if(0===(2&(e=e.mode)))return 1073741823;var r=Vi();if(0===(4&e))return 99===r?1073741823:1073741822;if(0!==(16&Es))return ks;if(null!==n)t=Yi(t,0|n.timeoutMs||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=Yi(t,150,100);break;case 97:case 96:t=Yi(t,5e3,250);break;case 95:t=2;break;default:throw Error(a(326))}return null!==Ss&&t===ks&&--t,t}function $s(t,e){if(50<zs)throw zs=0,Hs=null,Error(a(185));if(null!==(t=Xs(t,e))){var n=Vi();1073741823===e?0!==(8&Es)&&0===(48&Es)?Zs(t):(Ks(t),0===Es&&Wi()):Ks(t),0===(4&Es)||98!==n&&99!==n||(null===qs?qs=new Map([[t,e]]):(void 0===(n=qs.get(t))||n>e)&&qs.set(t,e))}}function Xs(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Ss===i&&(au(e),Ts===xs&&Nu(i,ks)),Du(i,e)),i}function Qs(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Ou(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function Ks(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Hi(Zs.bind(null,t));else{var e=Qs(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=Gs();if(1073741823===e?r=99:1===e||2===e?r=95:r=0>=(r=10*(1073741821-e)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=r)return;n!==Oi&&Ei(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?Hi(Zs.bind(null,t)):zi(r,Js.bind(null,t),{timeout:10*(1073741821-e)-Bi()}),t.callbackNode=e}}}function Js(t,e){if(Ws=0,e)return Ru(t,e=Gs()),Ks(t),null;var n=Qs(t);if(0!==n){if(e=t.callbackNode,0!==(48&Es))throw Error(a(327));if(vu(),t===Ss&&n===ks||nu(t,n),null!==Cs){var r=Es;Es|=16;for(var i=iu();;)try{uu();break}catch(u){ru(t,u)}if(Zi(),Es=r,ms.current=i,1===Ts)throw e=Is,nu(t,n),Nu(t,n),Ks(t),e;if(null===Cs)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,r=Ts,Ss=null,r){case bs:case 1:throw Error(a(345));case 2:Ru(t,2<n?2:n);break;case ws:if(Nu(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=hu(i)),1073741823===As&&10<(i=Ds+500-Bi())){if(Ns){var o=t.lastPingedTime;if(0===o||o>=n){t.lastPingedTime=n,nu(t,n);break}}if(0!==(o=Qs(t))&&o!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}t.timeoutHandle=_n(fu.bind(null,t),i);break}fu(t);break;case xs:if(Nu(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=hu(i)),Ns&&(0===(i=t.lastPingedTime)||i>=n)){t.lastPingedTime=n,nu(t,n);break}if(0!==(i=Qs(t))&&i!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}if(1073741823!==Ms?r=10*(1073741821-Ms)-Bi():1073741823===As?r=0:(r=10*(1073741821-As)-5e3,0>(r=(i=Bi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ys(r/1960))-r)&&(r=n)),10<r){t.timeoutHandle=_n(fu.bind(null,t),r);break}fu(t);break;case 5:if(1073741823!==As&&null!==Ps){o=As;var s=Ps;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=Bi()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Nu(t,n),t.timeoutHandle=_n(fu.bind(null,t),r);break}}fu(t);break;default:throw Error(a(329))}if(Ks(t),t.callbackNode===e)return Js.bind(null,t)}}return null}function Zs(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,0!==(48&Es))throw Error(a(327));if(vu(),t===Ss&&e===ks||nu(t,e),null!==Cs){var n=Es;Es|=16;for(var r=iu();;)try{su();break}catch(i){ru(t,i)}if(Zi(),Es=n,ms.current=r,1===Ts)throw n=Is,nu(t,e),Nu(t,e),Ks(t),n;if(null!==Cs)throw Error(a(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Ss=null,fu(t),Ks(t)}return null}function tu(t,e){var n=Es;Es|=1;try{return t(e)}finally{0===(Es=n)&&Wi()}}function eu(t,e){var n=Es;Es&=-2,Es|=8;try{return t(e)}finally{0===(Es=n)&&Wi()}}function nu(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,bn(n)),null!==Cs)for(n=Cs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:No(),ui(fi),ui(hi);break;case 5:Ro(r);break;case 4:No();break;case 13:case 19:ui(Lo);break;case 10:to(r)}n=n.return}Ss=t,Cs=ku(t.current,null),ks=e,Ts=bs,Is=null,Ms=As=1073741823,Ps=null,Os=0,Ns=!1}function ru(t,e){for(;;){try{if(Zi(),Bo.current=ga,Wo)for(var n=qo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Uo=0,Ho=zo=qo=null,Wo=!1,null===Cs||null===Cs.return)return Ts=1,Is=e,Cs=null;t:{var i=t,o=Cs.return,a=Cs,s=e;if(e=ks,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&a.mode)){var l=a.alternate;l?(a.memoizedState=l.memoizedState,a.expirationTime=l.expirationTime):a.memoizedState=null}var c=0!==(1&Lo.current),h=o;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var d=h.memoizedProps;f=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!c)}}if(f){var v=h.updateQueue;if(null===v){var g=new Set;g.add(u),h.updateQueue=g}else v.add(u);if(0===(2&h.mode)){if(h.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=so(1073741823,null);y.tag=2,uo(a,y)}a.expirationTime=1073741823;break t}s=void 0,a=e;var m=i.pingCache;if(null===m?(m=i.pingCache=new ps,s=new Set,m.set(u,s)):void 0===(s=m.get(u))&&(s=new Set,m.set(u,s)),!s.has(a)){s.add(a);var _=_u.bind(null,i,u,a);u.then(_,_)}h.effectTag|=4096,h.expirationTime=e;break t}h=h.return}while(null!==h);s=Error((F(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+j(a))}5!==Ts&&(Ts=2),s=Ja(s,a),h=o;do{switch(h.tag){case 3:u=s,h.effectTag|=4096,h.expirationTime=e,lo(h,ds(h,u,e));break t;case 1:u=s;var b=h.type,w=h.stateNode;if(0===(64&h.effectTag)&&("function"===typeof b.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===js||!js.has(w)))){h.effectTag|=4096,h.expirationTime=e,lo(h,vs(h,u,e));break t}}h=h.return}while(null!==h)}Cs=cu(Cs)}catch(x){e=x;continue}break}}function iu(){var t=ms.current;return ms.current=ga,null===t?ga:t}function ou(t,e){t<As&&2<t&&(As=t),null!==e&&t<Ms&&2<t&&(Ms=t,Ps=e)}function au(t){t>Os&&(Os=t)}function su(){for(;null!==Cs;)Cs=lu(Cs)}function uu(){for(;null!==Cs&&!Ni();)Cs=lu(Cs)}function lu(t){var e=gs(t.alternate,t,ks);return t.memoizedProps=t.pendingProps,null===e&&(e=cu(t)),_s.current=null,e}function cu(t){Cs=t;do{var e=Cs.alternate;if(t=Cs.return,0===(2048&Cs.effectTag)){if(e=Qa(e,Cs,ks),1===ks||1!==Cs.childExpirationTime){for(var n=0,r=Cs.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Cs.childExpirationTime=n}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Cs.firstEffect),null!==Cs.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Cs.firstEffect),t.lastEffect=Cs.lastEffect),1<Cs.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Cs:t.firstEffect=Cs,t.lastEffect=Cs))}else{if(null!==(e=Ka(Cs)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Cs.sibling))return e;Cs=t}while(null!==Cs);return Ts===bs&&(Ts=5),null}function hu(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function fu(t){var e=Vi();return qi(99,pu.bind(null,t,e)),null}function pu(t,e){do{vu()}while(null!==Vs);if(0!==(48&Es))throw Error(a(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(a(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=hu(n);if(t.firstPendingTime=i,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Ss&&(Cs=Ss=null,ks=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Es;Es|=32,_s.current=null,vn=Ge;var s=pn();if(dn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else t:{var l=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(l&&0!==l.rangeCount){u=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{u.nodeType,h.nodeType}catch(k){u=null;break t}var f=0,p=-1,d=-1,v=0,g=0,y=s,m=null;e:for(;;){for(var _;y!==u||0!==c&&3!==y.nodeType||(p=f+c),y!==h||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(_=y.firstChild);)m=y,y=_;for(;;){if(y===s)break e;if(m===u&&++v===c&&(p=f),m===h&&++g===l&&(d=f),null!==(_=y.nextSibling))break;m=(y=m).parentNode}y=_}u=-1===p||-1===d?null:{start:p,end:d}}else u=null}u=u||{start:0,end:0}}else u=null;gn={activeElementDetached:null,focusedElem:s,selectionRange:u},Ge=!1,Rs=i;do{try{du()}catch(k){if(null===Rs)throw Error(a(330));mu(Rs,k),Rs=Rs.nextEffect}}while(null!==Rs);Rs=i;do{try{for(s=t,u=e;null!==Rs;){var b=Rs.effectTag;if(16&b&&Vt(Rs.stateNode,""),128&b){var w=Rs.alternate;if(null!==w){var x=w.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&b){case 2:ls(Rs),Rs.effectTag&=-3;break;case 6:ls(Rs),Rs.effectTag&=-3,hs(Rs.alternate,Rs);break;case 1024:Rs.effectTag&=-1025;break;case 1028:Rs.effectTag&=-1025,hs(Rs.alternate,Rs);break;case 4:hs(Rs.alternate,Rs);break;case 8:cs(s,c=Rs,u),ss(c)}Rs=Rs.nextEffect}}catch(k){if(null===Rs)throw Error(a(330));mu(Rs,k),Rs=Rs.nextEffect}}while(null!==Rs);if(x=gn,w=pn(),b=x.focusedElem,u=x.selectionRange,w!==b&&b&&b.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==u&&dn(b)&&(w=u.start,void 0===(x=u.end)&&(x=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(x,b.value.length)):(x=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),c=b.textContent.length,s=Math.min(u.start,c),u=void 0===u.end?s:Math.min(u.end,c),!x.extend&&s>u&&(c=u,u=s,s=c),c=fn(b,s),h=fn(b,u),c&&h&&(1!==x.rangeCount||x.anchorNode!==c.node||x.anchorOffset!==c.offset||x.focusNode!==h.node||x.focusOffset!==h.offset)&&((w=w.createRange()).setStart(c.node,c.offset),x.removeAllRanges(),s>u?(x.addRange(w),x.extend(h.node,h.offset)):(w.setEnd(h.node,h.offset),x.addRange(w))))),w=[];for(x=b;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(x=w[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Ge=!!vn,gn=vn=null,t.current=n,Rs=i;do{try{for(b=t;null!==Rs;){var E=Rs.effectTag;if(36&E&&os(b,Rs.alternate,Rs),128&E){w=void 0;var S=Rs.ref;if(null!==S){var C=Rs.stateNode;switch(Rs.tag){case 5:w=C;break;default:w=C}"function"===typeof S?S(w):S.current=w}}Rs=Rs.nextEffect}}catch(k){if(null===Rs)throw Error(a(330));mu(Rs,k),Rs=Rs.nextEffect}}while(null!==Rs);Rs=null,Di(),Es=o}else t.current=n;if(Bs)Bs=!1,Vs=t,Us=e;else for(Rs=i;null!==Rs;)e=Rs.nextEffect,Rs.nextEffect=null,Rs=e;if(0===(e=t.firstPendingTime)&&(js=null),1073741823===e?t===Hs?zs++:(zs=0,Hs=t):zs=0,"function"===typeof wu&&wu(n.stateNode,r),Ks(t),Ls)throw Ls=!1,t=Fs,Fs=null,t;return 0!==(8&Es)||Wi(),null}function du(){for(;null!==Rs;){var t=Rs.effectTag;0!==(256&t)&&ns(Rs.alternate,Rs),0===(512&t)||Bs||(Bs=!0,zi(97,(function(){return vu(),null}))),Rs=Rs.nextEffect}}function vu(){if(90!==Us){var t=97<Us?97:Us;return Us=90,qi(t,gu)}}function gu(){if(null===Vs)return!1;var t=Vs;if(Vs=null,0!==(48&Es))throw Error(a(331));var e=Es;for(Es|=32,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:rs(5,n),is(5,n)}}catch(r){if(null===t)throw Error(a(330));mu(t,r)}n=t.nextEffect,t.nextEffect=null,t=n}return Es=e,Wi(),!0}function yu(t,e,n){uo(t,e=ds(t,e=Ja(n,e),1073741823)),null!==(t=Xs(t,1073741823))&&Ks(t)}function mu(t,e){if(3===t.tag)yu(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){yu(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===js||!js.has(r))){uo(n,t=vs(n,t=Ja(e,t),1073741823)),null!==(n=Xs(n,1073741823))&&Ks(n);break}}n=n.return}}function _u(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),Ss===t&&ks===n?Ts===xs||Ts===ws&&1073741823===As&&Bi()-Ds<500?nu(t,ks):Ns=!0:Ou(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,Ks(t)))}function bu(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=Ys(e=Gs(),t,null)),null!==(t=Xs(t,e))&&Ks(t)}gs=function(t,e,n){var r=e.expirationTime;if(null!==t){var i=e.pendingProps;if(t.memoizedProps!==i||fi.current)Ma=!0;else{if(r<n){switch(Ma=!1,e.tag){case 3:Ba(e),Ia();break;case 5:if(Do(e),4&e.mode&&1!==n&&i.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:vi(e.type)&&_i(e);break;case 4:Oo(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value,i=e.type._context,li(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?Ha(t,e,n):(li(Lo,1&Lo.current),null!==(e=$a(t,e,n))?e.sibling:null);li(Lo,1&Lo.current);break;case 19:if(r=e.childExpirationTime>=n,0!==(64&t.effectTag)){if(r)return Ya(t,e,n);e.effectTag|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null),li(Lo,Lo.current),!r)return null}return $a(t,e,n)}Ma=!1}}else Ma=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=di(e,hi.current),no(e,n),i=$o(null,e,r,t,i,n),e.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,vi(r)){var o=!0;_i(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(e);var s=r.getDerivedStateFromProps;"function"===typeof s&&vo(e,r,s,t),i.updater=go,e.stateNode=i,i._reactInternalFiber=e,bo(e,r,t,n),e=ja(null,e,r,!0,o,n)}else e.tag=0,Pa(null,e,i,n),e=e.child;return e;case 16:t:{if(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,e.type=i,o=e.tag=function(t){if("function"===typeof t)return Cu(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===A)return 11;if(t===O)return 14}return 2}(i),t=$i(i,t),o){case 0:e=La(null,e,i,t,n);break t;case 1:e=Fa(null,e,i,t,n);break t;case 11:e=Oa(null,e,i,t,n);break t;case 14:e=Na(null,e,i,$i(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,La(t,e,r,i=e.elementType===r?i:$i(r,i),n);case 1:return r=e.type,i=e.pendingProps,Fa(t,e,r,i=e.elementType===r?i:$i(r,i),n);case 3:if(Ba(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,ao(t,e),co(e,r,null,n),(r=e.memoizedState.element)===i)Ia(),e=$a(t,e,n);else{if((i=e.stateNode.hydrate)&&(wa=wn(e.stateNode.containerInfo.firstChild),ba=e,i=xa=!0),i)for(n=ko(e,null,r,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Pa(t,e,r,n),Ia();e=e.child}return e;case 5:return Do(e),null===t&&Ca(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,mn(r,i)?s=null:null!==o&&mn(r,o)&&(e.effectTag|=16),Ra(t,e),4&e.mode&&1!==n&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Pa(t,e,s,n),e=e.child),e;case 6:return null===t&&Ca(e),null;case 13:return Ha(t,e,n);case 4:return Oo(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Co(e,null,r,n):Pa(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Oa(t,e,r,i=e.elementType===r?i:$i(r,i),n);case 7:return Pa(t,e,e.pendingProps,n),e.child;case 8:case 12:return Pa(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var u=e.type._context;if(li(Xi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=Fr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!fi.current){e=$a(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===u.tag&&((c=so(n,null)).tag=2,uo(u,c)),u.expirationTime<n&&(u.expirationTime=n),null!==(c=u.alternate)&&c.expirationTime<n&&(c.expirationTime=n),eo(u.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Pa(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,no(e,n),r=r(i=ro(i,o.unstable_observedBits)),e.effectTag|=1,Pa(t,e,r,n),e.child;case 14:return o=$i(i=e.type,e.pendingProps),Na(t,e,i,o=$i(i.type,o),r,n);case 15:return Da(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,vi(r)?(t=!0,_i(e)):t=!1,no(e,n),mo(e,r,i),bo(e,r,i,n),ja(null,e,r,!0,t,n);case 19:return Ya(t,e,n)}throw Error(a(156,e.tag))};var wu=null,xu=null;function Eu(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Su(t,e,n,r){return new Eu(t,e,n,r)}function Cu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function ku(t,e){var n=t.alternate;return null===n?((n=Su(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tu(t,e,n,r,i,o){var s=2;if(r=t,"function"===typeof t)Cu(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case E:return Iu(n.children,i,o,e);case I:s=8,i|=7;break;case S:s=8,i|=1;break;case C:return(t=Su(12,n,e,8|i)).elementType=C,t.type=C,t.expirationTime=o,t;case M:return(t=Su(13,n,e,i)).type=M,t.elementType=M,t.expirationTime=o,t;case P:return(t=Su(19,n,e,i)).elementType=P,t.expirationTime=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case k:s=10;break t;case T:s=9;break t;case A:s=11;break t;case O:s=14;break t;case N:s=16,r=null;break t;case D:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=Su(s,n,e,i)).elementType=t,e.type=r,e.expirationTime=o,e}function Iu(t,e,n,r){return(t=Su(7,t,r,e)).expirationTime=n,t}function Au(t,e,n){return(t=Su(6,t,null,e)).expirationTime=n,t}function Mu(t,e,n){return(e=Su(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Pu(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ou(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function Nu(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Du(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Ru(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function Lu(t,e,n,r){var i=e.current,o=Gs(),s=fo.suspense;o=Ys(o,i,s);t:if(n){e:{if(Zt(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(vi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var l=n.type;if(vi(l)){n=mi(n,l,u);break t}}n=u}else n=ci;return null===e.context?e.context=n:e.pendingContext=n,(e=so(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),uo(i,e),$s(i,o),o}function Fu(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function ju(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function Bu(t,e){ju(t,e),(t=t.alternate)&&ju(t,e)}function Vu(t,e,n){var r=new Pu(t,e,n=null!=n&&!0===n.hydrate),i=Su(3,null,null,2===e?7:1===e?3:0);r.current=i,i.stateNode=r,oo(i),t[kn]=r.current,n&&0!==e&&function(t,e){var n=Jt(e);ke.forEach((function(t){de(t,e,n)})),Te.forEach((function(t){de(t,e,n)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=r}function Uu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function qu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var t=Fu(a);s.call(t)}}Lu(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Vu(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var t=Fu(a);u.call(t)}}eu((function(){Lu(e,a,t,i)}))}return Fu(a)}function zu(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Hu(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Uu(e))throw Error(a(200));return zu(t,e,null,n)}Vu.prototype.render=function(t){Lu(t,this._internalRoot,null,null)},Vu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Lu(null,t,null,(function(){e[kn]=null}))},ve=function(t){if(13===t.tag){var e=Yi(Gs(),150,100);$s(t,e),Bu(t,e)}},ge=function(t){13===t.tag&&($s(t,3),Bu(t,3))},ye=function(t){if(13===t.tag){var e=Gs();$s(t,e=Ys(e,t,null)),Bu(t,e)}},X=function(t,e,n){switch(e){case"input":if(Ct(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Mn(r);if(!i)throw Error(a(90));wt(r),Ct(r,i)}}}break;case"textarea":Ot(t,n);break;case"select":null!=(e=n.value)&&At(t,!!n.multiple,e,!1)}},et=tu,nt=function(t,e,n,r,i){var o=Es;Es|=4;try{return qi(98,t.bind(null,e,n,r,i))}finally{0===(Es=o)&&Wi()}},rt=function(){0===(49&Es)&&(function(){if(null!==qs){var t=qs;qs=null,t.forEach((function(t,e){Ru(e,t),Ks(e)})),Wi()}}(),vu())},it=function(t,e){var n=Es;Es|=2;try{return t(e)}finally{0===(Es=n)&&Wi()}};var Wu={Events:[In,An,Mn,Y,H,Fn,function(t){ie(t,Ln)},Z,tt,Ke,se,vu,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);wu=function(t){try{e.onCommitFiberRoot(n,t,void 0,64===(64&t.current.effectTag))}catch(r){}},xu=function(t){try{e.onCommitFiberUnmount(n,t)}catch(r){}}}catch(r){}})(i({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:m.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ne(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Tn,bundleType:0,version:"16.13.0",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wu,e.createPortal=Hu,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=ne(e))?null:t.stateNode},e.flushSync=function(t,e){if(0!==(48&Es))throw Error(a(187));var n=Es;Es|=1;try{return qi(99,t.bind(null,e))}finally{Es=n,Wi()}},e.hydrate=function(t,e,n){if(!Uu(e))throw Error(a(200));return qu(null,t,e,!0,n)},e.render=function(t,e,n){if(!Uu(e))throw Error(a(200));return qu(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Uu(t))throw Error(a(40));return!!t._reactRootContainer&&(eu((function(){qu(null,null,t,!1,(function(){t._reactRootContainer=null,t[kn]=null}))})),!0)},e.unstable_batchedUpdates=tu,e.unstable_createPortal=function(t,e){return Hu(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Uu(n))throw Error(a(200));if(null==t||void 0===t._reactInternalFiber)throw Error(a(38));return qu(t,e,n,!1,r)},e.version="16.13.0"},function(t,e,n){"use strict";t.exports=n(58)},function(t,e,n){"use strict";var r,i,o,a,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,l=null,c=function t(){if(null!==u)try{var n=e.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(t,0),r}},h=Date.now();e.unstable_now=function(){return Date.now()-h},r=function(t){null!==u?setTimeout(r,0,t):(u=t,setTimeout(c,0))},i=function(t,e){l=setTimeout(t,e)},o=function(){clearTimeout(l)},a=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var f=window.performance,p=window.Date,d=window.setTimeout,v=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)e.unstable_now=function(){return f.now()};else{var y=p.now();e.unstable_now=function(){return p.now()-y}}var m=!1,_=null,b=-1,w=5,x=0;a=function(){return e.unstable_now()>=x},s=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<t?Math.floor(1e3/t):5};var E=new MessageChannel,S=E.port2;E.port1.onmessage=function(){if(null!==_){var t=e.unstable_now();x=t+w;try{_(!0,t)?S.postMessage(null):(m=!1,_=null)}catch(n){throw S.postMessage(null),n}}else m=!1},r=function(t){_=t,m||(m=!0,S.postMessage(null))},i=function(t,n){b=d((function(){t(e.unstable_now())}),n)},o=function(){v(b),b=-1}}function C(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<I(i,e)))break t;t[r]=e,t[n]=i,n=r}}function k(t){return void 0===(t=t[0])?null:t}function T(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,u=t[s];if(void 0!==a&&0>I(a,n))void 0!==u&&0>I(u,a)?(t[r]=u,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==u&&0>I(u,n)))break t;t[r]=u,t[s]=n,r=s}}}return e}return null}function I(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var A=[],M=[],P=1,O=null,N=3,D=!1,R=!1,L=!1;function F(t){for(var e=k(M);null!==e;){if(null===e.callback)T(M);else{if(!(e.startTime<=t))break;T(M),e.sortIndex=e.expirationTime,C(A,e)}e=k(M)}}function j(t){if(L=!1,F(t),!R)if(null!==k(A))R=!0,r(B);else{var e=k(M);null!==e&&i(j,e.startTime-t)}}function B(t,n){R=!1,L&&(L=!1,o()),D=!0;var r=N;try{for(F(n),O=k(A);null!==O&&(!(O.expirationTime>n)||t&&!a());){var s=O.callback;if(null!==s){O.callback=null,N=O.priorityLevel;var u=s(O.expirationTime<=n);n=e.unstable_now(),"function"===typeof u?O.callback=u:O===k(A)&&T(A),F(n)}else T(A);O=k(A)}if(null!==O)var l=!0;else{var c=k(M);null!==c&&i(j,c.startTime-n),l=!1}return l}finally{O=null,N=r,D=!1}}function V(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=s;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){R||D||(R=!0,r(B))},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return k(A)},e.unstable_next=function(t){switch(N){case 1:case 2:case 3:var e=3;break;default:e=N}var n=N;N=e;try{return t()}finally{N=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=U,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=N;N=t;try{return e()}finally{N=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();if("object"===typeof a&&null!==a){var u=a.delay;u="number"===typeof u&&0<u?s+u:s,a="number"===typeof a.timeout?a.timeout:V(t)}else a=V(t),u=s;return t={id:P++,callback:n,priorityLevel:t,startTime:u,expirationTime:a=u+a,sortIndex:-1},u>s?(t.sortIndex=u,C(M,t),null===k(A)&&t===k(M)&&(L?o():L=!0,i(j,u-s))):(t.sortIndex=a,C(A,t),R||D||(R=!0,r(B))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();F(t);var n=k(A);return n!==O&&null!==O&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<O.expirationTime||a()},e.unstable_wrapCallback=function(t){var e=N;return function(){var n=N;N=e;try{return t.apply(this,arguments)}finally{N=n}}}},function(t,e,n){"use strict";var r=n(60);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,_=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function x(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case h:case f:case a:case u:case s:case d:return t;default:switch(t=t&&t.$$typeof){case c:case p:case y:case g:case l:return t;default:return e}}case o:return e}}}function E(t){return x(t)===f}e.AsyncMode=h,e.ConcurrentMode=f,e.ContextConsumer=c,e.ContextProvider=l,e.Element=i,e.ForwardRef=p,e.Fragment=a,e.Lazy=y,e.Memo=g,e.Portal=o,e.Profiler=u,e.StrictMode=s,e.Suspense=d,e.isAsyncMode=function(t){return E(t)||x(t)===h},e.isConcurrentMode=E,e.isContextConsumer=function(t){return x(t)===c},e.isContextProvider=function(t){return x(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return x(t)===p},e.isFragment=function(t){return x(t)===a},e.isLazy=function(t){return x(t)===y},e.isMemo=function(t){return x(t)===g},e.isPortal=function(t){return x(t)===o},e.isProfiler=function(t){return x(t)===u},e.isStrictMode=function(t){return x(t)===s},e.isSuspense=function(t){return x(t)===d},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===f||t===u||t===s||t===d||t===v||"object"===typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===g||t.$$typeof===l||t.$$typeof===c||t.$$typeof===p||t.$$typeof===_||t.$$typeof===b||t.$$typeof===w||t.$$typeof===m)},e.typeOf=x},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return d})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return m})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return x})),n.d(e,"__importDefault",(function(){return E}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function m(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(t){s("next",t)}function l(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function x(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return d})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return m})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return x})),n.d(e,"__importDefault",(function(){return E}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function m(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(t){s("next",t)}function l(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function x(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return d})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return m})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return x})),n.d(e,"__importDefault",(function(){return E}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function m(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(t){s("next",t)}function l(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function x(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";n.r(e),function(t){var e=n(2),r=n.n(e);(function(){var e,n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var i=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function a(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,e){if(e){var r=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in r||(r[a]={}),r=r[a]}(e=e(o=r[t=t[t.length-1]]))!=o&&null!=e&&n(r,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=i.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.v(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.o=function(t){var e=this.f();t.La(e.resolve,e.reject)},e.prototype.v=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.La(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.La=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=a(t),o=i.next();!o.done;o=i.next())r(o.value).La(e,n)}))},e.all=function(t){var n=a(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).La(o(a.length-1),e),i=n.next()}while(!i.done)}))},e}));var s=s||{},u=this||self;function l(t){return"string"==typeof t}function c(t){return"boolean"==typeof t}var h=/^[\w+/_-]+[=]{0,2}$/,f=null;function p(){}function d(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function v(t){return null===t}function g(t){return"array"==d(t)}function y(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function m(t){return"function"==d(t)}function _(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var b="closure_uid_"+(1e9*Math.random()>>>0),w=0;function x(t,e,n){return t.call.apply(t.bind,arguments)}function E(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function S(t,e,n){return(S=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?x:E).apply(null,arguments)}function C(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var k=Date.now||function(){return+new Date};function T(t,e){function n(){}n.prototype=e.prototype,t.qb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function I(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function A(t){if(Error.captureStackTrace)Error.captureStackTrace(this,A);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function M(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");A.call(this,n+t[r])}function P(t,e){throw new M("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function O(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function N(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function D(){this.b=this.a=null}T(A,Error),A.prototype.name="CustomError",T(M,A),M.prototype.name="AssertionError",O.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var R=new O((function(){return new F}),(function(t){t.reset()}));function L(){var t=Ht,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function F(){this.next=this.b=this.a=null}function j(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&"undefined"!=typeof i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(_(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;P("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}D.prototype.add=function(t,e){var n=R.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},F.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},F.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(l(t))return l(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},V=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=l(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var U=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=l(t)?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},q=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=l(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function z(t,e){return 0<=B(t,e)}function H(t,e){var n;return(n=0<=(e=B(t,e)))&&Array.prototype.splice.call(t,e,1),n}function W(t,e){!function(t,e){for(var n=l(t)?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function G(t){return Array.prototype.concat.apply([],arguments)}function Y(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function $(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function X(t){for(var e in t)return!1;return!0}function Q(t){var e,n={};for(e in t)n[e]=t[e];return n}var K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<K.length;o++)n=K[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Z(t,e){this.a=t===nt&&e||"",this.b=et}function tt(t){return t instanceof Z&&t.constructor===Z&&t.b===et?t.a:(P("expected object of type Const, got '"+t+"'"),"type_error:Const")}Z.prototype.qa=!0,Z.prototype.pa=function(){return this.a},Z.prototype.toString=function(){return"Const{"+this.a+"}"};var et={},nt={},rt=new Z(nt,"");function it(){this.a="",this.b=lt}function ot(t){return t instanceof it&&t.constructor===it&&t.b===lt?t.a:(P("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function at(t,e){var n=tt(t);if(!ut.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return ct(t=n.replace(st,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof Z?tt(t):encodeURIComponent(String(t))})))}it.prototype.qa=!0,it.prototype.pa=function(){return this.a.toString()},it.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var st=/%{(\w+)}/g,ut=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,lt={};function ct(t){var e=new it;return e.a=t,e}var ht=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},ft=/&/g,pt=/</g,dt=/>/g,vt=/"/g,gt=/'/g,yt=/\x00/g,mt=/[\x00&<>"']/;function _t(t,e){return-1!=t.indexOf(e)}function bt(t,e){return t<e?-1:t>e?1:0}function wt(){this.a="",this.b=kt}function xt(t){return t instanceof wt&&t.constructor===wt&&t.b===kt?t.a:(P("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}wt.prototype.qa=!0,wt.prototype.pa=function(){return this.a.toString()},wt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Et=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function St(t){return t instanceof wt?t:(t="object"==typeof t&&t.qa?t.pa():String(t),Et.test(t)||(t="about:invalid#zClosurez"),Tt(t))}var Ct,kt={};function Tt(t){var e=new wt;return e.a=t,e}Tt("about:blank");t:{var It=u.navigator;if(It){var At=It.userAgent;if(At){Ct=At;break t}}Ct=""}function Mt(t){return _t(Ct,t)}function Pt(){this.a="",this.b=Nt}function Ot(t){return t instanceof Pt&&t.constructor===Pt&&t.b===Nt?t.a:(P("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}Pt.prototype.qa=!0,Pt.prototype.pa=function(){return this.a.toString()},Pt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Nt={};function Dt(t){var e=new Pt;return e.a=t,e}Dt("<!DOCTYPE html>");var Rt,Lt,Ft=Dt("");function jt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Bt(t){return mt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(ft,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(pt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(dt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(vt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(gt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(yt,"&#0;"))),t}function Vt(t){u.setTimeout((function(){throw t}),0)}function Ut(){var t=u.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!Mt("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",function(t){var e=ct(tt(rt));j(t,"HTMLIFrameElement"),t.src=ot(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Ot(Ft)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=S((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!Mt("Trident")&&!Mt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).yb;n.yb=null,t()}},function(t){r.next={yb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){u.setTimeout(t,0)}}function qt(t,e){Lt||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);Lt=function(){t.then(Wt)}}else Lt=function(){var t=Wt;!m(u.setImmediate)||u.Window&&u.Window.prototype&&!Mt("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(Rt||(Rt=Ut()),Rt(t)):u.setImmediate(t)}}(),zt||(Lt(),zt=!0),Ht.add(t,e)}Dt("<br>");var zt=!1,Ht=new D;function Wt(){for(var t;t=L();){try{t.a.call(t.b)}catch(e){Vt(e)}N(R,t)}zt=!1}function Gt(t,e){if(this.a=Yt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=p)try{var n=this;t.call(e,(function(t){oe(n,$t,t)}),(function(t){if(!(t instanceof fe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}oe(n,Xt,t)}))}catch(r){oe(this,Xt,r)}}var Yt=0,$t=2,Xt=3;function Qt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Qt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Kt=new O((function(){return new Qt}),(function(t){t.reset()}));function Jt(t,e,n){var r=Kt.get();return r.g=t,r.b=e,r.f=n,r}function Zt(t){if(t instanceof Gt)return t;var e=new Gt(p);return oe(e,$t,t),e}function te(t){return new Gt((function(e,n){n(t)}))}function ee(t,e,n){ae(t,e,n,null)||qt(C(e,t))}function ne(t){return new Gt((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Gb:!0,value:o}:{Gb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)ee(t[o],C(i,o,!0),C(i,o,!1));else e(r)}))}function re(t,e){t.b||t.a!=$t&&t.a!=Xt||se(t),t.f?t.f.next=e:t.b=e,t.f=e}function ie(t,e,n,r){var i=Jt(null,null,null);return i.a=new Gt((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof fe?o(e):t(i)}catch(a){o(a)}}:o})),i.a.c=t,re(t,i),i.a}function oe(t,e,n){t.a==Yt&&(t===n&&(e=Xt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,ae(n,t.Oc,t.Pc,t)||(t.i=n,t.a=e,t.c=null,se(t),e!=Xt||n instanceof fe||function(t,e){t.g=!0,qt((function(){t.g&&he.call(null,e)}))}(t,n)))}function ae(t,e,n,r){if(t instanceof Gt)return re(t,Jt(e||p,n||null,r)),!0;if(I(t))return t.then(e,n,r),!0;if(_(t))try{var i=t.then;if(m(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(s){o(s)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function se(t){t.h||(t.h=!0,qt(t.Zb,t))}function ue(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function le(t,e,n,r){if(n==Xt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,ce(e,n,r);else try{e.c?e.g.call(e.f):ce(e,n,r)}catch(i){he.call(null,i)}N(Kt,e)}function ce(t,e,n){e==$t?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Gt.prototype.then=function(t,e,n){return ie(this,m(t)?t:null,m(e)?e:null,n)},Gt.prototype.$goog_Thenable=!0,(e=Gt.prototype).ka=function(t,e){return(t=Jt(t,t,e)).c=!0,re(this,t),this},e.s=function(t,e){return ie(this,null,t,e)},e.cancel=function(t){this.a==Yt&&qt((function(){!function t(e,n){if(e.a==Yt)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==Yt&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):ue(r),le(r,o,Xt,n)))}e.c=null}else oe(e,Xt,n)}(this,new fe(t))}),this)},e.Oc=function(t){this.a=Yt,oe(this,$t,t)},e.Pc=function(t){this.a=Yt,oe(this,Xt,t)},e.Zb=function(){for(var t;t=ue(this);)le(this,t,this.a,this.i);this.h=!1};var he=Vt;function fe(t){A.call(this,t)}function pe(){0!=de&&(ve[this[b]||(this[b]=++w)]=this),this.va=this.va,this.la=this.la}T(fe,A),fe.prototype.name="cancel";var de=0,ve={};function ge(t){if(!t.va&&(t.va=!0,t.za(),0!=de)){var e=t[b]||(t[b]=++w);if(0!=de&&t.la&&0<t.la.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ve[e]}}function ye(t){return ye[" "](t),t}pe.prototype.va=!1,pe.prototype.za=function(){if(this.la)for(;this.la.length;)this.la.shift()()},ye[" "]=p;var me,_e=Mt("Opera"),be=Mt("Trident")||Mt("MSIE"),we=Mt("Edge"),xe=we||be,Ee=Mt("Gecko")&&!(_t(Ct.toLowerCase(),"webkit")&&!Mt("Edge"))&&!(Mt("Trident")||Mt("MSIE"))&&!Mt("Edge"),Se=_t(Ct.toLowerCase(),"webkit")&&!Mt("Edge");function Ce(){var t=u.document;return t?t.documentMode:void 0}t:{var ke="",Te=function(){var t=Ct;return Ee?/rv:([^\);]+)(\)|;)/.exec(t):we?/Edge\/([\d\.]+)/.exec(t):be?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Se?/WebKit\/(\S+)/.exec(t):_e?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Te&&(ke=Te?Te[1]:""),be){var Ie=Ce();if(null!=Ie&&Ie>parseFloat(ke)){me=String(Ie);break t}}me=ke}var Ae,Me={};function Pe(t){return function(t,e){var n=Me;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=ht(String(me)).split("."),r=ht(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=bt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||bt(0==a[2].length,0==s[2].length)||bt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}Ae=u.document&&be?Ce():void 0;var Oe=Object.freeze||function(t){return t},Ne=!be||9<=Number(Ae),De=be&&!Pe("9"),Re=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",p,e),u.removeEventListener("test",p,e)}catch(n){}return t}();function Le(t,e){this.type=t,this.b=this.target=e,this.Mb=!0}function Fe(t,e){if(Le.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Ee){t:{try{ye(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=l(t.pointerType)?t.pointerType:je[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Le.prototype.preventDefault=function(){this.Mb=!1},T(Fe,Le);var je=Oe({2:"touch",3:"pen",4:"mouse"});Fe.prototype.preventDefault=function(){Fe.qb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,De)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Fe.prototype.f=function(){return this.a};var Be="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function Ue(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Pa=i,this.key=++Ve,this.ta=this.Ka=!1}function qe(t){t.ta=!0,t.listener=null,t.proxy=null,t.src=null,t.Pa=null}function ze(t){this.src=t,this.a={},this.b=0}function He(t,e){var n=e.type;n in t.a&&H(t.a[n],e)&&(qe(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function We(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ta&&o.listener==e&&o.capture==!!n&&o.Pa==r)return i}return-1}ze.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=We(t,e,r,i);return-1<a?(e=t[a],n||(e.Ka=!1)):((e=new Ue(e,this.src,o,!!r,i)).Ka=n,t.push(e)),e};var Ge="closure_lm_"+(1e6*Math.random()|0),Ye={};function $e(t,e,n,r,i){if(r&&r.once)Qe(t,e,n,r,i);else if(g(e))for(var o=0;o<e.length;o++)$e(t,e[o],n,r,i);else n=an(n),t&&t[Be]?un(t,e,n,_(r)?!!r.capture:!!r,i):Xe(t,e,n,!1,r,i)}function Xe(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=_(i)?!!i.capture:!!i,s=rn(t);if(s||(t[Ge]=s=new ze(t)),!(n=s.add(e,n,r,a,o)).proxy){if(r=function(){var t=nn,e=Ne?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Re||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ze(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function Qe(t,e,n,r,i){if(g(e))for(var o=0;o<e.length;o++)Qe(t,e[o],n,r,i);else n=an(n),t&&t[Be]?ln(t,e,n,_(r)?!!r.capture:!!r,i):Xe(t,e,n,!0,r,i)}function Ke(t,e,n,r,i){if(g(e))for(var o=0;o<e.length;o++)Ke(t,e[o],n,r,i);else r=_(r)?!!r.capture:!!r,n=an(n),t&&t[Be]?(t=t.u,(e=String(e).toString())in t.a&&(-1<(n=We(o=t.a[e],n,r,i))&&(qe(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=rn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=We(e,n,r,i)),(n=-1<t?e[t]:null)&&Je(n))}function Je(t){if("number"!=typeof t&&t&&!t.ta){var e=t.src;if(e&&e[Be])He(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ze(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=rn(e))?(He(n,t),0==n.b&&(n.src=null,e[Ge]=null)):qe(t)}}}function Ze(t){return t in Ye?Ye[t]:Ye[t]="on"+t}function tn(t,e,n,r){var i=!0;if((t=rn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ta&&(o=en(o,r),i=i&&!1!==o)}return i}function en(t,e){var n=t.listener,r=t.Pa||t.src;return t.Ka&&Je(t),n.call(r,e)}function nn(t,e){if(t.ta)return!0;if(!Ne){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Fe(r=e,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=tn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=tn(r[i],t,!1,e),n=n&&o}return n}return en(t,new Fe(e,this))}function rn(t){return(t=t[Ge])instanceof ze?t:null}var on="__closure_events_fn_"+(1e9*Math.random()>>>0);function an(t){return m(t)?t:(t[on]||(t[on]=function(e){return t.handleEvent(e)}),t[on])}function sn(){pe.call(this),this.u=new ze(this),this.Sb=this,this.Xa=null}function un(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function ln(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function cn(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ta&&a.capture==n){var s=a.listener,u=a.Pa||a.src;a.Ka&&He(t.u,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Mb}function hn(t,e,n){if(m(t))n&&(t=S(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=S(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function fn(t){var e=null;return new Gt((function(n,r){-1==(e=hn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).s((function(t){throw u.clearTimeout(e),t}))}function pn(t){if(t.U&&"function"==typeof t.U)return t.U();if(l(t))return t.split("");if(y(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function dn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.U||"function"!=typeof t.U){if(y(t)||l(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function vn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof vn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function gn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];yn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)yn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function yn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}T(sn,pe),sn.prototype[Be]=!0,sn.prototype.addEventListener=function(t,e,n,r){$e(this,t,e,n,r)},sn.prototype.removeEventListener=function(t,e,n,r){Ke(this,t,e,n,r)},sn.prototype.dispatchEvent=function(t){var e,n=this.Xa;if(n)for(e=[];n;n=n.Xa)e.push(n);n=this.Sb;var r=t.type||t;if(l(t))t=new Le(t,n);else if(t instanceof Le)t.target=t.target||n;else{var i=t;J(t=new Le(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=cn(a,r,!0,t)&&i}if(i=cn(a=t.b=n,r,!0,t)&&i,i=cn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=cn(a=t.b=e[o],r,!1,t)&&i;return i},sn.prototype.za=function(){if(sn.qb.za.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)qe(n[r]);delete e.a[t],e.b--}}this.Xa=null},(e=vn.prototype).U=function(){gn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},e.X=function(){return gn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(t,e){return yn(this.b,t)?this.b[t]:e},e.set=function(t,e){yn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},e.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var mn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _n(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof _n?(this.h=void 0!==e?e:t.h,bn(this,t.f),this.i=t.i,this.b=t.b,wn(this,t.l),this.c=t.c,xn(this,Un(t.a)),this.g=t.g):t&&(n=String(t).match(mn))?(this.h=!!e,bn(this,n[1]||"",!0),this.i=Tn(n[2]||""),this.b=Tn(n[3]||"",!0),wn(this,n[4]),this.c=Tn(n[5]||"",!0),xn(this,n[6]||"",!0),this.g=Tn(n[7]||"")):(this.h=!!e,this.a=new Rn(null,this.h))}function bn(t,e,n){t.f=n?Tn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function wn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function xn(t,e,n){e instanceof Rn?(t.a=e,function(t,e){e&&!t.f&&(Ln(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(jn(this,e),Vn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=In(e,Nn)),t.a=new Rn(e,t.h))}function En(t,e,n){t.a.set(e,n)}function Sn(t,e){return t.a.get(e)}function Cn(t){return t instanceof _n?new _n(t):new _n(t,void 0)}function kn(t,e){var n=new _n(null,void 0);return bn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Tn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function In(t,e,n){return l(t)?(t=encodeURI(t).replace(e,An),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function An(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}_n.prototype.toString=function(){var t=[],e=this.f;e&&t.push(In(e,Mn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(In(e,Mn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(In(n,"/"==n.charAt(0)?On:Pn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",In(n,Dn)),t.join("")},_n.prototype.resolve=function(t){var e=new _n(this),n=!!t.f;n?bn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)wn(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(_t(i,"./")||_t(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?xn(e,Un(t.a)):n=!!t.g,n&&(e.g=t.g),e};var Mn=/[#\/\?@]/g,Pn=/[#\?:]/g,On=/[#\?]/g,Nn=/[#\?@]/g,Dn=/#/g;function Rn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ln(t){t.a||(t.a=new vn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Fn(t){var e=dn(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new Rn(null,void 0);t=pn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];g(o)?Vn(n,i,o):n.add(i,o)}return n}function jn(t,e){Ln(t),e=qn(t,e),yn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,yn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&gn(t)))}function Bn(t,e){return Ln(t),e=qn(t,e),yn(t.a.b,e)}function Vn(t,e,n){jn(t,e),0<n.length&&(t.c=null,t.a.set(qn(t,e),Y(n)),t.b+=n.length)}function Un(t){var e=new Rn;return e.c=t.c,t.a&&(e.a=new vn(t.a),e.b=t.b),e}function qn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(e=Rn.prototype).add=function(t,e){Ln(this),this.c=null,t=qn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(t,e){Ln(this),this.a.forEach((function(n,r){V(n,(function(n){t.call(e,n,r,this)}),this)}),this)},e.X=function(){Ln(this);for(var t=this.a.U(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},e.U=function(t){Ln(this);var e=[];if(l(t))Bn(this,t)&&(e=G(e,this.a.get(qn(this,t))));else{t=this.a.U();for(var n=0;n<t.length;n++)e=G(e,t[n])}return e},e.set=function(t,e){return Ln(this),this.c=null,Bn(this,t=qn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},e.get=function(t,e){return t&&0<(t=this.U(t)).length?String(t[0]):e},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.U(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var zn=!be||9<=Number(Ae);function Hn(t){var e=document;return l(t)?e.getElementById(t):t}function Wn(t,e){$(e,(function(e,n){e&&"object"==typeof e&&e.qa&&(e=e.pa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Gn.hasOwnProperty(n)?t.setAttribute(Gn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var Gn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Yn(t,e,n){function r(n){n&&e.appendChild(l(n)?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!y(o)||_(o)&&0<o.nodeType?r(o):V($n(o)?Y(o):o,r)}}function $n(t){if(t&&"number"==typeof t.length){if(_(t))return"function"==typeof t.item||"string"==typeof t.item;if(m(t))return"function"==typeof t.item}return!1}function Xn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(g(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(a=n[i])&&(r.push(o),Zn(i,r),r.push(":"),t(e,a,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Zn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Qn,t,e),e.join("")}function Qn(){}var Kn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Jn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Zn(t,e){e.push('"',t.replace(Jn,(function(t){var e=Kn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Kn[t]=e),e})),'"')}function tr(){var t=_r();return be&&!!Ae&&11==Ae||/Edge\/\d+/.test(t)}function er(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function nr(t,e){e=e||u.window;var n="about:blank";t&&(n=xt(St(t)).toString()),e.location.href=n}function rr(t){return!!((t=(t||_r()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function ir(t){t=t||u.window;try{t.close()}catch(e){}}function or(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=_r().toLowerCase(),r&&(e.target=r,_t(n,"crios/")&&(e.target="_blank")),gr(_r())==dr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof wt?n:St("undefined"!=typeof n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((Mt("iPhone")&&!Mt("iPod")&&!Mt("iPad")||Mt("iPad")||Mt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(j(a=r.document.createElement("A"),"HTMLAnchorElement"),e instanceof wt||e instanceof wt||(e="object"==typeof e&&e.qa?e.pa():String(e),Et.test(e)||(e="about:invalid#zClosurez"),e=Tt(e)),a.href=xt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=xt(e).toString(),a&&(xe&&_t(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=Dt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Bt(t)+'">'),a.document.write(Ot(t)),a.document.close())):(a=r.open(xt(e).toString(),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var ar=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sr=/^[^@]+@[^@]+$/;function ur(){var t=null;return new Gt((function(e){"complete"==u.document.readyState?e():(t=function(){e()},Qe(window,"load",t))})).s((function(e){throw Ke(window,"load",t),e}))}function lr(t){return t=t||_r(),!("file:"!==Sr()&&"ionic:"!==Sr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function cr(){var t=u.window;try{return!(!t||t==t.top)}catch(e){return!1}}function hr(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function fr(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":hr()?"Worker":"Browser"}function pr(){var t=fr();return"ReactNative"===t||"Node"===t}var dr="Firefox",vr="Chrome";function gr(t){var e=t.toLowerCase();return _t(e,"opera/")||_t(e,"opr/")||_t(e,"opios/")?"Opera":_t(e,"iemobile")?"IEMobile":_t(e,"msie")||_t(e,"trident/")?"IE":_t(e,"edge/")?"Edge":_t(e,"firefox/")?dr:_t(e,"silk/")?"Silk":_t(e,"blackberry")?"Blackberry":_t(e,"webos")?"Webos":!_t(e,"safari/")||_t(e,"chrome/")||_t(e,"crios/")||_t(e,"android")?!_t(e,"chrome/")&&!_t(e,"crios/")||_t(e,"edge/")?_t(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":vr:"Safari"}var yr={Wc:"FirebaseCore-web",Yc:"FirebaseUI-web"};function mr(t,e){e=e||[];var n,r=[],i={};for(n in yr)i[yr[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=fr())?r=gr(i=_r()):"Worker"===r&&(r=gr(i=_r())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function _r(){return u.navigator&&u.navigator.userAgent||""}function br(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function wr(){try{var t=u.localStorage,e=Ar();if(t)return t.setItem(e,"1"),t.removeItem(e),!tr()||!!u.indexedDB}catch(n){return hr()&&!!u.indexedDB}return!1}function xr(){return(Er()||"chrome-extension:"===Sr()||lr())&&!pr()&&wr()&&!hr()}function Er(){return"http:"===Sr()||"https:"===Sr()}function Sr(){return u.location&&u.location.protocol||null}function Cr(t){return!rr(t=t||_r())&&gr(t)!=dr}function kr(t){return"undefined"===typeof t?null:Xn(t)}function Tr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Ir(t){if(null!==t)return JSON.parse(t)}function Ar(t){return t||Math.floor(1e9*Math.random()).toString()}function Mr(t){return"Safari"!=gr(t=t||_r())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Pr(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Or(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=_r(),e=fr(),this.b=rr(t)||"ReactNative"===e}function Nr(){var t=u.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function Dr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Rr(){return!(!br("fireauth.oauthhelper",u)&&!br("fireauth.iframe",u))}Or.prototype.get=function(){var t=u.navigator;return!t||"boolean"!==typeof t.onLine||!Er()&&"chrome-extension:"!==Sr()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Lr,Fr={};function jr(t){Fr[t]||(Fr[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var Br={};Object.defineProperty(Br,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Br,"abcd",{configurable:!0,enumerable:!0,value:2}),Lr=2==Br.abcd}catch(Go){Lr=!1}function Vr(t,e,n){Lr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Ur(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Vr(t,n,e[n])}function qr(t){var e={};return Ur(e,t),e}function zr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Vr(e,n,zr(t[n]));return e}function Hr(t){var e={},n=t[Gr],r=t[Yr];if(!(t=t[$r])||t!=Wr&&!n)throw Error("Invalid provider user info!");e[Qr]=r||null,e[Xr]=n||null,Vr(this,Jr,t),Vr(this,Kr,zr(e))}var Wr="EMAIL_SIGNIN",Gr="email",Yr="newEmail",$r="requestType",Xr="email",Qr="fromEmail",Kr="data",Jr="operation";function Zr(t,e){this.code=ei+t,this.message=e||ni[t]||""}function ti(t){var e=t&&t.code;return e?new Zr(e.substring(ei.length),t.message):null}T(Zr,Error),Zr.prototype.A=function(){return{code:this.code,message:this.message}},Zr.prototype.toJSON=function(){return this.A()};var ei="auth/",ni={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function ri(t){var e=Sn(t=Cn(t),ii)||null,n=Sn(t,oi)||null,r=Sn(t,ui)||null;if(r=r&&ci[r]||null,!e||!n||!r)throw new Zr("argument-error",ii+", "+oi+"and "+ui+" are required in a valid action code URL.");Ur(this,{apiKey:e,operation:r,code:n,continueUrl:Sn(t,ai)||null,languageCode:Sn(t,si)||null,tenantId:Sn(t,li)||null})}var ii="apiKey",oi="oobCode",ai="continueUrl",si="languageCode",ui="mode",li="tenantId",ci={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:Wr,verifyEmail:"VERIFY_EMAIL"};function hi(t){try{return new ri(t)}catch(e){return null}}function fi(t){var e=t[yi];if("undefined"===typeof e)throw new Zr("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new Zr("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[pi];if(n&&"object"===typeof n){e=n[bi];var r=n[mi];if(n=n[_i],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new Zr("argument-error",mi+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new Zr("argument-error",_i+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new Zr("argument-error",bi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new Zr("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new Zr("argument-error",pi+" property must be a non null object when specified.");if(this.f=null,(e=t[gi])&&"object"===typeof e){if("string"===typeof(e=e[wi])&&e.length)this.f=e;else if("undefined"!==typeof e)throw new Zr("argument-error",wi+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new Zr("argument-error",gi+" property must be a non null object when specified.");if("undefined"!==typeof(e=t[vi])&&"boolean"!==typeof e)throw new Zr("argument-error",vi+" property must be a boolean when specified.");if(this.c=!!e,"undefined"!==typeof(t=t[di])&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new Zr("argument-error",di+" property must be a non empty string when specified.");this.i=t||null}var pi="android",di="dynamicLinkDomain",vi="handleCodeInApp",gi="iOS",yi="url",mi="installApp",_i="minimumVersion",bi="packageName",wi="bundleId";function xi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Ei=null,Si=null;function Ci(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Si[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ei){Ei={},Si={};for(var t=0;65>t;t++)Ei[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Si[Ei[t]]=t,62<=t&&(Si["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function ki(t){this.f=t.sub,k(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.c=t.firebase&&t.firebase.tenant||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function Ti(t){return(t=Ii(t))&&t.sub&&t.iss&&t.aud&&t.exp?new ki(t):null}function Ii(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Ci(t))}catch(r){}return null}ki.prototype.R=function(){return this.c},ki.prototype.g=function(){return this.b};var Ai,Mi={bd:{cb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},dd:{cb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ed:{cb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function Pi(t){for(var e in Mi)if(Mi[e].id===t)return{firebaseEndpoint:(t=Mi[e]).cb,secureTokenEndpoint:t.ib};return null}Ai=Pi("__EID__")?"__EID__":void 0;var Oi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ni=["client_id","response_type","scope","redirect_uri","state"],Di={Xc:{Ea:"locale",sa:700,ra:600,Fa:"facebook.com",Qa:Ni},Zc:{Ea:null,sa:500,ra:750,Fa:"github.com",Qa:Ni},$c:{Ea:"hl",sa:515,ra:680,Fa:"google.com",Qa:Ni},fd:{Ea:"lang",sa:485,ra:705,Fa:"twitter.com",Qa:Oi},Vc:{Ea:"locale",sa:600,ra:600,Fa:"apple.com",Qa:[]}};function Ri(t){for(var e in Di)if(Di[e].Fa==t)return Di[e];return null}function Li(t){var e={};e["facebook.com"]=Ui,e["google.com"]=zi,e["github.com"]=qi,e["twitter.com"]=Hi;var n=t&&t[ji];try{if(n)return e[n]?new e[n](t):new Vi(t);if("undefined"!==typeof t[Fi])return new Bi(t)}catch(r){}return null}var Fi="idToken",ji="providerId";function Bi(t){var e=t[ji];if(!e&&t[Fi]){var n=Ti(t[Fi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Vr(this,"providerId",e),Vr(this,"isNewUser",n)}function Vi(t){Bi.call(this,t),Vr(this,"profile",zr((t=Ir(t.rawUserInfo||"{}"))||{}))}function Ui(t){if(Vi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function qi(t){if(Vi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Vr(this,"username",this.profile&&this.profile.login||null)}function zi(t){if(Vi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Hi(t){if(Vi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Vr(this,"username",t.screenName||null)}function Wi(t){var e=Cn(t),n=Sn(e,"link"),r=Sn(Cn(n),"link");return e=Sn(e,"deep_link_id"),Sn(Cn(e),"link")||e||r||n||t}function Gi(){}function Yi(t,e){return t.then((function(t){if(t[La]){var n=Ti(t[La]);if(!n||e!=n.f)throw new Zr("user-mismatch");return t}throw new Zr("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==ei+"user-not-found"?new Zr("user-mismatch"):t}))}function $i(t,e){if(!e)throw new Zr("internal-error","failed to construct a credential");this.a=e,Vr(this,"providerId",t),Vr(this,"signInMethod",t)}function Xi(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function Qi(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new $i(t.providerId,t.pendingToken)}catch(e){}return null}function Ki(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Vr(this,"idToken",e.idToken),e.accessToken&&Vr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Vr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Zr("internal-error","failed to construct a credential");Vr(this,"accessToken",e.oauthToken),Vr(this,"secret",e.oauthTokenSecret)}Vr(this,"providerId",t),Vr(this,"signInMethod",n)}function Ji(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Fn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function Zi(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new Ki(t.providerId,e,t.signInMethod)}catch(n){}}return null}function to(t,e){this.Fc=e||[],Ur(this,{providerId:t,isOAuthProvider:!0}),this.zb={},this.eb=(Ri(t)||{}).Ea||null,this.bb=null}function eo(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new Zr("argument-error",'SAML provider IDs must be prefixed with "saml."');to.call(this,t,[])}function no(t){to.call(this,t,Ni),this.a=[]}function ro(){no.call(this,"facebook.com")}function io(t){if(!t)throw new Zr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return _(t)&&(e=t.accessToken),(new ro).credential({accessToken:e})}function oo(){no.call(this,"github.com")}function ao(t){if(!t)throw new Zr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return _(t)&&(e=t.accessToken),(new oo).credential({accessToken:e})}function so(){no.call(this,"google.com"),this.ya("profile")}function uo(t,e){var n=t;return _(t)&&(n=t.idToken,e=t.accessToken),(new so).credential({idToken:n,accessToken:e})}function lo(){to.call(this,"twitter.com",Oi)}function co(t,e){var n=t;if(_(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Zr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Ki("twitter.com",n,"twitter.com")}function ho(t,e,n){this.a=t,this.c=e,Vr(this,"providerId","password"),Vr(this,"signInMethod",n===po.EMAIL_LINK_SIGN_IN_METHOD?po.EMAIL_LINK_SIGN_IN_METHOD:po.EMAIL_PASSWORD_SIGN_IN_METHOD)}function fo(t){return t&&t.email&&t.password?new ho(t.email,t.password,t.signInMethod):null}function po(){Ur(this,{providerId:"password",isOAuthProvider:!1})}function vo(t,e){if(!(e=go(e)))throw new Zr("argument-error","Invalid email link!");return new ho(t,e.code,po.EMAIL_LINK_SIGN_IN_METHOD)}function go(t){return(t=hi(t=Wi(t)))&&t.operation===Wr?t:null}function yo(t){if(!(t.Va&&t.Ua||t.Ha&&t.ba))throw new Zr("internal-error");this.a=t,Vr(this,"providerId","phone"),Vr(this,"signInMethod","phone")}function mo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return V(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new yo(e)}return null}function _o(t){return t.a.Ha&&t.a.ba?{temporaryProof:t.a.Ha,phoneNumber:t.a.ba}:{sessionInfo:t.a.Va,code:t.a.Ua}}function bo(t){try{this.a=t||r.a.auth()}catch(e){throw new Zr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ur(this,{providerId:"phone",isOAuthProvider:!1})}function wo(t,e){if(!t)throw new Zr("missing-verification-id");if(!e)throw new Zr("missing-verification-code");return new yo({Va:t,Ua:e})}function xo(t){if(t.temporaryProof&&t.phoneNumber)return new yo({Ha:t.temporaryProof,ba:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return uo(o,n);case"facebook.com":return io(n);case"github.com":return ao(n);case"twitter.com":return co(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new $i(e,a):new Ki(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new no(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Eo(t){if(!t.isOAuthProvider)throw new Zr("invalid-oauth-provider")}function So(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new Zr("invalid-auth-event");if(this.g&&this.a)throw new Zr("invalid-auth-event");if(this.g&&!this.f)throw new Zr("invalid-auth-event")}function Co(t){return(t=t||{}).type?new So(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&ti(t.error),t.postBody,t.tenantId):null}function ko(){this.b=null,this.a=[]}T(Vi,Bi),T(Ui,Vi),T(qi,Vi),T(zi,Vi),T(Hi,Vi),$i.prototype.na=function(t){return ts(t,Xi(this))},$i.prototype.b=function(t,e){var n=Xi(this);return n.idToken=e,es(t,n)},$i.prototype.f=function(t,e){return Yi(ns(t,Xi(this)),e)},$i.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Ki.prototype.na=function(t){return ts(t,Ji(this))},Ki.prototype.b=function(t,e){var n=Ji(this);return n.idToken=e,es(t,n)},Ki.prototype.f=function(t,e){return Yi(ns(t,Ji(this)),e)},Ki.prototype.A=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},to.prototype.Ga=function(t){return this.zb=Q(t),this},T(eo,to),T(no,to),no.prototype.ya=function(t){return z(this.a,t)||this.a.push(t),this},no.prototype.Hb=function(){return Y(this.a)},no.prototype.credential=function(t,e){var n;if(!(n=_(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new Zr("argument-error","credential failed: must provide the ID token and/or the access token.");return new Ki(this.providerId,n,this.providerId)},T(ro,no),Vr(ro,"PROVIDER_ID","facebook.com"),Vr(ro,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(oo,no),Vr(oo,"PROVIDER_ID","github.com"),Vr(oo,"GITHUB_SIGN_IN_METHOD","github.com"),T(so,no),Vr(so,"PROVIDER_ID","google.com"),Vr(so,"GOOGLE_SIGN_IN_METHOD","google.com"),T(lo,to),Vr(lo,"PROVIDER_ID","twitter.com"),Vr(lo,"TWITTER_SIGN_IN_METHOD","twitter.com"),ho.prototype.na=function(t){return this.signInMethod==po.EMAIL_LINK_SIGN_IN_METHOD?Ps(t,cs,{email:this.a,oobCode:this.c}):Ps(t,Ts,{email:this.a,password:this.c})},ho.prototype.b=function(t,e){return this.signInMethod==po.EMAIL_LINK_SIGN_IN_METHOD?Ps(t,hs,{idToken:e,email:this.a,oobCode:this.c}):Ps(t,ws,{idToken:e,email:this.a,password:this.c})},ho.prototype.f=function(t,e){return Yi(this.na(t),e)},ho.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Ur(po,{PROVIDER_ID:"password"}),Ur(po,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ur(po,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),yo.prototype.na=function(t){return t.Wa(_o(this))},yo.prototype.b=function(t,e){var n=_o(this);return n.idToken=e,Ps(t,As,n)},yo.prototype.f=function(t,e){var n=_o(this);return n.operation="REAUTH",Yi(t=Ps(t,Ms,n),e)},yo.prototype.A=function(){var t={providerId:"phone"};return this.a.Va&&(t.verificationId=this.a.Va),this.a.Ua&&(t.verificationCode=this.a.Ua),this.a.Ha&&(t.temporaryProof=this.a.Ha),this.a.ba&&(t.phoneNumber=this.a.ba),t},bo.prototype.Wa=function(t,e){var n=this.a.b;return Zt(e.verify()).then((function(r){if(!l(r))throw new Zr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return Ps(t,_s,e)}(n,{phoneNumber:t,recaptchaToken:r}).then((function(t){return"function"===typeof e.reset&&e.reset(),t}),(function(t){throw"function"===typeof e.reset&&e.reset(),t}));default:throw new Zr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Ur(bo,{PROVIDER_ID:"phone"}),Ur(bo,{PHONE_SIGN_IN_METHOD:"phone"}),So.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},So.prototype.R=function(){return this.h},So.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var To,Io=null;function Ao(t){var e="unauthorized-domain",n=void 0,r=Cn(t);t=r.b,"chrome-extension"==(r=r.f)?n=jt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=jt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Zr.call(this,e,n)}function Mo(t,e,n){Zr.call(this,t,n),(t=e||{}).Ab&&Vr(this,"email",t.Ab),t.ba&&Vr(this,"phoneNumber",t.ba),t.credential&&Vr(this,"credential",t.credential),t.Qb&&Vr(this,"tenantId",t.Qb)}function Po(t){if(t.code){var e=t.code||"";0==e.indexOf(ei)&&(e=e.substring(ei.length));var n={credential:xo(t),Qb:t.tenantId};if(t.email)n.Ab=t.email;else if(t.phoneNumber)n.ba=t.phoneNumber;else if(!n.credential)return new Zr(e,t.message||void 0);return new Mo(e,n,t.message)}return null}function Oo(){}function No(t){return t.c||(t.c=t.b())}function Do(){}function Ro(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Lo(){}function Fo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=S(this.fc,this),this.a.onerror=S(this.Ib,this),this.a.onprogress=S(this.gc,this),this.a.ontimeout=S(this.kc,this)}function jo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Bo(t,e,n){this.reset(t,e,n,void 0,void 0)}T(Ao,Zr),T(Mo,Zr),Mo.prototype.A=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.A();return e&&J(t,e),t},Mo.prototype.toJSON=function(){return this.A()},Oo.prototype.c=null,T(Do,Oo),Do.prototype.a=function(){var t=Ro(this);return t?new ActiveXObject(t):new XMLHttpRequest},Do.prototype.b=function(){var t={};return Ro(this)&&(t[0]=!0,t[1]=!0),t},To=new Do,T(Lo,Oo),Lo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Fo;throw Error("Unsupported browser")},Lo.prototype.b=function(){return{}},(e=Fo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},e.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},e.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,jo(this,4)},e.Ib=function(){this.status=500,this.response=this.responseText="",jo(this,4)},e.kc=function(){this.Ib()},e.gc=function(){this.status=200,jo(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Bo.prototype.a=null;function Vo(t){this.f=t,this.b=this.c=this.a=null}function Uo(t,e){this.name=t,this.value=e}Bo.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||k(),delete this.a},Uo.prototype.toString=function(){return this.name};var qo=new Uo("SEVERE",1e3),zo=new Uo("WARNING",900),Ho=new Uo("CONFIG",700),Wo=new Uo("FINE",500);Vo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(P("Root logger has no level set."),null)}(this).value)for(m(e)&&(e=e()),t=new Bo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Go,Yo={},$o=null;function Xo(t){var e;if($o||($o=new Vo(""),Yo[""]=$o,$o.c=Ho),!(e=Yo[t])){e=new Vo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=Xo(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,Yo[t]=e}return e}function Qo(t,e){t&&t.log(Wo,e,void 0)}function Ko(t){this.f=t}function Jo(t){sn.call(this),this.o=t,this.readyState=Zo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=Xo("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}T(Ko,Oo),Ko.prototype.a=function(){return new Jo(this.f)},Ko.prototype.b=(Go={},function(){return Go}),T(Jo,sn);var Zo=0;function ta(t){t.c.read().then(t.ec.bind(t)).catch(t.Oa.bind(t))}function ea(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,na(t)}function na(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ra(t){sn.call(this),this.headers=new vn,this.B=t||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=ia,this.v=this.P=!1}(e=Jo.prototype).open=function(t,e){if(this.readyState!=Zo)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,na(this)},e.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.o.fetch(new Request(this.g,e)).then(this.jc.bind(this),this.Oa.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ea(this,!1)),this.readyState=Zo},e.jc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,na(this)),this.a&&(this.readyState=3,na(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.hc.bind(this),this.Oa.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,ta(this)):t.text().then(this.ic.bind(this),this.Oa.bind(this)))))},e.ec=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ea(this,!0):na(this),3==this.readyState&&ta(this)}},e.ic=function(t){this.a&&(this.response=this.responseText=t,ea(this,!0))},e.hc=function(t){this.a&&(this.response=t,ea(this,!0))},e.Oa=function(t){var e=this.h;e&&e.log(zo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&ea(this,!0)},e.setRequestHeader=function(t,e){this.i.append(t,e)},e.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(zo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(zo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},T(ra,sn);var ia="";ra.prototype.b=Xo("goog.net.XhrIo");var oa=/^https?$/i,aa=["POST","PUT"];function sa(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.O=n,t.I=!1,t.c=!0,t.a=t.B?t.B.a():To.a(),t.w=t.B?No(t.B):No(To),t.a.onreadystatechange=S(t.Lb,t);try{Qo(t.b,ga(t,"Opening Xhr")),t.J=!0,t.a.open(n,String(e),!0),t.J=!1}catch(a){return Qo(t.b,ga(t,"Error opening Xhr: "+a.message)),void la(t,a)}e=r||"";var o=new vn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(y(t)||l(t))V(t,e,void 0);else for(var n=dn(t),r=pn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=ua,n=t.length,r=l(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:l(t)?t.charAt(e):t[e]}(o.X()),r=u.FormData&&e instanceof u.FormData,!z(aa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.P&&(t.a.withCredentials=t.P);try{pa(t),0<t.g&&(t.v=function(t){return be&&Pe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),Qo(t.b,ga(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=S(t.Ia,t)):t.o=hn(t.Ia,t.g,t)),Qo(t.b,ga(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){Qo(t.b,ga(t,"Send error: "+a.message)),la(t,a)}}function ua(t){return"content-type"==t.toLowerCase()}function la(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ca(t),fa(t)}function ca(t){t.I||(t.I=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ha(t){if(t.c&&"undefined"!=typeof s)if(t.w[1]&&4==da(t)&&2==va(t))Qo(t.b,ga(t,"Local request error detected and ignored"));else if(t.i&&4==da(t))hn(t.Lb,0,t);else if(t.dispatchEvent("readystatechange"),4==da(t)){Qo(t.b,ga(t,"Request complete")),t.c=!1;try{var e,n=va(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(mn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!oa.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var l=2<da(t)?t.a.statusText:""}catch(c){Qo(t.b,"Can not get status: "+c.message),l=""}t.h=l+" ["+va(t)+"]",ca(t)}}finally{fa(t)}}}function fa(t,e){if(t.a){pa(t);var n=t.a,r=t.w[0]?p:null;t.a=null,t.w=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(qo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function pa(t){t.a&&t.v&&(t.a.ontimeout=null),t.o&&(u.clearTimeout(t.o),t.o=null)}function da(t){return t.a?t.a.readyState:0}function va(t){try{return 2<da(t)?t.a.status:-1}catch(e){return-1}}function ga(t,e){return e+" ["+t.O+" "+t.l+" "+va(t)+"]"}function ya(t){var e=Ia;this.g=[],this.v=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function ma(t,e,n){t.a=!0,t.c=n,t.f=!e,xa(t)}function _a(t){if(t.a){if(!t.u)throw new Ea(t);t.u=!1}}function ba(t,e,n,r){t.g.push([e,n,r]),t.a&&xa(t)}function wa(t){return q(t.g,(function(t){return m(t[1])}))}function xa(t){if(t.h&&t.a&&wa(t)){var e=t.h,n=ka[e];n&&(u.clearTimeout(n.a),delete ka[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.o,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(I(e)||"function"===typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(l){e=l,t.f=!0,wa(t)||(n=!0)}}t.c=e,r&&(s=S(t.m,t,!0),r=S(t.m,t,!1),e instanceof ya?(ba(e,s,r),e.w=!0):e.then(s,r)),n&&(e=new Ca(e),ka[e.a]=e,t.h=e.a)}function Ea(){A.call(this)}function Sa(){A.call(this)}function Ca(t){this.a=u.setTimeout(S(this.c,this),0),this.b=t}(e=ra.prototype).Ia=function(){"undefined"!=typeof s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Qo(this.b,ga(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(Qo(this.b,ga(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),fa(this))},e.za=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),fa(this,!0)),ra.qb.za.call(this)},e.Lb=function(){this.va||(this.J||this.i||this.f?ha(this):this.yc())},e.yc=function(){ha(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ia:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(qo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return Qo(this.b,"Can not get response: "+e.message),null}},ya.prototype.cancel=function(t){if(this.a)this.c instanceof ya&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(t=new Sa(this),_a(this),ma(this,!1,t))}},ya.prototype.m=function(t,e){this.i=!1,ma(this,t,e)},ya.prototype.then=function(t,e,n){var r,i,o=new Gt((function(t,e){r=t,i=e}));return ba(this,r,(function(t){t instanceof Sa?o.cancel():i(t)})),o.then(t,e,n)},ya.prototype.$goog_Thenable=!0,T(Ea,A),Ea.prototype.message="Deferred has already fired",Ea.prototype.name="AlreadyCalledError",T(Sa,A),Sa.prototype.message="Deferred was canceled",Sa.prototype.name="CanceledError",Ca.prototype.c=function(){throw delete ka[this.a],this.b};var ka={};function Ta(t){var e={},n=e.document||document,r=ot(t).toString(),i=document.createElement("SCRIPT"),o={Nb:i,Ia:void 0},a=new ya(o),s=null,l=null!=e.timeout?e.timeout:5e3;return 0<l&&(s=window.setTimeout((function(){Aa(i,!0);var t=new Oa(Pa,"Timeout reached for loading script "+r);_a(a),ma(a,!1,t)}),l),o.Ia=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Aa(i,e.gd||!1,s),_a(a),ma(a,!0,null))},i.onerror=function(){Aa(i,!0,s);var t=new Oa(Ma,"Error while loading script "+r);_a(a),ma(a,!1,t)},J(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Wn(i,o),function(t,e){j(t,"HTMLScriptElement"),t.src=ot(e),null===f&&(f=(e=(e=u.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&h.test(e)?e:""),(e=f)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Ia(){if(this&&this.Nb){var t=this.Nb;t&&"SCRIPT"==t.tagName&&Aa(t,!0,this.Ia)}}function Aa(t,e,n){null!=n&&u.clearTimeout(n),t.onload=p,t.onerror=p,t.onreadystatechange=p,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ma=0,Pa=1;function Oa(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),A.call(this,n),this.code=t}function Na(t){this.f=t}function Da(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=t.secureTokenTimeout||Fa,this.g=Q(t.secureTokenHeaders||ja),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.firebaseTimeout||Ba,this.a=Q(t.firebaseHeaders||Va),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==fr(),!(n=u.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!hr())throw new Zr("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,hr()?this.f=new Ko(self):pr()?this.f=new Na(n):this.f=new Lo,this.b=null}T(Oa,A),T(Na,Oo),Na.prototype.a=function(){return new this.f},Na.prototype.b=function(){return{}};var Ra,La="idToken",Fa=new Or(3e4,6e4),ja={"Content-Type":"application/x-www-form-urlencoded"},Ba=new Or(3e4,6e4),Va={"Content-Type":"application/json"};function Ua(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function qa(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function za(t,e,n,r,i,o,a){(function(){var t=_r();return!((t=gr(t)!=vr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!be||!Ae||9<Ae)})()||hr()?t=S(t.o,t):(Ra||(Ra=new Gt((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{u[Wa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){ba(t,null,e,void 0)}(Ta(at(Ha,{onload:Wa})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=S(t.m,t)),t(e,n,r,i,o,a)}Da.prototype.R=function(){return this.b},Da.prototype.o=function(t,e,n,r,i,o){if(hr()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new Zr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ra(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}un(a,"complete",(function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return Qo(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),ln(a,"ready",(function(){s&&clearTimeout(s),ge(this)})),ln(a,"timeout",(function(){s&&clearTimeout(s),ge(this),e&&e(null)})),sa(a,t,n,r,i)};var Ha=new Z(nt,"https://apis.google.com/js/client.js?onload=%{onload}"),Wa="__fcb"+Math.floor(1e6*Math.random()).toString();function Ga(t){if(!l(t=t.email)||!sr.test(t))throw new Zr("invalid-email")}function Ya(t){"email"in t&&Ga(t)}function $a(t){if(!t[La])throw new Zr("internal-error")}function Xa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Zr("internal-error")}else{if(!t.sessionInfo)throw new Zr("missing-verification-id");if(!t.code)throw new Zr("missing-verification-code")}}Da.prototype.m=function(t,e,n,r,i){var o=this;Ra.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).s((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Da.prototype.ob=function(){return Ps(this,xs,{})},Da.prototype.rb=function(t,e){return Ps(this,bs,{idToken:t,email:e})},Da.prototype.sb=function(t,e){return Ps(this,ws,{idToken:t,password:e})};var Qa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ka(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new Zr("internal-error")}function Ja(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Bn(t=new Rn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function Za(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Po(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Po(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Po(t)):t.errorMessage&&(e=Os(t.errorMessage)),e)throw e;if(!t[La])throw new Zr("internal-error")}function ts(t,e){return e.returnIdpCredential=!0,Ps(t,Es,e)}function es(t,e){return e.returnIdpCredential=!0,Ps(t,Cs,e)}function ns(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Ps(t,Ss,e)}function rs(t){if(!t.oobCode)throw new Zr("invalid-action-code")}(e=Da.prototype).tb=function(t,e){var n={idToken:t},r=[];return $(Qa,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Ps(this,bs,n)},e.kb=function(t,e){return J(t={requestType:"PASSWORD_RESET",email:t},e),Ps(this,vs,t)},e.lb=function(t,e){return J(t={requestType:"EMAIL_SIGNIN",email:t},e),Ps(this,ps,t)},e.jb=function(t,e){return J(t={requestType:"VERIFY_EMAIL",idToken:t},e),Ps(this,ds,t)},e.Wa=function(t){return Ps(this,Is,t)},e.ab=function(t,e){return Ps(this,ms,{oobCode:t,newPassword:e})},e.Ma=function(t){return Ps(this,os,{oobCode:t})},e.Ya=function(t){return Ps(this,is,{oobCode:t})};var is={endpoint:"setAccountInfo",D:rs,fa:"email",F:!0},os={endpoint:"resetPassword",D:rs,K:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Zr("internal-error")},F:!0},as={endpoint:"signupNewUser",D:function(t){if(Ga(t),!t.password)throw new Zr("weak-password")},K:$a,T:!0,F:!0},ss={endpoint:"createAuthUri",F:!0},us={endpoint:"deleteAccount",V:["idToken"]},ls={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(t){if(!g(t.deleteProvider))throw new Zr("internal-error")}},cs={endpoint:"emailLinkSignin",V:["email","oobCode"],D:Ga,K:$a,T:!0,F:!0},hs={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:Ga,K:$a,T:!0},fs={endpoint:"getAccountInfo"},ps={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Zr("internal-error");Ga(t)},fa:"email",F:!0},ds={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Zr("internal-error")},fa:"email",F:!0},vs={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Zr("internal-error");Ga(t)},fa:"email",F:!0},gs={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},ys={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(t){if(!t.recaptchaSiteKey)throw new Zr("internal-error")}},ms={endpoint:"resetPassword",D:rs,fa:"email",F:!0},_s={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},bs={endpoint:"setAccountInfo",V:["idToken"],D:Ya,T:!0},ws={endpoint:"setAccountInfo",V:["idToken"],D:function(t){if(Ya(t),!t.password)throw new Zr("weak-password")},K:$a,T:!0},xs={endpoint:"signupNewUser",K:$a,T:!0,F:!0},Es={endpoint:"verifyAssertion",D:Ka,Ra:Ja,K:Za,T:!0,F:!0},Ss={endpoint:"verifyAssertion",D:Ka,Ra:Ja,K:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Zr("user-not-found");if(t.errorMessage)throw Os(t.errorMessage);if(!t[La])throw new Zr("internal-error")},T:!0,F:!0},Cs={endpoint:"verifyAssertion",D:function(t){if(Ka(t),!t.idToken)throw new Zr("internal-error")},Ra:Ja,K:Za,T:!0},ks={endpoint:"verifyCustomToken",D:function(t){if(!t.token)throw new Zr("invalid-custom-token")},K:$a,T:!0,F:!0},Ts={endpoint:"verifyPassword",D:function(t){if(Ga(t),!t.password)throw new Zr("wrong-password")},K:$a,T:!0,F:!0},Is={endpoint:"verifyPhoneNumber",D:Xa,K:$a,F:!0},As={endpoint:"verifyPhoneNumber",D:function(t){if(!t.idToken)throw new Zr("internal-error");Xa(t)},K:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Po(t);$a(t)}},Ms={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:Xa,K:$a,F:!0};function Ps(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.V))return te(new Zr("internal-error"));var r,i=e.Kb||"POST";return Zt(n).then(e.D).then((function(){return e.T&&(n.returnSecureToken=!0),e.F&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o){var a=Cn(t.h+e);En(a,"key",t.c),o&&En(a,"cb",k().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&En(a,u,r[u]);return new Gt((function(e,o){za(t,a.toString(),(function(t){t?t.error?o(Ns(t,i||{})):e(t):o(new Zr("network-request-failed"))}),n,s?void 0:Xn(Tr(r)),t.a,t.i.get())}))}(t,e.endpoint,i,n,e.Yb,e.wb||!1)})).then((function(t){return r=t,e.Ra?e.Ra(n,r):r})).then(e.K).then((function(){if(!e.fa)return r;if(!(e.fa in r))throw new Zr("internal-error");return r[e.fa]}))}function Os(t){return Ns({error:{errors:[{message:t}],code:400,message:t}})}function Ns(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Zr(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",J(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new Zr(r[i],e);return!e&&t&&(e=kr(t)),new Zr("internal-error",e)}function Ds(t){this.b=t,this.a=null,this.gb=function(t){return(js||(js=new Gt((function(t,e){function n(){Pr(),br("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Pr(),e(Error("Network Error"))},timeout:Ls.get()})}if(br("gapi.iframes.Iframe"))t();else if(br("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){br("gapi.load")?n():e(Error("Network Error"))},Zt(Ta(r=at(Rs,{onload:r}))).s((function(){e(Error("Network Error"))}))}})).s((function(t){throw js=null,t})))).then((function(){return new Gt((function(e,n){br("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:br("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Fs.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Rs=new Z(nt,"https://apis.google.com/js/api.js?onload=%{onload}"),Ls=new Or(3e4,6e4),Fs=new Or(5e3,15e3),js=null;function Bs(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=kn(this.i,"/__/auth/iframe"),En(this.a,"apiKey",this.g),En(this.a,"appName",this.h),this.b=null,this.c=[]}function Vs(t,e,n,r,i){this.o=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function Us(t){try{return r.a.app(t).auth().Ca()}catch(e){return[]}}function qs(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function zs(t){var e=er();return function(t){return Ps(t,gs,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Cn(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Cn(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:ar.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Ao(er())}))}function Hs(t){return t.l||(t.l=ur().then((function(){if(!t.o){var e=t.c,n=t.h,r=Us(t.b),i=new Bs(t.u,t.f,t.b);i.f=e,i.b=n,i.c=Y(r||[]),t.o=i.toString()}t.i=new Ds(t.o),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.gb.then((function(){t.a.register("authEvent",e,br("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Co(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Zt(n)}return n.status="ERROR",Zt(n)}))}(t)}))),t.l}function Ws(t){return t.m||(t.v=t.c?mr(t.c,Us(t.b)):null,t.m=new Da(t.f,Pi(t.h),t.v)),t.m}function Gs(t,e,n,r,i,o,a,s,u,l,c){return(t=new Vs(t,e,n,r,i)).l=o,t.g=a,t.i=s,t.b=Q(u||null),t.f=l,t.nb(c).toString()}function Ys(t){if(this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Zr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function $s(t){this.b=t,this.a={},this.f=S(this.c,this)}Bs.prototype.toString=function(){return this.f?En(this.a,"v",this.f):jn(this.a.a,"v"),this.b?En(this.a,"eid",this.b):jn(this.a.a,"eid"),this.c.length?En(this.a,"fw",this.c.join(",")):jn(this.a.a,"fw"),this.a.toString()},Vs.prototype.nb=function(t){return this.h=t,this},Vs.prototype.toString=function(){var t=kn(this.o,"/__/auth/handler");if(En(t,"apiKey",this.m),En(t,"appName",this.c),En(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().ha()}catch(u){n=null}for(var i in e.bb=n,En(t,"providerId",this.a.providerId),n=Tr((e=this.a).zb))n[i]=n[i].toString();i=e.Fc,n=Q(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}e.eb&&e.bb&&!n[e.eb]&&(n[e.eb]=e.bb),X(n)||En(t,"customParameters",kr(n))}if("function"===typeof this.a.Hb&&((e=this.a.Hb()).length&&En(t,"scopes",e.join(","))),this.l?En(t,"redirectUrl",this.l):jn(t.a,"redirectUrl"),this.g?En(t,"eventId",this.g):jn(t.a,"eventId"),this.i?En(t,"v",this.i):jn(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Sn(t,s)&&En(t,s,this.b[s]);return this.h?En(t,"tid",this.h):jn(t.a,"tid"),this.f?En(t,"eid",this.f):jn(t.a,"eid"),(s=Us(this.c)).length&&En(t,"fw",s.join(",")),t.toString()},(e=qs.prototype).Fb=function(t,e,n){var r=new Zr("popup-closed-by-user"),i=new Zr("web-storage-unsupported"),o=this,a=!1;return this.ia().then((function(){(function(t){var e={type:"webStorageSupport"};return Hs(t).then((function(){return function(t,e){return t.gb.then((function(){return new Gt((function(n){t.a.send(e.type,e,n,br("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&ir(t),e(i),a=!0)}))})).s((function(){})).then((function(){if(!a)return function(t){return new Gt((function(e){return function n(){fn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return fn(n).then((function(){e(r)}))}))},e.Ob=function(){var t=_r();return!Cr(t)&&!Mr(t)},e.Jb=function(){return!1},e.Db=function(t,e,n,r,i,o,a,s){if(!t)return te(new Zr("popup-blocked"));if(a&&!Cr())return this.ia().s((function(e){ir(t),i(e)})),r(),Zt();this.a||(this.a=zs(Ws(this)));var u=this;return this.a.then((function(){var e=u.ia().s((function(e){throw ir(t),i(e),e}));return r(),e})).then((function(){(Eo(n),a)||nr(Gs(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h,s),t)})).s((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},e.Eb=function(t,e,n,r){this.a||(this.a=zs(Ws(this)));var i=this;return this.a.then((function(){Eo(e),nr(Gs(i.u,i.f,i.b,t,e,er(),n,i.c,void 0,i.h,r))})).s((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},e.ia=function(){var t=this;return Hs(this).then((function(){return t.i.gb})).s((function(){throw t.a=null,new Zr("network-request-failed")}))},e.Rb=function(){return!0},e.Aa=function(t){this.g.push(t)},e.Na=function(t){W(this.g,(function(e){return e==t}))},(e=Ys.prototype).get=function(t){return Zt(this.a.getItem(t)).then((function(t){return t&&Ir(t)}))},e.set=function(t,e){return Zt(this.a.setItem(t,kr(e)))},e.S=function(t){return Zt(this.a.removeItem(t))},e.$=function(){},e.ea=function(){};var Xs,Qs=[];function Ks(t,e,n){X(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Js(t){this.a=t}function Zs(t){this.c=t,this.b=!1,this.a=[]}function tu(t,e,n,r){var i,o,a,s,u=n||{},l=null;if(t.b)return te(Error("connection_unavailable"));var c=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Gt((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),c),l={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(l),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return eu(t,l),e})).s((function(e){throw eu(t,l),e}))}function eu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),W(t.a,(function(t){return t==e}))}}function nu(){if(!ou())throw new Zr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=u.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var t=this;hr()&&self?(this.l=function(){var t=hr()?self:null;if(V(Qs,(function(n){n.b==t&&(e=n)})),!e){var e=new $s(t);Qs.push(e)}return e}(),Ks(this.l,"keyChanged",(function(e,n){return cu(t).then((function(e){return 0<e.length&&V(t.a,(function(t){t(e)})),{keyProcessed:z(e,n.key)}}))})),Ks(this.l,"ping",(function(){return Zt(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?Zt().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).s((function(){return null})):Zt(null)}().then((function(e){(t.h=e)&&(t.g=new Zs(new Js(e)),tu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&z(e[0].value,"keyChanged")&&(t.o=!0)})).s((function(){})))}))}function ru(t){return new Gt((function(e,n){var r=t.u.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new Gt((function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return ru(t)})).then((function(t){e(t)})).s((function(t){n(t)}))}}))}function iu(t){return t.m||(t.m=ru(t)),t.m}function ou(){try{return!!u.indexedDB}catch(Go){return!1}}function au(t){return t.objectStore("firebaseLocalStorage")}function su(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function uu(t){return new Gt((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function lu(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?tu(t.g,"keyChanged",{key:e},t.o).then((function(){})).s((function(){})):Zt()}function cu(t){return iu(t).then((function(t){var e=au(su(t,!1));return e.getAll?uu(e.getAll()):new Gt((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function hu(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function fu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Zt().then((function(){if(ou()){var t=Ar(),r="__sak"+t;return Xs||(Xs=new nu),(n=Xs).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.S(r)})).then((function(){return n})).s((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.$((function(t){V(e.a,(function(e){e(t)}))})),t}))}function pu(){this.a={},this.type="inMemory"}function du(){if(!function(){var t="Node"==fr();if(!(t=vu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==fr())throw new Zr("internal-error","The LocalStorage compatibility library was not found.");throw new Zr("web-storage-unsupported")}this.a=vu()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function vu(){try{var t=u.localStorage,e=Ar();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function gu(){this.type="nullStorage"}function yu(){if(!function(){var t="Node"==fr();if(!(t=mu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==fr())throw new Zr("internal-error","The SessionStorage compatibility library was not found.");throw new Zr("web-storage-unsupported")}this.a=mu()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function mu(){try{var t=u.sessionStorage,e=Ar();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function _u(){var t={};t.Browser=xu,t.Node=Eu,t.ReactNative=Su,t.Worker=Cu,this.a=t[fr()]}$s.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];V(r,(function(e){i.push(Zt().then((function(){return e(t.origin,t.data.data)})))})),ne(i).then((function(r){var i=[];V(r,(function(t){i.push({fulfilled:t.Gb,value:t.value,reason:t.reason?t.reason.message:void 0})})),V(i,(function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Js.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Zs.prototype.close=function(){for(;0<this.a.length;)eu(this,this.a[0]);this.b=!0},(e=nu.prototype).set=function(t,e){var n,r=!1,i=this;return iu(this).then((function(e){return uu((e=au(su(n=e,!0))).get(t))})).then((function(o){var a=au(su(n,!0));return o?(o.value=e,uu(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,uu(a.add(o)))})).then((function(){return i.c[t]=e,lu(i,t)})).ka((function(){r&&i.b--}))},e.get=function(t){return iu(this).then((function(e){return uu(au(su(e,!1)).get(t))})).then((function(t){return t&&t.value}))},e.S=function(t){var e=!1,n=this;return iu(this).then((function(r){return e=!0,n.b++,uu(au(su(r,!0)).delete(t))})).then((function(){return delete n.c[t],lu(n,t)})).ka((function(){e&&n.b--}))},e.$=function(t){0==this.a.length&&function(t){hu(t),function e(){t.f=setTimeout((function(){t.i=cu(t).then((function(e){0<e.length&&V(t.a,(function(t){t(e)}))})).then((function(){e()})).s((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},e.ea=function(t){W(this.a,(function(e){return e==t})),0==this.a.length&&hu(this)},(e=fu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},e.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},e.S=function(t){return this.b.then((function(e){return e.S(t)}))},e.$=function(t){this.a.push(t)},e.ea=function(t){W(this.a,(function(e){return e==t}))},(e=pu.prototype).get=function(t){return Zt(this.a[t])},e.set=function(t,e){return this.a[t]=e,Zt()},e.S=function(t){return delete this.a[t],Zt()},e.$=function(){},e.ea=function(){},(e=du.prototype).get=function(t){var e=this;return Zt().then((function(){return Ir(e.a.getItem(t))}))},e.set=function(t,e){var n=this;return Zt().then((function(){var r=kr(e);null===r?n.S(t):n.a.setItem(t,r)}))},e.S=function(t){var e=this;return Zt().then((function(){e.a.removeItem(t)}))},e.$=function(t){u.window&&$e(u.window,"storage",t)},e.ea=function(t){u.window&&Ke(u.window,"storage",t)},(e=gu.prototype).get=function(){return Zt(null)},e.set=function(){return Zt()},e.S=function(){return Zt()},e.$=function(){},e.ea=function(){},(e=yu.prototype).get=function(t){var e=this;return Zt().then((function(){return Ir(e.a.getItem(t))}))},e.set=function(t,e){var n=this;return Zt().then((function(){var r=kr(e);null===r?n.S(t):n.a.setItem(t,r)}))},e.S=function(t){var e=this;return Zt().then((function(){e.a.removeItem(t)}))},e.$=function(){},e.ea=function(){};var bu,wu,xu={C:du,Ta:yu},Eu={C:du,Ta:yu},Su={C:Ys,Ta:gu},Cu={C:du,Ta:gu},ku={ad:"local",NONE:"none",cd:"session"};function Tu(){var t=!(Mr(_r())||!cr()),e=Cr(),n=wr();this.m=t,this.h=e,this.l=n,this.a={},bu||(bu=new _u),t=bu;try{this.g=!tr()&&Rr()||!u.indexedDB?new t.a.C:new fu(hr()?new pu:new t.a.C)}catch(r){this.g=new pu,this.h=!0}try{this.i=new t.a.Ta}catch(r){this.i=new pu}this.u=new pu,this.f=S(this.Pb,this),this.b={}}function Iu(){return wu||(wu=new Tu),wu}function Au(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Mu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Pu(t,e,n){return n=Mu(e,n),"local"==e.C&&(t.b[n]=null),Au(t,e.C).S(n)}function Ou(t){t.c&&(clearInterval(t.c),t.c=null)}function Nu(t){this.a=t,this.b=Iu()}(e=Tu.prototype).get=function(t,e){return Au(this,t.C).get(Mu(t,e))},e.set=function(t,e,n){var r=Mu(t,n),i=this,o=Au(this,t.C);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.C&&(i.b[r]=e)}))},e.addListener=function(t,e,n){t=Mu(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),X(this.a)&&(Au(this,"local").$(this.f),this.h||(tr()||!Rr())&&u.indexedDB||!this.l||function(t){Ou(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Fe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Pb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},e.removeListener=function(t,e,n){t=Mu(t,e),this.a[t]&&(W(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),X(this.a)&&(Au(this,"local").ea(this.f),Ou(this))},e.Pb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.$a(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?Au(this,"local").ea(this.f):Ou(this),this.m)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var o=this;n=function(){"undefined"===typeof t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.$a(e))},be&&Ae&&10==Ae&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else V(t,S(this.$a,this))},e.$a=function(t){this.a[t]&&V(this.a[t],(function(t){t()}))};var Du,Ru={name:"authEvent",C:"local"};function Lu(){this.a=Iu()}function Fu(t,e){this.b=ju,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0!==Du||(Du=u.Int32Array?new Int32Array(Wu):Wu),this.reset()}T(Fu,(function(){this.b=-1}));for(var ju=64,Bu=ju-1,Vu=[],Uu=0;Uu<Bu;Uu++)Vu[Uu]=0;var qu=G(128,Vu);function zu(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],l=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((a=(a=l&c^~l&h)+(0|Du[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=l,l=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+l|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function Hu(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if(l(e))for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(zu(t),i=0);else{if(!y(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(zu(t),i=0)}}t.c=i,t.g+=n}Fu.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Y(this.h)};var Wu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Gu(){Fu.call(this,8,Yu)}T(Gu,Fu);var Yu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function $u(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.o=i||null,this.h=e+":"+n,this.v=new Lu,this.g=new Nu(this.h),this.f=null,this.b=[],this.a=this.c=null}function Xu(t){return new Zr("invalid-cordova-configuration",t)}function Qu(t){var e=new Gu;Hu(e,t),t=[];var n=8*e.g;56>e.c?Hu(e,qu,56-e.c):Hu(e,qu,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(zu(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return U(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Ku(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Ju(t){return t.f||(t.f=t.ia().then((function(){return new Gt((function(e){t.Aa((function n(r){return e(r),t.Na(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Zu(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=Wi(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Ir(Sn(o=Cn(i),"firebaseError")||null))?ti(o):null)?new So(r.c,r.b,null,null,o,null,r.R()):new So(r.c,r.b,i,r.f,null,null,r.R())),i=o||n}Ku(t,i)}))}var n=new So("unknown",null,null,null,new Zr("no-auth-event")),r=!1,i=fn(500).then((function(){return Zu(t).then((function(){r||Ku(t,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(br("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"===typeof o)try{o(t)}catch(n){console.error(n)}},Io||(Io=new ko),function(t){var e=Io;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"===typeof(t=br("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Zu(t){var e=null;return function(t){return t.b.get(Ru,t.a).then((function(t){return Co(t)}))}(t.g).then((function(n){return e=n,Pu((n=t.g).b,Ru,n.a)})).then((function(){return e}))}function tl(t){this.a=t,this.b=Iu()}(e=$u.prototype).ia=function(){return this.Da?this.Da:this.Da=(lr(void 0)?ur().then((function(){return new Gt((function(t,e){var n=u.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):te(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof br("universalLinks.subscribe",u))throw Xu("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof br("BuildInfo.packageName",u))throw Xu("cordova-plugin-buildinfo is not installed");if("function"!==typeof br("cordova.plugins.browsertab.openUrl",u))throw Xu("cordova-plugin-browsertab is not installed");if("function"!==typeof br("cordova.InAppBrowser.open",u))throw Xu("cordova-plugin-inappbrowser is not installed")}),(function(){throw new Zr("cordova-not-ready")}))},e.Fb=function(t,e){return e(new Zr("operation-not-supported-in-this-environment")),Zt()},e.Db=function(){return te(new Zr("operation-not-supported-in-this-environment"))},e.Rb=function(){return!1},e.Ob=function(){return!0},e.Jb=function(){return!0},e.Eb=function(t,e,n,r){if(this.c)return te(new Zr("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,l=null,c=null;return this.c=Zt().then((function(){return Eo(e),Ju(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new So(e,r,null,o,new Zr("no-auth-event"),null,i),s=br("BuildInfo.packageName",u);if("string"!==typeof s)throw new Zr("invalid-cordova-configuration");var l=br("BuildInfo.displayName",u),c={};if(_r().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!_r().toLowerCase().match(/android/))return te(new Zr("operation-not-supported-in-this-environment"));c.apn=s}l&&(c.appDisplayName=l),o=Qu(o),c.sessionId=o;var h=Gs(t.u,t.i,t.l,e,n,null,r,t.m,c,t.o,i);return t.ia().then((function(){var e=t.h;return t.v.a.set(Ru,a.A(),e)})).then((function(){var e=br("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof e)throw new Zr("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!==typeof(n=br("cordova.plugins.browsertab.openUrl",u)))throw new Zr("invalid-cordova-configuration");n(h)}else{if("function"!==typeof(n=br("cordova.InAppBrowser.open",u)))throw new Zr("invalid-cordova-configuration");e=_r(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new Gt((function(t,e){s=function(){var e=br("cordova.plugins.browsertab.close",u);return t(),"function"===typeof e&&e(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Aa(s),l=function(){a||(a=fn(2e3).then((function(){e(new Zr("redirect-cancelled-by-user"))})))},c=function(){Nr()&&l()},o.addEventListener("resume",l,!1),_r().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).s((function(t){return Zu(i).then((function(){throw t}))}))})).ka((function(){l&&o.removeEventListener("resume",l,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&i.Na(s),i.c=null}))},e.Aa=function(t){this.b.push(t),Ju(this).s((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new So("unknown",null,null,null,new Zr("no-auth-event")),t(e))}))},e.Na=function(t){W(this.b,(function(e){return e==t}))};var el={name:"pendingRedirect",C:"session"};function nl(t){return Pu(t.b,el,t.a)}function rl(t,e,n){this.i={},this.v=0,this.B=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=S(this.o,this),this.b=new yl,this.w=new xl,this.g=new tl(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=il(this.B,this.u,this.m,Ai)}function il(t,e,n,i){var o=r.a.SDK_VERSION||null;return lr()?new $u(t,e,n,o,i):new qs(t,e,n,o,i)}function ol(t){t.f||(t.f=!0,t.a.Aa(t.l));var e=t.a;return t.a.ia().s((function(n){throw t.a==e&&t.reset(),n}))}function al(t){t.a.Ob()&&ol(t).s((function(e){var n=new So("unknown",null,null,null,new Zr("operation-not-supported-in-this-environment"));fl(e)&&t.o(n)})),t.a.Jb()||ml(t.b)}function sl(t,e){z(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(el,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?nl(t.g).then((function(){ol(t).s((function(e){var n=new So("unknown",null,null,null,new Zr("operation-not-supported-in-this-environment"));fl(e)&&t.o(n)}))})):al(t)})).s((function(){al(t)}))}function ul(t,e){W(t.h,(function(t){return t==e}))}rl.prototype.reset=function(){this.f=!1,this.a.Na(this.l),this.a=il(this.B,this.u,this.m),this.i={}},rl.prototype.o=function(t){if(!t)throw new Zr("invalid-auth-event");if(6e5<=k()-this.v&&(this.i={},this.v=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.v=k())),e=!0;break}}return ml(this.b),e};var ll=new Or(2e3,1e4),cl=new Or(3e4,6e4);function hl(t,e,n,r,i,o,a){return t.a.Db(e,n,r,(function(){t.f||(t.f=!0,t.a.Aa(t.l))}),(function(){t.reset()}),i,o,a)}function fl(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function pl(t,e,n,r,i){var o;return function(t){return t.b.set(el,"pending",t.a)}(t.g).then((function(){return t.a.Eb(e,n,r,i).s((function(e){if(fl(e))throw new Zr("operation-not-supported-in-this-environment");return o=e,nl(t.g).then((function(){throw o}))})).then((function(){return t.a.Rb()?new Gt((function(){})):nl(t.g).then((function(){return t.oa()})).then((function(){})).s((function(){}))}))}))}function dl(t,e,n,r,i){return t.a.Fb(r,(function(t){e.ja(n,null,t,i)}),ll.get())}rl.prototype.oa=function(){return this.b.oa()};var vl={};function gl(t,e,n){var r=e+":"+n;return vl[r]||(vl[r]=new rl(t,e,n)),vl[r]}function yl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function ml(t){t.g||(t.g=!0,wl(t,!1,null,null))}function _l(t){t.g&&!t.i&&wl(t,!1,null,null)}function bl(t,e){if(t.b=function(){return Zt(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function wl(t,e,n,r){e?r?function(t,e){if(t.b=function(){return te(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):bl(t,n):bl(t,{user:null}),t.f=[],t.c=[]}function xl(){}function El(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(t){this.vb=t},enumerable:!1})}function Sl(t,e){this.a=e,Vr(this,"verificationId",t)}function Cl(t,e,n,r){return new bo(t).Wa(e,n).then((function(t){return new Sl(t,r)}))}function kl(t){var e=Ii(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Zr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ur(this,{token:t,expirationTime:Dr(1e3*e.exp),authTime:Dr(1e3*e.auth_time),issuedAtTime:Dr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function Tl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Il(t){this.f=t,this.b=this.a=null,this.c=0}function Al(t,e){var n=e[La],r=e.refreshToken;e=Ml(e.expiresIn),t.b=n,t.c=e,t.a=r}function Ml(t){return k()+1e3*parseInt(t,10)}function Pl(t,e){return function(t,e){return new Gt((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?za(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Ns(t)):t.access_token&&t.refresh_token?n(t):r(new Zr("internal-error")):r(new Zr("network-request-failed"))}),"POST",Fn(e).toString(),t.g,t.u.get()):r(new Zr("internal-error"))}))}(t.f,e).then((function(e){return t.b=e.access_token,t.c=Ml(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function Ol(t,e){this.a=t||null,this.b=e||null,Ur(this,{lastSignInTime:Dr(e||null),creationTime:Dr(t||null)})}function Nl(t,e,n,r,i,o){Ur(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Dl(t,e){for(var n in Le.call(this,t),e)this[n]=e[n]}function Rl(t,e,n){this.I=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null,t=r.a.SDK_VERSION?mr(r.a.SDK_VERSION):null,this.a=new Da(this.l,Pi(Ai),t),this.b=new Il(this.a),ql(this,e[La]),Al(this.b,e),Vr(this,"refreshToken",this.b.a),Wl(this,n||{}),sn.call(this),this.J=!1,this.o&&xr()&&(this.i=gl(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=function(t){return new Tl((function(){return t.G(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-k()-3e5;return 0<e?e:0}))}(this),this.W=S(this.Ja,this);var i=this;this.ga=null,this.xa=function(t){i.ua(t.g)},this.Z=null,this.P=[],this.wa=function(t){Fl(i,t.c)},this.Y=null}function Ll(t,e){t.Z&&Ke(t.Z,"languageCodeChanged",t.xa),(t.Z=e)&&$e(e,"languageCodeChanged",t.xa)}function Fl(t,e){t.P=e,qa(t.a,r.a.SDK_VERSION?mr(r.a.SDK_VERSION,t.P):null)}function jl(t,e){t.Y&&Ke(t.Y,"frameworkChanged",t.wa),(t.Y=e)&&$e(e,"frameworkChanged",t.wa)}function Bl(t){try{return r.a.app(t.m).auth()}catch(e){throw new Zr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Vl(t){t.B||t.w.b||(t.w.start(),Ke(t,"tokenChanged",t.W),$e(t,"tokenChanged",t.W))}function Ul(t){Ke(t,"tokenChanged",t.W),t.w.stop()}function ql(t,e){t.ma=e,Vr(t,"_lat",e)}function zl(t){for(var e=[],n=0;n<t.O.length;n++)e.push(t.O[n](t));return ne(e).then((function(){return t}))}function Hl(t){t.i&&!t.J&&(t.J=!0,sl(t.i,t))}function Wl(t,e){Ur(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Ol(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Gl(){}function Yl(t){return Zt().then((function(){if(t.B)throw new Zr("app-deleted")}))}function $l(t){return U(t.providerData,(function(t){return t.providerId}))}function Xl(t,e){e&&(Ql(t,e.providerId),t.providerData.push(e))}function Ql(t,e){W(t.providerData,(function(t){return t.providerId==e}))}function Kl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Vr(t,e,n)}function Jl(t,e){t!=e&&(Ur(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Vr(t,"metadata",function(t){return new Ol(t.a,t.b)}(e.metadata)):Vr(t,"metadata",new Ol),V(e.providerData,(function(e){Xl(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Vr(t,"refreshToken",t.b.a))}function Zl(t){return t.G().then((function(e){var n=t.isAnonymous;return function(t,e){return Ps(t.a,fs,{idToken:e}).then(S(t.zc,t))}(t,e).then((function(){return n||Kl(t,"isAnonymous",!1),e}))}))}function tc(t,e){e[La]&&t.ma!=e[La]&&(Al(t.b,e),t.dispatchEvent(new Dl("tokenChanged")),ql(t,e[La]),Kl(t,"refreshToken",t.b.a))}function ec(t,e){return Zl(t).then((function(){if(z($l(t),e))return zl(t).then((function(){throw new Zr("provider-already-linked")}))}))}function nc(t,e,n){return qr({user:t,credential:xo(e),additionalUserInfo:e=Li(e),operationType:n})}function rc(t,e){return tc(t,e),t.reload().then((function(){return t}))}function ic(t,e,n,i,o){if(!xr())return te(new Zr("operation-not-supported-in-this-environment"));if(t.h&&!o)return te(t.h);var a=Ri(n.providerId),s=Ar(t.uid+":::"),u=null;(!Cr()||cr())&&t.o&&n.isOAuthProvider&&(u=Gs(t.o,t.l,t.m,e,n,null,s,r.a.SDK_VERSION||null,null,null,t.tenantId));var l=or(u,a&&a.sa,a&&a.ra);return i=i().then((function(){if(ac(t),!o)return t.G().then((function(){}))})).then((function(){return hl(t.i,l,e,n,s,!!u,t.tenantId)})).then((function(){return new Gt((function(n,r){t.ja(e,null,new Zr("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=s,t.c=dl(t.i,t,e,l,s)}))})).then((function(t){return l&&ir(l),t?qr(t):null})).s((function(t){throw l&&ir(l),t})),sc(t,i,o)}function oc(t,e,n,r,i){if(!xr())return te(new Zr("operation-not-supported-in-this-environment"));if(t.h&&!i)return te(t.h);var o=null,a=Ar(t.uid+":::");return r=r().then((function(){if(ac(t),!i)return t.G().then((function(){}))})).then((function(){return t.ca=a,zl(t)})).then((function(e){return t.da&&(e=(e=t.da).b.set(cc,t.A(),e.a)),e})).then((function(){return pl(t.i,e,n,a,t.tenantId)})).s((function(e){if(o=e,t.da)return hc(t.da);throw o})).then((function(){if(o)throw o})),sc(t,r,i)}function ac(t){if(!t.i||!t.J){if(t.i&&!t.J)throw new Zr("internal-error");throw new Zr("auth-domain-config-required")}}function sc(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),te(t.h)):e.s((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Dl("userInvalidated")),t.h=e),e}))}(t,e,n);return t.I.push(r),r.ka((function(){H(t.I,r)})),r}function uc(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[La]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-k())/1e3;var r=new Rl(e,n,t);return t.providerData&&V(t.providerData,(function(t){t&&Xl(r,qr(t))})),t.redirectEventId&&(r.ca=t.redirectEventId),r}function lc(t){this.a=t,this.b=Iu()}yl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},yl.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(wl(this,!0,null,t.a),Zt()):e.Ba(n,r)?function(t,e,n){n=n.Ba(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.R(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){wl(t,s,e,null)})).s((function(e){wl(t,s,null,e)}))}(this,t,e):te(new Zr("invalid-auth-event")):(wl(this,!1,null,null),Zt())}else te(new Zr("invalid-auth-event"))},yl.prototype.oa=function(){var t=this;return new Gt((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Zr("timeout");t.a&&t.a.cancel(),t.a=fn(cl.get()).then((function(){t.b||(t.g=!0,wl(t,!0,null,e))}))}(t))}))},xl.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ja(t.c,null,t.a,t.b),Zt()):e.Ba(n,r)?function(t,e){var n=t.b,r=t.c;e.Ba(r,n)(t.g,t.f,t.R(),t.i).then((function(t){e.ja(r,t,null,n)})).s((function(t){e.ja(r,null,t,n)}))}(t,e):te(new Zr("invalid-auth-event"))}else te(new Zr("invalid-auth-event"))},Sl.prototype.confirm=function(t){return t=wo(this.verificationId,t),this.a(t)},Tl.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=fn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=u.document,e=null;return Nr()||!t?Zt():new Gt((function(n){e=function(){Nr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).s((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).s((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},Tl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Il.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Il.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?te(new Zr("user-token-expired")):t||!this.b||k()>this.c-3e4?this.a?Pl(this,{grant_type:"refresh_token",refresh_token:this.a}):Zt(null):Zt({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Ol.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(Dl,Le),T(Rl,sn),Rl.prototype.ua=function(t){this.ga=t,Ua(this.a,t)},Rl.prototype.ha=function(){return this.ga},Rl.prototype.Ca=function(){return Y(this.P)},Rl.prototype.Ja=function(){this.w.b&&(this.w.stop(),this.w.start())},Vr(Rl.prototype,"providerId","firebase"),(e=Rl.prototype).reload=function(){var t=this;return sc(this,Yl(this).then((function(){return Zl(t).then((function(){return zl(t)})).then(Gl)})))},e.dc=function(t){return this.G(t).then((function(t){return new kl(t)}))},e.G=function(t){var e=this;return sc(this,Yl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new Zr("internal-error");return t.accessToken!=e.ma&&(ql(e,t.accessToken),e.dispatchEvent(new Dl("tokenChanged"))),Kl(e,"refreshToken",t.refreshToken),t.accessToken})))},e.zc=function(t){if(!(t=t.users)||!t.length)throw new Zr("internal-error");Wl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?U(t,(function(t){return new Nl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Xl(this,e[n]);Kl(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length))},e.Ac=function(t){return jr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.hb(t)},e.hb=function(t){var e=this,n=null;return sc(this,t.f(this.a,this.uid).then((function(t){return tc(e,t),n=nc(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},e.rc=function(t){return jr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.fb(t)},e.fb=function(t){var e=this,n=null;return sc(this,ec(this,t.providerId).then((function(){return e.G()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=nc(e,t,"link"),rc(e,t)})).then((function(){return n})))},e.sc=function(t,e){var n=this;return sc(this,ec(this,"phone").then((function(){return Cl(Bl(n),t,e,S(n.fb,n))})))},e.Bc=function(t,e){var n=this;return sc(this,Zt().then((function(){return Cl(Bl(n),t,e,S(n.hb,n))})),!0)},e.rb=function(t){var e=this;return sc(this,this.G().then((function(n){return e.a.rb(n,t)})).then((function(t){return tc(e,t),e.reload()})))},e.Sc=function(t){var e=this;return sc(this,this.G().then((function(n){return t.b(e.a,n)})).then((function(t){return tc(e,t),e.reload()})))},e.sb=function(t){var e=this;return sc(this,this.G().then((function(n){return e.a.sb(n,t)})).then((function(t){return tc(e,t),e.reload()})))},e.tb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Yl(this);var e=this;return sc(this,this.G().then((function(n){return e.a.tb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return tc(e,t),Kl(e,"displayName",t.displayName||null),Kl(e,"photoURL",t.photoUrl||null),V(e.providerData,(function(t){"password"===t.providerId&&(Vr(t,"displayName",e.displayName),Vr(t,"photoURL",e.photoURL))})),zl(e)})).then(Gl))},e.Qc=function(t){var e=this;return sc(this,Zl(this).then((function(n){return z($l(e),t)?function(t,e,n){return Ps(t,ls,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return V(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),V($l(e),(function(t){n[t]||Ql(e,t)})),n[bo.PROVIDER_ID]||Vr(e,"phoneNumber",null),zl(e)})):zl(e).then((function(){throw new Zr("no-such-provider")}))})))},e.delete=function(){var t=this;return sc(this,this.G().then((function(e){return Ps(t.a,us,{idToken:e})})).then((function(){t.dispatchEvent(new Dl("userDeleted"))}))).then((function(){for(var e=0;e<t.I.length;e++)t.I[e].cancel("app-deleted");Ll(t,null),jl(t,null),t.I=[],t.B=!0,Ul(t),Vr(t,"refreshToken",null),t.i&&ul(t.i,t)}))},e.xb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ca||null)==e||"reauthViaRedirect"==t&&(this.ca||null)==e)},e.ja=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.Ba=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?S(this.Bb,this):"reauthViaPopup"==t&&e==(this.g||null)?S(this.Cb,this):"linkViaRedirect"==t&&(this.ca||null)==e?S(this.Bb,this):"reauthViaRedirect"==t&&(this.ca||null)==e?S(this.Cb,this):null},e.tc=function(t){var e=this;return ic(this,"linkViaPopup",t,(function(){return ec(e,t.providerId).then((function(){return zl(e)}))}),!1)},e.Cc=function(t){return ic(this,"reauthViaPopup",t,(function(){return Zt()}),!0)},e.uc=function(t){var e=this;return oc(this,"linkViaRedirect",t,(function(){return ec(e,t.providerId)}),!1)},e.Dc=function(t){return oc(this,"reauthViaRedirect",t,(function(){return Zt()}),!0)},e.Bb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return sc(this,this.G().then((function(n){return es(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=nc(i,t,"link"),rc(i,t)})).then((function(){return o})))},e.Cb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return sc(this,Zt().then((function(){return Yi(ns(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=nc(i,t,"reauthenticate"),tc(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},e.jb=function(t){var e=this,n=null;return sc(this,this.G().then((function(e){return n=e,"undefined"===typeof t||X(t)?{}:xi(new fi(t))})).then((function(t){return e.a.jb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},e.toJSON=function(){return this.A()},e.A=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&J(t,this.metadata.A()),V(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),t};var cc={name:"redirectUser",C:"session"};function hc(t){return Pu(t.b,cc,t.a)}function fc(t){this.a=t,this.b=Iu(),this.c=null,this.f=function(t){var e=vc("local"),n=vc("session"),r=vc("none");return function(t,e,n){var r=Mu(e,n),i=Au(t,e.C);return t.get(e,n).then((function(o){var a=null;try{a=Ir(u.localStorage.getItem(r))}catch(s){}if(a&&!o)return u.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(dc,t.a).then((function(t){return t?vc(t):e}))}))}))})).then((function(e){return t.c=e,pc(t,e.C)})).s((function(){t.c||(t.c=e)}))}(this),this.b.addListener(vc("local"),this.a,S(this.g,this))}function pc(t,e){var n,r=[];for(n in ku)ku[n]!==e&&r.push(Pu(t.b,vc(ku[n]),t.a));return r.push(Pu(t.b,dc,t.a)),function(t){return new Gt((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)ee(t[s],C(o,s),a);else e(i)}))}(r)}fc.prototype.g=function(){var t=this,e=vc("local");_c(this,(function(){return Zt().then((function(){return t.c&&"local"!=t.c.C?t.b.get(e,t.a):null})).then((function(n){if(n)return pc(t,"local").then((function(){t.c=e}))}))}))};var dc={name:"persistence",C:"session"};function vc(t){return{name:"authUser",C:t}}function gc(t,e){return _c(t,(function(){return t.b.set(t.c,e.A(),t.a)}))}function yc(t){return _c(t,(function(){return Pu(t.b,t.c,t.a)}))}function mc(t,e){return _c(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),uc(t||{})}))}))}function _c(t,e){return t.f=t.f.then(e,e),t.f}function bc(t){if(this.l=!1,Vr(this,"settings",new El),Vr(this,"app",t),!Ic(this).options||!Ic(this).options.apiKey)throw new Zr("invalid-api-key");t=r.a.SDK_VERSION?mr(r.a.SDK_VERSION):null,this.b=new Da(Ic(this).options&&Ic(this).options.apiKey,Pi(Ai),t),this.O=[],this.m=[],this.J=[],this.Ub=r.a.INTERNAL.createSubscribe(S(this.oc,this)),this.W=void 0,this.Vb=r.a.INTERNAL.createSubscribe(S(this.pc,this)),kc(this,null),this.h=new fc(Ic(this).options.apiKey+":"+Ic(this).name),this.w=new lc(Ic(this).options.apiKey+":"+Ic(this).name),this.Y=Oc(this,function(t){var e=Ic(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(cc,t.a).then((function(t){return t&&e&&(t.authDomain=e),uc(t||{})}))}(t.w,Ic(t).options.authDomain).then((function(e){return(t.B=e)&&(e.da=t.w),hc(t.w)}));return Oc(t,e)}(t).then((function(){return mc(t.h,e)})).then((function(e){return e?(e.da=t.w,t.B&&(t.B.ca||null)==(e.ca||null)?e:e.reload().then((function(){return gc(t.h,e).then((function(){return e}))})).s((function(n){return"auth/network-request-failed"==n.code?e:yc(t.h)}))):null})).then((function(e){kc(t,e||null)}));return Oc(t,n)}(this)),this.i=Oc(this,function(t){return t.Y.then((function(){return Sc(t)})).s((function(){})).then((function(){if(!t.l)return t.ma()})).s((function(){})).then((function(){if(!t.l){t.ga=!0;var e=t.h;e.b.addListener(vc("local"),e.a,t.ma)}}))}(this)),this.ga=!1,this.ma=S(this.Nc,this),this.ub=S(this.aa,this),this.wa=S(this.bc,this),this.xa=S(this.mc,this),this.Ja=S(this.nc,this),this.a=null,function(t){var e=Ic(t).options.authDomain,n=Ic(t).options.apiKey;e&&xr()&&(t.Tb=t.Y.then((function(){if(!t.l){if(t.a=gl(e,n,Ic(t).name),sl(t.a,t),Ac(t)&&Hl(Ac(t)),t.B){Hl(t.B);var r=t.B;r.ua(t.ha()),Ll(r,t),Fl(r=t.B,t.I),jl(r,t),t.B=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=S(this.delete,this),this.INTERNAL.logFramework=S(this.vc,this),this.o=0,sn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ha()},set:function(t){this.ua(t)},enumerable:!1}),t.Z=null,Object.defineProperty(t,"ti",{get:function(){return this.R()},set:function(t){this.nb(t)},enumerable:!1}),t.P=null}(this),this.I=[]}function wc(t){Le.call(this,"languageCodeChanged"),this.g=t}function xc(t){Le.call(this,"frameworkChanged"),this.c=t}function Ec(t){return t.Tb||te(new Zr("auth-domain-config-required"))}function Sc(t){if(!xr())return te(new Zr("operation-not-supported-in-this-environment"));var e=Ec(t).then((function(){return t.a.oa()})).then((function(t){return t?qr(t):null}));return Oc(t,e)}function Cc(t,e){var n={};return n.apiKey=Ic(t).options.apiKey,n.authDomain=Ic(t).options.authDomain,n.appName=Ic(t).name,t.Y.then((function(){return function(t,e,n,r){var i=new Rl(t,e);return n&&(i.da=n),r&&Fl(i,r),i.reload().then((function(){return i}))}(n,e,t.w,t.Ca())})).then((function(e){return Ac(t)&&e.uid==Ac(t).uid?(Jl(Ac(t),e),t.aa(e)):(kc(t,e),Hl(e),t.aa(e))})).then((function(){Pc(t)}))}function kc(t,e){Ac(t)&&(function(t,e){W(t.O,(function(t){return t==e}))}(Ac(t),t.ub),Ke(Ac(t),"tokenChanged",t.wa),Ke(Ac(t),"userDeleted",t.xa),Ke(Ac(t),"userInvalidated",t.Ja),Ul(Ac(t))),e&&(e.O.push(t.ub),$e(e,"tokenChanged",t.wa),$e(e,"userDeleted",t.xa),$e(e,"userInvalidated",t.Ja),0<t.o&&Vl(e)),Vr(t,"currentUser",e),e&&(e.ua(t.ha()),Ll(e,t),Fl(e,t.I),jl(e,t))}function Tc(t,e){var n=null,r=null;return Oc(t,e.then((function(e){return n=xo(e),r=Li(e),Cc(t,e)})).then((function(){return qr({user:Ac(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function Ic(t){return t.app}function Ac(t){return t.currentUser}function Mc(t){return Ac(t)&&Ac(t)._lat||null}function Pc(t){if(t.ga){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Mc(t));if(t.W!==t.getUid()&&t.J.length)for(t.W=t.getUid(),e=0;e<t.J.length;e++)t.J[e]&&t.J[e](Mc(t))}}function Oc(t,e){return t.O.push(e),e.ka((function(){H(t.O,e)})),e}function Nc(){}function Dc(){this.a={},this.b=1e12}fc.prototype.mb=function(t){var e=null,n=this;return function(t){var e=new Zr("invalid-persistence-type"),n=new Zr("unsupported-persistence-type");t:{for(r in ku)if(ku[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(fr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!wr()&&"none"!==t)throw n}}(t),_c(this,(function(){return t!=n.c.C?n.b.get(n.c,n.a).then((function(r){return e=r,pc(n,t)})).then((function(){if(n.c=vc(t),e)return n.b.set(n.c,e,n.a)})):Zt()}))},T(bc,sn),T(wc,Le),T(xc,Le),(e=bc.prototype).mb=function(t){return Oc(this,t=this.h.mb(t))},e.ua=function(t){this.Z===t||this.l||(this.Z=t,Ua(this.b,this.Z),this.dispatchEvent(new wc(this.ha())))},e.ha=function(){return this.Z},e.Tc=function(){var t=u.navigator;this.ua(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},e.vc=function(t){this.I.push(t),qa(this.b,r.a.SDK_VERSION?mr(r.a.SDK_VERSION,this.I):null),this.dispatchEvent(new xc(this.I))},e.Ca=function(){return Y(this.I)},e.nb=function(t){this.P===t||this.l||(this.P=t,this.b.b=this.P)},e.R=function(){return this.P},e.toJSON=function(){return{apiKey:Ic(this).options.apiKey,authDomain:Ic(this).options.authDomain,appName:Ic(this).name,currentUser:Ac(this)&&Ac(this).A()}},e.xb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},e.ja=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.Ba=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?S(this.ac,this):null},e.ac=function(t,e,n,r){var i=this;t={requestUri:t,postBody:r,sessionId:e,tenantId:n},this.c&&(this.c.cancel(),this.c=null);var o=null,a=null,s=ts(i.b,t).then((function(t){return o=xo(t),a=Li(t),t}));return Oc(this,t=i.Y.then((function(){return s})).then((function(t){return Cc(i,t)})).then((function(){return qr({user:Ac(i),credential:o,additionalUserInfo:a,operationType:"signIn"})})))},e.Lc=function(t){if(!xr())return te(new Zr("operation-not-supported-in-this-environment"));var e=this,n=Ri(t.providerId),i=Ar(),o=null;(!Cr()||cr())&&Ic(this).options.authDomain&&t.isOAuthProvider&&(o=Gs(Ic(this).options.authDomain,Ic(this).options.apiKey,Ic(this).name,"signInViaPopup",t,null,i,r.a.SDK_VERSION||null,null,null,this.R()));var a=or(o,n&&n.sa,n&&n.ra);return Oc(this,n=Ec(this).then((function(n){return hl(n,a,"signInViaPopup",t,i,!!o,e.R())})).then((function(){return new Gt((function(t,n){e.ja("signInViaPopup",null,new Zr("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=i,e.c=dl(e.a,e,"signInViaPopup",a,i)}))})).then((function(t){return a&&ir(a),t?qr(t):null})).s((function(t){throw a&&ir(a),t})))},e.Mc=function(t){if(!xr())return te(new Zr("operation-not-supported-in-this-environment"));var e=this;return Oc(this,Ec(this).then((function(){return function(t){return _c(t,(function(){return t.b.set(dc,t.c.C,t.a)}))}(e.h)})).then((function(){return pl(e.a,"signInViaRedirect",t,void 0,e.R())})))},e.oa=function(){var t=this;return Sc(this).then((function(e){return t.a&&_l(t.a.b),e})).s((function(e){throw t.a&&_l(t.a.b),e}))},e.Rc=function(t){if(!t)return te(new Zr("null-user"));if(this.P!=t.tenantId)return te(new Zr("tenant-id-mismatch"));var e=this,n={};n.apiKey=Ic(this).options.apiKey,n.authDomain=Ic(this).options.authDomain,n.appName=Ic(this).name;var r=function(t,e,n,r){e=e||{apiKey:t.l,authDomain:t.o,appName:t.m};var i=t.b,o={};return o[La]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-k())/1e3,e=new Rl(e,o),n&&(e.da=n),r&&Fl(e,r),Jl(e,t),e}(t,n,e.w,e.Ca());return Oc(this,this.i.then((function(){if(Ic(e).options.apiKey!=t.l)return r.reload()})).then((function(){return Ac(e)&&t.uid==Ac(e).uid?(Jl(Ac(e),t),e.aa(t)):(kc(e,r),Hl(r),e.aa(r))})).then((function(){Pc(e)})))},e.pb=function(){var t=this;return Oc(this,this.i.then((function(){return t.a&&_l(t.a.b),Ac(t)?(kc(t,null),yc(t.h).then((function(){Pc(t)}))):Zt()})))},e.Nc=function(){var t=this;return mc(this.h,Ic(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=Ac(t)&&e){n=Ac(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Jl(Ac(t),e),Ac(t).G();(Ac(t)||e)&&(kc(t,e),e&&(Hl(e),e.da=t.w),t.a&&sl(t.a,t),Pc(t))}}))},e.aa=function(t){return gc(this.h,t)},e.bc=function(){Pc(this),this.aa(Ac(this))},e.mc=function(){this.pb()},e.nc=function(){this.pb()},e.oc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(Ac(e))}))},e.pc=function(t){var e=this;!function(t,e){t.J.push(e),Oc(t,t.i.then((function(){!t.l&&z(t.J,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(Mc(t)))})))}(this,(function(){t.next(Ac(e))}))},e.xc=function(t,e,n){var r=this;return this.ga&&Promise.resolve().then((function(){m(t)?t(Ac(r)):m(t.next)&&t.next(Ac(r))})),this.Ub(t,e,n)},e.wc=function(t,e,n){var r=this;return this.ga&&Promise.resolve().then((function(){r.W=r.getUid(),m(t)?t(Ac(r)):m(t.next)&&t.next(Ac(r))})),this.Vb(t,e,n)},e.cc=function(t){var e=this;return Oc(this,this.i.then((function(){return Ac(e)?Ac(e).G(t).then((function(t){return{accessToken:t}})):null})))},e.Hc=function(t){var e=this;return this.i.then((function(){return Tc(e,Ps(e.b,ks,{token:t}))})).then((function(t){var n=t.user;return Kl(n,"isAnonymous",!1),e.aa(n),t}))},e.Ic=function(t,e){var n=this;return this.i.then((function(){return Tc(n,Ps(n.b,Ts,{email:t,password:e}))}))},e.Xb=function(t,e){var n=this;return this.i.then((function(){return Tc(n,Ps(n.b,as,{email:t,password:e}))}))},e.Sa=function(t){var e=this;return this.i.then((function(){return Tc(e,t.na(e.b))}))},e.Gc=function(t){return jr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Sa(t)},e.ob=function(){var t=this;return this.i.then((function(){var e=Ac(t);if(e&&e.isAnonymous){var n=qr({providerId:null,isNewUser:!1});return qr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Tc(t,t.b.ob()).then((function(e){var n=e.user;return Kl(n,"isAnonymous",!0),t.aa(n),e}))}))},e.getUid=function(){return Ac(this)&&Ac(this).uid||null},e.Wb=function(t){this.addAuthTokenListener(t),this.o++,0<this.o&&Ac(this)&&Vl(Ac(this))},e.Ec=function(t){var e=this;V(this.m,(function(n){n==t&&e.o--})),0>this.o&&(this.o=0),0==this.o&&Ac(this)&&Ul(Ac(this)),this.removeAuthTokenListener(t)},e.addAuthTokenListener=function(t){var e=this;this.m.push(t),Oc(this,this.i.then((function(){e.l||z(e.m,t)&&t(Mc(e))})))},e.removeAuthTokenListener=function(t){W(this.m,(function(e){return e==t}))},e.delete=function(){this.l=!0;for(var t=0;t<this.O.length;t++)this.O[t].cancel("app-deleted");return this.O=[],this.h&&(t=this.h).b.removeListener(vc("local"),t.a,this.ma),this.a&&(ul(this.a,this),_l(this.a.b)),Promise.resolve()},e.$b=function(t){return Oc(this,function(t,e){return Ps(t,ss,{identifier:e,continueUri:Er()?er():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},e.qc=function(t){return!!go(t)},e.lb=function(t,e){var n=this;return Oc(this,Zt().then((function(){var t=new fi(e);if(!t.c)throw new Zr("argument-error",vi+" must be true when sending sign in link to email");return xi(t)})).then((function(e){return n.b.lb(t,e)})).then((function(){})))},e.Uc=function(t){return this.Ma(t).then((function(t){return t.data.email}))},e.ab=function(t,e){return Oc(this,this.b.ab(t,e).then((function(){})))},e.Ma=function(t){return Oc(this,this.b.Ma(t).then((function(t){return new Hr(t)})))},e.Ya=function(t){return Oc(this,this.b.Ya(t).then((function(){})))},e.kb=function(t,e){var n=this;return Oc(this,Zt().then((function(){return"undefined"===typeof e||X(e)?{}:xi(new fi(e))})).then((function(e){return n.b.kb(t,e)})).then((function(){})))},e.Kc=function(t,e){return Oc(this,Cl(this,t,e,S(this.Sa,this)))},e.Jc=function(t,e){var n=this;return Oc(this,Zt().then((function(){var r=e||er(),i=vo(t,r);if(!(r=go(r)))throw new Zr("argument-error","Invalid email link!");if(r.tenantId!==n.R())throw new Zr("tenant-id-mismatch");return n.Sa(i)})))},Nc.prototype.render=function(){},Nc.prototype.reset=function(){},Nc.prototype.getResponse=function(){},Nc.prototype.execute=function(){};var Rc=null;function Lc(t,e){return(e=Fc(e))&&t.a[e]||null}function Fc(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function jc(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Hn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():$e(this.f,"click",this.i)}function Bc(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Vc(){}Dc.prototype.render=function(t,e){return this.a[this.b.toString()]=new jc(t,e),this.b++},Dc.prototype.reset=function(t){var e=Lc(this,t);t=Fc(t),e&&t&&(e.delete(),delete this.a[t])},Dc.prototype.getResponse=function(t){return(t=Lc(this,t))?t.getResponse():null},Dc.prototype.execute=function(t){(t=Lc(this,t))&&t.execute()},jc.prototype.getResponse=function(){return Bc(this),this.b},jc.prototype.execute=function(){Bc(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},jc.prototype.delete=function(){Bc(this),this.g=!0,clearTimeout(this.a),this.a=null,Ke(this.f,"click",this.i)},Vc.prototype.g=function(){return Rc||(Rc=new Dc),Zt(Rc)},Vc.prototype.c=function(){};var Uc=null;function qc(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var zc=new Z(nt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Hc=new Or(3e4,6e4);qc.prototype.g=function(t){var e=this;return new Gt((function(n,r){var i=setTimeout((function(){r(new Zr("network-request-failed"))}),Hc.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new Zr("internal-error"));delete u[e.a]},Zt(Ta(at(zc,{onload:e.a,hl:t||""}))).s((function(){clearTimeout(i),r(new Zr("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},qc.prototype.c=function(){this.b--};var Wc=null;function Gc(t,e,n,r,i,o,a){if(Vr(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=e,this.g=null,a?(Uc||(Uc=new Vc),a=Uc):(Wc||(Wc=new qc),a=Wc),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Xc])throw new Zr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Qc],!u.document)throw new Zr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Hn(e)||!this.i&&Hn(e).hasChildNodes())throw new Zr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Da(t,o||null,i||null),this.v=r||function(){return null};var s=this;this.l=[];var l=this.a[Yc];this.a[Yc]=function(t){if(Kc(s,t),"function"===typeof l)l(t);else if("string"===typeof l){var e=br(l,u);"function"===typeof e&&e(t)}};var c=this.a[$c];this.a[$c]=function(){if(Kc(s,null),"function"===typeof c)c();else if("string"===typeof c){var t=br(c,u);"function"===typeof t&&t()}}}var Yc="callback",$c="expired-callback",Xc="sitekey",Qc="size";function Kc(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Jc(t,e){return t.h.push(e),e.ka((function(){H(t.h,e)})),e}function Zc(t){if(t.B)throw new Zr("internal-error","RecaptchaVerifier instance has been destroyed.")}function th(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(s){throw new Zr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Zr("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ca()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=r.a.SDK_VERSION?mr(r.a.SDK_VERSION,a):null,Gc.call(this,n,t,e,(function(){try{var t=o.b.auth().ha()}catch(e){t=null}return t}),a,Pi(Ai),i)}function eh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new Zr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].N(n[i])&&!o){if(e=e[i],0>i||i>=nh.length)throw new Zr("internal-error","Argument validator received an unsupported number of arguments.");n=nh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.M+".";break t}r=null}}if(r)throw new Zr("argument-error",t+" failed: "+r)}(e=Gc.prototype).Da=function(){var t=this;return this.f?this.f:this.f=Jc(this,Zt().then((function(){if(Er()&&!hr())return ur();throw new Zr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.v())})).then((function(e){return t.g=e,Ps(t.o,ys,{})})).then((function(e){t.a[Xc]=e.recaptchaSiteKey})).s((function(e){throw t.f=null,e})))},e.render=function(){Zc(this);var t=this;return Jc(this,this.Da().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=Hn(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!zn&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Bt(a.name),'"'),a.type){o.push(' type="',Bt(a.type),'"');var s={};J(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=i.createElement(o),a&&(l(a)?o.className=a:g(a)?o.className=a.join(" "):Wn(o,a)),2<r.length&&Yn(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},e.verify=function(){Zc(this);var t=this;return Jc(this,this.render().then((function(e){return new Gt((function(n){var r=t.g.getResponse(e);if(r)n(r);else{t.l.push((function e(r){r&&(function(t,e){W(t.l,(function(t){return t==e}))}(t,e),n(r))})),t.i&&t.g.execute(t.c)}}))})))},e.reset=function(){Zc(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Zc(this),this.B=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=Hn(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},T(th,Gc);var nh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function rh(t,e){return{name:t||"",M:"a valid string",optional:!!e,N:l}}function ih(t,e){return{name:t||"",M:"a boolean",optional:!!e,N:c}}function oh(t,e){return{name:t||"",M:"a valid object",optional:!!e,N:_}}function ah(t,e){return{name:t||"",M:"a function",optional:!!e,N:m}}function sh(t,e){return{name:t||"",M:"null",optional:!!e,N:v}}function uh(t){return{name:t?t+"Credential":"credential",M:t?"a valid "+t+" credential":"a valid credential",optional:!1,N:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.na||!n)}}}function lh(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(t){return!!(t&&l(t.type)&&m(t.verify))}}}function ch(t,e,n,r){return{name:n||"",M:t.M+" or "+e.M,optional:!!r,N:function(n){return t.N(n)||e.N(n)}}}function hh(t,e){for(var n in e){var r=e[n].name;t[r]=dh(r,t[n],e[n].j)}}function fh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:C((function(t){return this[t]}),n),set:C((function(t,e,n,r){eh(t,[n],[r],!0),this[e]=r}),r,n,e[n].Za),enumerable:!0})}}function ph(t,e,n,r){t[e]=dh(e,n,r)}function dh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return eh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}hh(bc.prototype,{Ya:{name:"applyActionCode",j:[rh("code")]},Ma:{name:"checkActionCode",j:[rh("code")]},ab:{name:"confirmPasswordReset",j:[rh("code"),rh("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[rh("email"),rh("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[rh("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[rh("emailLink")]},wc:{name:"onAuthStateChanged",j:[ch(oh(),ah(),"nextOrObserver"),ah("opt_error",!0),ah("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[ch(oh(),ah(),"nextOrObserver"),ah("opt_error",!0),ah("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[rh("email"),ch(oh("opt_actionCodeSettings",!0),sh(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[rh("email"),oh("actionCodeSettings")]},mb:{name:"setPersistence",j:[rh("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[uh()]},ob:{name:"signInAnonymously",j:[]},Sa:{name:"signInWithCredential",j:[uh()]},Hc:{name:"signInWithCustomToken",j:[rh("token")]},Ic:{name:"signInWithEmailAndPassword",j:[rh("email"),rh("password")]},Jc:{name:"signInWithEmailLink",j:[rh("email"),rh("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[rh("phoneNumber"),lh()]},Lc:{name:"signInWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"signInWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Rc:{name:"updateCurrentUser",j:[ch({name:"user",M:"an instance of Firebase User",optional:!1,N:function(t){return!!(t&&t instanceof Rl)}},sh(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[rh(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[rh("code")]}}),fh(bc.prototype,{lc:{name:"languageCode",Za:ch(rh(),sh(),"languageCode")},ti:{name:"tenantId",Za:ch(rh(),sh(),"tenantId")}}),bc.Persistence=ku,bc.Persistence.LOCAL="local",bc.Persistence.SESSION="session",bc.Persistence.NONE="none",hh(Rl.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[ih("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[ih("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[uh()]},fb:{name:"linkWithCredential",j:[uh()]},sc:{name:"linkWithPhoneNumber",j:[rh("phoneNumber"),lh()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[uh()]},hb:{name:"reauthenticateWithCredential",j:[uh()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[rh("phoneNumber"),lh()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[ch(oh("opt_actionCodeSettings",!0),sh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[rh(null,!0)]},Qc:{name:"unlink",j:[rh("provider")]},rb:{name:"updateEmail",j:[rh("email")]},sb:{name:"updatePassword",j:[rh("password")]},Sc:{name:"updatePhoneNumber",j:[uh("phone")]},tb:{name:"updateProfile",j:[oh("profile")]}}),hh(Dc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),hh(Nc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),hh(Gt.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),fh(El.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Za:ih("appVerificationDisabledForTesting")}}),hh(Sl.prototype,{confirm:{name:"confirm",j:[rh("verificationCode")]}}),ph(Gi,"fromJSON",(function(t){t=l(t)?JSON.parse(t):t;for(var e,n=[Zi,fo,mo,Qi],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[ch(rh(),oh(),"json")]),ph(po,"credential",(function(t,e){return new ho(t,e)}),[rh("email"),rh("password")]),hh(ho.prototype,{A:{name:"toJSON",j:[rh(null,!0)]}}),hh(ro.prototype,{ya:{name:"addScope",j:[rh("scope")]},Ga:{name:"setCustomParameters",j:[oh("customOAuthParameters")]}}),ph(ro,"credential",io,[ch(rh(),oh(),"token")]),ph(po,"credentialWithLink",vo,[rh("email"),rh("emailLink")]),hh(oo.prototype,{ya:{name:"addScope",j:[rh("scope")]},Ga:{name:"setCustomParameters",j:[oh("customOAuthParameters")]}}),ph(oo,"credential",ao,[ch(rh(),oh(),"token")]),hh(so.prototype,{ya:{name:"addScope",j:[rh("scope")]},Ga:{name:"setCustomParameters",j:[oh("customOAuthParameters")]}}),ph(so,"credential",uo,[ch(rh(),ch(oh(),sh()),"idToken"),ch(rh(),sh(),"accessToken",!0)]),hh(lo.prototype,{Ga:{name:"setCustomParameters",j:[oh("customOAuthParameters")]}}),ph(lo,"credential",co,[ch(rh(),oh(),"token"),rh("secret",!0)]),hh(no.prototype,{ya:{name:"addScope",j:[rh("scope")]},credential:{name:"credential",j:[ch(rh(),ch(oh(),sh()),"optionsOrIdToken"),ch(rh(),sh(),"accessToken",!0)]},Ga:{name:"setCustomParameters",j:[oh("customOAuthParameters")]}}),hh(Ki.prototype,{A:{name:"toJSON",j:[rh(null,!0)]}}),hh($i.prototype,{A:{name:"toJSON",j:[rh(null,!0)]}}),ph(bo,"credential",wo,[rh("verificationId"),rh("verificationCode")]),hh(bo.prototype,{Wa:{name:"verifyPhoneNumber",j:[rh("phoneNumber"),lh()]}}),hh(yo.prototype,{A:{name:"toJSON",j:[rh(null,!0)]}}),hh(Zr.prototype,{toJSON:{name:"toJSON",j:[rh(null,!0)]}}),hh(Mo.prototype,{toJSON:{name:"toJSON",j:[rh(null,!0)]}}),hh(Ao.prototype,{toJSON:{name:"toJSON",j:[rh(null,!0)]}}),hh(th.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ph(ri,"parseLink",hi,[rh("link")]),function(){if("undefined"===typeof r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Wr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:bc,AuthCredential:Gi,Error:Zr};ph(t,"EmailAuthProvider",po,[]),ph(t,"FacebookAuthProvider",ro,[]),ph(t,"GithubAuthProvider",oo,[]),ph(t,"GoogleAuthProvider",so,[]),ph(t,"TwitterAuthProvider",lo,[]),ph(t,"OAuthProvider",no,[rh("providerId")]),ph(t,"SAMLAuthProvider",eo,[rh("providerId")]),ph(t,"PhoneAuthProvider",bo,[{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(t){return!!(t&&t instanceof bc)}}]),ph(t,"RecaptchaVerifier",th,[ch(rh(),{name:"",M:"an HTML element",optional:!1,N:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),oh("recaptchaParameters",!0),{name:"app",M:"an instance of Firebase App",optional:!0,N:function(t){return!!(t&&t instanceof r.a.app.App)}}]),ph(t,"ActionCodeURL",ri,[]),r.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new bc(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),r.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:S((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:S(t.cc,t),addAuthTokenListener:S(t.Wb,t),removeAuthTokenListener:S(t.Ec,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.a.registerVersion("@firebase/auth","0.13.6"),r.a.INTERNAL.extendNamespace({User:Rl})}()}).apply("undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}.call(this,n(24))},function(t,e,n){"use strict";(function(r){Object.defineProperty(e,"__esModule",{value:!0});var i,o=(i=n(2))&&"object"===typeof i&&"default"in i?i.default:i,a=n(68),s=n(12),u=n(25),l=n(10),c=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),s.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:s.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),h=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return s.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),f=function(t){try{if("undefined"!==typeof window&&"undefined"!==typeof window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new c(e)}}catch(n){}return new h},p=f("localStorage"),d=f("sessionStorage"),v=new u.Logger("@firebase/database"),g=function(){var t=1;return function(){return t++}}(),y=function(t){var e=s.stringToByteArray(t),n=new s.Sha1;n.update(e);var r=n.digest();return s.base64.encodeByteArray(r)},m=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=0;i<e.length;i++){var o=e[i];Array.isArray(o)||o&&"object"===typeof o&&"number"===typeof o.length?r+=t.apply(null,o):r+="object"===typeof o?s.stringify(o):o,r+=" "}return r},_=null,b=!0,w=function(t,e){s.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(v.logLevel=u.LogLevel.VERBOSE,_=v.log.bind(v),e&&d.set("logging_enabled",!0)):"function"===typeof t?_=t:(_=null,d.remove("logging_enabled"))},x=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===b&&(b=!1,null===_&&!0===d.get("logging_enabled")&&w(!0)),_){var n=m.apply(null,t);_(n)}},E=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];x.apply(void 0,a.__spread([t],e))}},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+m.apply(void 0,a.__spread(t));v.error(n)},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+m.apply(void 0,a.__spread(t));throw v.error(n),new Error(n)},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+m.apply(void 0,a.__spread(t));v.warn(n)},T=function(t){return"number"===typeof t&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},I="[MIN_NAME]",A="[MAX_NAME]",M=function(t,e){if(t===e)return 0;if(t===I||e===A)return-1;if(e===I||t===A)return 1;var n=j(t),r=j(e);return null!==n?null!==r?n-r===0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},P=function(t,e){return t===e?0:t<e?-1:1},O=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+s.stringify(e))},N=function t(e){if("object"!==typeof e||null===e)return s.stringify(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i="{",o=0;o<n.length;o++)0!==o&&(i+=","),i+=s.stringify(n[o]),i+=":",i+=t(e[n[o]]);return i+="}"},D=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function R(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var L=function(t){s.assert(!T(t),"Invalid JSON number");var e,n,r,i,o;0===t?(n=0,r=0,e=1/t===-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var u=a.join(""),l="";for(o=0;o<64;o+=8){var c=parseInt(u.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()},F=new RegExp("^-?(0*)\\d{1,10}$"),j=function(t){if(F.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},B=function(t){try{t()}catch(e){setTimeout((function(){var t=e.stack||"";throw k("Exception was thrown by user callback.",t),e}),Math.floor(0))}},V=function(t,e){var n=setTimeout(t,e);return"object"===typeof n&&n.unref&&n.unref(),n},U=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=M(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),q=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=s.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=s.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=s.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),z=function(){function t(t,e,n,r,i,o){void 0===i&&(i=""),void 0===o&&(o=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=p.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&p.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(s.assert("string"===typeof t,"typeof type must == string"),s.assert("object"===typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return R(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}();var H,W,G=function(t){var e=Y(t),n=e.namespace;"firebase"===e.domain&&C(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!==n||"localhost"===e.domain||C("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&k("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var r="ws"===e.scheme||"wss"===e.scheme;return{repoInfo:new z(e.host,e.secure,n,r,"",n!==e.subdomain),path:new U(e.pathString)}},Y=function(t){var e="",n="",r="",i="",o="",s=!0,u="https",l=443;if("string"===typeof t){var c=t.indexOf("//");c>=0&&(u=t.substring(0,c-1),t=t.substring(c+2));var h=t.indexOf("/");-1===h&&(h=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,f)));var p=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=a.__values(t.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):k("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,f)));(c=e.indexOf(":"))>=0?(s="https"===u||"wss"===u,l=parseInt(e.substring(c+1),10)):c=t.length;var d=e.split(".");3===d.length?(n=d[1],o=r=d[0].toLowerCase()):2===d.length?n=d[0]:"localhost"===d[0].slice(0,c).toLowerCase()&&(n="localhost"),"ns"in p&&(o=p.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},$=/[\[\].#$\/\u0000-\u001F\u007F]/,X=/[\[\].#$\u0000-\u001F\u007F]/,Q=function(t){return"string"===typeof t&&0!==t.length&&!$.test(t)},K=function(t){return"string"===typeof t&&0!==t.length&&!X.test(t)},J=function(t){return null===t||"string"===typeof t||"number"===typeof t&&!T(t)||t&&"object"===typeof t&&s.contains(t,".sv")},Z=function(t,e,n,r,i){i&&void 0===n||tt(s.errorPrefix(t,e,i),n,r)},tt=function t(e,n,r){var i=r instanceof U?new q(r,e):r;if(void 0===n)throw new Error(e+"contains undefined "+i.toErrorString());if("function"===typeof n)throw new Error(e+"contains a function "+i.toErrorString()+" with contents = "+n.toString());if(T(n))throw new Error(e+"contains "+n.toString()+" "+i.toErrorString());if("string"===typeof n&&n.length>10485760/3&&s.stringLength(n)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+i.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var o=!1,a=!1;if(R(n,(function(n,r){if(".value"===n)o=!0;else if(".priority"!==n&&".sv"!==n&&(a=!0,!Q(n)))throw new Error(e+" contains an invalid key ("+n+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(n),t(e,r,i),i.pop()})),o&&a)throw new Error(e+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},et=function(t,e,n,r,i){if(!i||void 0!==n){var o=s.errorPrefix(t,e,i);if(!n||"object"!==typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var a=[];R(n,(function(t,e){var n=new U(t);if(tt(o,e,r.child(n)),".priority"===n.getBack()&&!J(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Q(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(U.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(o,a)}},nt=function(t,e,n,r){if(!r||void 0!==n){if(T(n))throw new Error(s.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!J(n))throw new Error(s.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},rt=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(s.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},it=function(t,e,n,r){if((!r||void 0!==n)&&!Q(n))throw new Error(s.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ot=function(t,e,n,r){if((!r||void 0!==n)&&!K(n))throw new Error(s.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},at=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ot(t,e,n,r)},st=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},ut=function(t,e,n){var r=n.path.toString();if("string"!==typeof n.repoInfo.host||0===n.repoInfo.host.length||!Q(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),K(t)}(r))throw new Error(s.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},lt=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(s.errorPrefix(t,e,r)+"must be a boolean.")},ct=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){s.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),s.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new s.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){s.validateArgCount("OnDisconnect.remove",0,1,arguments.length),st("OnDisconnect.remove",this.path_),s.validateCallback("OnDisconnect.remove",1,t,!0);var e=new s.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){s.validateArgCount("OnDisconnect.set",1,2,arguments.length),st("OnDisconnect.set",this.path_),Z("OnDisconnect.set",1,t,this.path_,!1),s.validateCallback("OnDisconnect.set",2,e,!0);var n=new s.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){s.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),st("OnDisconnect.setWithPriority",this.path_),Z("OnDisconnect.setWithPriority",1,t,this.path_,!1),nt("OnDisconnect.setWithPriority",2,e,!1),s.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new s.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(s.validateArgCount("OnDisconnect.update",1,2,arguments.length),st("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,k("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}et("OnDisconnect.update",1,t,this.path_,!1),s.validateCallback("OnDisconnect.update",2,e,!0);var i=new s.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),ht=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return s.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),ft=function(){var t="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",e=0,n=[];return function(r){var i,o=r===e;e=r;var a=new Array(8);for(i=7;i>=0;i--)a[i]=t.charAt(r%64),r=Math.floor(r/64);s.assert(0===r,"Cannot push at time == 0");var u=a.join("");if(o){for(i=11;i>=0&&63===n[i];i--)n[i]=0;n[i]++}else for(i=0;i<12;i++)n[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)u+=t.charAt(n[i]);return s.assert(20===u.length,"nextPushId: Length should be 20."),u}}(),pt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),dt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new pt(I,t),r=new pt(I,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return pt.MIN},t}(),vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return H},set:function(t){H=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return M(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw s.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return pt.MIN},e.prototype.maxPost=function(){return new pt(A,H)},e.prototype.makePost=function(t,e){return s.assert("string"===typeof t,"KeyIndex indexValue must always be a string."),new pt(t,H)},e.prototype.toString=function(){return".key"},e}(dt),gt=new vt;var yt,mt,_t,bt=function(t){return"number"===typeof t?"number:"+L(t):"string:"+t},wt=function(t){if(t.isLeafNode()){var e=t.val();s.assert("string"===typeof e||"number"===typeof e||"object"===typeof e&&s.contains(e,".sv"),"Priority must be a string or number.")}else s.assert(t===W||t.isEmpty(),"priority of unexpected type.");s.assert(t===W||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},xt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,s.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),wt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return yt},set:function(t){yt=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(s.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+bt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?L(this.value_):this.value_,this.lazyHash_=y(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(s.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return s.assert(i>=0,"Unknown leaf type: "+n),s.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var Et,St,Ct=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?M(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return pt.MIN},e.prototype.maxPost=function(){return new pt(A,new xt("[PRIORITY-POST]",_t))},e.prototype.makePost=function(t,e){var n=mt(t);return new pt(e,new xt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(dt)),kt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Tt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:At.EMPTY_NODE,this.right=null!=o?o:At.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return At.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return At.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),It=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Tt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),At=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Tt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Tt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new kt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new kt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new kt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new kt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new It,t}(),Mt=Math.log(2),Pt=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/Mt,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Ot=function(t,e,n,r){t.sort(e);var i=function(e){for(var r=null,i=null,o=t.length,a=function(e,r){var i=o-e,a=o;o-=e;var u=function e(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=t[r],a=n?n(o):o,new Tt(a,o.node,Tt.BLACK,null,null);var u=parseInt(s/2,10)+r,l=e(r,u),c=e(u+1,i);return o=t[u],a=n?n(o):o,new Tt(a,o.node,Tt.BLACK,l,c)}(i+1,a),l=t[i],c=n?n(l):l;s(new Tt(c,l.node,r,null,u))},s=function(t){r?(r.left=t,r=t):(i=t,r=t)},u=0;u<e.count;++u){var l=e.nextBitIsOne(),c=Math.pow(2,e.count-(u+1));l?a(c,Tt.BLACK):(a(c,Tt.BLACK),a(c,Tt.RED))}return i}(new Pt(t.length));return new At(r||e,i)},Nt={},Dt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return s.assert(Nt&&Ct,"ChildrenNode.ts has not been loaded"),Et=Et||new t({".priority":Nt},{".priority":Ct})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=s.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof At?e:null},t.prototype.hasIndex=function(t){return s.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){s.assert(e!==gt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,u=n.getIterator(pt.Wrap),l=u.getNext();l;)o=o||e.isDefinedOn(l.node),i.push(l),l=u.getNext();r=o?Ot(i,e.getCompare()):Nt;var c=e.toString(),h=a.__assign({},this.indexSet_);h[c]=e;var f=a.__assign({},this.indexes_);return f[c]=r,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(s.map(this.indexes_,(function(t,i){var o=s.safeGet(r.indexSet_,i);if(s.assert(o,"Missing index implementation for "+i),t===Nt){if(o.isDefinedOn(e.node)){for(var a=[],u=n.getIterator(pt.Wrap),l=u.getNext();l;)l.name!==e.name&&a.push(l),l=u.getNext();return a.push(e),Ot(a,o.getCompare())}return Nt}var c=n.get(e.name),h=t;return c&&(h=h.remove(new pt(e.name,c))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(s.map(this.indexes_,(function(t){if(t===Nt)return t;var r=n.get(e.name);return r?t.remove(new pt(e.name,r)):t})),this.indexSet_)},t}();function Rt(t,e){return M(t.name,e.name)}function Lt(t,e){return M(t,e)}var Ft=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&wt(this.priorityNode_),this.children_.isEmpty()&&s.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return St||(St=new t(new At(Lt),null,Dt.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||St},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?St:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(s.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new pt(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?St:this.priorityNode_;return new t(i,a,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;s.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Ct,(function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+bt(this.getPriority().val())+":"),this.forEachChild(Ct,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":y(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new pt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new pt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new pt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,pt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,pt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===jt?-1:0},t.prototype.withIndex=function(e){if(e===gt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===gt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Ct),r=e.getIterator(Ct),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===gt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),jt=new(function(t){function e(){return t.call(this,new At(Lt),Ft.EMPTY_NODE,Dt.Default)||this}return a.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Ft.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Ft));Object.defineProperties(pt,{MIN:{value:new pt(I,Ft.EMPTY_NODE)},MAX:{value:new pt(A,jt)}}),vt.__EMPTY_NODE=Ft.EMPTY_NODE,xt.__childrenNodeConstructor=Ft,W=jt,function(t){_t=t}(jt);function Bt(t,e){if(void 0===e&&(e=null),null===t)return Ft.EMPTY_NODE;if("object"===typeof t&&".priority"in t&&(e=t[".priority"]),s.assert(null===e||"string"===typeof e||"number"===typeof e||"object"===typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"===typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!==typeof t||".sv"in t)return new xt(t,Bt(e));if(t instanceof Array){var n=Ft.EMPTY_NODE;return R(t,(function(e,r){if(s.contains(t,e)&&"."!==e.substring(0,1)){var i=Bt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Bt(e))}var r=[],i=!1;if(R(t,(function(t,e){if("."!==t.substring(0,1)){var n=Bt(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new pt(t,n)))}})),0===r.length)return Ft.EMPTY_NODE;var o=Ot(r,Rt,(function(t){return t.name}),Lt);if(i){var a=Ot(r,Ct.getCompare());return new Ft(o,Bt(e),new Dt({".priority":a},{".priority":Ct}))}return new Ft(o,Bt(e),Dt.Default)}!function(t){mt=t}(Bt);var Vt,Ut,qt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?M(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return pt.MIN},e.prototype.maxPost=function(){return pt.MAX},e.prototype.makePost=function(t,e){var n=Bt(t);return new pt(e,n)},e.prototype.toString=function(){return".value"},e}(dt)),zt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,s.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return a.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?M(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Bt(t),r=Ft.EMPTY_NODE.updateChild(this.indexPath_,n);return new pt(e,r)},e.prototype.maxPost=function(){var t=Ft.EMPTY_NODE.updateChild(this.indexPath_,jt);return new pt(A,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(dt),Ht=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return s.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return s.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return s.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return s.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){s.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),ot("DataSnapshot.child",1,e,!1);var n=new U(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Ct)},t.prototype.hasChild=function(t){s.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),ot("DataSnapshot.hasChild",1,t,!1);var e=new U(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return s.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(s.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),s.validateCallback("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),Ct))}))},t.prototype.hasChildren=function(){return s.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return s.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return s.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Wt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+s.stringify(this.snapshot.exportVal())},t}(),Gt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Yt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Wt("value",this,new Ht(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){s.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Gt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),$t=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,s.contains(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Gt(this,t,e):null},t.prototype.createEvent=function(t,e){s.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Wt(t.type,this,new Ht(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){s.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return s===a&&(!e.callbacks_[a]||!this.callbacks_[s]||e.callbacks_[a]===this.callbacks_[s])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Xt=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return s.assert(Vt,"Reference.ts has not been loaded"),Vt},set:function(t){Vt=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===gt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==I)throw new Error(r);if("string"!==typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==A)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(t.getIndex()===Ct){if(null!=e&&!J(e)||null!=n&&!J(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(s.assert(t.getIndex()instanceof zt||t.getIndex()===qt,"unknown index type."),null!=e&&"object"===typeof e||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return s.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){s.validateArgCount("Query.on",2,4,arguments.length),rt("Query.on",1,e,!1),s.validateCallback("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[e]=n,this.onChildEvent(a,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new Yt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new $t(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){s.validateArgCount("Query.off",0,3,arguments.length),rt("Query.off",1,t,!0),s.validateCallback("Query.off",2,e,!0),s.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var o=e||null;r=new Yt(o,null,n||null)}else t&&(e&&((i={})[t]=e),r=new $t(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;s.validateArgCount("Query.once",1,4,arguments.length),rt("Query.once",1,e,!1),s.validateCallback("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),u=!0,l=new s.Deferred;l.promise.catch((function(){}));var c=function t(r){u&&(u=!1,o.off(e,t),n&&n.bind(a.context)(r),l.resolve(r))};return this.on(e,c,(function(t){o.off(e,c),a.cancel&&a.cancel.bind(a.context)(t),l.reject(t)})),l.promise},t.prototype.limitToFirst=function(e){if(s.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(s.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(s.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ot("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new U(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new zt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){s.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(gt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){s.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Ct);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){s.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(qt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),s.validateArgCount("Query.startAt",0,2,arguments.length),Z("Query.startAt",1,e,this.path,!0),it("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),s.validateArgCount("Query.endAt",0,2,arguments.length),Z("Query.endAt",1,e,this.path,!0),it("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(s.validateArgCount("Query.equalTo",1,2,arguments.length),Z("Query.equalTo",1,t,this.path,!1),it("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return s.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return s.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=N(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(s.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return r&&i&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,s.validateCallback(t,3,r.cancel,!0),r.context=n,s.validateContextObject(t,4,r.context,!0);else if(e)if("object"===typeof e&&null!==e)r.context=e;else{if("function"!==typeof e)throw new Error(s.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Qt=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Ct,(function(t,e){n.remember(new U(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();if(t=t.popFront(),this.children.has(r))this.children.get(r).forget(t)&&this.children.delete(r);return 0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new U(t.toString()+"/"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}(),Kt=function(t,e){return t&&"object"===typeof t?(s.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},Jt=function t(e,n){var r,i=e.getPriority().val(),o=Kt(i,n);if(e.isLeafNode()){var a=e,s=Kt(a.getValue(),n);return s!==a.getValue()||o!==a.getPriority().val()?new xt(s,Bt(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new xt(o))),u.forEachChild(Ct,(function(e,i){var o=t(i,n);o!==i&&(r=r.updateImmediateChild(e,o))})),r};!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ut||(Ut={}));var Zt,te,ee=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,s.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),ne=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Ut.ACK_USER_WRITE,this.source=ee.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return s.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new U(e));return new t(U.Empty,n,this.revert)}return s.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),re=function(){function t(t,e){void 0===e&&(Zt||(Zt=new At(P)),e=Zt),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return R(e,(function(t,e){n=n.set(new U(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:U.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new U(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=(this.children.get(r)||t.Empty).setTree(e.popFront(),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(U.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,U.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,U.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(U.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),ie=function(){function t(t,e){this.source=t,this.path=e,this.type=Ut.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,U.Empty):new t(this.source,this.path.popFront())},t}(),oe=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Ut.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,U.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),ae=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Ut.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new U(e));return n.isEmpty()?null:n.value?new oe(this.source,U.Empty,n.value):new t(this.source,U.Empty,n)}return s.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),se=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),ue=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new se(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new se(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new se(Ft.EMPTY_NODE,!1,!1),new se(Ft.EMPTY_NODE,!1,!1)),t}(),le=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),ce=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){s.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(le.childRemovedChange(e,a)):s.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(le.childAddedChange(e,n)):o.trackChildChange(le.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Ct,(function(t,r){e.hasChild(t)||n.trackChildChange(le.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(Ct,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(le.childChangedChange(e,r,i))}else n.trackChildChange(le.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Ft.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),he=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;s.assert(e===le.CHILD_ADDED||e===le.CHILD_CHANGED||e===le.CHILD_REMOVED,"Only child changes supported for tracking"),s.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===le.CHILD_ADDED&&i===le.CHILD_REMOVED)this.changeMap.set(n,le.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===le.CHILD_REMOVED&&i===le.CHILD_ADDED)this.changeMap.delete(n);else if(e===le.CHILD_REMOVED&&i===le.CHILD_CHANGED)this.changeMap.set(n,le.childRemovedChange(n,r.oldSnap));else if(e===le.CHILD_CHANGED&&i===le.CHILD_ADDED)this.changeMap.set(n,le.childAddedChange(n,t.snapshotNode));else{if(e!==le.CHILD_CHANGED||i!==le.CHILD_CHANGED)throw s.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,le.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),fe=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),pe=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new se(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),de=function(t,e){this.viewCache=t,this.changes=e},ve=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){s.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),s.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var o,a,u=new he;if(n.type===Ut.OVERWRITE){var l=n;l.source.fromUser?o=this.applyUserOverwrite_(e,l.path,l.snap,r,i,u):(s.assert(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.getServerCache().isFiltered()&&!l.path.isEmpty(),o=this.applyServerOverwrite_(e,l.path,l.snap,r,i,a,u))}else if(n.type===Ut.MERGE){var c=n;c.source.fromUser?o=this.applyUserMerge_(e,c.path,c.children,r,i,u):(s.assert(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,c.path,c.children,r,i,a,u))}else if(n.type===Ut.ACK_USER_WRITE){var h=n;o=h.revert?this.revertUserWrite_(e,h.path,r,i,u):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Ut.LISTEN_COMPLETE)throw s.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,r,u)}var f=u.getChanges();return t.maybeAddValueEvent_(e,o,f),new de(o,f)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(le.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,u=void 0;if(e.isEmpty())if(s.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var l=t.getCompleteServerSnap(),c=l instanceof Ft?l:Ft.EMPTY_NODE,h=n.calcCompleteEventChildren(c);a=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var f=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),f,i)}else{var p=e.getFront();if(".priority"===p){s.assert(1===e.getLength(),"Can't have a priority with additional path components");var d=o.getNode();u=t.getServerCache().getNode();var v=n.calcEventCacheAfterServerOverwrite(e,d,u);a=null!=v?this.filter_.updatePriority(d,v):o.getNode()}else{var g=e.popFront(),y=void 0;if(o.isCompleteForChild(p)){u=t.getServerCache().getNode();var m=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),u);y=null!=m?o.getNode().getImmediateChild(p).updateChild(g,m):o.getNode().getImmediateChild(p)}else y=n.calcCompleteChild(p,t.getServerCache());a=null!=y?this.filter_.updateChild(o.getNode(),p,y,g,r,i):o.getNode()}}return t.updateEventSnap(a,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s,u=t.getServerCache(),l=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=l.updateFullNode(u.getNode(),n,null);else if(l.filtersNodes()&&!u.isFiltered()){var c=u.getNode().updateChild(e,n);s=l.updateFullNode(u.getNode(),c,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),p=u.getNode().getImmediateChild(h).updateChild(f,n);s=".priority"===h?l.updatePriority(u.getNode(),p):l.updateChild(u.getNode(),h,p,f,fe,null)}var d=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),l.filtersNodes()),v=new pe(r,d,i);return this.generateEventCacheAfterServerEvent_(d,e,r,v,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u=t.getEventCache(),l=new pe(r,t,i);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var c=e.getFront();if(".priority"===c)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),f=u.getNode().getImmediateChild(c),p=void 0;if(h.isEmpty())p=n;else{var d=l.getCompleteChild(c);p=null!=d?".priority"===h.getBack()&&d.getChild(h.parent()).isEmpty()?d:d.updateChild(h,n):Ft.EMPTY_NODE}if(f.equals(p))a=t;else{var v=this.filter_.updateChild(u.getNode(),c,p,h,l,o);a=t.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,a){var s=this,u=e;return r.foreach((function(r,l){var c=n.child(r);t.cacheHasChild_(e,c.getFront())&&(u=s.applyUserOverwrite_(u,c,l,i,o,a))})),r.foreach((function(r,l){var c=n.child(r);t.cacheHasChild_(e,c.getFront())||(u=s.applyUserOverwrite_(u,c,l,i,o,a))})),u},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,l=t;u=e.isEmpty()?n:re.Empty.setTree(e,n);var c=t.getServerCache().getNode();return u.children.inorderTraversal((function(e,n){if(c.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(u,n);l=s.applyServerOverwrite_(l,new U(e),h,r,i,o,a)}})),u.children.inorderTraversal((function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!c.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=s.applyMerge_(h,n);l=s.applyServerOverwrite_(l,new U(e),f,r,i,o,a)}})),l},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var u=re.Empty;return s.getNode().forEachChild(gt,(function(t,e){u=u.set(new U(t),e)})),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var l=re.Empty;return n.foreach((function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(l=l.set(t,s.getNode().getChild(r)))})),this.applyServerMerge_(t,e,l,r,i,a,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,fe,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var a=new pe(n,t,r),u=t.getEventCache().getNode(),l=void 0;if(e.isEmpty()||".priority"===e.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();s.assert(h instanceof Ft,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(h)}c=c,l=this.filter_.updateFullNode(u,c,i)}else{var f=e.getFront(),p=n.calcCompleteChild(f,t.getServerCache());null==p&&t.getServerCache().isCompleteForChild(f)&&(p=u.getImmediateChild(f)),(l=null!=p?this.filter_.updateChild(u,f,p,e.popFront(),a,i):t.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(u,f,Ft.EMPTY_NODE,e.popFront(),a,i):u).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(l=this.filter_.updateFullNode(l,o,i))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(U.Empty),t.updateEventSnap(l,o,this.filter_.filtersNodes())},t}(),ge=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===le.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(le.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,le.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,le.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,le.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,le.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,le.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,a=n.filter((function(t){return t.type===e}));a.sort(this.compareChanges_.bind(this)),a.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw s.assertionError("Should only compare child_ events.");var n=new pt(t.childName,t.snapshotNode),r=new pt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),ye=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new ce(n.getIndex()),i=n.getNodeFilter();this.processor_=new ve(i);var o=e.getServerCache(),a=e.getEventCache(),s=r.updateFullNode(Ft.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(Ft.EMPTY_NODE,a.getNode(),null),l=new se(s,o.isFullyInitialized(),r.filtersNodes()),c=new se(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new ue(c,l),this.eventGenerator_=new ge(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){s.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){e=e;var i=t.createCancelEvent(e,r);i&&n.push(i)}))}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===Ut.MERGE&&null!==t.source.queryId&&(s.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),s.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),s.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];e.getNode().isLeafNode()||e.getNode().forEachChild(Ct,(function(t,e){n.push(le.childAddedChange(t,e))}));return e.isFullyInitialized()&&n.push(le.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),me=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return s.assert(te,"Reference.ts has not been loaded"),te},set:function(t){s.assert(!te,"__referenceConstructor has already been defined"),te=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,i,o=t.source.queryId;if(null!==o){var u=this.views.get(o);return s.assert(null!=u,"SyncTree gave us an op for an invalid query."),u.applyOperation(t,e,n)}var l=[];try{for(var c=a.__values(this.views.values()),h=c.next();!h.done;h=c.next()){u=h.value;l=l.concat(u.applyOperation(t,e,n))}}catch(f){r={error:f}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return l},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),a=this.views.get(o);if(!a){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof Ft?(s=n.calcCompleteEventChildren(r),u=!1):(s=Ft.EMPTY_NODE,u=!1);var l=new ue(new se(s,u,!1),new se(r,i,!1));a=new ye(t,l),this.views.set(o,a)}return a.addEventRegistration(e),a.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i,o,s=e.queryIdentifier(),u=[],l=[],c=this.hasCompleteView();if("default"===s)try{for(var h=a.__values(this.views.entries()),f=h.next();!f.done;f=h.next()){var p=a.__read(f.value,2),d=p[0],v=p[1];l=l.concat(v.removeEventRegistration(n,r)),v.isEmpty()&&(this.views.delete(d),v.getQuery().getQueryParams().loadsAllData()||u.push(v.getQuery()))}}catch(g){i={error:g}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}else(v=this.views.get(s))&&(l=l.concat(v.removeEventRegistration(n,r)),v.isEmpty()&&(this.views.delete(s),v.getQuery().getQueryParams().loadsAllData()||u.push(v.getQuery())));return c&&!this.hasCompleteView()&&u.push(new t.__referenceConstructor(e.repo,e.path)),{removed:u,events:l}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=a.__values(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=a.__values(this.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r||s.getCompleteServerCache(t)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=a.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),_e=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new re(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=U.relativePath(i,e);return o=o.updateChild(a,n),new t(this.writeTree_.set(i,o))}var s=new re(n);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var n=this;return R(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,re.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(U.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Ct,(function(e,n){t.push(new pt(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new pt(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new re(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(s.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t(e.child(n),o,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r}(U.Empty,this.writeTree_,t)},t.Empty=new t(new re(null)),t}();var be=function(){function t(){this.visibleWrites_=_e.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new we(t,this)},t.prototype.addOverwrite=function(t,e,n,r){s.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){s.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));s.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,a=this.allWrites_.length-1;i&&a>=0;){var u=this.allWrites_[a];u.visible&&(a>=n&&this.recordContainsPath_(u,r.path)?i=!1:r.path.contains(u.path)&&(o=!0)),a--}if(i){if(o)return this.resetTree_(),!0;r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):R(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))}));return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(U.Empty)){var a=t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e);l=n||Ft.EMPTY_NODE;return a.apply(l)}return null}var s=this.visibleWrites_.getCompleteNode(e);if(null!=s)return s;var u=this.visibleWrites_.childCompoundWrite(e);if(u.isEmpty())return n;if(null!=n||u.hasCompleteWrite(U.Empty)){var l=n||Ft.EMPTY_NODE;return u.apply(l)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Ft.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Ct,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Ct,(function(t,e){var r=i.childCompoundWrite(new U(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){s.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode(U.Empty);if(null!=u)a=u;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var l=[],c=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();f&&l.length<r;)0!==c(f,n)&&l.push(f),f=h.getNext();return l},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,U.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=_e.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,u=void 0;if(o.snap)n.contains(a)?(u=U.relativePath(n,a),r=r.addWrite(u,o.snap)):a.contains(n)&&(u=U.relativePath(a,n),r=r.addWrite(U.Empty,o.snap.getChild(u)));else{if(!o.children)throw s.assertionError("WriteRecord should have .snap or .children");if(n.contains(a))u=U.relativePath(n,a),r=r.addWrites(u,o.children);else if(a.contains(n))if((u=U.relativePath(a,n)).isEmpty())r=r.addWrites(U.Empty,o.children);else{var l=s.safeGet(o.children,u.getFront());if(l){var c=l.getChild(u.popFront());r=r.addWrite(U.Empty,c)}}}}}return r},t}(),we=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),xe=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=re.Empty,this.pendingWriteTree_=new be,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new oe(ee.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=re.fromObject(e);return this.applyOperationToSyncPoints_(new ae(ee.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=re.Empty;return null!=n.snap?r=r.set(U.Empty,!0):R(n.children,(function(t,e){r=r.set(new U(t),e)})),this.applyOperationToSyncPoints_(new ne(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new oe(ee.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=re.fromObject(e);return this.applyOperationToSyncPoints_(new ae(ee.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new ie(ee.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=U.relativePath(a,e),l=new oe(ee.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=U.relativePath(a,e),l=re.fromObject(n),c=new ae(ee.forServerTaggedQuery(s),u,l);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,a=i.queryId,s=U.relativePath(o,e),u=new ie(ee.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=U.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()}));var a,u=this.syncPointTree_.get(r);(u?(o=o||u.hasCompleteView(),i=i||u.getCompleteServerCache(U.Empty)):(u=new me,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=i)?a=!0:(a=!1,i=Ft.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(U.Empty);n&&(i=i.updateImmediateChild(t,n))})));var l=u.viewExistsForQuery(e);if(!l&&!e.getQueryParams().loadsAllData()){var c=t.makeQueryKey_(e);s.assert(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(c,h),this.tagToQueryMap.set(h,c)}var f=this.pendingWriteTree_.childWrites(r),p=u.addEventRegistration(e,n,f,i,a);if(!l&&!o){var d=u.viewForQuery(e);p=p.concat(this.setupListener_(e,d))}return p},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var l=u.removed;s=u.events;var c=-1!==l.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(c&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(f),d=0;d<p.length;++d){var v=p[d],g=v.getQuery(),y=this.createListenerForView_(v);this.listenProvider_.startListening(t.queryForListening_(g),this.tagForQuery_(g),y.hashFn,y.onComplete)}}if(!h&&l.length>0&&!r)if(c){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else l.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}));this.removeTags_(l)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=U.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),R(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),u=this.syncPointTree_.subtree(r);if(i)s.assert(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var l=u.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),R(n,(function(t,e){r=r.concat(e)})),r})),c=0;c<l.length;++c){var h=l[c];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return a},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Ft.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return s.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new U(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);s.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(U.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(U.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(U.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var l=n?n.getImmediateChild(a):null,c=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,l,c))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(U.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(U.Empty));var a=[];return e.children.inorderTraversal((function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e),l=t.operationForChild(e);l&&(a=a.concat(i.applyOperationDescendantsHelper_(l,o,s,u)))})),o&&(a=a.concat(o.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}(),Ee=function(){function t(){this.rootNode_=Ft.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Se=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(x("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',k(t)},t}(),Ce=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),s.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return s.deepCopy(this.counters_)},t}(),ke=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Ce),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Te=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=a.__assign({},t);return this.last_&&R(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Ie=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Te(t);var n=1e4+2e4*Math.random();V(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;R(e,(function(e,i){i>0&&s.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),V(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Ae=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Me(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r)t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Me=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();_&&x("event: "+e.toString()),B(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Pe=function(){function t(t){this.allowedEvents_=t,this.listeners_={},s.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=a.__spread(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){s.assert(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),Oe=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return a.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return s.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Pe),Ne=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||s.isMobileCordova()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return a.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return s.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Pe),De=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&B((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},t}(),Re=function(){function t(t,e,n,r){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(t),this.stats_=ke.getCollection(e),this.urlFn=function(t){return e.connectionURL("long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new De(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(s.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Le((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=a.__read(t,5),i=r[0],o=r[1],s=r[2];r[3],r[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=a.__read(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!s.isNodeSdk()&&(!!t.forceAllow_||!t.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=s.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=s.base64Encode(e),r=D(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!s.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=s.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Le=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,s.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))o='<script>document.domain="'+document.domain+'";<\/script>';var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){x("frame writing exception"),u.stack&&x(u.stack),x(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||x("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;s.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){x("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),Fe="";var je=null;"undefined"!==typeof MozWebSocket?je=MozWebSocket:"undefined"!==typeof WebSocket&&(je=WebSocket);var Be=function(){function t(e,n,r,i){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=ke.getCollection(n),this.connURL=t.connectionURL_(n,r,i)}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!s.isNodeSdk()&&"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if(s.isNodeSdk()){var i=s.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/5/"+Fe+"/"+r.platform+"/"+i}},a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}),u=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;u&&(o.proxy={origin:u}),this.mySock=new je(this.connURL,[],o)}else this.mySock=new je(this.connURL)}catch(c){this.log_("Error instantiating WebSocket.");var l=c.message||c.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==je&&!t.forceDisallow_},t.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=s.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(s.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=s.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=D(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Ve=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Re,Be]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=Be&&Be.isAvailable(),o=i&&!Be.previouslyFailed();if(e.webSocketOnly&&(i||k("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Be];else{var s=this.transports_=[];try{for(var u=a.__values(t.ALL_TRANSPORTS),l=u.next();!l.done;l=u.next()){var c=l.value;c&&c.isAvailable()&&s.push(c)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Ue=function(){function t(t,e,n,r,i,o,a){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new Ve(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=V((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=O("t",t),n=O("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=O("t",t),n=O("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=O("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?S("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):S("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&k("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),V((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):V((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),qe=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),ze=function(t){function e(n,r,i,o,a,u){var l=t.call(this)||this;if(l.repoInfo_=n,l.onDataUpdate_=r,l.onConnectStatus_=i,l.onServerInfoUpdate_=o,l.authTokenProvider_=a,l.authOverride_=u,l.id=e.nextPersistentConnectionId_++,l.log_=E("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingPutCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=1e3,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,u&&!s.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),Oe.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&Ne.getInstance().on("online",l.onOnline_,l),l}return a.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(s.stringify(i)),s.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),s.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),s.assert(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"===typeof t&&s.contains(t,"w")){var n=s.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();k("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||s.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=s.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),s.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+s.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):S("Unrecognized action received from server: "+s.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;s.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this,a=this.lastSessionId,u=!1,l=null,c=function(){l?l.close():(u=!0,r())};this.realtime_={close:c,sendRequest:function(t){s.assert(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then((function(e){u?x("getToken() completed but was canceled"):(x("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,l=new Ue(i,o.repoInfo_,t,n,r,(function(t){k(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")}),a))})).then(null,(function(t){o.log_("Failed to get token: "+t),u||(s.CONSTANTS.NODE_ADMIN&&k(t),c())}))}},e.prototype.interrupt=function(t){x("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){x("Resuming connection for reason: "+t),delete this.interruptReasons_[t],s.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return N(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new U(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){x("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=a.__values(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,a.__values(s.values())),l=u.next();!l.done;l=u.next()){var c=l.value;this.sendListen_(c)}}catch(p){n={error:p}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";s.CONSTANTS.NODE_ADMIN?e="admin_node":s.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+Fe.replace(/\./g,"-")]=1,s.isMobileCordova()?t["framework.cordova"]=1:s.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Ne.getInstance().currentlyOnline();return s.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(qe),He=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=E("p:rest:"),i.listens_={},i}return a.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(s.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var u=e.getListenId_(t,r),l={};this.listens_[u]=l;var c=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",c,(function(t,e){var n=e;(404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(a,n,!1,r),s.safeGet(o.listens_,u)===l)&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(e.auth=o);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+s.querystring(e);r.log_("Sending REST request for "+a);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=s.jsonEval(u.responseText)}catch(e){k("Failed to parse JSON response for "+a+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&k("Got unsuccessful REST response for "+a+" Status: "+u.status),n(u.status);n=null}},u.open("GET",a,!0),u.send()}))},e}(qe),We=function(){function t(t,e,n,r){var i=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ae,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Qt,this.persistentConnection_=null;var o=new Se(n,r);if(this.stats_=ke.getCollection(t),e||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new He(this.repoInfo_,this.onDataUpdate_.bind(this),o),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var a=n.options.databaseAuthVariableOverride;if("undefined"!==typeof a&&null!==a){if("object"!==typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{s.stringify(a)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}this.persistentConnection_=new ze(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),o,a),this.server_=this.persistentConnection_}o.addTokenChangeListener((function(t){i.server_.refreshAuthToken(t)})),this.statsReporter_=ke.getOrCreateReporter(t,(function(){return new Ie(i.stats_,i.server_)})),this.transactionsInit_(),this.infoData_=new Ee,this.infoSyncTree_=new xe({startListening:function(t,e,n,r){var o=[],a=i.infoData_.getNode(t.path);return a.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(t.path,a),setTimeout((function(){r("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new xe({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,(function(e,n){var o=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,o)})),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new U(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new U(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var a=s.map(e,(function(t){return Bt(t)}));o=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var u=Bt(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var l=s.map(e,(function(t){return Bt(t)}));o=this.serverSyncTree_.applyServerMerge(i,l)}else{var c=Bt(e);o=this.serverSyncTree_.applyServerOverwrite(i,c)}var h=i;o.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;R(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new U("/.info/"+t),r=Bt(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=Bt(e,n),s=Jt(a,o),u=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,s,u,!0);this.eventQueue_.queueEvents(l),this.server_.put(t.toString(),a.val(!0),(function(e,n){var o="ok"===e;o||k("set at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(u,!o);i.eventQueue_.raiseEventsForChangedPath(t,a),i.callOnCompleteCallback(r,e,n)}));var c=this.abortTransactions_(t);this.rerunTransactions_(c),this.eventQueue_.raiseEventsForChangedPath(c,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),a={};if(R(e,(function(t,e){i=!1;var n=Bt(e);a[t]=Jt(n,o)})),i)x("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,a,s);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,(function(e,i){var o="ok"===e;o||k("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(s,!o),u=a.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,a),r.callOnCompleteCallback(n,e,i)})),R(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=function(t,e){var n=new Qt;return t.forEachTree(new U(""),(function(t,r){n.remember(t,Jt(r,e))})),n}(this.onDisconnect_,e),r=[];n.forEachTree(U.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new Qt,this.eventQueue_.raiseEventsForChangedPath(U.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=Bt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=Bt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(s.isEmpty(e))return x("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&R(e,(function(e,n){var i=Bt(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Te(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);R(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),x.apply(void 0,a.__spread([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&B((function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new en(this))},enumerable:!0,configurable:!0}),t}(),Ge=function(){function t(e){this.indexedFilter_=new ce(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new pt(e,n))||(n=Ft.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Ft.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Ft.EMPTY_NODE);var i=this;return e.forEachChild(Ct,(function(t,e){i.matches(new pt(t,e))||(r=r.updateImmediateChild(t,Ft.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),Ye=function(){function t(t){this.rangedFilter_=new Ge(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new pt(e,n))||(n=Ft.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Ft.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Ft.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Ft.EMPTY_NODE);var s=void 0,u=void 0,l=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();l=function(t,e){return c(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&l(s,a)<=0&&(h=!0),h&&o<this.limit_&&l(a,u)<=0?o++:r=r.updateImmediateChild(a.name,Ft.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(t,e){return a(e,t)}}else o=this.index_.getCompare();var u=t;s.assert(u.numChildren()===this.limit_,"");var l=new pt(e,n),c=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(l);if(u.hasChild(e)){for(var f=u.getImmediateChild(e),p=r.getChildAfterChild(this.index_,c,this.reverse_);null!=p&&(p.name===e||u.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var d=null==p?1:o(p,l);if(h&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(le.childChangedChange(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(le.childRemovedChange(e,f));var v=u.updateImmediateChild(e,Ft.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=i&&i.trackChildChange(le.childAddedChange(p.name,p.node)),v.updateImmediateChild(p.name,p.node)):v}return n.isEmpty()?t:h&&o(c,l)>=0?(null!=i&&(i.trackChildChange(le.childRemovedChange(c.name,c.node)),i.trackChildChange(le.childAddedChange(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(c.name,Ft.EMPTY_NODE)):t},t}(),$e=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ct}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return s.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return s.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:I},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return s.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return s.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:A},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return s.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Ct&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ct},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new ce(this.getIndex()):this.hasLimit()?new Ye(this):new Ge(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===Ct?e=n.PRIORITY_INDEX:this.index_===qt?e=n.VALUE_INDEX:this.index_===gt?e=n.KEY_INDEX:(s.assert(this.index_ instanceof zt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=s.stringify(e),this.startSet_&&(r[n.START_AT]=s.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+s.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=s.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+s.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),Xe=function(t){function e(e,n){if(!(e instanceof We))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,$e.DEFAULT,!1)||this}return a.__extends(e,t),e.prototype.getKey=function(){return s.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return s.validateArgCount("Reference.child",1,1,arguments.length),"number"===typeof t?t=String(t):t instanceof U||(null===this.path.getFront()?at("Reference.child",1,t,!1):ot("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){s.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){s.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){s.validateArgCount("Reference.set",1,2,arguments.length),st("Reference.set",this.path),Z("Reference.set",1,t,this.path,!1),s.validateCallback("Reference.set",2,e,!0);var n=new s.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(s.validateArgCount("Reference.update",1,2,arguments.length),st("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,k("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}et("Reference.update",1,t,this.path,!1),s.validateCallback("Reference.update",2,e,!0);var i=new s.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(s.validateArgCount("Reference.setWithPriority",2,3,arguments.length),st("Reference.setWithPriority",this.path),Z("Reference.setWithPriority",1,t,this.path,!1),nt("Reference.setWithPriority",2,e,!1),s.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new s.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return s.validateArgCount("Reference.remove",0,1,arguments.length),st("Reference.remove",this.path),s.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(s.validateArgCount("Reference.transaction",1,3,arguments.length),st("Reference.transaction",this.path),s.validateCallback("Reference.transaction",1,t,!1),s.validateCallback("Reference.transaction",2,e,!0),lt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new s.Deferred;"function"===typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new ht(n,i)),"function"===typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){s.validateArgCount("Reference.setPriority",1,2,arguments.length),st("Reference.setPriority",this.path),nt("Reference.setPriority",1,t,!1),s.validateCallback("Reference.setPriority",2,e,!0);var n=new s.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){s.validateArgCount("Reference.push",0,2,arguments.length),st("Reference.push",this.path),Z("Reference.push",1,t,this.path,!0),s.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=ft(r),o=this.child(i),a=this.child(i);return n=null!=t?o.set(t,e).then((function(){return a})):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"===typeof e&&n.catch((function(){})),o},e.prototype.onDisconnect=function(){return st("Reference.onDisconnect",this.path),new ct(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(Xt);Xt.__referenceConstructor=Xe,me.__referenceConstructor=Xe;var Qe,Ke=function(){this.children={},this.childCount=0,this.value=null},Je=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new Ke),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof U?e:new U(e),r=this,i=n.getFront();null!==i;){r=new t(i,r,s.safeGet(r.node_.children,i)||new Ke),i=(n=n.popFront()).getFront()}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){s.assert("undefined"!==typeof t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;R(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new U(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=s.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(Qe||(Qe={})),We.MAX_TRANSACTION_RETRIES_=25,We.prototype.transactionsInit_=function(){this.transactionQueueTree_=new Je},We.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},o=new Xe(this,t);o.on("value",i);var a={path:t,update:e,onComplete:n,status:null,order:g(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(t);a.currentInputSnapshot=u;var l=a.update(u.val());if(void 0===l){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var c=new Ht(a.currentInputSnapshot,new Xe(this,a.path),Ct);a.onComplete(null,!1,c)}}else{tt("transaction failed: Data returned ",l,a.path),a.status=Qe.RUN;var h=this.transactionQueueTree_.subTree(t),f=h.getValue()||[];f.push(a),h.setValue(f);var p=void 0;if("object"===typeof l&&null!==l&&s.contains(l,".priority"))p=s.safeGet(l,".priority"),s.assert(J(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else p=(this.serverSyncTree_.calcCompleteEventCache(t)||Ft.EMPTY_NODE).getPriority().val();p=p;var d=this.generateServerValues(),v=Bt(l,p),y=Jt(v,d);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=y,a.currentWriteId=this.getNextWriteId_();var m=this.serverSyncTree_.applyUserOverwrite(t,y,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,m),this.sendReadyTransactions_()}},We.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Ft.EMPTY_NODE},We.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);s.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===Qe.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},We.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),o=i,a=i.hash(),u=0;u<e.length;u++){var l=e[u];s.assert(l.status===Qe.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=Qe.SENT,l.retryCount++;var c=U.relativePath(t,l.path);o=o.updateChild(c,l.currentOutputSnapshotRaw)}var h=o.val(!0),f=t;this.server_.put(f.toString(),h,(function(r){n.log_("transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<e.length;a++){if(e[a].status=Qe.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,u=new Xe(n,e[a].path),l=new Ht(s,u,Ct);o.push(e[a].onComplete.bind(null,null,!0,l))}e[a].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i);for(a=0;a<o.length;a++)B(o[a])}else{if("datastale"===r)for(a=0;a<e.length;a++)e[a].status===Qe.SENT_NEEDS_ABORT?e[a].status=Qe.NEEDS_ABORT:e[a].status=Qe.RUN;else{k("transaction at "+f.toString()+" failed: "+r);for(a=0;a<e.length;a++)e[a].status=Qe.NEEDS_ABORT,e[a].abortReason=r}n.rerunTransactions_(t)}}),a)},We.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},We.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n,r=[],i=[],o=t.filter((function(t){return t.status===Qe.RUN})).map((function(t){return t.currentWriteId})),a=0;a<t.length;a++){var u=t[a],l=U.relativePath(e,u.path),c=!1,h=void 0;if(s.assert(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===Qe.NEEDS_ABORT)c=!0,h=u.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else if(u.status===Qe.RUN)if(u.retryCount>=We.MAX_TRANSACTION_RETRIES_)c=!0,h="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else{var f=this.getLatestState_(u.path,o);u.currentInputSnapshot=f;var p=t[a].update(f.val());if(void 0!==p){tt("transaction failed: Data returned ",p,u.path);var d=Bt(p);"object"===typeof p&&null!=p&&s.contains(p,".priority")||(d=d.updatePriority(f.getPriority()));var v=u.currentWriteId,g=this.generateServerValues(),y=Jt(d,g);u.currentOutputSnapshotRaw=d,u.currentOutputSnapshotResolved=y,u.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(v),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(u.path,y,u.currentWriteId,u.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(v,!0))}else c=!0,h="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,i),i=[],c&&(t[a].status=Qe.COMPLETED,n=t[a].unwatcher,setTimeout(n,Math.floor(0)),t[a].onComplete))if("nodata"===h){var m=new Xe(this,t[a].path),_=t[a].currentInputSnapshot,b=new Ht(_,m,Ct);r.push(t[a].onComplete.bind(null,null,!1,b))}else r.push(t[a].onComplete.bind(null,new Error(h),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(a=0;a<r.length;a++)B(r[a]);this.sendReadyTransactions_()}},We.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},We.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},We.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},We.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==Qe.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},We.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},We.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)if(e[o].status===Qe.SENT_NEEDS_ABORT);else if(e[o].status===Qe.SENT)s.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,e[o].status=Qe.SENT_NEEDS_ABORT,e[o].abortReason="set";else if(s.assert(e[o].status===Qe.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete){n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))}-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(o=0;o<n.length;o++)B(n[o])}};var Ze,tn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return Ze||(Ze=new t),Ze},t.prototype.interrupt=function(){var t,e,n,r;try{for(var i=a.__values(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,a.__values(Object.keys(this.repos_[s]))),l=u.next();!l.done;l=u.next()){var c=l.value;this.repos_[s][c].interrupt()}}catch(h){n={error:h}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var i=a.__values(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,a.__values(Object.keys(this.repos_[s]))),l=u.next();!l.done;l=u.next()){var c=l.value;this.repos_[s][c].resume()}}catch(h){n={error:h}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.databaseFromApp=function(t,e,n){var i=n||t.options.databaseURL;void 0===i&&C("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var o=G(i),a=o.repoInfo,s=void 0;return"undefined"!==typeof r&&(s=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).FIREBASE_DATABASE_EMULATOR_HOST),s&&(i="http://"+s+"?ns="+a.namespace,a=(o=G(i)).repoInfo),ut("Invalid Firebase Database URL",1,o),o.path.isEmpty()||C("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(a,t,e).database},t.prototype.deleteRepo=function(t){var e=s.safeGet(this.repos_,t.app.name);e&&s.safeGet(e,t.repoInfo_.toURLString())===t||C("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var r=s.safeGet(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var i=s.safeGet(r,t.toURLString());return i&&C("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new We(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),en=function(){function t(t){this.repo_=t,t instanceof We||C("Don't call new Database() directly - please use firebase.database()."),this.root_=new Xe(t,U.Empty),this.INTERNAL=new nn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),s.validateArgCount("database.ref",0,1,arguments.length),t instanceof Xe?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),s.validateArgCount(e,1,1,arguments.length);var n=G(t);ut(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&C(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&C("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){s.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){s.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}(),nn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){return this.database.checkDeleted_("delete"),tn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),rn=Object.freeze({__proto__:null,forceLongPolling:function(){Be.forceDisallow(),Re.forceAllow()},forceWebSockets:function(){Re.forceDisallow()},isWebSocketsAvailable:function(){return Be.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),on=ze;ze.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},ze.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var an=Ue,sn=z,un=Object.freeze({__proto__:null,DataConnection:on,RealTimeConnection:an,hijackHash:function(t){var e=ze.prototype.put;return ze.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){ze.prototype.put=e}},ConnectionTarget:sn,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){tn.getInstance().forceRestClient(t)}}),ln=en.ServerValue;function cn(e){!function(t){Fe=t}(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new l.Component("database",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return tn.getInstance().databaseFromApp(n,r,e)}),"PUBLIC").setServiceProps({Reference:Xe,Query:Xt,Database:en,DataSnapshot:Ht,enableLogging:w,INTERNAL:rn,ServerValue:ln,TEST_ACCESS:un}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.5.22"),s.isNodeSdk()&&(t.exports=n)}cn(o),e.DataSnapshot=Ht,e.Database=en,e.OnDisconnect=ct,e.Query=Xt,e.Reference=Xe,e.ServerValue=ln,e.enableLogging=w,e.registerDatabase=cn}).call(this,n(41))},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return d})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return m})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return x})),n.d(e,"__importDefault",(function(){return E}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function m(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(t){s("next",t)}function l(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function x(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=(r=n(2))&&"object"===typeof r&&"default"in r?r.default:r,a=n(70),s=n(25),u=n(12),l=n(10),c=n(71),h=o.SDK_VERSION,f=new s.Logger("@firebase/firestore");function p(){return f.logLevel===s.LogLevel.DEBUG?i.DEBUG:f.logLevel===s.LogLevel.SILENT?i.SILENT:i.ERROR}function d(t){switch(t){case i.DEBUG:f.logLevel=s.LogLevel.DEBUG;break;case i.ERROR:f.logLevel=s.LogLevel.ERROR;break;case i.SILENT:f.logLevel=s.LogLevel.SILENT;break;default:f.error("Firestore ("+h+"): Invalid value passed to `setLogLevel`")}}function v(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(f.logLevel<=s.LogLevel.DEBUG){var i=n.map(y);f.debug.apply(f,a.__spreadArrays(["Firestore ("+h+") ["+t+"]: "+e],i))}}function g(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=s.LogLevel.ERROR){var r=e.map(y);f.error.apply(f,a.__spreadArrays(["Firestore ("+h+"): "+t],r))}}function y(t){if("string"==typeof t)return t;var e=In.t();try{return e.i(t)}catch(e){return t}}function m(t){var e="FIRESTORE ("+h+") INTERNAL ASSERTION FAILED: "+t;throw g(e),new Error(e)}function _(t,e){t||m(e)}!function(t){t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT"}(i||(i={}));var b=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return _(20===e.length,"Invalid auto ID: "+e),e},t}();function w(t,e){return t<e?-1:t>e?1:0}function x(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function E(t){return t+"\0"}var S=function(t,e,n,r,i){this.s=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},C="(default)",k=function(){function t(t,e){this.projectId=t,this.database=e||C}return Object.defineProperty(t.prototype,"o",{get:function(){return this.database===C},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.h=function(t){return w(this.projectId,t.projectId)||w(this.database,t.database)},t}(),T=function(){function t(t){this.uid=t}return t.prototype.l=function(){return null!=this.uid},t.prototype.v=function(){return this.l()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.m=new t("google-credentials-uid"),t.p=new t("first-party-uid"),t}(),I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},A=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return a.__extends(e,t),e}(Error),M=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},P=function(){function t(){this._=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.I=function(){},t.prototype.T=function(t){_(!this._,"Can only call setChangeListener() once."),this._=t,t(T.UNAUTHENTICATED)},t.prototype.R=function(){_(null!==this._,"removeChangeListener() when no listener registered"),this._=null},t}(),O=function(){function t(t){var e=this;this.A=null,this.currentUser=T.UNAUTHENTICATED,this.D=!1,this.P=0,this._=null,this.forceRefresh=!1,this.A=function(){e.P++,e.currentUser=e.S(),e.D=!0,e._&&e._(e.currentUser)},this.P=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.A):(this.A(null),t.get().then((function(t){e.auth=t,e.A&&e.auth.addAuthTokenListener(e.A)}),(function(){})))}return t.prototype.getToken=function(){var t=this;_(null!=this.A,"getToken cannot be called after listener removed.");var e=this.P,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(t.P!==e)throw new A(I.ABORTED,"getToken aborted due to token change.");return n?(_("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new M(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.I=function(){this.forceRefresh=!0},t.prototype.T=function(t){_(!this._,"Can only call setChangeListener() once."),this._=t,this.D&&t(this.currentUser)},t.prototype.R=function(){_(null!=this.A,"removeChangeListener() called twice"),_(null!==this._,"removeChangeListener() called when no listener registered"),this.auth&&this.auth.removeAuthTokenListener(this.A),this.A=null,this._=null},t.prototype.S=function(){var t=this.auth&&this.auth.getUid();return _(null===t||"string"==typeof t,"Received invalid UID: "+t),new T(t)},t}(),N=function(){function t(t,e){this.C=t,this.k=e,this.type="FirstParty",this.user=T.p}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.k},e=this.C.auth.V([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),D=function(){function t(t,e){this.C=t,this.k=e}return t.prototype.getToken=function(){return Promise.resolve(new N(this.C,this.k))},t.prototype.T=function(t){t(T.p)},t.prototype.R=function(){},t.prototype.I=function(){},t}();function R(t){if(!t)return new P;switch(t.type){case"gapi":var e=t.N;return _(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new D(e,t.k||"0");case"provider":return t.N;default:throw new A(I.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function F(t,e){return void 0!==t?t:e}function j(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function B(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function V(t){for(var e in _(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function U(t,e){if(0!==e.length)throw new A(I.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+ot(e.length,"argument")+".")}function q(t,e,n){if(e.length!==n)throw new A(I.INVALID_ARGUMENT,"Function "+t+"() requires "+ot(n,"argument")+", but was called with "+ot(e.length,"argument")+".")}function z(t,e,n){if(e.length<n)throw new A(I.INVALID_ARGUMENT,"Function "+t+"() requires at least "+ot(n,"argument")+", but was called with "+ot(e.length,"argument")+".")}function H(t,e,n,r){if(e.length<n||e.length>r)throw new A(I.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+ot(e.length,"argument")+".")}function W(t,e,n,r){K(t,e,it(n)+" argument",r)}function G(t,e,n,r){void 0!==r&&W(t,e,n,r)}function Y(t,e,n,r){K(t,e,n+" option",r)}function $(t,e,n,r){void 0!==r&&Y(t,e,n,r)}function X(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(Z(u))}var l=Z(r);throw new A(I.INVALID_ARGUMENT,"Invalid value "+l+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function Q(t,e,n,r){if(!e.some((function(t){return t===r})))throw new A(I.INVALID_ARGUMENT,"Invalid value "+Z(r)+" provided to function "+t+"() for its "+it(n)+" argument. Acceptable values: "+e.join(", "))}function K(t,e,n,r){if(!("object"===e?J(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=Z(r);throw new A(I.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function J(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function Z(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":m("Unknown wrong type: "+typeof t)}function tt(t,e,n){if(void 0===n)throw new A(I.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+it(e)+" argument, but it was undefined.")}function et(t,e,n){B(e,(function(e,r){if(n.indexOf(e)<0)throw new A(I.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function nt(t,e,n,r){var i=Z(r);return new A(I.INVALID_ARGUMENT,"Function "+t+"() requires its "+it(n)+" argument to be a "+e+", but it was: "+i)}function rt(t,e,n){if(n<=0)throw new A(I.INVALID_ARGUMENT,'Function "'+t+'()" requires its '+it(e)+" argument to be a positive number, but it was: "+n+".")}function it(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function ot(t,e){return t+" "+e+(1===t?"":"s")}var at=function(){function t(t,e){if(q("GeoPoint",arguments,2),W("GeoPoint","number",1,t),W("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new A(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new A(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.O=t,this.F=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.O},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.F},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.O===t.O&&this.F===t.F},t.prototype.U=function(t){return w(this.O,t.O)||w(this.F,t.F)},t}(),st=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new A(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new A(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new A(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new A(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?w(this.nanoseconds,t.nanoseconds):w(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),ut=function(){function t(t){this.timestamp=t}return t.j=function(e){var n=Math.floor(e/1e6);return new t(new st(n,e%1e6*1e3))},t.L=function(e){return new t(e)},t.B=function(){return t.MIN},t.prototype.h=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.M=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.q=function(){return this.timestamp},t.MIN=new t(new st(0,0)),t}(),lt=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&m("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&m("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.G(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.W(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.K=function(t){return t=void 0===t?1:t,_(this.length>=t,"Can't call popFirst() with less segments"),this.W(this.segments,this.offset+t,this.length-t)},t.prototype.H=function(){return _(!this.J(),"Can't call popLast() on empty path"),this.W(this.segments,this.offset,this.length-1)},t.prototype.Y=function(){return _(!this.J(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.X=function(){return this.get(this.length-1)},t.prototype.get=function(t){return _(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.J=function(){return 0===this.length},t.prototype.$=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.Z=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.tt=function(){return this.segments.slice(this.offset,this.limit())},t.G=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.W=function(t,n,r){return new e(t,n,r)},e.prototype.nt=function(){return this.tt().join("/")},e.prototype.toString=function(){return this.nt()},e.it=function(t){if(t.indexOf("//")>=0)throw new A(I.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.et=new e([]),e}(lt),ht=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.W=function(t,n,r){return new e(t,n,r)},e.rt=function(t){return ht.test(t)},e.prototype.nt=function(){return this.tt().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.rt(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.nt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.st=function(){return new e(["__name__"])},e.ot=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new A(I.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new A(I.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new A(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new A(I.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.et=new e([]),e}(lt),pt=function(){function t(e){this.path=e,_(t.ht(e),"Invalid DocumentKey with an odd number of segments: "+e.tt().join("/"))}return t.prototype.ct=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ct.G(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.G=function(t,e){return ct.G(t.path,e.path)},t.ht=function(t){return t.length%2==0},t.at=function(e){return new t(new ct(e.slice()))},t.ft=function(e){return new t(ct.it(e))},t.EMPTY=new t(new ct([])),t}(),dt=function(){function t(t,e){this.G=t,this.root=e||gt.EMPTY}return t.prototype.lt=function(e,n){return new t(this.G,this.root.lt(e,n,this.G).copy(null,null,gt.dt,null,null))},t.prototype.remove=function(e){return new t(this.G,this.root.remove(e,this.G).copy(null,null,gt.dt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.J();){var n=this.G(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.J();){var r=this.G(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.J=function(){return this.root.J()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.vt=function(){return this.root.vt()},t.prototype.wt=function(){return this.root.wt()},t.prototype.pt=function(t){return this.root.pt(t)},t.prototype.forEach=function(t){this.pt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.pt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.bt=function(){return new vt(this.root,null,this.G,!1)},t.prototype.yt=function(t){return new vt(this.root,t,this.G,!1)},t.prototype._t=function(){return new vt(this.root,null,this.G,!0)},t.prototype.It=function(t){return new vt(this.root,t,this.G,!0)},t}(),vt=function(){function t(t,e,n,r){this.Tt=r,this.Et=[];for(var i=1;!t.J();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Tt?t.left:t.right;else{if(0===i){this.Et.push(t);break}this.Et.push(t),t=this.Tt?t.right:t.left}}return t.prototype.Rt=function(){_(this.Et.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.Et.pop(),e={key:t.key,value:t.value};if(this.Tt)for(t=t.left;!t.J();)this.Et.push(t),t=t.right;else for(t=t.right;!t.J();)this.Et.push(t),t=t.left;return e},t.prototype.At=function(){return this.Et.length>0},t.prototype.Dt=function(){if(0===this.Et.length)return null;var t=this.Et[this.Et.length-1];return{key:t.key,value:t.value}},t}(),gt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.J=function(){return!1},t.prototype.pt=function(t){return this.left.pt(t)||t(this.key,this.value)||this.right.pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.J()?this:this.left.min()},t.prototype.vt=function(){return this.min().key},t.prototype.wt=function(){return this.right.J()?this.key:this.right.wt()},t.prototype.lt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.lt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.lt(t,e,n))).Pt()},t.prototype.St=function(){if(this.left.J())return t.EMPTY;var e=this;return e.left.Ct()||e.left.left.Ct()||(e=e.kt()),(e=e.copy(null,null,null,e.left.St(),null)).Pt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.J()||i.left.Ct()||i.left.left.Ct()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Ct()&&(i=i.Vt()),i.right.J()||i.right.Ct()||i.right.left.Ct()||(i=i.Nt()),0===n(e,i.key)){if(i.right.J())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.St())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Pt()},t.prototype.Ct=function(){return this.color},t.prototype.Pt=function(){var t=this;return t.right.Ct()&&!t.left.Ct()&&(t=t.Ot()),t.left.Ct()&&t.left.left.Ct()&&(t=t.Vt()),t.left.Ct()&&t.right.Ct()&&(t=t.Ft()),t},t.prototype.kt=function(){var t=this.Ft();return t.right.left.Ct()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Vt())).Ot()).Ft()),t},t.prototype.Nt=function(){var t=this.Ft();return t.left.left.Ct()&&(t=(t=t.Vt()).Ft()),t},t.prototype.Ot=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Vt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ft=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.xt();return Math.pow(2,t)<=this.size+1},t.prototype.xt=function(){if(this.Ct()&&this.left.Ct())throw m("Red node has red child("+this.key+","+this.value+")");if(this.right.Ct())throw m("Right child of ("+this.key+","+this.value+") is red");var t=this.left.xt();if(t!==this.right.xt())throw m("Black depths differ");return t+(this.Ct()?0:1)},t.EMPTY=null,t.RED=!0,t.dt=!1,t}(),yt=function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw m("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw m("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw m("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw m("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw m("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.lt=function(t,e,n){return new gt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.J=function(){return!0},t.prototype.pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.vt=function(){return null},t.prototype.wt=function(){return null},t.prototype.Ct=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.xt=function(){return 0},t}();gt.EMPTY=new yt;var mt=function(){function t(t){this.G=t,this.data=new dt(this.G)}return t.jt=function(e){var n=new t(e.G);return e.forEach((function(t){n=n.add(t)})),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.vt()},t.prototype.last=function(){return this.data.wt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.pt((function(e,n){return t(e),!1}))},t.prototype.Lt=function(t,e){for(var n=this.data.yt(t[0]);n.At();){var r=n.Rt();if(this.G(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Bt=function(t,e){var n;for(n=void 0!==e?this.data.yt(e):this.data.bt();n.At();)if(!t(n.Rt().key))return},t.prototype.Mt=function(t){var e=this.data.yt(t);return e.At()?e.Rt().key:null},t.prototype.bt=function(){return new _t(this.data.bt())},t.prototype.yt=function(t){return new _t(this.data.yt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).lt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.J=function(){return this.data.J()},t.prototype.qt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.bt(),r=e.data.bt();n.At();){var i=n.Rt().key,o=r.Rt().key;if(0!==this.G(i,o))return!1}return!0},t.prototype.tt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.G);return n.data=e,n},t}(),_t=function(){function t(t){this.Qt=t}return t.prototype.Rt=function(){return this.Qt.Rt().key},t.prototype.At=function(){return this.Qt.At()},t}(),bt=function(){function t(){}return t.prototype.Gt=function(t,e){return new Kt(e,t)},t.prototype.Wt=function(t,e){return e},t.prototype.zt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),wt=function(){function t(t){this.elements=t}return t.prototype.Gt=function(t,e){return this.apply(t)},t.prototype.Wt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=St(t),n=function(t){e.find((function(e){return e.isEqual(t)}))||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new re(e)},t.prototype.zt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&x(e.elements,this.elements)},t}(),xt=function(){function t(t){this.elements=t}return t.prototype.Gt=function(t,e){return this.apply(t)},t.prototype.Wt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=St(t),n=function(t){e=e.filter((function(e){return!e.isEqual(t)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new re(e)},t.prototype.zt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&x(e.elements,this.elements)},t}(),Et=function(){function t(t){this.Kt=t}return t.prototype.Gt=function(t,e){var n=this.zt(t);if(n instanceof Yt&&this.Kt instanceof Yt){var r=n.Ht+this.Kt.Ht;return new Yt(r)}return r=n.Ht+this.Kt.Ht,new $t(r)},t.prototype.Wt=function(t,e){return _(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.zt=function(t){return t instanceof Wt?t:new Yt(0)},t.prototype.isEqual=function(e){return e instanceof t&&this.Kt.isEqual(e.Kt)},t}();function St(t){return t instanceof re?t.Ht.slice():[]}var Ct,kt,Tt=function(){function t(t){this.fields=t}return t.Jt=function(e){return new t(e)},t.Yt=function(e){var n=new mt(ft.G);return e.forEach((function(t){return n=n.add(t)})),new t(n)},t.prototype.Xt=function(t){var e=!1;return this.fields.forEach((function(n){n.$(t)&&(e=!0)})),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),It=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),At=function(t,e){this.version=t,this.transformResults=e};(kt=Ct||(Ct={}))[kt.Set=0]="Set",kt[kt.$t=1]="__PRIVATE_Patch",kt[kt.Transform=2]="Transform",kt[kt.Zt=3]="__PRIVATE_Delete",kt[kt.Verify=4]="Verify";var Mt,Pt,Ot,Nt,Dt=function(){function t(t,e){this.updateTime=t,this.exists=e,_(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"tn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.nn=function(t){return void 0!==this.updateTime?t instanceof oe&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof oe:(_(this.tn,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return e=this.updateTime,n=t.updateTime,(null!=e?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),Rt=function(){function t(){}return t.prototype.in=function(t){null!=t&&_(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.en=function(t){return t instanceof oe?t.version:ut.MIN},t}(),Lt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.rn=r,i.type=Ct.Set,i}return a.__extends(e,t),e.prototype.Wt=function(t,e){this.in(t),_(null==e.transformResults,"Transform results received by SetMutation.");var n=e.version;return new oe(this.key,n,{hasCommittedMutations:!0},this.value)},e.prototype.Gt=function(t,e,n){if(this.in(t),!this.rn.nn(t))return t;var r=Rt.en(t);return new oe(this.key,r,{un:!0},this.value)},e.prototype.sn=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.rn.isEqual(t.rn)},e}(Rt),Ft=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.on=r,o.rn=i,o.type=Ct.$t,o}return a.__extends(e,t),e.prototype.Wt=function(t,e){if(this.in(t),_(null==e.transformResults,"Transform results received by PatchMutation."),!this.rn.nn(t))return new se(this.key,e.version);var n=this.hn(t);return new oe(this.key,e.version,{hasCommittedMutations:!0},n)},e.prototype.Gt=function(t,e,n){if(this.in(t),!this.rn.nn(t))return t;var r=Rt.en(t),i=this.hn(t);return new oe(this.key,r,{un:!0},i)},e.prototype.sn=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.on.isEqual(t.on)&&this.rn.isEqual(t.rn)},e.prototype.hn=function(t){var e;return e=t instanceof oe?t.data():ee.EMPTY,this.cn(e)},e.prototype.cn=function(t){var e=this,n=t.an();return this.on.fields.forEach((function(t){if(!t.J()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.fn()},e}(Rt),jt=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=Ct.Transform,r.rn=Dt.exists(!0),r}return a.__extends(e,t),e.prototype.Wt=function(t,e){if(this.in(t),_(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.rn.nn(t))return new se(this.key,e.version);var n=this.ln(t),r=this.dn(t,e.transformResults),i=e.version,o=this.vn(n.data(),r);return new oe(this.key,i,{hasCommittedMutations:!0},o)},e.prototype.Gt=function(t,e,n){if(this.in(t),!this.rn.nn(t))return t;var r=this.ln(t),i=this.wn(n,t,e),o=this.vn(r.data(),i);return new oe(this.key,r.version,{un:!0},o)},e.prototype.sn=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof oe?t.field(i.field):void 0,a=i.transform.zt(o||null);null!=a&&(e=null==e?ee.mn().set(i.field,a):e.set(i.field,a))}return e?e.fn():null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&x(this.fieldTransforms,t.fieldTransforms)&&this.rn.isEqual(t.rn)},e.prototype.ln=function(t){return _(t instanceof oe,"Unknown MaybeDocument type "+t),_(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},e.prototype.dn=function(t,e){var n=[];_(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;t instanceof oe&&(a=t.field(i.field)),n.push(o.Wt(a,e[r]))}return n},e.prototype.wn=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var a=o[i],s=a.transform,u=null;e instanceof oe&&(u=e.field(a.field)),null===u&&n instanceof oe&&(u=n.field(a.field)),r.push(s.Gt(u,t))}return r},e.prototype.vn=function(t,e){_(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=t.an(),r=0;r<this.fieldTransforms.length;r++){var i=this.fieldTransforms[r].field;n.set(i,e[r])}return n.fn()},e}(Rt),Bt=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.rn=n,r.type=Ct.Zt,r}return a.__extends(e,t),e.prototype.Wt=function(t,e){return this.in(t),_(null==e.transformResults,"Transform results received by DeleteMutation."),new ae(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.Gt=function(t,e,n){return this.in(t),this.rn.nn(t)?(t&&_(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new ae(this.key,ut.B())):t},e.prototype.sn=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.rn.isEqual(t.rn)},e}(Rt),Vt=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.rn=n,r.type=Ct.Verify,r}return a.__extends(e,t),e.prototype.Wt=function(t,e){m("VerifyMutation should only be used in Transactions.")},e.prototype.Gt=function(t,e,n){m("VerifyMutation should only be used in Transactions.")},e.prototype.sn=function(t){m("VerifyMutation should only be used in Transactions.")},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.rn.isEqual(t.rn)},e}(Rt);(Pt=Mt||(Mt={}))[Pt.pn=0]="__PRIVATE_NullValue",Pt[Pt.gn=1]="__PRIVATE_BooleanValue",Pt[Pt.bn=2]="__PRIVATE_NumberValue",Pt[Pt.yn=3]="__PRIVATE_TimestampValue",Pt[Pt._n=4]="__PRIVATE_StringValue",Pt[Pt.In=5]="__PRIVATE_BlobValue",Pt[Pt.Tn=6]="__PRIVATE_RefValue",Pt[Pt.En=7]="__PRIVATE_GeoPointValue",Pt[Pt.ArrayValue=8]="ArrayValue",Pt[Pt.Rn=9]="__PRIVATE_ObjectValue",(Nt=Ot||(Ot={}))[Nt.An=0]="__PRIVATE_Default",Nt[Nt.Dn=1]="__PRIVATE_Estimate",Nt[Nt.Pn=2]="__PRIVATE_Previous";var Ut=function(){function t(t,e){this.Sn=t,this.timestampsInSnapshots=e}return t.Cn=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(Ot.Dn,n);case"previous":return new t(Ot.Pn,n);case"none":case void 0:return new t(Ot.An,n);default:return m("fromSnapshotOptions() called with invalid options.")}},t}(),qt=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.kn=function(t){return _(this.Vn!==t.Vn,"Default compareTo should not be used for values of same type."),w(this.Vn,t.Vn)},t}(),zt=function(t){function e(){var e=t.call(this)||this;return e.Vn=Mt.pn,e.Ht=null,e}return a.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.h=function(t){return t instanceof e?0:this.kn(t)},e.prototype.Nn=function(){return 4},e.On=new e,e}(qt),Ht=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.Vn=Mt.gn,n}return a.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht===t.Ht},e.prototype.h=function(t){return t instanceof e?w(this.Ht,t.Ht):this.kn(t)},e.prototype.Nn=function(){return 4},e.of=function(t){return t?e.Fn:e.Un},e.Fn=new e(!0),e.Un=new e(!1),e}(qt),Wt=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.Vn=Mt.bn,n}return a.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.h=function(t){return t instanceof e?(n=this.Ht)<(r=t.Ht)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.kn(t);var n,r},e.prototype.Nn=function(){return 8},e}(qt);function Gt(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var Yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Gt(this.Ht,t.Ht)},e}(Wt),$t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Gt(this.Ht,t.Ht)},e.xn=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(Wt),Xt=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.Vn=Mt._n,n}return a.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht===t.Ht},e.prototype.h=function(t){return t instanceof e?w(this.Ht,t.Ht):this.kn(t)},e.prototype.Nn=function(){return 2*this.Ht.length},e}(qt),Qt=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.Vn=Mt.yn,n}return a.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.Ht:this.Ht.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht.isEqual(t.Ht)},e.prototype.h=function(t){return t instanceof e?this.Ht.U(t.Ht):t instanceof Kt?-1:this.kn(t)},e.prototype.Nn=function(){return 16},e}(qt),Kt=function(t){function e(e,n){var r=t.call(this)||this;return r.jn=e,r.previousValue=n,r.Vn=Mt.yn,r}return a.__extends(e,t),e.prototype.value=function(t){return t&&t.Sn===Ot.Dn?new Qt(this.jn).value(t):t&&t.Sn===Ot.Pn&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.jn.isEqual(t.jn)},e.prototype.h=function(t){return t instanceof e?this.jn.U(t.jn):t instanceof Qt?1:this.kn(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.jn.toString()+">"},e.prototype.Nn=function(){return 16+(this.previousValue?this.previousValue.Nn():0)},e}(qt),Jt=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.Vn=Mt.In,n}return a.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht.isEqual(t.Ht)},e.prototype.h=function(t){return t instanceof e?this.Ht.U(t.Ht):this.kn(t)},e.prototype.Nn=function(){return this.Ht.Ln()},e}(qt),Zt=function(t){function e(e,n){var r=t.call(this)||this;return r.s=e,r.key=n,r.Vn=Mt.Tn,r}return a.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.s.isEqual(t.s)},e.prototype.h=function(t){if(t instanceof e){var n=this.s.h(t.s);return 0!==n?n:pt.G(this.key,t.key)}return this.kn(t)},e.prototype.Nn=function(){return this.s.projectId.length+this.s.database.length+this.key.toString().length},e}(qt),te=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.Vn=Mt.En,n}return a.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht.isEqual(t.Ht)},e.prototype.h=function(t){return t instanceof e?this.Ht.U(t.Ht):this.kn(t)},e.prototype.Nn=function(){return 16},e}(qt),ee=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.Vn=Mt.Rn,n}return a.__extends(e,t),e.mn=function(){return new ne(e.EMPTY.Ht)},e.prototype.value=function(t){var e={};return this.Ht.pt((function(n,r){e[n]=r.value(t)})),e},e.prototype.forEach=function(t){this.Ht.pt(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.Ht.bt(),r=t.Ht.bt();n.At()&&r.At();){var i=n.Rt(),o=r.Rt();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.At()&&!r.At()}return!1},e.prototype.h=function(t){if(t instanceof e){for(var n=this.Ht.bt(),r=t.Ht.bt();n.At()&&r.At();){var i=n.Rt(),o=r.Rt(),a=w(i.key,o.key)||i.value.h(o.value);if(a)return a}return w(n.At(),r.At())}return this.kn(t)},e.prototype.contains=function(t){return null!==this.field(t)},e.prototype.field=function(t){_(!t.J(),"Can't get field of empty path");var n=this;return t.forEach((function(t){n=n instanceof e?n.Ht.get(t):null})),n},e.prototype.on=function(){var t=new mt(ft.G);return this.Ht.forEach((function(n,r){var i=new ft([n]);if(r instanceof e){var o=r.on().fields;o.J()?t=t.add(i):o.forEach((function(e){t=t.add(i.child(e))}))}else t=t.add(i)})),Tt.Jt(t)},e.prototype.Nn=function(){var t=0;return this.Ht.pt((function(e,n){t+=e.length+n.Nn()})),t},e.prototype.toString=function(){return this.Ht.toString()},e.prototype.an=function(){return new ne(this.Ht)},e.EMPTY=new e(new dt(w)),e}(qt),ne=function(){function t(t){this.Ht=t}return t.prototype.set=function(t,e){_(!t.J(),"Cannot set field for empty path on ObjectValue");var n=t.Y();if(1===t.length)this.Ht=this.Ht.lt(n,e);else{var r=this.Ht.get(n),i=(r instanceof ee?r:ee.EMPTY).an().set(t.K(),e).fn();this.Ht=this.Ht.lt(n,i)}return this},t.prototype.delete=function(t){_(!t.J(),"Cannot delete field for empty path on ObjectValue");var e=t.Y();if(1===t.length)this.Ht=this.Ht.remove(e);else{var n=this.Ht.get(e);if(n instanceof ee){var r=n.an().delete(t.K()).fn();this.Ht=this.Ht.lt(t.Y(),r)}}return this},t.prototype.fn=function(){return new ee(this.Ht)},t}(),re=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.Vn=Mt.ArrayValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.Ht.map((function(e){return e.value(t)}))},e.prototype.contains=function(t){for(var e=0,n=this.Ht;e<n.length;e++)if(n[e].isEqual(t))return!0;return!1},e.prototype.forEach=function(t){this.Ht.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.Ht.length!==t.Ht.length)return!1;for(var n=0;n<this.Ht.length;n++)if(!this.Ht[n].isEqual(t.Ht[n]))return!1;return!0}return!1},e.prototype.h=function(t){if(t instanceof e){for(var n=Math.min(this.Ht.length,t.Ht.length),r=0;r<n;r++){var i=this.Ht[r].h(t.Ht[r]);if(i)return i}return w(this.Ht.length,t.Ht.length)}return this.kn(t)},e.prototype.Nn=function(){return this.Ht.reduce((function(t,e){return t+e.Nn()}),0)},e.prototype.toString=function(){return"["+this.Ht.map((function(t){return t.toString()})).join(",")+"]"},e}(qt),ie=function(){function t(t,e){this.key=t,this.version=e}return t.Bn=function(t,e){return pt.G(t.key,e.key)},t}(),oe=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n)||this;return s.Mn=i,s.proto=o,s.converter=a,_(void 0!==s.Mn||void 0!==s.proto&&void 0!==s.converter,"If objectValue is not defined, proto and converter need to be set."),s.un=!!r.un,s.hasCommittedMutations=!!r.hasCommittedMutations,s}return a.__extends(e,t),e.prototype.field=function(t){if(this.Mn)return this.Mn.field(t);this.qn||(this.qn=new Map);var e=t.nt(),n=this.qn.get(e);if(void 0===n){var r=this.Qn(t);n=void 0===r?null:this.converter(r),this.qn.set(e,n)}return n},e.prototype.data=function(){var t=this;if(!this.Mn){var e=ee.mn();B(this.proto.fields||{},(function(n,r){e.set(new ft([n]),t.converter(r))})),this.Mn=e.fn(),this.qn=void 0}return this.Mn},e.prototype.value=function(){return this.data().value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.un===t.un&&this.hasCommittedMutations===t.hasCommittedMutations&&this.data().isEqual(t.data())},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.un+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.un||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.Qn=function(t){_(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var e=this.proto.fields?this.proto.fields[t.Y()]:void 0,n=1;n<t.length;++n){if(!e||!e.mapValue||!e.mapValue.fields)return;e=e.mapValue.fields[t.get(n)]}return e},e.Gn=function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?r.h(i):m("Trying to compare documents on fields that don't exist")},e}(ie),ae=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return a.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ie),se=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ie),ue=Number,le=ue.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),ce=ue.MAX_SAFE_INTEGER||Math.pow(2,53)-1,he=ue.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function fe(t){return null==t}function pe(t){return he(t)&&t<=ce&&t>=le}var de,ve,ge=function(){function t(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.Wn=null}return t.prototype.canonicalId=function(){if(null===this.Wn){var t=this.path.nt();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=",";fe(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.Wn=t}return this.Wn},t.prototype.toString=function(){var t=this.path.nt();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),fe(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.zn=function(){return pt.ht(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}();(ve=de||(de={})).Kn="F",ve.Hn="L";var ye,me,_e=function(){function t(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=de.Kn),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.Jn=n,this.filters=r,this.limit=i,this.Yn=o,this.startAt=a,this.endAt=s,this.Xn=null,this.$n=null,this.startAt&&this.Zn(this.startAt),this.endAt&&this.Zn(this.endAt)}return t.ti=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.Xn){var t=this.ni(),e=this.ii();if(null!==t&&null===e)t.ut()?this.Xn=[Me]:this.Xn=[new Ae(t),Me];else{_(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.Xn=[];for(var n=!1,r=0,i=this.Jn;r<i.length;r++){var o=i[r];this.Xn.push(o),o.field.ut()&&(n=!0)}if(!n){var a=this.Jn.length>0?this.Jn[this.Jn.length-1].dir:Te.ASCENDING;this.Xn.push(a===Te.ASCENDING?Me:Pe)}}}return this.Xn},enumerable:!0,configurable:!0}),t.prototype.ei=function(e){_(null==this.ni()||!(e instanceof we)||!e.ri()||e.field.isEqual(this.ni()),"Query must only have one inequality field."),_(!this.zn(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.Jn.slice(),n,this.limit,this.Yn,this.startAt,this.endAt)},t.prototype.ui=function(e){_(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.Jn.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.Yn,this.startAt,this.endAt)},t.prototype.si=function(e){return new t(this.path,this.collectionGroup,this.Jn.slice(),this.filters.slice(),e,de.Kn,this.startAt,this.endAt)},t.prototype.oi=function(e){return new t(this.path,this.collectionGroup,this.Jn.slice(),this.filters.slice(),e,de.Hn,this.startAt,this.endAt)},t.prototype.hi=function(e){return new t(this.path,this.collectionGroup,this.Jn.slice(),this.filters.slice(),this.limit,this.Yn,e,this.endAt)},t.prototype.ci=function(e){return new t(this.path,this.collectionGroup,this.Jn.slice(),this.filters.slice(),this.limit,this.Yn,this.startAt,e)},t.prototype.ai=function(e){return new t(e,null,this.Jn.slice(),this.filters.slice(),this.limit,this.Yn,this.startAt,this.endAt)},t.prototype.fi=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.Jn.length||1===this.Jn.length&&this.Jn[0].field.ut())},t.prototype.canonicalId=function(){return this.li().canonicalId()+"|lt:"+this.Yn},t.prototype.toString=function(){return"Query(target="+this.li().toString()+"; limitType="+this.Yn+")"},t.prototype.isEqual=function(t){return this.li().isEqual(t.li())&&this.Yn===t.Yn},t.prototype.di=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.ut()}return _(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.vi(t)&&this.wi(t)&&this.mi(t)&&this.pi(t)},t.prototype.gi=function(){return!fe(this.limit)&&this.Yn===de.Kn},t.prototype.bi=function(){return!fe(this.limit)&&this.Yn===de.Hn},t.prototype.ii=function(){return this.Jn.length>0?this.Jn[0].field:null},t.prototype.ni=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof we&&n.ri())return n.field}return null},t.prototype.yi=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof we&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.zn=function(){return this.li().zn()},t.prototype._i=function(){return null!==this.collectionGroup},t.prototype.li=function(){if(!this.$n)if(this.Yn===de.Kn)this.$n=new ge(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e],i=r.dir===Te.DESCENDING?Te.ASCENDING:Te.DESCENDING;t.push(new Ae(r.field,i))}var o=this.endAt?new Ie(this.endAt.position,!this.endAt.before):null,a=this.startAt?new Ie(this.startAt.position,!this.startAt.before):null;this.$n=new ge(this.path,this.collectionGroup,t,this.filters,this.limit,o,a)}return this.$n},t.prototype.vi=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.ct(this.collectionGroup)&&this.path.$(e):pt.ht(this.path)?this.path.isEqual(e):this.path.Z(e)},t.prototype.wi=function(t){for(var e=0,n=this.Jn;e<n.length;e++){var r=n[e];if(!r.field.ut()&&null===t.field(r.field))return!1}return!0},t.prototype.mi=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.pi=function(t){return!(this.startAt&&!this.startAt.Ii(this.orderBy,t))&&(!this.endAt||!this.endAt.Ii(this.orderBy,t))},t.prototype.Zn=function(t){_(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),be=function(){function t(t){this.name=t}return t.it=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return m("Unknown FieldFilter operator: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t.IN=new t("in"),t.ARRAY_CONTAINS_ANY=new t("array-contains-any"),t}(),we=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return a.__extends(e,t),e.create=function(t,n,r){if(t.ut())return n===be.IN?(_(r instanceof re,"Comparing on key with IN, but filter value not an ArrayValue"),_(r.Ht.every((function(t){return t instanceof Zt})),"Comparing on key with IN, but an array value was not a RefValue"),new Ee(t,r)):(_(r instanceof Zt,"Comparing on key, but filter value not a RefValue"),_(n!==be.ARRAY_CONTAINS&&n!==be.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new xe(t,n,r));if(r.isEqual(zt.On)){if(n!==be.EQUAL)throw new A(I.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(r.isEqual($t.xn)){if(n!==be.EQUAL)throw new A(I.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return n===be.ARRAY_CONTAINS?new Se(t,r):n===be.IN?(_(r instanceof re,"IN filter has invalid value: "+r.toString()),new Ce(t,r)):n===be.ARRAY_CONTAINS_ANY?(_(r instanceof re,"ARRAY_CONTAINS_ANY filter has invalid value: "+r.toString()),new ke(t,r)):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&this.value.Vn===e.Vn&&this.Ti(e.h(this.value))},e.prototype.Ti=function(t){switch(this.op){case be.LESS_THAN:return t<0;case be.LESS_THAN_OR_EQUAL:return t<=0;case be.EQUAL:return 0===t;case be.GREATER_THAN:return t>0;case be.GREATER_THAN_OR_EQUAL:return t>=0;default:return m("Unknown FieldFilter operator: "+this.op)}},e.prototype.ri=function(){return[be.LESS_THAN,be.LESS_THAN_OR_EQUAL,be.GREATER_THAN,be.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.nt()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.nt()+" "+this.op+" "+this.value.value()},e}((function(){})),xe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.matches=function(t){var e=this.value,n=pt.G(t.key,e.key);return this.Ti(n)},e}(we),Ee=function(t){function e(e,n){var r=t.call(this,e,be.IN,n)||this;return r.value=n,r}return a.__extends(e,t),e.prototype.matches=function(t){return this.value.Ht.some((function(e){return t.key.isEqual(e.key)}))},e}(we),Se=function(t){function e(e,n){return t.call(this,e,be.ARRAY_CONTAINS,n)||this}return a.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return e instanceof re&&e.contains(this.value)},e}(we),Ce=function(t){function e(e,n){var r=t.call(this,e,be.IN,n)||this;return r.value=n,r}return a.__extends(e,t),e.prototype.matches=function(t){var e=this.value,n=t.field(this.field);return null!==n&&e.contains(n)},e}(we),ke=function(t){function e(e,n){var r=t.call(this,e,be.ARRAY_CONTAINS_ANY,n)||this;return r.value=n,r}return a.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return n instanceof re&&n.Ht.some((function(t){return e.value.contains(t)}))},e}(we),Te=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),Ie=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.Ii=function(t,e){_(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.ut())_(o instanceof Zt,"Bound has a non-key value where the key path is being used."),n=pt.G(o.key,e.key);else{var a=e.field(i.field);_(null!==a,"Field should exist since document matched the orderBy already."),n=o.h(a)}if(i.dir===Te.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++){var n=this.position[e],r=t.position[e];if(!n.isEqual(r))return!1}return!0},t}(),Ae=function(){function t(t,e){this.field=t,void 0===e&&(e=Te.ASCENDING),this.dir=e,this.Ei=t.ut()}return t.prototype.compare=function(t,e){var n=this.Ei?oe.Bn(t,e):oe.Gn(this.field,t,e);switch(this.dir){case Te.ASCENDING:return n;case Te.DESCENDING:return-1*n;default:return m("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.nt()+this.dir.toString()},t.prototype.toString=function(){return this.field.nt()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Me=new Ae(ft.st(),Te.ASCENDING),Pe=new Ae(ft.st(),Te.DESCENDING);(me=ye||(ye={}))[me.Ri=0]="__PRIVATE_RemoteStore",me[me.Ai=1]="__PRIVATE_SharedClientState";var Oe,Ne,De=function(){function t(t){this.Di=t}return t.fromBase64String=function(e){return new t(In.t().atob(e))},t.fromUint8Array=function(e){return new t(Re(e))},t.prototype.toBase64=function(){return In.t().btoa(this.Di)},t.prototype.toUint8Array=function(){return Le(this.Di)},t.prototype.Nn=function(){return 2*this.Di.length},t.prototype.isEqual=function(t){return this.Di===t.Di},t.Pi=new t(""),t}();function Re(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}function Le(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(Ne=Oe||(Oe={}))[Ne.Si=0]="__PRIVATE_Listen",Ne[Ne.Ci=1]="__PRIVATE_ExistenceFilterMismatch",Ne[Ne.ki=2]="__PRIVATE_LimboResolution";var Fe,je,Be=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=ut.MIN),void 0===o&&(o=ut.MIN),void 0===a&&(a=De.Pi),this.target=t,this.targetId=e,this.Vi=n,this.sequenceNumber=r,this.Ni=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.Oi=function(e){return new t(this.target,this.targetId,this.Vi,e,this.Ni,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Fi=function(e,n){return new t(this.target,this.targetId,this.Vi,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Ui=function(e){return new t(this.target,this.targetId,this.Vi,this.sequenceNumber,this.Ni,e,this.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.Vi===t.Vi&&this.sequenceNumber===t.sequenceNumber&&this.Ni.isEqual(t.Ni)&&this.lastLimboFreeSnapshotVersion.isEqual(t.lastLimboFreeSnapshotVersion)&&this.resumeToken.isEqual(t.resumeToken)&&this.target.isEqual(t.target)},t}(),Ve=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}();function Ue(t){switch(t){case I.OK:return m("Treated status OK as error");case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0;default:return m("Unknown status code: "+t)}}function qe(t){if(void 0===t)return g("GRPC error has no .code"),I.UNKNOWN;switch(t){case Fe.OK:return I.OK;case Fe.CANCELLED:return I.CANCELLED;case Fe.UNKNOWN:return I.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return I.INTERNAL;case Fe.UNAVAILABLE:return I.UNAVAILABLE;case Fe.UNAUTHENTICATED:return I.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case Fe.NOT_FOUND:return I.NOT_FOUND;case Fe.ALREADY_EXISTS:return I.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return I.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case Fe.ABORTED:return I.ABORTED;case Fe.OUT_OF_RANGE:return I.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return I.UNIMPLEMENTED;case Fe.DATA_LOSS:return I.DATA_LOSS;default:return m("Unknown status code: "+t)}}function ze(t){if(void 0===t)return Fe.OK;switch(t){case I.OK:return Fe.OK;case I.CANCELLED:return Fe.CANCELLED;case I.UNKNOWN:return Fe.UNKNOWN;case I.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case I.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case I.INTERNAL:return Fe.INTERNAL;case I.UNAVAILABLE:return Fe.UNAVAILABLE;case I.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case I.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case I.NOT_FOUND:return Fe.NOT_FOUND;case I.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case I.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case I.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case I.ABORTED:return Fe.ABORTED;case I.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case I.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case I.DATA_LOSS:return Fe.DATA_LOSS;default:return m("Unknown status code: "+t)}}(je=Fe||(Fe={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";var He=new dt(pt.G);function We(){return He}function Ge(){return We()}var Ye=new dt(pt.G);function $e(){return Ye}var Xe=new dt(pt.G);function Qe(){return Xe}var Ke=new mt(pt.G);function Je(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ke,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ze=new mt(w);function tn(){return Ze}var en,nn,rn,on,an=function(){function t(t){this.G=t?function(e,n){return t(e,n)||pt.G(e.key,n.key)}:function(t,e){return pt.G(t.key,e.key)},this.xi=$e(),this.ji=new dt(this.G)}return t.Li=function(e){return new t(e.G)},t.prototype.has=function(t){return null!=this.xi.get(t)},t.prototype.get=function(t){return this.xi.get(t)},t.prototype.first=function(){return this.ji.vt()},t.prototype.last=function(){return this.ji.wt()},t.prototype.J=function(){return this.ji.J()},t.prototype.indexOf=function(t){var e=this.xi.get(t);return e?this.ji.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.ji.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.ji.pt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.xi.lt(t.key,t),e.ji.lt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.xi.remove(t),this.ji.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.ji.bt(),r=e.ji.bt();n.At();){var i=n.Rt().key,o=r.Rt().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.G=this.G,r.xi=e,r.ji=n,r},t}();(nn=en||(en={}))[nn.Bi=0]="__PRIVATE_Added",nn[nn.Mi=1]="__PRIVATE_Removed",nn[nn.qi=2]="__PRIVATE_Modified",nn[nn.Qi=3]="__PRIVATE_Metadata",(on=rn||(rn={}))[on.Gi=0]="__PRIVATE_Local",on[on.Wi=1]="__PRIVATE_Synced";var sn,un,ln=function(){function t(){this.zi=new dt(pt.G)}return t.prototype.track=function(t){var e=t.doc.key,n=this.zi.get(e);n?t.type!==en.Bi&&n.type===en.Qi?this.zi=this.zi.lt(e,t):t.type===en.Qi&&n.type!==en.Mi?this.zi=this.zi.lt(e,{type:n.type,doc:t.doc}):t.type===en.qi&&n.type===en.qi?this.zi=this.zi.lt(e,{type:en.qi,doc:t.doc}):t.type===en.qi&&n.type===en.Bi?this.zi=this.zi.lt(e,{type:en.Bi,doc:t.doc}):t.type===en.Mi&&n.type===en.Bi?this.zi=this.zi.remove(e):t.type===en.Mi&&n.type===en.qi?this.zi=this.zi.lt(e,{type:en.Mi,doc:n.doc}):t.type===en.Bi&&n.type===en.Mi?this.zi=this.zi.lt(e,{type:en.qi,doc:t.doc}):m("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.zi=this.zi.lt(e,t)},t.prototype.Ki=function(){var t=[];return this.zi.pt((function(e,n){t.push(n)})),t},t}(),cn=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.Hi=n,this.docChanges=r,this.Ji=i,this.fromCache=o,this.Yi=a,this.Xi=s}return t.$i=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:en.Bi,doc:t})})),new t(e,n,an.Li(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ji.J()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Yi===t.Yi&&this.Ji.isEqual(t.Ji)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.Hi.isEqual(t.Hi)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),hn=function(){function t(t,e,n,r,i){this.Ni=t,this.Zi=e,this.te=n,this.ne=r,this.ie=i}return t.ee=function(e,n){var r,i=((r={})[e]=fn.re(e,n),r);return new t(ut.MIN,i,tn(),We(),Je())},t}(),fn=function(){function t(t,e,n,r,i){this.resumeToken=t,this.ue=e,this.se=n,this.oe=r,this.he=i}return t.re=function(e,n){return new t(De.Pi,n,Je(),Je(),Je())},t}(),pn=function(t,e,n,r){this.ce=t,this.removedTargetIds=e,this.key=n,this.ae=r},dn=function(t,e){this.targetId=t,this.fe=e};(un=sn||(sn={}))[un.le=0]="__PRIVATE_NoChange",un[un.Bi=1]="__PRIVATE_Added",un[un.Mi=2]="__PRIVATE_Removed",un[un.de=3]="__PRIVATE_Current",un[un.ve=4]="__PRIVATE_Reset";var vn=function(t,e,n,r){void 0===n&&(n=De.Pi),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},gn=function(){function t(){this.we=0,this.me=_n(),this.pe=De.Pi,this.ge=!1,this.be=!0}return Object.defineProperty(t.prototype,"ue",{get:function(){return this.ge},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.pe},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return 0!==this.we},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return this.be},enumerable:!0,configurable:!0}),t.prototype.Ie=function(t){t.Nn()>0&&(this.be=!0,this.pe=t)},t.prototype.Te=function(){var t=Je(),e=Je(),n=Je();return this.me.forEach((function(r,i){switch(i){case en.Bi:t=t.add(r);break;case en.qi:e=e.add(r);break;case en.Mi:n=n.add(r);break;default:m("Encountered invalid change type: "+i)}})),new fn(this.pe,this.ge,t,e,n)},t.prototype.Ee=function(){this.be=!1,this.me=_n()},t.prototype.Re=function(t,e){this.be=!0,this.me=this.me.lt(t,e)},t.prototype.Ae=function(t){this.be=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.we+=1},t.prototype.Pe=function(){this.we-=1},t.prototype.Se=function(){this.be=!0,this.ge=!0},t}(),yn=function(){function t(t){this.Ce=t,this.ke={},this.Ve=We(),this.Ne=mn(),this.Oe=new mt(w)}return t.prototype.Fe=function(t){for(var e=0,n=t.ce;e<n.length;e++){var r=n[e];t.ae instanceof oe?this.Ue(r,t.ae):t.ae instanceof ae&&this.xe(r,t.key,t.ae)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.xe(r,t.key,t.ae)},t.prototype.je=function(t){var e=this;this.Le(t,(function(n){var r=e.Be(n);switch(t.state){case sn.le:e.Me(n)&&r.Ie(t.resumeToken);break;case sn.Bi:r.Pe(),r.ye||r.Ee(),r.Ie(t.resumeToken);break;case sn.Mi:r.Pe(),r.ye||e.removeTarget(n),_(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case sn.de:e.Me(n)&&(r.Se(),r.Ie(t.resumeToken));break;case sn.ve:e.Me(n)&&(e.qe(n),r.Ie(t.resumeToken));break;default:m("Unknown target watch change state: "+t.state)}}))},t.prototype.Le=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):j(this.ke,e)},t.prototype.Qe=function(t){var e=t.targetId,n=t.fe.count,r=this.Ge(e);if(r){var i=r.target;if(i.zn())if(0===n){var o=new pt(i.path);this.xe(e,o,new ae(o,ut.B()))}else _(1===n,"Single document existence filter with count: "+n);else this.We(e)!==n&&(this.qe(e),this.Oe=this.Oe.add(e))}},t.prototype.ze=function(t){var e=this,n={};j(this.ke,(function(r,i){var o=e.Ge(r);if(o){if(i.ue&&o.target.zn()){var a=new pt(o.target.path);null!==e.Ve.get(a)||e.Ke(r,a)||e.xe(r,a,new ae(a,t))}i._e&&(n[r]=i.Te(),i.Ee())}}));var r=Je();this.Ne.forEach((function(t,n){var i=!0;n.Bt((function(t){var n=e.Ge(t);return!n||n.Vi===Oe.ki||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new hn(t,n,this.Oe,this.Ve,r);return this.Ve=We(),this.Ne=mn(),this.Oe=new mt(w),i},t.prototype.Ue=function(t,e){if(this.Me(t)){var n=this.Ke(t,e.key)?en.qi:en.Bi;this.Be(t).Re(e.key,n),this.Ve=this.Ve.lt(e.key,e),this.Ne=this.Ne.lt(e.key,this.He(e.key).add(t))}},t.prototype.xe=function(t,e,n){if(this.Me(t)){var r=this.Be(t);this.Ke(t,e)?r.Re(e,en.Mi):r.Ae(e),this.Ne=this.Ne.lt(e,this.He(e).delete(t)),n&&(this.Ve=this.Ve.lt(e,n))}},t.prototype.removeTarget=function(t){delete this.ke[t]},t.prototype.We=function(t){var e=this.Be(t).Te();return this.Ce.Je(t).size+e.se.size-e.he.size},t.prototype.De=function(t){this.Be(t).De()},t.prototype.Be=function(t){return this.ke[t]||(this.ke[t]=new gn),this.ke[t]},t.prototype.He=function(t){var e=this.Ne.get(t);return e||(e=new mt(w),this.Ne=this.Ne.lt(t,e)),e},t.prototype.Me=function(t){var e=null!==this.Ge(t);return e||v("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.ke[t];return e&&e.ye?null:this.Ce.Ye(t)},t.prototype.qe=function(t){var e=this;_(!this.ke[t].ye,"Should only reset active targets"),this.ke[t]=new gn,this.Ce.Je(t).forEach((function(n){e.xe(t,n,null)}))},t.prototype.Ke=function(t,e){return this.Ce.Je(t).has(e)},t}();function mn(){return new dt(pt.G)}function _n(){return new dt(pt.G)}var bn,wn,xn=((bn={})[Te.ASCENDING.name]="ASCENDING",bn[Te.DESCENDING.name]="DESCENDING",bn),En=((wn={})[be.LESS_THAN.name]="LESS_THAN",wn[be.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",wn[be.GREATER_THAN.name]="GREATER_THAN",wn[be.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",wn[be.EQUAL.name]="EQUAL",wn[be.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",wn[be.IN.name]="IN",wn[be.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",wn),Sn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cn(t,e){_(!fe(t),e+" is missing")}function kn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):m("can't parse "+t)}var Tn=function(){function t(t,e){this.s=t,this.options=e}return t.prototype.Xe=function(t){var e=void 0===t.code?I.UNKNOWN:qe(t.code);return new A(e,t.message||"")},t.prototype.$e=function(t){return this.options.Ze||fe(t)?t:{value:t}},t.prototype.tr=function(t){var e;return fe(e="object"==typeof t?t.value:t)?null:e},t.prototype.q=function(t){return this.options.Ze?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.L=function(t){if("string"==typeof t)return this.nr(t);_(!!t,"Cannot deserialize null or undefined timestamp.");var e=kn(t.seconds||"0"),n=t.nanos||0;return new st(e,n)},t.prototype.nr=function(t){var e=0,n=Sn.exec(t);if(_(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new st(o,e)},t.prototype.ir=function(t){return this.options.Ze?t.toBase64():t.toUint8Array()},t.prototype.er=function(t){return this.options.Ze?(_(void 0===t||"string"==typeof t,"value must be undefined or a string when using proto3 Json"),De.fromBase64String(t||"")):(_(void 0===t||t instanceof Uint8Array,"value must be undefined or Uint8Array"),De.fromUint8Array(t||new Uint8Array))},t.prototype.rr=function(t){return"string"==typeof t?(_(this.options.Ze,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Dn.fromBase64String(t)):(_(!this.options.Ze,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Dn.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.q(t.q())},t.prototype.fromVersion=function(t){return _(!!t,"Trying to deserialize version that isn't set"),ut.L(this.L(t))},t.prototype.ur=function(t,e){return this.sr(t).child("documents").child(e).nt()},t.prototype.or=function(t){var e=ct.it(t);return _(this.hr(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.cr=function(t){return this.ur(this.s,t.path)},t.prototype.ar=function(t){var e=this.or(t);return _(e.get(1)===this.s.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.s.projectId),_(!e.get(3)&&!this.s.database||e.get(3)===this.s.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.s.database),new pt(this.lr(e))},t.prototype.dr=function(t){return this.ur(this.s,t)},t.prototype.vr=function(t){var e=this.or(t);return 4===e.length?ct.et:this.lr(e)},Object.defineProperty(t.prototype,"wr",{get:function(){return new ct(["projects",this.s.projectId,"databases",this.s.database]).nt()},enumerable:!0,configurable:!0}),t.prototype.sr=function(t){return new ct(["projects",t.projectId,"databases",t.database])},t.prototype.lr=function(t){return _(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.K(5)},t.prototype.hr=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.mr=function(t){if(t instanceof zt)return{nullValue:"NULL_VALUE"};if(t instanceof Ht)return{booleanValue:t.value()};if(t instanceof Yt)return{integerValue:""+t.value()};if(t instanceof $t){var e=t.value();if(this.options.Ze){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof Xt?{stringValue:t.value()}:t instanceof ee?{mapValue:this.pr(t)}:t instanceof re?{arrayValue:this.gr(t)}:t instanceof Qt?{timestampValue:this.q(t.Ht)}:t instanceof te?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Jt?{bytesValue:this.ir(t.value())}:t instanceof Zt?{referenceValue:this.ur(t.s,t.key.path)}:m("Unknown FieldValue "+JSON.stringify(t))},t.prototype.br=function(t){var e=this;if("nullValue"in t)return zt.On;if("booleanValue"in t)return Ht.of(t.booleanValue);if("integerValue"in t)return new Yt(kn(t.integerValue));if("doubleValue"in t){if(this.options.Ze){if("NaN"===t.doubleValue)return $t.xn;if("Infinity"===t.doubleValue)return $t.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return $t.NEGATIVE_INFINITY}return new $t(t.doubleValue)}if("stringValue"in t)return new Xt(t.stringValue);if("mapValue"in t)return this.yr(t.mapValue.fields||{});if("arrayValue"in t){Cn(t.arrayValue,"arrayValue");var n=t.arrayValue.values||[];return new re(n.map((function(t){return e.br(t)})))}if("timestampValue"in t)return Cn(t.timestampValue,"timestampValue"),new Qt(this.L(t.timestampValue));if("geoPointValue"in t){Cn(t.geoPointValue,"geoPointValue");var r=t.geoPointValue.latitude||0,i=t.geoPointValue.longitude||0;return new te(new at(r,i))}if("bytesValue"in t){Cn(t.bytesValue,"bytesValue");var o=this.rr(t.bytesValue);return new Jt(o)}if("referenceValue"in t){Cn(t.referenceValue,"referenceValue");var a=this.or(t.referenceValue),s=new k(a.get(1),a.get(3)),u=new pt(this.lr(a));return new Zt(s,u)}return m("Unknown Value proto "+JSON.stringify(t))},t.prototype._r=function(t,e){return{name:this.cr(t),fields:this.Ir(e)}},t.prototype.Tr=function(t){return _(!t.un,"Can't serialize documents with mutations."),{name:this.cr(t.key),fields:this.Ir(t.data()),updateTime:this.q(t.version.q())}},t.prototype.Er=function(t,e){var n=this,r=this.ar(t.name),i=this.fromVersion(t.updateTime);return new oe(r,i,{hasCommittedMutations:!!e},void 0,t,(function(t){return n.br(t)}))},t.prototype.Ir=function(t){var e=this,n={};return t.forEach((function(t,r){n[t]=e.mr(r)})),n},t.prototype.yr=function(t){var e=this,n=t,r=ee.mn();return B(n,(function(t,n){r.set(new ft([t]),e.br(n))})),r.fn()},t.prototype.pr=function(t){return{fields:this.Ir(t)}},t.prototype.gr=function(t){var e=this,n=[];return t.forEach((function(t){n.push(e.mr(t))})),{values:n}},t.prototype.Rr=function(t){var e=this;_(!!t.found,"Tried to deserialize a found document from a missing document."),Cn(t.found.name,"doc.found.name"),Cn(t.found.updateTime,"doc.found.updateTime");var n=this.ar(t.found.name),r=this.fromVersion(t.found.updateTime);return new oe(n,r,{},void 0,t.found,(function(t){return e.br(t)}))},t.prototype.Ar=function(t){_(!!t.missing,"Tried to deserialize a missing document from a found document."),_(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.ar(t.missing),n=this.fromVersion(t.readTime);return new ae(e,n)},t.prototype.Dr=function(t){return"found"in t?this.Rr(t):"missing"in t?this.Ar(t):m("invalid batch get response: "+JSON.stringify(t))},t.prototype.Pr=function(t){switch(t){case sn.Bi:return"ADD";case sn.de:return"CURRENT";case sn.le:return"NO_CHANGE";case sn.Mi:return"REMOVE";case sn.ve:return"RESET";default:return m("Unknown WatchTargetChangeState: "+t)}},t.prototype.Sr=function(t){if(t instanceof dn)return{filter:{count:t.fe.count,targetId:t.targetId}};if(t instanceof pn){if(t.ae instanceof oe){var e=t.ae;return{documentChange:{document:{name:this.cr(e.key),fields:this.Ir(e.data()),updateTime:this.toVersion(e.version)},targetIds:t.ce,removedTargetIds:t.removedTargetIds}}}if(t.ae instanceof ae)return e=t.ae,{documentDelete:{document:this.cr(e.key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.ae)return{documentRemove:{document:this.cr(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof vn){var n=void 0;return t.cause&&(n={code:ze(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.Pr(t.state),targetIds:t.targetIds,resumeToken:this.ir(t.resumeToken),cause:n}}}return m("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.Cr=function(t){var e,n=this;if("targetChange"in t){Cn(t.targetChange,"targetChange");var r=this.kr(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=this.er(t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&this.Xe(a);e=new vn(r,i,o,s||null)}else if("documentChange"in t){Cn(t.documentChange,"documentChange");var u=t.documentChange;Cn(u.document,"documentChange.name"),Cn(u.document.name,"documentChange.document.name"),Cn(u.document.updateTime,"documentChange.document.updateTime");var l=this.ar(u.document.name),c=this.fromVersion(u.document.updateTime),h=new oe(l,c,{},void 0,u.document,(function(t){return n.br(t)})),f=u.targetIds||[],p=u.removedTargetIds||[];e=new pn(f,p,h.key,h)}else if("documentDelete"in t){Cn(t.documentDelete,"documentDelete");var d=t.documentDelete;Cn(d.document,"documentDelete.document"),l=this.ar(d.document),c=d.readTime?this.fromVersion(d.readTime):ut.B(),h=new ae(l,c),p=d.removedTargetIds||[],e=new pn([],p,h.key,h)}else if("documentRemove"in t){Cn(t.documentRemove,"documentRemove");var v=t.documentRemove;Cn(v.document,"documentRemove"),l=this.ar(v.document),p=v.removedTargetIds||[],e=new pn([],p,l,null)}else{if(!("filter"in t))return m("Unknown change type "+JSON.stringify(t));Cn(t.filter,"filter");var g=t.filter;Cn(g.targetId,"filter.targetId");var y=g.count||0,_=new Ve(y),b=g.targetId;e=new dn(b,_)}return e},t.prototype.kr=function(t){return"NO_CHANGE"===t?sn.le:"ADD"===t?sn.Bi:"REMOVE"===t?sn.Mi:"CURRENT"===t?sn.de:"RESET"===t?sn.ve:m("Got unexpected TargetChange.state: "+t)},t.prototype.Vr=function(t){if(!("targetChange"in t))return ut.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?ut.MIN:e.readTime?this.fromVersion(e.readTime):ut.MIN},t.prototype.Nr=function(t){var e,n=this;if(t instanceof Lt)e={update:this._r(t.key,t.value)};else if(t instanceof Bt)e={delete:this.cr(t.key)};else if(t instanceof Ft)e={update:this._r(t.key,t.data),updateMask:this.Or(t.on)};else if(t instanceof jt)e={transform:{document:this.cr(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.Fr(t)}))}};else{if(!(t instanceof Vt))return m("Unknown mutation type "+t.type);e={verify:this.cr(t.key)}}return t.rn.tn||(e.currentDocument=this.Ur(t.rn)),e},t.prototype.xr=function(t){var e=this,n=t.currentDocument?this.jr(t.currentDocument):Dt.NONE;if(t.update){Cn(t.update.name,"name");var r=this.ar(t.update.name),i=this.yr(t.update.fields||{});if(t.updateMask){var o=this.Lr(t.updateMask);return new Ft(r,i,o,n)}return new Lt(r,i,n)}if(t.delete)return r=this.ar(t.delete),new Bt(r,n);if(t.transform){r=this.ar(t.transform.document);var a=t.transform.fieldTransforms.map((function(t){return e.Br(t)}));return _(!0===n.exists,'Transforms only support precondition "exists == true"'),new jt(r,a)}return t.verify?(r=this.ar(t.verify),new Vt(r,n)):m("unknown mutation proto: "+JSON.stringify(t))},t.prototype.Ur=function(t){return _(!t.tn,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:m("Unknown precondition")},t.prototype.jr=function(t){return void 0!==t.updateTime?Dt.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?Dt.exists(t.exists):Dt.NONE},t.prototype.Mr=function(t,e){var n=this,r=t.updateTime?this.fromVersion(t.updateTime):this.fromVersion(e);r.isEqual(ut.MIN)&&(r=this.fromVersion(e));var i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map((function(t){return n.br(t)}))),new At(r,i)},t.prototype.qr=function(t,e){var n=this;return t&&t.length>0?(_(void 0!==e,"Received a write result without a commit time"),t.map((function(t){return n.Mr(t,e)}))):[]},t.prototype.Fr=function(t){var e=this,n=t.transform;if(n instanceof bt)return{fieldPath:t.field.nt(),setToServerValue:"REQUEST_TIME"};if(n instanceof wt)return{fieldPath:t.field.nt(),appendMissingElements:{values:n.elements.map((function(t){return e.mr(t)}))}};if(n instanceof xt)return{fieldPath:t.field.nt(),removeAllFromArray:{values:n.elements.map((function(t){return e.mr(t)}))}};if(n instanceof Et)return{fieldPath:t.field.nt(),increment:this.mr(n.Kt)};throw m("Unknown transform: "+t.transform)},t.prototype.Br=function(t){var e=this,n=null;if("setToServerValue"in t)_("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),n=bt.instance;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new wt(r.map((function(t){return e.br(t)})))}else if("removeAllFromArray"in t)r=t.removeAllFromArray.values||[],n=new xt(r.map((function(t){return e.br(t)})));else if("increment"in t){var i=this.br(t.increment);_(i instanceof Wt,"NUMERIC_ADD transform requires a NumberValue"),n=new Et(i)}else m("Unknown transform proto: "+JSON.stringify(t));var o=ft.ot(t.fieldPath);return new It(o,n)},t.prototype.Qr=function(t){return{documents:[this.dr(t.path)]}},t.prototype.Gr=function(t){var e=t.documents.length;_(1===e,"DocumentsTarget contained other than 1 document: "+e);var n=t.documents[0];return _e.ti(this.vr(n)).li()},t.prototype.Wr=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(_(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.dr(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(_(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.dr(n.H()),e.structuredQuery.from=[{collectionId:n.X()}]);var r=this.zr(t.filters);r&&(e.structuredQuery.where=r);var i=this.Kr(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.$e(t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.Hr(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.Hr(t.endAt)),e},t.prototype.Jr=function(t){var e=this.vr(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=this.Yr(n.where));var s=[];n.orderBy&&(s=this.Xr(n.orderBy));var u=null;n.limit&&(u=this.tr(n.limit));var l=null;n.startAt&&(l=this.$r(n.startAt));var c=null;return n.endAt&&(c=this.$r(n.endAt)),new _e(e,i,s,a,u,de.Kn,l,c).li()},t.prototype.Zr=function(t){var e=this.tu(t.Vi);return null==e?null:{"goog-listen-tags":e}},t.prototype.tu=function(t){switch(t){case Oe.Si:return null;case Oe.Ci:return"existence-filter-mismatch";case Oe.ki:return"limbo-document";default:return m("Unrecognized query purpose: "+t)}},t.prototype.li=function(t){var e,n=t.target;return(e=n.zn()?{documents:this.Qr(n)}:{query:this.Wr(n)}).targetId=t.targetId,t.resumeToken.Nn()>0&&(e.resumeToken=this.ir(t.resumeToken)),e},t.prototype.zr=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof we?e.nu(t):m("Unrecognized filter: "+JSON.stringify(t))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.Yr=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.iu(t)]:void 0!==t.fieldFilter?[this.eu(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.Yr(t)})).reduce((function(t,e){return t.concat(e)})):m("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.Kr=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.ru(t)}))},t.prototype.Xr=function(t){var e=this;return t.map((function(t){return e.uu(t)}))},t.prototype.Hr=function(t){var e=this;return{before:t.before,values:t.position.map((function(t){return e.mr(t)}))}},t.prototype.$r=function(t){var e=this,n=!!t.before,r=t.values.map((function(t){return e.br(t)}));return new Ie(r,n)},t.prototype.su=function(t){return xn[t.name]},t.prototype.ou=function(t){switch(t){case"ASCENDING":return Te.ASCENDING;case"DESCENDING":return Te.DESCENDING;default:return}},t.prototype.hu=function(t){return En[t.name]},t.prototype.cu=function(t){switch(t){case"EQUAL":return be.EQUAL;case"GREATER_THAN":return be.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return be.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return be.LESS_THAN;case"LESS_THAN_OR_EQUAL":return be.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return be.ARRAY_CONTAINS;case"IN":return be.IN;case"ARRAY_CONTAINS_ANY":return be.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return m("Unspecified operator");default:return m("Unknown operator")}},t.prototype.au=function(t){return{fieldPath:t.nt()}},t.prototype.fu=function(t){return ft.ot(t.fieldPath)},t.prototype.ru=function(t){return{field:this.au(t.field),direction:this.su(t.dir)}},t.prototype.uu=function(t){return new Ae(this.fu(t.field),this.ou(t.direction))},t.prototype.eu=function(t){return we.create(this.fu(t.fieldFilter.field),this.cu(t.fieldFilter.op),this.br(t.fieldFilter.value))},t.prototype.nu=function(t){if(t.op===be.EQUAL){if(t.value.isEqual($t.xn))return{unaryFilter:{field:this.au(t.field),op:"IS_NAN"}};if(t.value.isEqual(zt.On))return{unaryFilter:{field:this.au(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.au(t.field),op:this.hu(t.op),value:this.mr(t.value)}}},t.prototype.iu=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fu(t.unaryFilter.field);return we.create(e,be.EQUAL,$t.xn);case"IS_NULL":var n=this.fu(t.unaryFilter.field);return we.create(n,be.EQUAL,zt.On);case"OPERATOR_UNSPECIFIED":return m("Unspecified filter");default:return m("Unknown filter")}},t.prototype.Or=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.nt())})),{fieldPaths:e}},t.prototype.Lr=function(t){var e=(t.fieldPaths||[]).map((function(t){return ft.ot(t)}));return Tt.Yt(e)},t}(),In=function(){function t(){}return t.lu=function(e){t.platform&&m("Platform already defined"),t.platform=e},t.t=function(){return t.platform||m("Platform not set"),t.platform},t}();function An(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new A(I.INVALID_ARGUMENT,t)}return n.prototype=t.prototype,Object.assign(n,t),n}function Mn(){if("undefined"==typeof Uint8Array)throw new A(I.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Pn(){if(!In.t().du)throw new A(I.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var On,Nn,Dn=function(){function t(t){Pn(),this.Di=t}return t.fromBase64String=function(e){q("Blob.fromBase64String",arguments,1),W("Blob.fromBase64String","string",1,e),Pn();try{var n=In.t().atob(e);return new t(n)}catch(t){throw new A(I.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(q("Blob.fromUint8Array",arguments,1),Mn(),!(e instanceof Uint8Array))throw nt("Blob.fromUint8Array","Uint8Array",1,e);var n=Re(e);return new t(n)},t.prototype.toBase64=function(){return q("Blob.toBase64",arguments,0),Pn(),In.t().btoa(this.Di)},t.prototype.toUint8Array=function(){q("Blob.toUint8Array",arguments,0),Mn();var t=Le(this.Di);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.Di===t.Di},t.prototype.Ln=function(){return 2*this.Di.length},t.prototype.U=function(t){return w(this.Di,t.Di)},t}(),Rn=An(Dn,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Ln=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.vu=function(t){return n.wu(t)},this.mu=function(t){return e.pu(t)})}return t.prototype.wu=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.mu&&this.mu(t),t},t.gu=-1,t}(),Fn=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};(Nn=On||(On={})).bu="all",Nn.yu="listen_stream_idle",Nn._u="listen_stream_connection_backoff",Nn.Iu="write_stream_idle",Nn.Tu="write_stream_connection_backoff",Nn.Eu="online_state_timeout",Nn.Ru="client_metadata_refresh",Nn.Au="lru_garbage_collection",Nn.Du="retry_transaction";var jn=function(){function t(t,e,n,r,i){this.Pu=t,this.Su=e,this.Cu=n,this.op=r,this.ku=i,this.Vu=new Fn,this.then=this.Vu.promise.then.bind(this.Vu.promise),this.catch=this.Vu.promise.catch.bind(this.Vu.promise),this.Vu.promise.catch((function(t){}))}return t.Nu=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.Ou=setTimeout((function(){return e.Fu()}),t)},t.prototype.Uu=function(){return this.Fu()},t.prototype.cancel=function(t){null!==this.Ou&&(this.clearTimeout(),this.Vu.reject(new A(I.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Fu=function(){var t=this;this.Pu.xu((function(){return null!==t.Ou?(t.clearTimeout(),t.op().then((function(e){return t.Vu.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Ou&&(this.ku(this),clearTimeout(this.Ou),this.Ou=null)},t}(),Bn=function(){function t(){this.ju=Promise.resolve(),this.Lu=!1,this.Bu=[],this.Mu=null,this.qu=!1,this.Qu=[]}return Object.defineProperty(t.prototype,"Gu",{get:function(){return this.Lu},enumerable:!0,configurable:!0}),t.prototype.xu=function(t){this.enqueue(t)},t.prototype.Wu=function(t){this.zu(),this.Ku(t)},t.prototype.Hu=function(t){return this.zu(),this.Ku(t)},t.prototype.Ju=function(t){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return this.zu(),this.Lu?[3,2]:(this.Lu=!0,[4,this.Hu(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.zu(),this.Lu?new Promise((function(t){})):this.Ku(t)},t.prototype.Ku=function(t){var e=this,n=this.ju.then((function(){return e.qu=!0,t().catch((function(t){e.Mu=t,e.qu=!1;var n=t.stack||t.message||"";throw g("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw t}),0),t})).then((function(t){return e.qu=!1,t}))}));return this.ju=n,n},t.prototype.Yu=function(t,e,n){var r=this;this.zu(),_(e>=0,"Attempted to schedule an operation with a negative delay of "+e),this.Qu.indexOf(t)>-1&&(e=0);var i=jn.Nu(this,t,e,n,(function(t){return r.Xu(t)}));return this.Bu.push(i),i},t.prototype.zu=function(){this.Mu&&m("AsyncQueue is already failed: "+(this.Mu.stack||this.Mu.message))},t.prototype.$u=function(){_(this.qu,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.Zu=function(){return this.Hu((function(){return Promise.resolve()}))},t.prototype.ts=function(t){for(var e=0,n=this.Bu;e<n.length;e++)if(n[e].Su===t)return!0;return!1},t.prototype.ns=function(t){var e=this;return this.Zu().then((function(){_(t===On.bu||e.ts(t),"Attempted to drain to missing operation "+t),e.Bu.sort((function(t,e){return t.Cu-e.Cu}));for(var n=0,r=e.Bu;n<r.length;n++){var i=r[n];if(i.Uu(),t!==On.bu&&i.Su===t)break}return e.Zu()}))},t.prototype.es=function(t){this.Qu.push(t)},t.prototype.Xu=function(t){var e=this.Bu.indexOf(t);_(e>=0,"Delayed operation not found."),this.Bu.splice(e,1)},t}();function Vn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=qn(e)),e=Un(t.get(n),e);return qn(e)}function Un(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function qn(t){return t+"\x01\x01"}function zn(t){var e=t.length;if(_(e>=2,"Invalid path "+t),2===e)return _("\x01"===t.charAt(0)&&"\x01"===t.charAt(1),"Non-empty path "+t+" had length 2"),ct.et;for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&m('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:m('Invalid encoded resource path: "'+t+'"')}o=a+2}return new ct(r)}var Hn=function(){function t(t,e,n,r){this.batchId=t,this.jn=e,this.baseMutations=n,this.mutations=r,_(r.length>0,"Cannot create an empty mutation batch")}return t.prototype.Wt=function(t,e,n){e&&_(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.rs;_(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(t)){var a=r[i];e=o.Wt(e,a)}}return e},t.prototype.Gt=function(t,e){e&&_(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=s.Gt(e,e,this.jn));for(var i=e,o=0,a=this.mutations;o<a.length;o++){var s;(s=a[o]).key.isEqual(t)&&(e=s.Gt(e,i,this.jn))}return e},t.prototype.us=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Gt(r.key,t.get(r.key));i&&(n=n.lt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Je())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&x(this.mutations,t.mutations)&&x(this.baseMutations,t.baseMutations)},t}(),Wn=function(){function t(t,e,n,r,i){this.batch=t,this.ss=e,this.rs=n,this.streamToken=r,this.os=i}return t.from=function(e,n,r,i){_(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=Qe(),a=e.mutations,s=0;s<a.length;s++)o=o.lt(a[s].key,r[s].version);return new t(e,n,r,i,o)},t}(),Gn=function(){function t(){this.hs=new mt(Yn.Bn),this.cs=new mt(Yn.as)}return t.prototype.J=function(){return this.hs.J()},t.prototype.fs=function(t,e){var n=new Yn(t,e);this.hs=this.hs.add(n),this.cs=this.cs.add(n)},t.prototype.ls=function(t,e){var n=this;t.forEach((function(t){return n.fs(t,e)}))},t.prototype.ds=function(t,e){this.vs(new Yn(t,e))},t.prototype.ws=function(t,e){var n=this;t.forEach((function(t){return n.ds(t,e)}))},t.prototype.ms=function(t){var e=this,n=pt.EMPTY,r=new Yn(n,t),i=new Yn(n,t+1),o=[];return this.cs.Lt([r,i],(function(t){e.vs(t),o.push(t.key)})),o},t.prototype.ps=function(){var t=this;this.hs.forEach((function(e){return t.vs(e)}))},t.prototype.vs=function(t){this.hs=this.hs.delete(t),this.cs=this.cs.delete(t)},t.prototype.gs=function(t){var e=pt.EMPTY,n=new Yn(e,t),r=new Yn(e,t+1),i=Je();return this.cs.Lt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.bs=function(t){var e=new Yn(t,0),n=this.hs.Mt(e);return null!==n&&t.isEqual(n.key)},t}(),Yn=function(){function t(t,e){this.key=t,this.ys=e}return t.Bn=function(t,e){return pt.G(t.key,e.key)||w(t.ys,e.ys)},t.as=function(t,e){return w(t.ys,e.ys)||pt.G(t.key,e.key)},t}(),$n=function(){function t(t){this._s=t,this.Is={}}return t.prototype.get=function(t){var e=this._s(t),n=this.Is[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(a.isEqual(t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this._s(t),r=this.Is[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.Is[n]=[[t,e]]},t.prototype.delete=function(t){var e=this._s(t),n=this.Is[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.Is[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){B(this.Is,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.J=function(){return V(this.Is)},t}(),Xn=function(){function t(t){var e=this;this.Ts=null,this.Es=null,this.result=void 0,this.error=void 0,this.Rs=!1,this.As=!1,t((function(t){e.Rs=!0,e.result=t,e.Ts&&e.Ts(t)}),(function(t){e.Rs=!0,e.error=t,e.Es&&e.Es(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.As&&m("Called next() or catch() twice for PersistencePromise"),this.As=!0,this.Rs?this.error?this.Ds(n,this.error):this.Ps(e,this.result):new t((function(t,i){r.Ts=function(n){r.Ps(e,n).next(t,i)},r.Es=function(e){r.Ds(n,e).next(t,i)}}))},t.prototype.Ss=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Cs=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Ps=function(e,n){return e?this.Cs((function(){return e(n)})):t.resolve(n)},t.prototype.Ds=function(e,n){return e?this.Cs((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.ks=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Vs=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.ks(r)},t}(),Qn=function(){function t(){this.Ns=new $n((function(t){return t.toString()})),this.Os=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return _(void 0!==this.Fs,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this.Fs},set:function(t){_(void 0===this.Fs||this.Fs.isEqual(t),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this.Fs=t},enumerable:!0,configurable:!0}),t.prototype.Us=function(t,e){this.xs(),this.readTime=e,this.Ns.set(t.key,t)},t.prototype.js=function(t,e){this.xs(),e&&(this.readTime=e),this.Ns.set(t,null)},t.prototype.Ls=function(t,e){this.xs();var n=this.Ns.get(e);return void 0!==n?Xn.resolve(n):this.Bs(t,e)},t.prototype.getEntries=function(t,e){return this.Ms(t,e)},t.prototype.apply=function(t){return this.xs(),this.Os=!0,this.qs(t)},t.prototype.xs=function(){_(!this.Os,"Changes have already been applied.")},t}(),Kn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jn=function(){function t(){this.Qs=[]}return t.prototype.Gs=function(t){this.Qs.push(t)},t.prototype.Ws=function(){this.Qs.forEach((function(t){return t()}))},t}(),Zn=function(){function e(t){this.db=t,12.2===e.zs(u.getUA())&&g("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.Ks=function(t,n,r){return _(e.Hs(),"IndexedDB not supported in current environment."),v("SimpleDb","Opening database:",t),new Xn((function(i,o){var a=window.indexedDB.open(t,n);a.onsuccess=function(t){var n=t.target.result;i(new e(n))},a.onblocked=function(){o(new A(I.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(t){var e=t.target.error;"VersionError"===e.name?o(new A(I.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o(e)},a.onupgradeneeded=function(e){v("SimpleDb",'Database "'+t+'" requires upgrade from version:',e.oldVersion);var n=e.target.result;r.createOrUpgrade(n,a.transaction,e.oldVersion,jr).next((function(){v("SimpleDb","Database upgrade to version "+jr+" complete")}))}})).Ss()},e.delete=function(t){return v("SimpleDb","Removing database:",t),rr(window.indexedDB.deleteDatabase(t)).Ss()},e.Hs=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(e.Js())return!0;if(void 0===window.navigator)return!1;var t=u.getUA(),n=e.zs(t),r=0<n&&n<10,i=e.Ys(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.Js=function(){var e;return"undefined"!=typeof t&&"YES"===(null===(e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}))||void 0===e?void 0:e.Xs)},e.$s=function(t,e){return t.store(e)},e.zs=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Ys=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Zs=function(t){this.db.onversionchange=function(e){return t(e)}},e.prototype.runTransaction=function(t,e,n){return a.__awaiter(this,void 0,void 0,(function(){var r,i,o,s,u,l;return a.__generator(this,(function(c){switch(c.label){case 0:r=t.startsWith("readonly"),i=t.endsWith("idempotent"),o=0,s=function(){var t,s,l,c;return a.__generator(this,(function(a){switch(a.label){case 0:++o,t=er.open(u.db,r?"readonly":"readwrite",e),a.label=1;case 1:return a.trys.push([1,3,,4]),(s=n(t).catch((function(e){return t.abort(e),Xn.reject(e)})).Ss()).catch((function(){})),[4,t.to];case 2:return a.sent(),[2,{value:s}];case 3:return l=a.sent(),c=i&&"FirebaseError"!==l.name&&o<3,v("SimpleDb","Transaction failed with error: %s. Retrying: %s.",l.message,c),c?[3,4]:[2,{value:Promise.reject(l)}];case 4:return[2]}}))},u=this,c.label=1;case 1:return[5,s()];case 2:return"object"==typeof(l=c.sent())?[2,l.value]:[3,1];case 3:return[2]}}))}))},e.prototype.close=function(){this.db.close()},e}(),tr=function(){function t(t){this.no=t,this.io=!1,this.eo=null}return Object.defineProperty(t.prototype,"Rs",{get:function(){return this.io},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ro",{get:function(){return this.eo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.no=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.io=!0},t.prototype.uo=function(t){this.eo=t},t.prototype.delete=function(){return rr(this.no.delete())},t}(),er=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.so=new Fn,this.transaction.oncomplete=function(){e.so.resolve()},this.transaction.onabort=function(){t.error?e.so.reject(t.error):e.so.resolve()},this.transaction.onerror=function(t){var n=or(t.target.error);e.so.reject(n)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"to",{get:function(){return this.so.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.so.reject(t),this.aborted||(v("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return _(!!e,"Object store not part of transaction: "+t),new nr(e)},t}(),nr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(v("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(v("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),rr(n)},t.prototype.add=function(t){return v("SimpleDb","ADD",this.store.name,t,t),rr(this.store.add(t))},t.prototype.get=function(t){var e=this;return rr(this.store.get(t)).next((function(n){return void 0===n&&(n=null),v("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return v("SimpleDb","DELETE",this.store.name,t),rr(this.store.delete(t))},t.prototype.count=function(){return v("SimpleDb","COUNT",this.store.name),rr(this.store.count())},t.prototype.oo=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ho(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.co=function(t,e){v("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ao=!1;var r=this.cursor(n);return this.ho(r,(function(t,e,n){return n.delete()}))},t.prototype.fo=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ho(r,e)},t.prototype.lo=function(t){var e=this.cursor({});return new Xn((function(n,r){e.onerror=function(t){var e=or(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.ho=function(t,e){var n=[];return new Xn((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new tr(i),a=e(i.primaryKey,i.value,o);if(a instanceof Xn){var s=a.catch((function(t){return o.done(),Xn.reject(t)}));n.push(s)}o.Rs?r():null===o.ro?i.continue():i.continue(o.ro)}else r()}})).next((function(){return Xn.ks(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(_(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ao?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function rr(t){return new Xn((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=or(t.target.error);n(e)}}))}var ir=!1;function or(t){var e=Zn.zs(u.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new A("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ir||(ir=!0,setTimeout((function(){throw r}),0)),r}}return t}var ar=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.do=n,this.vo=r,this.wo={}}return t.mo=function(e,n,r,i){return _(""!==e.uid,"UserID must not be an empty string."),new t(e.l()?e.uid:"",n,r,i)},t.prototype.po=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return lr(t).fo({index:zr.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.bo=function(t,e,n){return this.yo(t).next((function(e){return e.lastStreamToken=n.toBase64(),hr(t).put(e)}))},t.prototype._o=function(t){return this.yo(t).next((function(t){return De.fromBase64String(t.lastStreamToken)}))},t.prototype.Io=function(t,e){return this.yo(t).next((function(n){return n.lastStreamToken=e.toBase64(),hr(t).put(n)}))},t.prototype.To=function(t,e,n,r){var i=this,o=cr(t),a=lr(t);return a.add({}).next((function(s){_("number"==typeof s,"Auto-generated key is not a number");for(var u=new Hn(s,e,n,r),l=i.serializer.Eo(i.userId,u),c=[],h=new mt((function(t,e){return w(t.nt(),e.nt())})),f=0,p=r;f<p.length;f++){var d=p[f],v=Hr.key(i.userId,d.key.path,s);h=h.add(d.key.path.H()),c.push(a.put(l)),c.push(o.put(v,Hr.PLACEHOLDER))}return h.forEach((function(e){c.push(i.do.Ro(t,e))})),t.Gs((function(){i.wo[s]=u.keys()})),Xn.ks(c).next((function(){return u}))}))},t.prototype.Ao=function(t,e){var n=this;return lr(t).get(e).next((function(t){return t?(_(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.Do(t)):null}))},t.prototype.Po=function(t,e){var n=this;return this.wo[e]?Xn.resolve(this.wo[e]):this.Ao(t,e).next((function(t){if(t){var r=t.keys();return n.wo[e]=r,r}return null}))},t.prototype.So=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return lr(t).fo({index:zr.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(_(e.batchId>=r,"Should have found mutation after "+r),o=n.serializer.Do(e)),i.done()})).next((function(){return o}))},t.prototype.Co=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return lr(t).fo({index:zr.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.ko=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return lr(t).oo(zr.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.Do(t)}))}))},t.prototype.Vo=function(t,e){var n=this,r=Hr.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return cr(t).fo({range:i},(function(r,i,a){var s=r[0],u=r[1],l=r[2],c=zn(u);if(s===n.userId&&e.path.isEqual(c))return lr(t).get(l).next((function(t){if(!t)throw m("Dangling document-mutation reference found: "+r+" which points to "+l);_(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+l),o.push(n.serializer.Do(t))}));a.done()})).next((function(){return o}))},t.prototype.No=function(t,e){var n=this,r=new mt(w),i=[];return e.forEach((function(e){var o=Hr.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=cr(t).fo({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],l=zn(s);a===n.userId&&e.path.isEqual(l)?r=r.add(u):o.done()}));i.push(s)})),Xn.ks(i).next((function(){return n.Oo(t,r)}))},t.prototype.Fo=function(t,e){var n=this;_(!e.zn(),"Document queries shouldn't go down this path"),_(!e._i(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=e.path,i=r.length+1,o=Hr.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new mt(w);return cr(t).fo({range:a},(function(t,e,o){var a=t[0],u=t[1],l=t[2],c=zn(u);a===n.userId&&r.$(c)?c.length===i&&(s=s.add(l)):o.done()})).next((function(){return n.Oo(t,s)}))},t.prototype.Oo=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(lr(t).get(e).next((function(t){if(null===t)throw m("Dangling document-mutation reference found, which points to "+e);_(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.Do(t))})))})),Xn.ks(i).next((function(){return r}))},t.prototype.Uo=function(t,e){var n=this;return ur(t.xo,this.userId,e).next((function(r){return t.Gs((function(){n.jo(e.batchId)})),Xn.forEach(r,(function(e){return n.vo.Lo(t,e)}))}))},t.prototype.jo=function(t){delete this.wo[t]},t.prototype.Bo=function(t){var e=this;return this.po(t).next((function(n){if(!n)return Xn.resolve();var r=IDBKeyRange.lowerBound(Hr.prefixForUser(e.userId)),i=[];return cr(t).fo({range:r},(function(t,n,r){if(t[0]===e.userId){var o=zn(t[1]);i.push(o)}else r.done()})).next((function(){_(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map((function(t){return t.nt()})))}))}))},t.prototype.bs=function(t,e){return sr(t,this.userId,e)},t.prototype.yo=function(t){var e=this;return hr(t).get(this.userId).next((function(t){return t||new qr(e.userId,-1,"")}))},t}();function sr(t,e,n){var r=Hr.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return cr(t).fo({range:o,ao:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function ur(t,e,n){var r=t.store(zr.store),i=t.store(Hr.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.fo({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){_(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var f=h[c],p=Hr.key(e,f.key.path,n.batchId);o.push(i.delete(p)),l.push(f.key)}return Xn.ks(o).next((function(){return l}))}function lr(t){return ci.$s(t,zr.store)}function cr(t){return ci.$s(t,Hr.store)}function hr(t){return ci.$s(t,qr.store)}var fr,pr;(pr=fr||(fr={}))[pr.Mo=0]="__PRIVATE_QueryCache",pr[pr.qo=1]="__PRIVATE_SyncEngine";var dr=function(){function t(t,e){this.Qo=t,_((1&t)===t,"Generator ID "+t+" contains more than 1 reserved bits"),this.Go(void 0!==e?e:this.Qo)}return t.prototype.next=function(){var t=this.Wo;return this.Wo+=2,t},t.prototype.after=function(t){return this.Go(t+2),this.next()},t.prototype.Go=function(t){_((1&t)===this.Qo,"Cannot supply target ID from different generator ID"),this.Wo=t},t.zo=function(){return new t(fr.Mo,2)},t.Ko=function(){return new t(fr.qo)},t}(),vr=function(){function t(t,e,n){this.Ho=t,this.Jo=e,this.do=n}return t.prototype.Yo=function(t,e){var n=this;return this.Jo.Vo(t,e).next((function(r){return n.Xo(t,e,r)}))},t.prototype.Xo=function(t,e,n){return this.Ho.Ls(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Gt(e,t);return t}))},t.prototype.$o=function(t,e,n){var r=Ge();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Gt(t,e);r=r.lt(t,e)})),r},t.prototype.Zo=function(t,e){var n=this;return this.Ho.getEntries(t,e).next((function(e){return n.th(t,e)}))},t.prototype.th=function(t,e){var n=this;return this.Jo.No(t,e).next((function(r){var i=n.$o(t,e,r),o=We();return i.forEach((function(t,e){e||(e=new ae(t,ut.B())),o=o.lt(t,e)})),o}))},t.prototype.nh=function(t,e,n){return e.zn()?this.ih(t,e.path):e._i()?this.eh(t,e,n):this.rh(t,e,n)},t.prototype.ih=function(t,e){return this.Yo(t,new pt(e)).next((function(t){var e=$e();return t instanceof oe&&(e=e.lt(t.key,t)),e}))},t.prototype.eh=function(t,e,n){var r=this;_(e.path.J(),"Currently we only support collection group queries at the root.");var i=e.collectionGroup,o=$e();return this.do.uh(t,i).next((function(a){return Xn.forEach(a,(function(a){var s=e.ai(a.child(i));return r.rh(t,s,n).next((function(t){t.forEach((function(t,e){o=o.lt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.rh=function(t,e,n){var r,i,o=this;return this.Ho.nh(t,e,n).next((function(n){return r=n,o.Jo.Fo(t,e)})).next((function(e){return i=e,o.sh(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],l=u.key,c=r.get(l),h=u.Gt(c,c,o.jn);r=h instanceof oe?r.lt(l,h):r.remove(l)}}))})).next((function(){return r.forEach((function(t,n){e.matches(n)||(r=r.remove(t))})),r}))},t.prototype.sh=function(t,e,n){for(var r=Je(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Ft&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.Ho.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof oe&&(l=l.lt(t,e))})),l}))},t}(),gr=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.oh=n,this.hh=r}return t.ah=function(e,n){for(var r=Je(),i=Je(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case en.Bi:r=r.add(s.doc.key);break;case en.Mi:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),yr="LocalStore",mr=function(){function t(t,e,n){this.persistence=t,this.fh=e,this.lh=new Gn,this.dh=new dt(w),this.vh=new $n((function(t){return t.canonicalId()})),this.wh=ut.MIN,_(t.mh,"LocalStore was passed an unstarted persistence implementation"),this.persistence.vo.ph(this.lh),this.Jo=t.gh(n),this.bh=t.yh(),this._h=t.Ih(),this.Th=new vr(this.bh,this.Jo,this.persistence.Eh()),this.fh.Rh(this.Th)}return t.prototype.start=function(){return this.Ah()},t.prototype.Dh=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e,n,r,i=this;return a.__generator(this,(function(o){switch(o.label){case 0:return e=this.Jo,n=this.Th,[4,this.persistence.runTransaction("Handle user change","readonly-idempotent",(function(r){var o;return i.Jo.ko(r).next((function(a){return o=a,e=i.persistence.gh(t),n=new vr(i.bh,e,i.persistence.Eh()),e.ko(r)})).next((function(t){for(var e=[],i=[],a=Je(),s=0,u=o;s<u.length;s++){var l=u[s];e.push(l.batchId);for(var c=0,h=l.mutations;c<h.length;c++){var f=h[c];a=a.add(f.key)}}for(var p=0,d=t;p<d.length;p++){l=d[p],i.push(l.batchId);for(var v=0,g=l.mutations;v<g.length;v++)f=g[v],a=a.add(f.key)}return n.Zo(r,a).next((function(t){return{Ph:t,Sh:e,Ch:i}}))}))}))];case 1:return r=o.sent(),this.Jo=e,this.Th=n,this.fh.Rh(this.Th),[2,r]}}))}))},t.prototype.kh=function(t){var e,n=this,r=st.now(),i=t.reduce((function(t,e){return t.add(e.key)}),Je());return this.persistence.runTransaction("Locally write mutations","readwrite-idempotent",(function(o){return n.Th.Zo(o,i).next((function(i){e=i;for(var a=[],s=0,u=t;s<u.length;s++){var l=u[s],c=l.sn(e.get(l.key));null!=c&&a.push(new Ft(l.key,c,c.on(),Dt.exists(!0)))}return n.Jo.To(o,r,a,t)}))})).then((function(t){var n=t.us(e);return{batchId:t.batchId,Ns:n}}))},t.prototype.Vh=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly-idempotent",(function(n){return e.Jo.Po(n,t).next((function(t){return t?e.Th.Zo(n,t):Xn.resolve(null)}))}))},t.prototype.bo=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary-idempotent",(function(n){var r=t.batch.keys(),i=e.bh.Nh({Oh:!0});return e.Jo.bo(n,t.batch,t.streamToken).next((function(){return e.Fh(n,t,i)})).next((function(){return i.apply(n)})).next((function(){return e.Jo.Bo(n)})).next((function(){return e.Th.Zo(n,r)}))}))},t.prototype.Uh=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary-idempotent",(function(n){var r;return e.Jo.Ao(n,t).next((function(t){return _(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.Jo.Uo(n,t)})).next((function(){return e.Jo.Bo(n)})).next((function(){return e.Th.Zo(n,r)}))}))},t.prototype.Co=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly-idempotent",(function(e){return t.Jo.Co(e)}))},t.prototype._o=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly-idempotent",(function(e){return t.Jo._o(e)}))},t.prototype.Io=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary-idempotent",(function(n){return e.Jo.Io(n,t)}))},t.prototype.xh=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly-idempotent",(function(e){return t._h.xh(e)}))},t.prototype.jh=function(e){var n=this,r=e.Ni,i=this.dh;return this.persistence.runTransaction("Apply remote event","readwrite-primary-idempotent",(function(o){var a=n.bh.Nh({Oh:!0});i=n.dh;var s=[];j(e.Zi,(function(e,a){var u=i.get(e);if(u){s.push(n._h.Lh(o,a.he,e).next((function(){return n._h.Bh(o,a.se,e)})));var l=a.resumeToken;if(l.Nn()>0){var c=u.Fi(l,r).Oi(o.Mh);i=i.lt(e,c),t.qh(u,c,a)&&s.push(n._h.Qh(o,c))}}}));var u=We(),l=Je();if(e.ne.forEach((function(t,e){l=l.add(t)})),s.push(a.getEntries(o,l).next((function(t){e.ne.forEach((function(i,l){var c=t.get(i);l instanceof ae&&l.version.isEqual(ut.MIN)?(a.js(i,r),u=u.lt(i,l)):null==c||l.version.h(c.version)>0||0===l.version.h(c.version)&&c.hasPendingWrites?(_(!ut.MIN.isEqual(r),"Cannot add a document when the remote version is zero"),a.Us(l,r),u=u.lt(i,l)):v(yr,"Ignoring outdated watch update for ",i,". Current version:",c.version," Watch version:",l.version),e.ie.has(i)&&s.push(n.persistence.vo.Gh(o,i))}))}))),!r.isEqual(ut.MIN)){var c=n._h.xh(o).next((function(t){return _(r.h(t)>=0,"Watch stream reverted to previous snapshot?? "+r+" < "+t),n._h.Wh(o,o.Mh,r)}));s.push(c)}return Xn.ks(s).next((function(){return a.apply(o)})).next((function(){return n.Th.th(o,u)}))})).then((function(t){return n.dh=i,t}))},t.qh=function(t,e,n){return _(e.resumeToken.Nn()>0,"Attempted to persist target data with no resume token"),0===t.resumeToken.Nn()||e.Ni.M()-t.Ni.M()>=this.zh||n.se.size+n.oe.size+n.he.size>0},t.prototype.Kh=function(t){for(var e=this,n=0,r=t;n<r.length;n++){var i=r[n],o=i.targetId;if(this.lh.ls(i.oh,o),this.lh.ws(i.hh,o),!i.fromCache){var a=this.dh.get(o);_(null!==a,"Can't set limbo-free snapshot version for unknown target: "+o);var s=a.Ni,u=a.Ui(s);this.dh=this.dh.lt(o,u)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite-idempotent",(function(n){return Xn.forEach(t,(function(t){return Xn.forEach(t.hh,(function(t){return e.persistence.vo.ds(n,t)}))}))}))},t.prototype.Hh=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly-idempotent",(function(n){return void 0===t&&(t=-1),e.Jo.So(n,t)}))},t.prototype.Jh=function(t){var e=this;return this.persistence.runTransaction("read document","readonly-idempotent",(function(n){return e.Th.Yo(n,t)}))},t.prototype.Yh=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite-idempotent",(function(n){var r;return e._h.Xh(n,t).next((function(i){return i?(r=i,Xn.resolve(r)):e._h.$h(n).next((function(i){return r=new Be(t,i,Oe.Si,n.Mh),e._h.Zh(n,r).next((function(){return r}))}))}))})).then((function(n){return null===e.dh.get(n.targetId)&&(e.dh=e.dh.lt(n.targetId,n),e.vh.set(t,n.targetId)),n}))},t.prototype.Xh=function(t,e){var n=this.vh.get(e);return void 0!==n?Xn.resolve(this.dh.get(n)):this._h.Xh(t,e)},t.prototype.tc=function(t,e){var n=this,r=this.dh.get(t);_(null!==r,"Tried to release nonexistent target: "+t);var i=e?"readwrite-idempotent":"readwrite-primary-idempotent";return this.persistence.runTransaction("Release target",i,(function(i){var o=n.lh.ms(t);return e?Xn.resolve():Xn.forEach(o,(function(t){return n.persistence.vo.ds(i,t)})).next((function(){n.persistence.vo.removeTarget(i,r)}))})).then((function(){n.dh=n.dh.remove(t),n.vh.delete(r.target)}))},t.prototype.nc=function(t,e){var n=this,r=ut.MIN,i=Je();return this.persistence.runTransaction("Execute query","readonly-idempotent",(function(o){return n.Xh(o,t.li()).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n._h.ic(o,t.targetId).next((function(t){i=t}))})).next((function(){return n.fh.nh(o,t,e?r:ut.MIN,e?i:Je())})).next((function(t){return{documents:t,ec:i}}))}))},t.prototype.rc=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly-idempotent",(function(n){return e._h.ic(n,t)}))},t.prototype.uc=function(){return this.persistence.uc()},t.prototype.sc=function(t){this.Jo.jo(t)},t.prototype.oc=function(t){this.persistence.oc(t)},t.prototype.Fh=function(t,e,n){var r=this,i=e.batch,o=i.keys(),a=Xn.resolve();return o.forEach((function(r){a=a.next((function(){return n.Ls(t,r)})).next((function(t){var o=t,a=e.os.get(r);_(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.h(a)<0)&&((o=i.Wt(r,o,e))?n.Us(o,e.ss):_(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))}))})),a.next((function(){return r.Jo.Uo(t,i)}))},t.prototype.hc=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary-idempotent",(function(n){return t.cc(n,e.dh)}))},t.prototype.ac=function(t){var e=this,n=this.dh.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly-idempotent",(function(n){return e._h.Ye(n,t).next((function(t){return t?t.target:null}))}))},t.prototype.fc=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly-idempotent",(function(e){return t.bh.fc(e,t.wh)})).then((function(e){var n=e.lc,r=e.readTime;return t.wh=r,n}))},t.prototype.Ah=function(){return a.__awaiter(this,void 0,void 0,(function(){var t,e=this;return a.__generator(this,(function(n){switch(n.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly-idempotent",(function(t){return e.bh.dc(t)}))];case 1:return t.wh=n.sent(),[2]}}))}))},t.zh=3e8,t}();function _r(t){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){if(t.code!==I.FAILED_PRECONDITION||t.message!==Kn)throw t;return v(yr,"Unexpectedly lost primary lease"),[2]}))}))}function br(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=w(n,i);return 0===a?w(r,o):a}var wr=function(){function t(t){this.vc=t,this.buffer=new mt(br),this.wc=0}return t.prototype.mc=function(){return++this.wc},t.prototype.pc=function(t){var e=[t,this.mc()];if(this.buffer.size<this.vc)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();br(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),xr={gc:!1,bc:0,yc:0,_c:0},Er=function(){function t(t,e,n){this.Ic=t,this.Tc=e,this.Ec=n}return t.Rc=function(e){return new t(e,t.Ac,t.Dc)},t.Pc=-1,t.Sc=1048576,t.Cc=41943040,t.Ac=10,t.Dc=1e3,t.kc=new t(t.Cc,t.Ac,t.Dc),t.DISABLED=new t(t.Pc,0,0),t}(),Sr=function(){function t(t,e,n){this.Vc=t,this.Pu=e,this.Nc=n,this.Oc=!1,this.Fc=null}return t.prototype.start=function(){_(null===this.Fc,"Cannot start an already started LruScheduler"),this.Vc.params.Ic!==Er.Pc&&this.Uc()},t.prototype.stop=function(){this.Fc&&(this.Fc.cancel(),this.Fc=null)},Object.defineProperty(t.prototype,"mh",{get:function(){return null!==this.Fc},enumerable:!0,configurable:!0}),t.prototype.Uc=function(){var t=this;_(null===this.Fc,"Cannot schedule GC while a task is pending");var e=this.Oc?3e5:6e4;v("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.Fc=this.Pu.Yu(On.Au,e,(function(){return t.Fc=null,t.Oc=!0,t.Nc.hc(t.Vc).then((function(){return t.Uc()})).catch(_r)}))},t}(),Cr=function(){function t(t,e){this.xc=t,this.params=e}return t.prototype.jc=function(t,e){return this.xc.Lc(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Bc=function(t,e){var n=this;if(0===e)return Xn.resolve(Ln.gu);var r=new wr(e);return this.xc.Le(t,(function(t){return r.pc(t.sequenceNumber)})).next((function(){return n.xc.Mc(t,(function(t){return r.pc(t)}))})).next((function(){return r.maxValue}))},t.prototype.qc=function(t,e,n){return this.xc.qc(t,e,n)},t.prototype.Qc=function(t,e){return this.xc.Qc(t,e)},t.prototype.cc=function(t,e){var n=this;return this.params.Ic===Er.Pc?(v("LruGarbageCollector","Garbage collection skipped; disabled"),Xn.resolve(xr)):this.Gc(t).next((function(r){return r<n.params.Ic?(v("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Ic),xr):n.Wc(t,e)}))},t.prototype.Gc=function(t){return this.xc.Gc(t)},t.prototype.Wc=function(t,e){var n,r,o,a,s,u,l,c=this,h=Date.now();return this.jc(t,this.params.Tc).next((function(e){return e>c.params.Ec?(v("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Ec+" from "+e),r=c.params.Ec):r=e,a=Date.now(),c.Bc(t,r)})).next((function(r){return n=r,s=Date.now(),c.qc(t,n,e)})).next((function(e){return o=e,u=Date.now(),c.Qc(t,n)})).next((function(t){return l=Date.now(),p()<=i.DEBUG&&v("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+o+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(l-u)+"ms\nTotal Duration: "+(l-h)+"ms"),Xn.resolve({gc:!0,bc:r,yc:o,_c:t})}))},t}(),kr=function(){function t(t,e){this.vo=t,this.serializer=e,this.zc=dr.zo()}return t.prototype.$h=function(t){var e=this;return this.Kc(t).next((function(n){return n.highestTargetId=e.zc.after(n.highestTargetId),e.Hc(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.xh=function(t){return this.Kc(t).next((function(t){return ut.L(new st(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Jc=function(t){return Ar(t.xo)},t.prototype.Wh=function(t,e,n){var r=this;return this.Kc(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.q()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Hc(t,i)}))},t.prototype.Zh=function(t,e){var n=this;return this.Yc(t,e).next((function(){return n.Kc(t).next((function(r){return r.targetCount+=1,n.Xc(e,r),n.Hc(t,r)}))}))},t.prototype.Qh=function(t,e){return this.Yc(t,e)},t.prototype.$c=function(t,e){var n=this;return this.Zc(t,e.targetId).next((function(){return Tr(t).delete(e.targetId)})).next((function(){return n.Kc(t)})).next((function(e){return _(e.targetCount>0,"Removing from an empty target cache"),e.targetCount-=1,n.Hc(t,e)}))},t.prototype.qc=function(t,e,n){var r=this,i=0,o=[];return Tr(t).fo((function(a,s){var u=r.serializer.ta(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.$c(t,u)))})).next((function(){return Xn.ks(o)})).next((function(){return i}))},t.prototype.Le=function(t,e){var n=this;return Tr(t).fo((function(t,r){var i=n.serializer.ta(r);e(i)}))},t.prototype.Kc=function(t){return Ir(t.xo)},t.prototype.Hc=function(t,e){return(n=t,ci.$s(n,Kr.store)).put(Kr.key,e);var n},t.prototype.Yc=function(t,e){return Tr(t).put(this.serializer.na(e))},t.prototype.Xc=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.ia=function(t){return this.Kc(t).next((function(t){return t.targetCount}))},t.prototype.Xh=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Tr(t).fo({range:i,index:Xr.queryTargetsIndexName},(function(t,r,i){var a=n.serializer.ta(r);e.isEqual(a.target)&&(o=a,i.done())})).next((function(){return o}))},t.prototype.Bh=function(t,e,n){var r=this,i=[],o=Mr(t);return e.forEach((function(e){var a=Vn(e.path);i.push(o.put(new Qr(n,a))),i.push(r.vo.fs(t,e))})),Xn.ks(i)},t.prototype.Lh=function(t,e,n){var r=this,i=Mr(t);return Xn.forEach(e,(function(e){var o=Vn(e.path);return Xn.ks([i.delete([n,o]),r.vo.ds(t,e)])}))},t.prototype.Zc=function(t,e){var n=Mr(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ic=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Mr(t),i=Je();return r.fo({range:n,ao:!0},(function(t,e,n){var r=zn(t[1]),o=new pt(r);i=i.add(o)})).next((function(){return i}))},t.prototype.bs=function(t,e){var n=Vn(e.path),r=IDBKeyRange.bound([n],[E(n)],!1,!0),i=0;return Mr(t).fo({index:Qr.documentTargetsIndex,ao:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ye=function(t,e){var n=this;return Tr(t).get(e).next((function(t){return t?n.serializer.ta(t):null}))},t}();function Tr(t){return ci.$s(t,Xr.store)}function Ir(t){return Zn.$s(t,Kr.store).get(Kr.key).next((function(t){return _(null!==t,"Missing metadata row."),t}))}function Ar(t){return Ir(t).next((function(t){return t.highestListenSequenceNumber}))}function Mr(t){return ci.$s(t,Qr.store)}var Pr=function(){function t(t,e){this.serializer=t,this.do=e}return t.prototype.Us=function(t,e,n){return Nr(t).put(Dr(e),n)},t.prototype.js=function(t,e){var n=Nr(t),r=Dr(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.ea(t,r)}))},t.prototype.Ls=function(t,e){var n=this;return Nr(t).get(Dr(e)).next((function(t){return n.ra(t)}))},t.prototype.ua=function(t,e){var n=this;return Nr(t).get(Dr(e)).next((function(t){var e=n.ra(t);return e?{sa:e,size:Rr(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Ge();return this.oa(t,e,(function(t,e){var i=n.ra(e);r=r.lt(t,i)})).next((function(){return r}))},t.prototype.ha=function(t,e){var n=this,r=Ge(),i=new dt(pt.G);return this.oa(t,e,(function(t,e){var o=n.ra(e);o?(r=r.lt(t,o),i=i.lt(t,Rr(e))):(r=r.lt(t,null),i=i.lt(t,0))})).next((function(){return{ca:r,aa:i}}))},t.prototype.oa=function(t,e,n){if(e.J())return Xn.resolve();var r=IDBKeyRange.bound(e.first().path.tt(),e.last().path.tt()),i=e.bt(),o=i.Rt();return Nr(t).fo({range:r},(function(t,e,r){for(var a=pt.at(t);o&&pt.G(o,a)<0;)n(o,null),o=i.Rt();o&&o.isEqual(a)&&(n(o,e),o=i.At()?i.Rt():null),o?r.uo(o.path.tt()):r.done()})).next((function(){for(;o;)n(o,null),o=i.At()?i.Rt():null}))},t.prototype.nh=function(t,e,n){var r=this;_(!e._i(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=$e(),o=e.path.length+1,a={};if(n.isEqual(ut.MIN)){var s=e.path.tt();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.tt(),l=this.serializer.fa(n);a.range=IDBKeyRange.lowerBound([u,l],!0),a.index=Yr.collectionReadTimeIndex}return Nr(t).fo(a,(function(t,n,a){if(t.length===o){var s=r.serializer.la(n);e.path.$(s.key.path)?s instanceof oe&&e.matches(s)&&(i=i.lt(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.fc=function(t,e){var n=this,r=We(),i=this.serializer.fa(e),o=Nr(t),a=IDBKeyRange.lowerBound(i,!0);return o.fo({index:Yr.readTimeIndex,range:a},(function(t,e){var o=n.serializer.la(e);r=r.lt(o.key,o),i=e.readTime})).next((function(){return{lc:r,readTime:n.serializer.da(i)}}))},t.prototype.dc=function(t){var e=this,n=Nr(t),r=ut.MIN;return n.fo({index:Yr.readTimeIndex,reverse:!0},(function(t,n,i){n.readTime&&(r=e.serializer.da(n.readTime)),i.done()})).next((function(){return r}))},t.prototype.Nh=function(e){return new t.va(this,!!e&&e.Oh)},t.prototype.wa=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Or(t).get($r.key).next((function(t){return _(!!t,"Missing document cache metadata"),t}))},t.prototype.ea=function(t,e){return Or(t).put($r.key,e)},t.prototype.ra=function(t){if(t){var e=this.serializer.la(t);return e instanceof ae&&e.version.isEqual(ut.B())?null:e}return null},t.va=function(t){function e(e,n){var r=t.call(this)||this;return r.ma=e,r.Oh=n,r.pa=new $n((function(t){return t.toString()})),r}return a.__extends(e,t),e.prototype.qs=function(t){var e=this,n=[],r=0,i=new mt((function(t,e){return w(t.nt(),e.nt())}));return this.Ns.forEach((function(o,a){var s=e.pa.get(o);if(_(void 0!==s,"Cannot modify a document that wasn't read (for "+o+")"),a){_(!e.readTime.isEqual(ut.MIN),"Cannot add a document with a read time of zero");var u=e.ma.serializer.ga(a,e.readTime);i=i.add(o.path.H());var l=Rr(u);r+=l-s,n.push(e.ma.Us(t,o,u))}else if(r-=s,e.Oh){var c=e.ma.serializer.ga(new ae(o,ut.B()),e.readTime);n.push(e.ma.Us(t,o,c))}else n.push(e.ma.js(t,o))})),i.forEach((function(r){n.push(e.ma.do.Ro(t,r))})),n.push(this.ma.updateMetadata(t,r)),Xn.ks(n)},e.prototype.Bs=function(t,e){var n=this;return this.ma.ua(t,e).next((function(t){return null===t?(n.pa.set(e,0),null):(n.pa.set(e,t.size),t.sa)}))},e.prototype.Ms=function(t,e){var n=this;return this.ma.ha(t,e).next((function(t){var e=t.ca;return t.aa.forEach((function(t,e){n.pa.set(t,e)})),e}))},e}(Qn),t}();function Or(t){return ci.$s(t,$r.store)}function Nr(t){return ci.$s(t,Yr.store)}function Dr(t){return t.path.tt()}function Rr(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw m("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var Lr=function(){function t(){this.ba=new Fr}return t.prototype.Ro=function(t,e){return this.ba.add(e),Xn.resolve()},t.prototype.uh=function(t,e){return Xn.resolve(this.ba.getEntries(e))},t}(),Fr=function(){function t(){this.index={}}return t.prototype.add=function(t){_(t.length%2==1,"Expected a collection path.");var e=t.X(),n=t.H(),r=this.index[e]||new mt(ct.G),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.X(),n=t.H(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new mt(ct.G)).tt()},t}(),jr=9,Br=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;_(n<r&&n>=0&&r<=jr,"Unexpected schema upgrade from v"+n+" to v{toVersion}.");var o=new er(e);n<1&&r>=1&&(function(t){t.createObjectStore(Ur.store)}(t),function(t){t.createObjectStore(qr.store,{keyPath:qr.keyPath}),t.createObjectStore(zr.store,{keyPath:zr.keyPath,autoIncrement:!0}).createIndex(zr.userMutationsIndex,zr.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Hr.store)}(t),Zr(t),function(t){t.createObjectStore(Yr.store)}(t));var a=Xn.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Qr.store),t.deleteObjectStore(Xr.store),t.deleteObjectStore(Kr.store)}(t),Zr(t)),a=a.next((function(){return function(t){var e=t.store(Kr.store),n=new Kr(0,0,ut.MIN.q(),0);return e.put(Kr.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(zr.store).oo().next((function(n){t.deleteObjectStore(zr.store),t.createObjectStore(zr.store,{keyPath:zr.keyPath,autoIncrement:!0}).createIndex(zr.userMutationsIndex,zr.userMutationsKeyPath,{unique:!0});var r=e.store(zr.store),i=n.map((function(t){return r.put(t)}));return Xn.ks(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(ti.store,{keyPath:ti.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore($r.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Yr.store);e.createIndex(Yr.readTimeIndex,Yr.readTimeIndexPath,{unique:!1}),e.createIndex(Yr.collectionReadTimeIndex,Yr.collectionReadTimeIndexPath,{unique:!1})}(e)}))),a},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Yr.store).fo((function(t,n){e+=Rr(n)})).next((function(){var n=new $r(e);return t.store($r.store).put($r.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(qr.store),r=t.store(zr.store);return n.oo().next((function(n){return Xn.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.oo(zr.userMutationsIndex,i).next((function(r){return Xn.forEach(r,(function(r){_(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.Do(r);return ur(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Qr.store),n=t.store(Yr.store);return Ar(t).next((function(t){var r=[];return n.fo((function(n,i){var o=new ct(n),a=function(t){return[0,Vn(t)]}(o);r.push(e.get(a).next((function(n){return n?Xn.resolve():function(n){return e.put(new Qr(0,Vn(n),t))}(o)})))})).next((function(){return Xn.ks(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Jr.store,{keyPath:Jr.keyPath});var n=e.store(Jr.store),r=new Fr,i=function(t){if(r.add(t)){var e=t.X(),i=t.H();return n.put({collectionId:e,parent:Vn(i)})}};return e.store(Yr.store).fo({ao:!0},(function(t,e){var n=new ct(t);return i(n.H())})).next((function(){return e.store(Hr.store).fo({ao:!0},(function(t,e){t[0];var n=t[1],r=(t[2],zn(n));return i(r.H())}))}))},t}(),Vr=function(t,e){this.seconds=t,this.nanoseconds=e},Ur=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),qr=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),zr=function(){function t(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),Hr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Vn(e)]},t.key=function(t,e,n){return[t,Vn(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),Wr=function(t,e){this.path=t,this.readTime=e},Gr=function(t,e){this.path=t,this.version=e},Yr=function(){function t(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o}return t.store="remoteDocuments",t.readTimeIndex="readTimeIndex",t.readTimeIndexPath="readTime",t.collectionReadTimeIndex="collectionReadTimeIndex",t.collectionReadTimeIndexPath=["parentPath","readTime"],t}(),$r=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),Xr=function(){function t(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),Qr=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,_(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),Kr=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),Jr=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function Zr(t){t.createObjectStore(Qr.store,{keyPath:Qr.keyPath}).createIndex(Qr.documentTargetsIndex,Qr.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Xr.store,{keyPath:Xr.keyPath}).createIndex(Xr.queryTargetsIndexName,Xr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Kr.store)}var ti=function(){function t(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}return t.store="clientMetadata",t.keyPath="clientId",t}(),ei=[qr.store,zr.store,Hr.store,Yr.store,Xr.store,Ur.store,Kr.store,Qr.store],ni=a.__spreadArrays(ei,[ti.store]),ri=a.__spreadArrays(ni,[$r.store]),ii=a.__spreadArrays(ri,[Jr.store]),oi=function(){function t(){this.ya=new Fr}return t.prototype.Ro=function(t,e){var n=this;if(_(e.length%2==1,"Expected a collection path."),!this.ya.has(e)){var r=e.X(),i=e.H();t.Gs((function(){n.ya.add(e)}));var o={collectionId:r,parent:Vn(i)};return ai(t).put(o)}return Xn.resolve()},t.prototype.uh=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[E(e),""],!1,!0);return ai(t).oo(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(zn(o.parent))}return n}))},t}();function ai(t){return ci.$s(t,Jr.store)}var si=function(){function t(t){this._a=t}return t.prototype.la=function(t){if(t.document)return this._a.Er(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=pt.at(t.noDocument.path),n=this.Ia(t.noDocument.readTime);return new ae(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=pt.at(t.unknownDocument.path),n=this.Ia(t.unknownDocument.version),new se(e,n)):m("Unexpected DbRemoteDocument")},t.prototype.ga=function(t,e){var n=this.fa(e),r=t.key.path.H().tt();if(t instanceof oe){var i=t.proto?t.proto:this._a.Tr(t),o=t.hasCommittedMutations;return new Yr(null,null,i,o,n,r)}if(t instanceof ae){var a=t.key.path.tt(),s=this.Ta(t.version);return o=t.hasCommittedMutations,new Yr(null,new Wr(a,s),null,o,n,r)}if(t instanceof se){a=t.key.path.tt();var u=this.Ta(t.version);return new Yr(new Gr(a,u),null,null,!0,n,r)}return m("Unexpected MaybeDocument")},t.prototype.fa=function(t){var e=t.q();return[e.seconds,e.nanoseconds]},t.prototype.da=function(t){var e=new st(t[0],t[1]);return ut.L(e)},t.prototype.Ta=function(t){var e=t.q();return new Vr(e.seconds,e.nanoseconds)},t.prototype.Ia=function(t){var e=new st(t.seconds,t.nanoseconds);return ut.L(e)},t.prototype.Eo=function(t,e){var n=this,r=e.baseMutations.map((function(t){return n._a.Nr(t)})),i=e.mutations.map((function(t){return n._a.Nr(t)}));return new zr(t,e.batchId,e.jn.toMillis(),r,i)},t.prototype.Do=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e._a.xr(t)})),r=t.mutations.map((function(t){return e._a.xr(t)})),i=st.fromMillis(t.localWriteTimeMs);return new Hn(t.batchId,i,n,r)},t.prototype.Ea=function(t){var e=[];return t.forEach((function(t){e.push(Vn(t.path))})),e},t.prototype.Ra=function(t){for(var e=Je(),n=0,r=t;n<r.length;n++){var i=r[n];e=e.add(new pt(zn(i)))}return e},t.prototype.ta=function(t){var e,n=this.Ia(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?this.Ia(t.lastLimboFreeSnapshotVersion):ut.MIN;return e=void 0!==t.query.documents?this._a.Gr(t.query):this._a.Jr(t.query),new Be(e,t.targetId,Oe.Si,t.lastListenSequenceNumber,n,r,De.fromBase64String(t.resumeToken))},t.prototype.na=function(t){_(Oe.Si===t.Vi,"Only queries with purpose "+Oe.Si+" may be stored, got "+t.Vi);var e,n=this.Ta(t.Ni),r=this.Ta(t.lastLimboFreeSnapshotVersion);e=t.target.zn()?this._a.Qr(t.target):this._a.Wr(t.target);var i=t.resumeToken.toBase64();return new Xr(t.targetId,t.target.canonicalId(),n,i,t.sequenceNumber,r,e)},t}(),ui="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",li=function(t){function e(e,n){var r=t.call(this)||this;return r.xo=e,r.Mh=n,r}return a.__extends(e,t),e}(Jn),ci=function(){function t(e,n,r,i,o,a,s,u){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Aa=a,this.Da=u,this.Pa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Sa=null,this.inForeground=!1,this.Ca=null,this.ka=null,this.Va=Number.NEGATIVE_INFINITY,this.Na=function(t){return Promise.resolve()},this.vo=new pi(this,o),this.Oa=n+t.Fa,this.serializer=new si(s),this.document=i.document,this._h=new kr(this.vo,this.serializer),this.do=new oi,this.Ho=new Pr(this.serializer,this.do),!i.window||!i.window.localStorage)throw new A(I.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.Ua=this.window.localStorage}return t.$s=function(t,e){if(t instanceof li)return Zn.$s(t.xo,e);throw m("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.xa=function(e){return a.__awaiter(this,void 0,void 0,(function(){var n;return a.__generator(this,(function(r){switch(r.label){case 0:if(!t.Hs())throw new A(I.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(n=new t(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.ja,e.Aa,e.serializer,e.Da)).start()];case 1:return r.sent(),[2,n]}}))}))},t.prototype.start=function(){var t=this;return _(!this.mh,"IndexedDbPersistence double-started!"),_(null!==this.window,"Expected 'window' to be defined"),Zn.Ks(this.Oa,jr,new Br(this.serializer)).then((function(e){return t.La=e,t.Ba()})).then((function(){return t.Ma(),t.qa(),t.Qa(),t.La.runTransaction("readonly-idempotent",[Kr.store],(function(t){return Ar(t)}))})).then((function(e){t.Ga=new Ln(e,t.Da)})).then((function(){t.Pa=!0})).catch((function(e){return t.La&&t.La.close(),Promise.reject(e)}))},t.prototype.Wa=function(t){var e=this;return this.Na=function(n){return a.__awaiter(e,void 0,void 0,(function(){return a.__generator(this,(function(e){return this.mh?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.za=function(t){var e=this;this.La.Zs((function(n){return a.__awaiter(e,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.oc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Aa.xu((function(){return a.__awaiter(e,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return this.mh?[4,this.Ba()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Ba=function(){var t=this;return this.La.runTransaction("readwrite-idempotent",ii,(function(e){return fi(e).put(new ti(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Ka(e).next((function(e){e||(t.isPrimary=!1,t.Aa.xu((function(){return t.Na(!1)})))}))})).next((function(){return t.Ha(e)})).next((function(n){return t.isPrimary&&!n?t.Ja(e).next((function(){return!1})):!!n&&t.Ya(e).next((function(){return!0}))}))})).catch((function(e){if(!t.allowTabSynchronization)throw e;return v("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Aa.xu((function(){return t.Na(e)})),t.isPrimary=e}))},t.prototype.Ka=function(t){var e=this;return hi(t).get(Ur.key).next((function(t){return Xn.resolve(e.Xa(t))}))},t.prototype.$a=function(t){return fi(t).delete(this.clientId)},t.prototype.Za=function(){return a.__awaiter(this,void 0,void 0,(function(){var e=this;return a.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.tf(this.Va,18e5)?[3,2]:(this.Va=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary-idempotent",(function(n){var r=t.$s(n,ti.store);return r.oo().next((function(t){var n=e.nf(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return Xn.forEach(i,(function(t){return r.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:n.sent().forEach((function(t){e.window.localStorage.removeItem(e.if(t.clientId))})),n.label=2;case 2:return[2]}}))}))},t.prototype.Qa=function(){var t=this;this.ka=this.Aa.Yu(On.Ru,4e3,(function(){return t.Ba().then((function(){return t.Za()})).then((function(){return t.Qa()}))}))},t.prototype.Xa=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ha=function(t){var e=this;return hi(t).get(Ur.key).next((function(n){if(null!==n&&e.tf(n.leaseTimestampMs,5e3)&&!e.ef(n.ownerId)){if(e.Xa(n)&&e.networkEnabled)return!0;if(!e.Xa(n)){if(!n.allowTabSynchronization)throw new A(I.FAILED_PRECONDITION,ui);return!1}}return!(!e.networkEnabled||!e.inForeground)||fi(t).oo().next((function(t){return void 0===e.nf(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&v("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return a.__awaiter(this,void 0,void 0,(function(){var t=this;return a.__generator(this,(function(e){switch(e.label){case 0:return this.Pa=!1,this.rf(),this.ka&&(this.ka.cancel(),this.ka=null),this.uf(),this.sf(),[4,this.La.runTransaction("readwrite-idempotent",[Ur.store,ti.store],(function(e){return t.Ja(e).next((function(){return t.$a(e)}))}))];case 1:return e.sent(),this.La.close(),this.hf(),[2]}}))}))},t.prototype.nf=function(t,e){var n=this;return t.filter((function(t){return n.tf(t.updateTimeMs,e)&&!n.ef(t.clientId)}))},t.prototype.uc=function(){var t=this;return this.La.runTransaction("readonly-idempotent",[ti.store],(function(e){return fi(e).oo().next((function(e){return t.nf(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return a.__awaiter(this,void 0,void 0,(function(){var n;return a.__generator(this,(function(r){switch(r.label){case 0:return t.Hs()?(n=e+t.Fa,[4,Zn.delete(n)]):[2,Promise.resolve()];case 1:return r.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"mh",{get:function(){return this.Pa},enumerable:!0,configurable:!0}),t.prototype.gh=function(t){return _(this.mh,"Cannot initialize MutationQueue before persistence is started."),ar.mo(t,this.serializer,this.do,this.vo)},t.prototype.Ih=function(){return _(this.mh,"Cannot initialize TargetCache before persistence is started."),this._h},t.prototype.yh=function(){return _(this.mh,"Cannot initialize RemoteDocumentCache before persistence is started."),this.Ho},t.prototype.Eh=function(){return _(this.mh,"Cannot initialize IndexManager before persistence is started."),this.do},t.prototype.runTransaction=function(t,e,n){var r=this;v("IndexedDbPersistence","Starting transaction:",t);var i,o=e.endsWith("idempotent"),a=e.startsWith("readonly")?o?"readonly-idempotent":"readonly":o?"readwrite-idempotent":"readwrite";return this.La.runTransaction(a,ii,(function(o){return i=new li(o,r.Ga.next()),"readwrite-primary"===e||"readwrite-primary-idempotent"===e?r.Ka(o).next((function(t){return!!t||r.Ha(o)})).next((function(e){if(!e)throw g("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Aa.xu((function(){return r.Na(!1)})),new A(I.FAILED_PRECONDITION,Kn);return n(i)})).next((function(t){return r.Ya(o).next((function(){return t}))})):r.cf(o).next((function(){return n(i)}))})).then((function(t){return i.Ws(),t}))},t.prototype.cf=function(t){var e=this;return hi(t).get(Ur.key).next((function(t){if(null!==t&&e.tf(t.leaseTimestampMs,5e3)&&!e.ef(t.ownerId)&&!e.Xa(t)&&!t.allowTabSynchronization)throw new A(I.FAILED_PRECONDITION,ui)}))},t.prototype.Ya=function(t){var e=new Ur(this.clientId,this.allowTabSynchronization,Date.now());return hi(t).put(Ur.key,e)},t.Hs=function(){return Zn.Hs()},t.af=function(t){var e=t.s.projectId;return t.s.o||(e+="."+t.s.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.Ja=function(t){var e=this,n=hi(t);return n.get(Ur.key).next((function(t){return e.Xa(t)?(v("IndexedDbPersistence","Releasing primary lease."),n.delete(Ur.key)):Xn.resolve()}))},t.prototype.tf=function(t,e){var n=Date.now();return!(t<n-e)&&(!(t>n)||(g("Detected an update time that is in the future: "+t+" > "+n),!1))},t.prototype.Ma=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ca=function(){t.Aa.xu((function(){return t.inForeground="visible"===t.document.visibilityState,t.Ba()}))},this.document.addEventListener("visibilitychange",this.Ca),this.inForeground="visible"===this.document.visibilityState)},t.prototype.uf=function(){this.Ca&&(_(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.Ca),this.Ca=null)},t.prototype.qa=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.Sa=function(){t.rf(),t.Aa.xu((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Sa))},t.prototype.sf=function(){this.Sa&&(_("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.Sa),this.Sa=null)},t.prototype.ef=function(t){try{var e=null!==this.Ua.getItem(this.if(t));return v("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return g("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.rf=function(){try{this.Ua.setItem(this.if(this.clientId),String(Date.now()))}catch(t){g("Failed to set zombie client id.",t)}},t.prototype.hf=function(){try{this.Ua.removeItem(this.if(this.clientId))}catch(t){}},t.prototype.if=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.Fa="main",t}();function hi(t){return t.store(Ur.store)}function fi(t){return t.store(ti.store)}var pi=function(){function t(t,e){this.db=t,this.ff=null,this.Vc=new Cr(this,e)}return t.prototype.Lc=function(t){var e=this.lf(t);return this.db.Ih().ia(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.lf=function(t){var e=0;return this.Mc(t,(function(t){e++})).next((function(){return e}))},t.prototype.Le=function(t,e){return this.db.Ih().Le(t,e)},t.prototype.Mc=function(t,e){return this.df(t,(function(t,n){return e(n)}))},t.prototype.ph=function(t){this.ff=t},t.prototype.fs=function(t,e){return di(t,e)},t.prototype.ds=function(t,e){return di(t,e)},t.prototype.qc=function(t,e,n){return this.db.Ih().qc(t,e,n)},t.prototype.Lo=function(t,e){return di(t,e)},t.prototype.vf=function(t,e){return this.ff.bs(e)?Xn.resolve(!0):function(t,e){var n=!1;return hr(t).lo((function(r){return sr(t,r,e).next((function(t){return t&&(n=!0),Xn.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Qc=function(t,e){var n=this,r=this.db.yh().Nh(),i=[],o=0;return this.df(t,(function(a,s){if(s<=e){var u=n.vf(t,a).next((function(e){if(!e)return o++,r.Ls(t,a).next((function(){return r.js(a),Mr(t).delete([0,Vn(a.path)])}))}));i.push(u)}})).next((function(){return Xn.ks(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Oi(t.Mh);return this.db.Ih().Qh(t,n)},t.prototype.Gh=function(t,e){return di(t,e)},t.prototype.df=function(t,e){var n,r=Mr(t),i=Ln.gu;return r.fo({index:Qr.documentTargetsIndex},(function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==Ln.gu&&e(new pt(zn(n)),i),i=s,n=a):i=Ln.gu})).next((function(){i!==Ln.gu&&e(new pt(zn(n)),i)}))},t.prototype.Gc=function(t){return this.db.yh().wa(t)},t}();function di(t,e){return Mr(t).put(function(t,e){return new Qr(0,Vn(t.path),e)}(e,t.Mh))}var vi,gi,yi=function(){function t(){}return t.prototype.Rh=function(t){this.wf=t},t.prototype.nh=function(t,e,n,r){var o=this;return _(void 0!==this.wf,"setLocalDocumentsView() not called"),e.fi()||n.isEqual(ut.MIN)?this.mf(t,e):this.wf.Zo(t,r).next((function(a){var s=o.pf(e,a);return(e.gi()||e.bi())&&o.gf(e.Yn,s,r,n)?o.mf(t,e):(p()<=i.DEBUG&&v("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),o.wf.nh(t,e,n).next((function(t){return s.forEach((function(e){t=t.lt(e.key,e)})),t})))}))},t.prototype.pf=function(t,e){var n=new mt((function(e,n){return t.di(e,n)}));return e.forEach((function(e,r){r instanceof oe&&t.matches(r)&&(n=n.add(r))})),n},t.prototype.gf=function(t,e,n,r){if(n.size!==e.size)return!0;var i=t===de.Kn?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.h(r)>0)},t.prototype.mf=function(t,e){return p()<=i.DEBUG&&v("IndexFreeQueryEngine","Using full collection scan to execute query: %s",e.toString()),this.wf.nh(t,e,ut.MIN)},t}(),mi=function(){function t(t,e){this.do=t,this.vo=e,this.Jo=[],this.bf=1,this.lastStreamToken=De.Pi,this.yf=new mt(Yn.Bn)}return t.prototype.po=function(t){return Xn.resolve(0===this.Jo.length)},t.prototype.bo=function(t,e,n){var r=e.batchId,i=this._f(r,"acknowledged");_(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.Jo[i];return _(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,Xn.resolve()},t.prototype._o=function(t){return Xn.resolve(this.lastStreamToken)},t.prototype.Io=function(t,e){return this.lastStreamToken=e,Xn.resolve()},t.prototype.To=function(t,e,n,r){_(0!==r.length,"Mutation batches should not be empty");var i=this.bf;this.bf++,this.Jo.length>0&&_(this.Jo[this.Jo.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new Hn(i,e,n,r);this.Jo.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.yf=this.yf.add(new Yn(u.key,i)),this.do.Ro(t,u.key.path.H())}return Xn.resolve(o)},t.prototype.Ao=function(t,e){return Xn.resolve(this.If(e))},t.prototype.Po=function(t,e){var n=this.If(e);return _(null!=n,"Failed to find local mutation batch."),Xn.resolve(n.keys())},t.prototype.So=function(t,e){var n=e+1,r=this.Tf(n),i=r<0?0:r;return Xn.resolve(this.Jo.length>i?this.Jo[i]:null)},t.prototype.Co=function(){return Xn.resolve(0===this.Jo.length?-1:this.bf-1)},t.prototype.ko=function(t){return Xn.resolve(this.Jo.slice())},t.prototype.Vo=function(t,e){var n=this,r=new Yn(e,0),i=new Yn(e,Number.POSITIVE_INFINITY),o=[];return this.yf.Lt([r,i],(function(t){_(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.If(t.ys);_(null!==r,"Batches in the index must exist in the main table"),o.push(r)})),Xn.resolve(o)},t.prototype.No=function(t,e){var n=this,r=new mt(w);return e.forEach((function(t){var e=new Yn(t,0),i=new Yn(t,Number.POSITIVE_INFINITY);n.yf.Lt([e,i],(function(e){_(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.ys)}))})),Xn.resolve(this.Ef(r))},t.prototype.Fo=function(t,e){_(!e._i(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,i=n;pt.ht(i)||(i=i.child(""));var o=new Yn(new pt(i),0),a=new mt(w);return this.yf.Bt((function(t){var e=t.key.path;return!!n.$(e)&&(e.length===r&&(a=a.add(t.ys)),!0)}),o),Xn.resolve(this.Ef(a))},t.prototype.Ef=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.If(t);null!==r&&n.push(r)})),n},t.prototype.Uo=function(t,e){var n=this;_(0===this._f(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.Jo.shift();var r=this.yf;return Xn.forEach(e.mutations,(function(i){var o=new Yn(i.key,e.batchId);return r=r.delete(o),n.vo.Lo(t,i.key)})).next((function(){n.yf=r}))},t.prototype.jo=function(t){},t.prototype.bs=function(t,e){var n=new Yn(e,0),r=this.yf.Mt(n);return Xn.resolve(e.isEqual(r&&r.key))},t.prototype.Bo=function(t){return 0===this.Jo.length&&_(this.yf.J(),"Document leak -- detected dangling mutation references when queue is empty."),Xn.resolve()},t.prototype._f=function(t,e){var n=this.Tf(t);return _(n>=0&&n<this.Jo.length,"Batches must exist to be "+e),n},t.prototype.Tf=function(t){return 0===this.Jo.length?0:t-this.Jo[0].batchId},t.prototype.If=function(t){var e=this.Tf(t);if(e<0||e>=this.Jo.length)return null;var n=this.Jo[e];return _(n.batchId===t,"If found batch must match"),n},t}(),_i=function(){function t(t,e){this.do=t,this.Rf=e,this.docs=new dt(pt.G),this.size=0}return t.prototype.Us=function(t,e,n){_(!n.isEqual(ut.MIN),"Cannot add a document with a read time of zero");var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.Rf(e);return this.docs=this.docs.lt(r,{sa:e,size:a,readTime:n}),this.size+=a-o,this.do.Ro(t,r.path.H())},t.prototype.js=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Ls=function(t,e){var n=this.docs.get(e);return Xn.resolve(n?n.sa:null)},t.prototype.getEntries=function(t,e){var n=this,r=Ge();return e.forEach((function(t){var e=n.docs.get(t);r=r.lt(t,e?e.sa:null)})),Xn.resolve(r)},t.prototype.nh=function(t,e,n){_(!e._i(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var r=$e(),i=new pt(e.path.child("")),o=this.docs.yt(i);o.At();){var a=o.Rt(),s=a.key,u=a.value,l=u.sa,c=u.readTime;if(!e.path.$(s.path))break;c.h(n)<=0||l instanceof oe&&e.matches(l)&&(r=r.lt(l.key,l))}return Xn.resolve(r)},t.prototype.Af=function(t,e){return Xn.forEach(this.docs,(function(t){return e(t)}))},t.prototype.fc=function(t,e){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},t.prototype.dc=function(t){return Xn.resolve(ut.MIN)},t.prototype.Nh=function(e){return new t.va(this)},t.prototype.wa=function(t){return Xn.resolve(this.size)},t.va=function(t){function e(e){var n=t.call(this)||this;return n.ma=e,n}return a.__extends(e,t),e.prototype.qs=function(t){var e=this,n=[];return this.Ns.forEach((function(r,i){i?n.push(e.ma.Us(t,i,e.readTime)):e.ma.js(r)})),Xn.ks(n)},e.prototype.Bs=function(t,e){return this.ma.Ls(t,e)},e.prototype.Ms=function(t,e){return this.ma.getEntries(t,e)},e}(Qn),t}(),bi=function(){function t(t){this.persistence=t,this.Df=new $n((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=ut.MIN,this.highestTargetId=0,this.Pf=0,this.Sf=new Gn,this.targetCount=0,this.zc=dr.zo()}return t.prototype.Le=function(t,e){return this.Df.forEach((function(t,n){return e(n)})),Xn.resolve()},t.prototype.xh=function(t){return Xn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Jc=function(t){return Xn.resolve(this.Pf)},t.prototype.$h=function(t){var e=this.zc.after(this.highestTargetId);return this.highestTargetId=e,Xn.resolve(e)},t.prototype.Wh=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Pf&&(this.Pf=e),Xn.resolve()},t.prototype.Yc=function(t){this.Df.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.Pf&&(this.Pf=t.sequenceNumber)},t.prototype.Zh=function(t,e){return _(!this.Df.has(e.target),"Adding a target that already exists"),this.Yc(e),this.targetCount+=1,Xn.resolve()},t.prototype.Qh=function(t,e){return _(this.Df.has(e.target),"Updating a non-existent target"),this.Yc(e),Xn.resolve()},t.prototype.$c=function(t,e){return _(this.targetCount>0,"Removing a target from an empty cache"),_(this.Df.has(e.target),"Removing a non-existent target from the cache"),this.Df.delete(e.target),this.Sf.ms(e.targetId),this.targetCount-=1,Xn.resolve()},t.prototype.qc=function(t,e,n){var r=this,i=0,o=[];return this.Df.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.Df.delete(a),o.push(r.Zc(t,s.targetId)),i++)})),Xn.ks(o).next((function(){return i}))},t.prototype.ia=function(t){return Xn.resolve(this.targetCount)},t.prototype.Xh=function(t,e){var n=this.Df.get(e)||null;return Xn.resolve(n)},t.prototype.Ye=function(t,e){return m("Not yet implemented.")},t.prototype.Bh=function(t,e,n){this.Sf.ls(e,n);var r=this.persistence.vo,i=[];return r&&e.forEach((function(e){i.push(r.fs(t,e))})),Xn.ks(i)},t.prototype.Lh=function(t,e,n){this.Sf.ws(e,n);var r=this.persistence.vo,i=[];return r&&e.forEach((function(e){i.push(r.ds(t,e))})),Xn.ks(i)},t.prototype.Zc=function(t,e){return this.Sf.ms(e),Xn.resolve()},t.prototype.ic=function(t,e){var n=this.Sf.gs(e);return Xn.resolve(n)},t.prototype.bs=function(t,e){return Xn.resolve(this.Sf.bs(e))},t}(),wi=function(){function t(t,e){var n=this;this.clientId=t,this.Cf={},this.Ga=new Ln(0),this.Pa=!1,this.Pa=!0,this.vo=e(this),this._h=new bi(this),this.do=new Lr,this.Ho=new _i(this.do,(function(t){return n.vo.kf(t)}))}return t.Vf=function(e,n){return new t(e,(function(t){return new Si(t,n)}))},t.Nf=function(e){return new t(e,(function(t){return new Ei(t)}))},t.prototype.shutdown=function(){return this.Pa=!1,Promise.resolve()},Object.defineProperty(t.prototype,"mh",{get:function(){return this.Pa},enumerable:!0,configurable:!0}),t.prototype.uc=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){return[2,[this.clientId]]}))}))},t.prototype.Wa=function(t){return t(!0)},t.prototype.za=function(){},t.prototype.oc=function(t){},t.prototype.Eh=function(){return this.do},t.prototype.gh=function(t){var e=this.Cf[t.v()];return e||(e=new mi(this.do,this.vo),this.Cf[t.v()]=e),e},t.prototype.Ih=function(){return this._h},t.prototype.yh=function(){return this.Ho},t.prototype.runTransaction=function(t,e,n){var r=this;v("MemoryPersistence","Starting transaction:",t);var i=new xi(this.Ga.next());return this.vo.Of(),n(i).next((function(t){return r.vo.Ff(i).next((function(){return t}))})).Ss().then((function(t){return i.Ws(),t}))},t.prototype.Uf=function(t,e){return Xn.Vs((n=this.Cf,r=[],B(n,(function(t,e){return r.push(e)})),r).map((function(n){return function(){return n.bs(t,e)}})));var n,r},t}(),xi=function(t){function e(e){var n=t.call(this)||this;return n.Mh=e,n}return a.__extends(e,t),e}(Jn),Ei=function(){function t(t){this.persistence=t,this.ff=null,this.xf=null}return Object.defineProperty(t.prototype,"jf",{get:function(){if(this.xf)return this.xf;throw m("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),t.prototype.ph=function(t){this.ff=t},t.prototype.fs=function(t,e){return this.jf.delete(e),Xn.resolve()},t.prototype.ds=function(t,e){return this.jf.add(e),Xn.resolve()},t.prototype.Lo=function(t,e){return this.jf.add(e),Xn.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.Ih();return r.ic(t,e.targetId).next((function(t){t.forEach((function(t){return n.jf.add(t)}))})).next((function(){return r.$c(t,e)}))},t.prototype.Of=function(){this.xf=new Set},t.prototype.Ff=function(t){var e=this,n=this.persistence.yh().Nh();return Xn.forEach(this.jf,(function(r){return e.Lf(t,r).next((function(t){t||n.js(r)}))})).next((function(){return e.xf=null,n.apply(t)}))},t.prototype.Gh=function(t,e){var n=this;return this.Lf(t,e).next((function(t){t?n.jf.delete(e):n.jf.add(e)}))},t.prototype.kf=function(t){return 0},t.prototype.Lf=function(t,e){var n=this;return Xn.Vs([function(){return n.persistence.Ih().bs(t,e)},function(){return n.persistence.Uf(t,e)},function(){return Xn.resolve(n.ff.bs(e))}])},t}(),Si=function(){function t(t,e){this.persistence=t,this.ff=null,this.Bf=new $n((function(t){return Vn(t.path)})),this.Vc=new Cr(this,e)}return t.prototype.Of=function(){},t.prototype.Ff=function(t){return Xn.resolve()},t.prototype.Le=function(t,e){return this.persistence.Ih().Le(t,e)},t.prototype.Lc=function(t){var e=this.Mf(t);return this.persistence.Ih().ia(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Mf=function(t){var e=0;return this.Mc(t,(function(t){e++})).next((function(){return e}))},t.prototype.Mc=function(t,e){var n=this;return Xn.forEach(this.Bf,(function(r,i){return n.vf(t,r,i).next((function(t){return t?Xn.resolve():e(i)}))}))},t.prototype.ph=function(t){this.ff=t},t.prototype.qc=function(t,e,n){return this.persistence.Ih().qc(t,e,n)},t.prototype.Qc=function(t,e){var n=this,r=0,i=this.persistence.yh(),o=i.Nh();return i.Af(t,(function(i){return n.vf(t,i,e).next((function(t){t||(r++,o.js(i))}))})).next((function(){return o.apply(t)})).next((function(){return r}))},t.prototype.Lo=function(t,e){return this.Bf.set(e,t.Mh),Xn.resolve()},t.prototype.removeTarget=function(t,e){var n=e.Oi(t.Mh);return this.persistence.Ih().Qh(t,n)},t.prototype.fs=function(t,e){return this.Bf.set(e,t.Mh),Xn.resolve()},t.prototype.ds=function(t,e){return this.Bf.set(e,t.Mh),Xn.resolve()},t.prototype.Gh=function(t,e){return this.Bf.set(e,t.Mh),Xn.resolve()},t.prototype.kf=function(t){var e=t.key.toString().length;return t instanceof oe&&(e+=t.data().Nn()),e},t.prototype.vf=function(t,e,n){var r=this;return Xn.Vs([function(){return r.persistence.Uf(t,e)},function(){return Xn.resolve(r.ff.bs(e))},function(){return r.persistence.Ih().bs(t,e)},function(){var t=r.Bf.get(e);return Xn.resolve(void 0!==t&&t>n)}])},t.prototype.Gc=function(t){return this.persistence.yh().wa(t)},t}(),Ci=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Aa=t,this.Su=e,this.qf=n,this.Qf=r,this.Gf=i,this.Wf=0,this.zf=null,this.Kf=Date.now(),this.reset()}return t.prototype.reset=function(){this.Wf=0},t.prototype.Hf=function(){this.Wf=this.Gf},t.prototype.Jf=function(t){var e=this;this.cancel();var n=Math.floor(this.Wf+this.Yf()),r=Math.max(0,Date.now()-this.Kf),i=Math.max(0,n-r);this.Wf>0&&v("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Wf+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zf=this.Aa.Yu(this.Su,i,(function(){return e.Kf=Date.now(),t()})),this.Wf*=this.Qf,this.Wf<this.qf&&(this.Wf=this.qf),this.Wf>this.Gf&&(this.Wf=this.Gf)},t.prototype.cancel=function(){null!==this.zf&&(this.zf.cancel(),this.zf=null)},t.prototype.Yf=function(){return(Math.random()-.5)*this.Wf},t}();(gi=vi||(vi={}))[gi.Xf=0]="__PRIVATE_Initial",gi[gi.$f=1]="__PRIVATE_Starting",gi[gi.Zf=2]="__PRIVATE_Open",gi[gi.Error=3]="Error",gi[gi.tl=4]="__PRIVATE_Backoff";var ki,Ti,Ii=function(){function t(t,e,n,r,i,o){this.Aa=t,this.nl=n,this.connection=r,this.il=i,this.listener=o,this.state=vi.Xf,this.el=0,this.rl=null,this.stream=null,this.ul=new Ci(t,e)}return t.prototype.sl=function(){return this.state===vi.$f||this.state===vi.Zf||this.state===vi.tl},t.prototype.ol=function(){return this.state===vi.Zf},t.prototype.start=function(){this.state!==vi.Error?(_(this.state===vi.Xf,"Already started"),this.auth()):this.hl()},t.prototype.stop=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return this.sl()?[4,this.close(vi.Xf)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.cl=function(){_(!this.sl(),"Can only inhibit backoff in a stopped state"),this.state=vi.Xf,this.ul.reset()},t.prototype.al=function(){var t=this;this.ol()&&null===this.rl&&(this.rl=this.Aa.Yu(this.nl,6e4,(function(){return t.fl()})))},t.prototype.ll=function(t){this.dl(),this.stream.send(t)},t.prototype.fl=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){return this.ol()?[2,this.close(vi.Xf)]:[2]}))}))},t.prototype.dl=function(){this.rl&&(this.rl.cancel(),this.rl=null)},t.prototype.close=function(t,e){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(n){switch(n.label){case 0:return _(this.sl(),"Only started streams should be closed."),_(t===vi.Error||fe(e),"Can't provide an error when not in an error state."),this.dl(),this.ul.cancel(),this.el++,t!==vi.Error?this.ul.reset():e&&e.code===I.RESOURCE_EXHAUSTED?(g(e.toString()),g("Using maximum backoff delay to prevent overloading the backend."),this.ul.Hf()):e&&e.code===I.UNAUTHENTICATED&&this.il.I(),null!==this.stream&&(this.vl(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.wl(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.vl=function(){},t.prototype.auth=function(){var t=this;_(this.state===vi.Xf,"Must be in initial state to auth"),this.state=vi.$f;var e=this.ml(this.el),n=this.el;this.il.getToken().then((function(e){t.el===n&&t.pl(e)}),(function(n){e((function(){var e=new A(I.UNKNOWN,"Fetching auth token failed: "+n.message);return t.gl(e)}))}))},t.prototype.pl=function(t){var e=this;_(this.state===vi.$f,"Trying to start stream in a non-starting state");var n=this.ml(this.el);this.stream=this.bl(t),this.stream.yl((function(){n((function(){return _(e.state===vi.$f,"Expected stream to be in state Starting, but was "+e.state),e.state=vi.Zf,e.listener.yl()}))})),this.stream.wl((function(t){n((function(){return e.gl(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.hl=function(){var t=this;_(this.state===vi.Error,"Should only perform backoff when in Error state"),this.state=vi.tl,this.ul.Jf((function(){return a.__awaiter(t,void 0,void 0,(function(){return a.__generator(this,(function(t){return _(this.state===vi.tl,"Backoff elapsed but state is now: "+this.state),this.state=vi.Xf,this.start(),_(this.sl(),"PersistentStream should have started"),[2]}))}))}))},t.prototype.gl=function(t){return _(this.sl(),"Can't handle server close on non-started stream"),v("PersistentStream","close with error: "+t),this.stream=null,this.close(vi.Error,t)},t.prototype.ml=function(t){var e=this;return function(n){e.Aa.xu((function(){return e.el===t?n():(v("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Ai=function(t){function e(e,n,r,i,o){var a=t.call(this,e,On._u,On.yu,n,r,o)||this;return a.serializer=i,a}return a.__extends(e,t),e.prototype.bl=function(t){return this.connection._l("Listen",t)},e.prototype.onMessage=function(t){this.ul.reset();var e=this.serializer.Cr(t),n=this.serializer.Vr(t);return this.listener.Il(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.wr,e.addTarget=this.serializer.li(t);var n=this.serializer.Zr(t);n&&(e.labels=n),this.ll(e)},e.prototype.Tl=function(t){var e={};e.database=this.serializer.wr,e.removeTarget=t,this.ll(e)},e}(Ii),Mi=function(t){function e(e,n,r,i,o){var a=t.call(this,e,On.Tu,On.Iu,n,r,o)||this;return a.serializer=i,a.El=!1,a.lastStreamToken=De.Pi,a}return a.__extends(e,t),Object.defineProperty(e.prototype,"Rl",{get:function(){return this.El},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.El=!1,t.prototype.start.call(this)},e.prototype.vl=function(){this.El&&this.Al([])},e.prototype.bl=function(t){return this.connection._l("Write",t)},e.prototype.onMessage=function(t){if(_(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=this.serializer.er(t.streamToken),this.El){this.ul.reset();var e=this.serializer.qr(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.Dl(n,e)}return _(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.El=!0,this.listener.Pl()},e.prototype.Sl=function(){_(this.ol(),"Writing handshake requires an opened stream"),_(!this.El,"Handshake already completed");var t={};t.database=this.serializer.wr,this.ll(t)},e.prototype.Al=function(t){var e=this;_(this.ol(),"Writing mutations requires an opened stream"),_(this.El,"Handshake must be complete before writing mutations"),_(this.lastStreamToken.Nn()>0,"Trying to write mutation without a token");var n={streamToken:this.serializer.ir(this.lastStreamToken),writes:t.map((function(t){return e.serializer.Nr(t)}))};this.ll(n)},e}(Ii),Pi=function(){function t(t,e,n,r){this.Aa=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.Cl=function(t){return new Mi(this.Aa,this.connection,this.credentials,this.serializer,t)},t.prototype.kl=function(t){return new Ai(this.Aa,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.wr,writes:t.map((function(t){return e.serializer.Nr(t)}))};return this.Vl("Commit",n).then((function(t){return e.serializer.qr(t.writeResults,t.commitTime)}))},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.wr,documents:t.map((function(t){return e.serializer.cr(t)}))};return this.Nl("BatchGetDocuments",n).then((function(n){var r=We();n.forEach((function(t){var n=e.serializer.Dr(t);r=r.lt(n.key,n)}));var i=[];return t.forEach((function(t){var e=r.get(t);_(!!e,"Missing entity in write response for "+t),i.push(e)})),i}))},t.prototype.Vl=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.Vl(t,e,r)})).catch((function(t){throw t.code===I.UNAUTHENTICATED&&n.credentials.I(),t}))},t.prototype.Nl=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.Nl(t,e,r)})).catch((function(t){throw t.code===I.UNAUTHENTICATED&&n.credentials.I(),t}))},t}(),Oi=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new A(I.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+ot(1,"element")+".")}(0,t);for(var n=0;n<t.length;++n)if(W("FieldPath","string",n,t[n]),0===t[n].length)throw new A(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Ol=new ft(t)}return t.documentId=function(){return t.Fl},t.prototype.isEqual=function(e){if(!(e instanceof t))throw nt("isEqual","FieldPath",1,e);return this.Ol.isEqual(e.Ol)},t.Fl=new t(ft.st().nt()),t}(),Ni=new RegExp("[~\\*/\\[\\]]"),Di=function(){function t(t){this.Ul=t}return t.delete=function(){return U("FieldValue.delete",arguments),Ri.instance},t.serverTimestamp=function(){return U("FieldValue.serverTimestamp",arguments),Li.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return z("FieldValue.arrayUnion",arguments,1),new Fi(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return z("FieldValue.arrayRemove",arguments,1),new ji(t)},t.increment=function(t){return W("FieldValue.increment","number",1,t),q("FieldValue.increment",arguments,1),new Bi(t)},t.prototype.isEqual=function(t){return this===t},t}(),Ri=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return a.__extends(e,t),e.instance=new e,e}(Di),Li=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return a.__extends(e,t),e.instance=new e,e}(Di),Fi=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n.xl=e,n}return a.__extends(e,t),e}(Di),ji=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n.xl=e,n}return a.__extends(e,t),e}(Di),Bi=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n.jl=e,n}return a.__extends(e,t),e}(Di),Vi=An(Di,"Use FieldValue.<field>() instead."),Ui=/^__.*__$/,qi=function(){function t(t,e,n){this.data=t,this.on=e,this.fieldTransforms=n}return t.prototype.Ll=function(t,e){var n=[];return null!==this.on?n.push(new Ft(t,this.data,this.on,e)):n.push(new Lt(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new jt(t,this.fieldTransforms)),n},t}(),zi=function(){function t(t,e,n){this.data=t,this.on=e,this.fieldTransforms=n}return t.prototype.Ll=function(t,e){var n=[new Ft(t,this.data,this.on,e)];return this.fieldTransforms.length>0&&n.push(new jt(t,this.fieldTransforms)),n},t}();function Hi(t){switch(t){case ki.Set:case ki.Bl:case ki.Ml:return!0;case ki.ql:case ki.Ql:return!1;default:throw m("Unexpected case for UserDataSource: "+t)}}(Ti=ki||(ki={}))[Ti.Set=0]="Set",Ti[Ti.Ml=1]="__PRIVATE_Update",Ti[Ti.Bl=2]="__PRIVATE_MergeSet",Ti[Ti.ql=3]="__PRIVATE_Argument",Ti[Ti.Ql=4]="__PRIVATE_ArrayArgument";var Wi=function(){function t(t,e,n,r,i,o){this.Gl=t,this.methodName=e,this.path=n,this.Wl=r,void 0===i&&this.zl(),this.Wl=void 0!==r&&r,this.fieldTransforms=i||[],this.on=o||[]}return t.prototype.Kl=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.Gl,this.methodName,n,!1,this.fieldTransforms,this.on);return r.Hl(e),r},t.prototype.Jl=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.Gl,this.methodName,n,!1,this.fieldTransforms,this.on);return r.zl(),r},t.prototype.Yl=function(e){return new t(this.Gl,this.methodName,null,!0,this.fieldTransforms,this.on)},t.prototype.Xl=function(t){var e=null===this.path||this.path.J()?"":" (found in field "+this.path.toString()+")";return new A(I.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.on.find((function(e){return t.$(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.$(e.field)}))},t.prototype.zl=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.Hl(this.path.get(t))},t.prototype.Hl=function(t){if(0===t.length)throw this.Xl("Document fields must not be empty");if(Hi(this.Gl)&&Ui.test(t))throw this.Xl('Document fields cannot begin and end with "__"')},t}(),Gi=function(t,e){this.s=t,this.key=e},Yi=function(){function t(t){this.$l=t}return t.prototype.Zl=function(t,e){var n=new Wi(ki.Set,t,ft.et);Xi("Data must be an object, but it was:",n,e);var r=this.td(e,n);return new qi(r,null,n.fieldTransforms)},t.prototype.nd=function(t,e,n){var r=new Wi(ki.Bl,t,ft.et);Xi("Data must be an object, but it was:",r,e);var i,o,a=this.td(e,r);if(n){for(var s=new mt(ft.G),u=0,l=n;u<l.length;u++){var c=l[u],h=void 0;if(c instanceof Oi)h=c.Ol;else{if("string"!=typeof c)throw m("Expected stringOrFieldPath to be a string or a FieldPath");h=Ki(t,c)}if(!r.contains(h))throw new A(I.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");s=s.add(h)}i=Tt.Jt(s),o=r.fieldTransforms.filter((function(t){return i.Xt(t.field)}))}else i=Tt.Yt(r.on),o=r.fieldTransforms;return new qi(a,i,o)},t.prototype.ed=function(t,e){var n=this,r=new Wi(ki.Ml,t,ft.et);Xi("Data must be an object, but it was:",r,e);var i=new mt(ft.G),o=ee.mn();B(e,(function(e,a){var s=Ki(t,e),u=r.Jl(s);if((a=n.rd(a,u))instanceof Ri)i=i.add(s);else{var l=n.td(a,u);null!=l&&(i=i.add(s),o.set(s,l))}}));var a=Tt.Jt(i);return new zi(o.fn(),a,r.fieldTransforms)},t.prototype.ud=function(t,e,n,r){var i=new Wi(ki.Ml,t,ft.et),o=[Qi(t,e)],a=[n];if(r.length%2!=0)throw new A(I.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(Qi(t,r[s])),a.push(r[s+1]);var u=new mt(ft.G),l=ee.mn();for(s=0;s<o.length;++s){var c=o[s],h=i.Jl(c),f=this.rd(a[s],h);if(f instanceof Ri)u=u.add(c);else{var p=this.td(f,h);null!=p&&(u=u.add(c),l.set(c,p))}}var d=Tt.Jt(u);return new zi(l.fn(),d,i.fieldTransforms)},t.prototype.sd=function(t,e,n){void 0===n&&(n=!1);var r=new Wi(n?ki.Ql:ki.ql,t,ft.et),i=this.td(e,r);return _(null!=i,"Parsed data should not be null."),_(0===r.fieldTransforms.length,"Field transforms should have been disallowed."),i},t.prototype.rd=function(t,e){try{return this.$l(t)}catch(t){var n=Ji(t);throw e.Xl(n)}},t.prototype.td=function(t,e){if($i(t=this.rd(t,e)))return Xi("Unsupported field value:",e,t),this.od(t,e);if(t instanceof Di)return this.hd(t,e),null;if(e.path&&e.on.push(e.path),t instanceof Array){if(e.Wl&&e.Gl!==ki.Ql)throw e.Xl("Nested arrays are not supported");return this.ad(t,e)}return this.fd(t,e)},t.prototype.od=function(t,e){var n=this,r=new dt(w);return V(t)?e.path&&e.path.length>0&&e.on.push(e.path):B(t,(function(t,i){var o=n.td(i,e.Kl(t));null!=o&&(r=r.lt(t,o))})),new ee(r)},t.prototype.ad=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=o[i],s=this.td(a,e.Yl(r));null==s&&(s=zt.On),n.push(s),r++}return new re(n)},t.prototype.hd=function(t,e){if(!Hi(e.Gl))throw e.Xl(t.Ul+"() can only be used with update() and set()");if(null===e.path)throw e.Xl(t.Ul+"() is not currently supported inside arrays");if(t instanceof Ri){if(e.Gl!==ki.Bl)throw e.Gl===ki.Ml?(_(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.Xl("FieldValue.delete() can only appear at the top level of your update data")):e.Xl("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.on.push(e.path)}else if(t instanceof Li)e.fieldTransforms.push(new It(e.path,bt.instance));else if(t instanceof Fi){var n=this.ld(t.Ul,t.xl),r=new wt(n);e.fieldTransforms.push(new It(e.path,r))}else if(t instanceof ji){n=this.ld(t.Ul,t.xl);var i=new xt(n);e.fieldTransforms.push(new It(e.path,i))}else if(t instanceof Bi){var o=this.sd("FieldValue.increment",t.jl),a=new Et(o);e.fieldTransforms.push(new It(e.path,a))}else m("Unknown FieldValue type: "+t)},t.prototype.fd=function(t,e){if(null===t)return zt.On;if("number"==typeof t)return pe(t)?new Yt(t):new $t(t);if("boolean"==typeof t)return Ht.of(t);if("string"==typeof t)return new Xt(t);if(t instanceof Date)return new Qt(st.fromDate(t));if(t instanceof st)return new Qt(new st(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof at)return new te(t);if(t instanceof Dn)return new Jt(t);if(t instanceof Gi)return new Zt(t.s,t.key);throw e.Xl("Unsupported field value: "+Z(t))},t.prototype.ld=function(t,e){var n=this;return e.map((function(e,r){var i=new Wi(ki.ql,t,ft.et);return n.td(e,i.Yl(r))}))},t}();function $i(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof st||t instanceof at||t instanceof Dn||t instanceof Gi||t instanceof Di)}function Xi(t,e,n){if(!$i(n)||!J(n)){var r=Z(n);throw"an object"===r?e.Xl(t+" a custom object"):e.Xl(t+" "+r)}}function Qi(t,e){if(e instanceof Oi)return e.Ol;if("string"==typeof e)return Ki(t,e);throw new A(I.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Ki(t,e){try{return function(t){if(t.search(Ni)>=0)throw new A(I.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Oi.bind.apply(Oi,a.__spreadArrays([void 0],t.split("."))))}catch(e){throw new A(I.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).Ol}catch(r){var n=Ji(r);throw new A(I.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function Ji(t){return t instanceof Error?t.message:t.toString()}var Zi=function(){function t(t){this.dd=t,this.vd=Qe(),this.mutations=[],this.wd=!1,this.md=null,this.pd=new Set}return t.prototype.lookup=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e,n=this;return a.__generator(this,(function(r){switch(r.label){case 0:if(this.gd(),this.mutations.length>0)throw new A(I.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.dd.lookup(t)];case 1:return(e=r.sent()).forEach((function(t){t instanceof ae||t instanceof oe?n.bd(t):m("Document in a transaction was a "+t.constructor.name)})),[2,e]}}))}))},t.prototype.set=function(t,e){this.write(e.Ll(t,this.rn(t))),this.pd.add(t)},t.prototype.update=function(t,e){try{this.write(e.Ll(t,this.yd(t)))}catch(t){this.md=t}this.pd.add(t)},t.prototype.delete=function(t){this.write([new Bt(t,this.rn(t))]),this.pd.add(t)},t.prototype.commit=function(){return a.__awaiter(this,void 0,void 0,(function(){var t,e=this;return a.__generator(this,(function(n){switch(n.label){case 0:if(this.gd(),this.md)throw this.md;return t=this.vd,this.mutations.forEach((function(e){t=t.remove(e.key)})),t.forEach((function(t,n){e.mutations.push(new Vt(t,e.rn(t)))})),[4,this.dd.commit(this.mutations)];case 1:return n.sent(),this.wd=!0,[2]}}))}))},t.prototype.bd=function(t){var e;if(t instanceof oe)e=t.version;else{if(!(t instanceof ae))throw m("Document in a transaction was a "+t.constructor.name);e=ut.B()}var n=this.vd.get(t.key);if(null!==n){if(!e.isEqual(n))throw new A(I.ABORTED,"Document version changed between two reads.")}else this.vd=this.vd.lt(t.key,e)},t.prototype.rn=function(t){var e=this.vd.get(t);return!this.pd.has(t)&&e?Dt.updateTime(e):Dt.NONE},t.prototype.yd=function(t){var e=this.vd.get(t);if(!this.pd.has(t)&&e){if(e.isEqual(ut.B()))throw new A(I.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dt.updateTime(e)}return Dt.exists(!0)},t.prototype.write=function(t){this.gd(),this.mutations=this.mutations.concat(t)},t.prototype.gd=function(){_(!this.wd,"A transaction object cannot be used after its update callback has been invoked.")},t}(),to=function(){function t(t,e){this.Pu=t,this._d=e,this.state="Unknown",this.Id=0,this.Td=null,this.Ed=!0}return t.prototype.Rd=function(){var t=this;0===this.Id&&(this.Ad("Unknown"),_(null===this.Td,"onlineStateTimer shouldn't be started yet"),this.Td=this.Pu.Yu(On.Eu,1e4,(function(){return t.Td=null,_("Unknown"===t.state,"Timer should be canceled if we transitioned to a different state."),t.Dd("Backend didn't respond within 10 seconds."),t.Ad("Offline"),Promise.resolve()})))},t.prototype.Pd=function(t){"Online"===this.state?(this.Ad("Unknown"),_(0===this.Id,"watchStreamFailures must be 0"),_(null===this.Td,"onlineStateTimer must be null")):(this.Id++,this.Id>=1&&(this.Sd(),this.Dd("Connection failed 1 times. Most recent error: "+t.toString()),this.Ad("Offline")))},t.prototype.set=function(t){this.Sd(),this.Id=0,"Online"===t&&(this.Ed=!1),this.Ad(t)},t.prototype.Ad=function(t){t!==this.state&&(this.state=t,this._d(t))},t.prototype.Dd=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ed?(g(e),this.Ed=!1):v("OnlineStateTracker",e)},t.prototype.Sd=function(){null!==this.Td&&(this.Td.cancel(),this.Td=null)},t}(),eo="RemoteStore",no=function(){function t(t,e,n,r,i){var o=this;this.Nc=t,this.dd=e,this.Cd=[],this.kd={},this.Vd=null,this.networkEnabled=!1,this.isPrimary=!1,this.Nd=i,this.Nd.Od((function(t){n.xu((function(){return a.__awaiter(o,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return this.Fd()?(v(eo,"Restarting streams for network reachability change."),[4,this.Ud()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.xd=new to(n,r),this.jd=this.dd.kl({yl:this.Ld.bind(this),wl:this.Bd.bind(this),Il:this.Md.bind(this)}),this.qd=this.dd.Cl({yl:this.Qd.bind(this),wl:this.Gd.bind(this),Pl:this.Wd.bind(this),Dl:this.Dl.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return a.__awaiter(this,void 0,void 0,(function(){var t;return a.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.Fd()?(t=this.qd,[4,this.Nc._o()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.zd()?this.Kd():this.xd.set("Unknown"),[4,this.Hd()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.Jd()];case 1:return t.sent(),this.xd.set("Offline"),[2]}}))}))},t.prototype.Jd=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return[4,this.qd.stop()];case 1:return t.sent(),[4,this.jd.stop()];case 2:return t.sent(),this.Cd.length>0&&(v(eo,"Stopping write stream with "+this.Cd.length+" pending writes"),this.Cd=[]),this.Yd(),[2]}}))}))},t.prototype.shutdown=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return v(eo,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.Jd()];case 1:return t.sent(),this.Nd.shutdown(),this.xd.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){L(this.kd,t.targetId)||(this.kd[t.targetId]=t,this.zd()?this.Kd():this.jd.ol()&&this.Xd(t))},t.prototype.$d=function(t){_(L(this.kd,t),"unlisten called on target no currently watched: "+t),delete this.kd[t],this.jd.ol()&&this.Zd(t),V(this.kd)&&(this.jd.ol()?this.jd.al():this.Fd()&&this.xd.set("Unknown"))},t.prototype.Ye=function(t){return this.kd[t]||null},t.prototype.Je=function(t){return this.tv.Je(t)},t.prototype.Xd=function(t){this.Vd.De(t.targetId),this.jd.watch(t)},t.prototype.Zd=function(t){this.Vd.De(t),this.jd.Tl(t)},t.prototype.Kd=function(){_(this.zd(),"startWatchStream() called when shouldStartWatchStream() is false."),this.Vd=new yn(this),this.jd.start(),this.xd.Rd()},t.prototype.zd=function(){return this.Fd()&&!this.jd.sl()&&!V(this.kd)},t.prototype.Fd=function(){return this.isPrimary&&this.networkEnabled},t.prototype.Yd=function(){this.Vd=null},t.prototype.Ld=function(){return a.__awaiter(this,void 0,void 0,(function(){var t=this;return a.__generator(this,(function(e){return j(this.kd,(function(e,n){t.Xd(n)})),[2]}))}))},t.prototype.Bd=function(t){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){return void 0===t&&_(!this.zd(),"Watch stream was stopped gracefully while still needed."),this.Yd(),this.zd()?(this.xd.Pd(t),this.Kd()):this.xd.set("Unknown"),[2]}))}))},t.prototype.Md=function(t,e){return a.__awaiter(this,void 0,void 0,(function(){var n;return a.__generator(this,(function(r){switch(r.label){case 0:return this.xd.set("Online"),t instanceof vn&&t.state===sn.Mi&&t.cause?[2,this.nv(t)]:(t instanceof pn?this.Vd.Fe(t):t instanceof dn?this.Vd.Qe(t):(_(t instanceof vn,"Expected watchChange to be an instance of WatchTargetChange"),this.Vd.je(t)),e.isEqual(ut.MIN)?[3,3]:[4,this.Nc.xh()]);case 1:return n=r.sent(),e.h(n)>=0?[4,this.iv(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.iv=function(t){var e=this;_(!t.isEqual(ut.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.Vd.ze(t);return j(n.Zi,(function(n,r){if(r.resumeToken.Nn()>0){var i=e.kd[n];i&&(e.kd[n]=i.Fi(r.resumeToken,t))}})),n.te.forEach((function(t){var n=e.kd[t];if(n){e.kd[t]=n.Fi(De.Pi,n.Ni),e.Zd(t);var r=new Be(n.target,t,Oe.Ci,n.sequenceNumber);e.Xd(r)}})),this.tv.jh(n)},t.prototype.nv=function(t){var e=this;_(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach((function(t){r=r.then((function(){return a.__awaiter(e,void 0,void 0,(function(){return a.__generator(this,(function(e){return L(this.kd,t)?(delete this.kd[t],this.Vd.removeTarget(t),[2,this.tv.ev(t,n)]):[2]}))}))}))})),r},t.prototype.Hd=function(){return a.__awaiter(this,void 0,void 0,(function(){var t,e;return a.__generator(this,(function(n){switch(n.label){case 0:return this.rv()?(t=this.Cd.length>0?this.Cd[this.Cd.length-1].batchId:-1,[4,this.Nc.Hh(t)]):[3,4];case 1:return null!==(e=n.sent())?[3,2]:(0===this.Cd.length&&this.qd.al(),[3,4]);case 2:return this.uv(e),[4,this.Hd()];case 3:n.sent(),n.label=4;case 4:return this.sv()&&this.ov(),[2]}}))}))},t.prototype.rv=function(){return this.Fd()&&this.Cd.length<10},t.prototype.hv=function(){return this.Cd.length},t.prototype.uv=function(t){_(this.rv(),"addToWritePipeline called when pipeline is full"),this.Cd.push(t),this.qd.ol()&&this.qd.Rl&&this.qd.Al(t.mutations)},t.prototype.sv=function(){return this.Fd()&&!this.qd.sl()&&this.Cd.length>0},t.prototype.ov=function(){_(this.sv(),"startWriteStream() called when shouldStartWriteStream() is false."),this.qd.start()},t.prototype.Qd=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){return this.qd.Sl(),[2]}))}))},t.prototype.Wd=function(){var t=this;return this.Nc.Io(this.qd.lastStreamToken).then((function(){for(var e=0,n=t.Cd;e<n.length;e++){var r=n[e];t.qd.Al(r.mutations)}})).catch(_r)},t.prototype.Dl=function(t,e){var n=this;_(this.Cd.length>0,"Got result for empty write pipeline");var r=this.Cd.shift(),i=Wn.from(r,t,e,this.qd.lastStreamToken);return this.tv.cv(i).then((function(){return n.Hd()}))},t.prototype.Gd=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e=this;return a.__generator(this,(function(n){return void 0===t&&_(!this.sv(),"Write stream was stopped gracefully while still needed."),t&&this.Cd.length>0?[2,(this.qd.Rl?this.av(t):this.fv(t)).then((function(){e.sv()&&e.ov()}))]:[2]}))}))},t.prototype.fv=function(t){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){return Ue(t.code)?(v(eo,"RemoteStore error before completed handshake; resetting stream token: ",this.qd.lastStreamToken),this.qd.lastStreamToken=De.Pi,[2,this.Nc.Io(De.Pi).catch(_r)]):[2]}))}))},t.prototype.av=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e,n=this;return a.__generator(this,(function(r){return Ue(i=t.code)&&i!==I.ABORTED?(e=this.Cd.shift(),this.qd.cl(),[2,this.tv.lv(e.batchId,t).then((function(){return n.Hd()}))]):[2];var i}))}))},t.prototype.dv=function(){return new Zi(this.dd)},t.prototype.Ud=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.Jd()];case 1:return t.sent(),this.xd.set("Unknown"),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.vv=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return this.Fd()?(v(eo,"RemoteStore restarting streams for new credential"),[4,this.Ud()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.wv=function(t){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.Jd()];case 3:e.sent(),this.xd.set("Unknown"),e.label=4;case 4:return[2]}}))}))},t}(),ro="firestore_clients";function io(t,e){return _(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),ro+"_"+t+"_"+e}var oo="firestore_mutations";function ao(t,e,n){var r=oo+"_"+t+"_"+n;return e.l()&&(r+="_"+e.uid),r}var so="firestore_targets";function uo(t,e){return so+"_"+t+"_"+e}var lo="SharedClientState",co=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,_(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.mv=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new A(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(g(lo,"Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.pv=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ho=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,_(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.mv=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new A(r.error.code,r.error.message)),i?new t(e,r.state,o):(g(lo,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.pv=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),fo=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.mv=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=tn(),a=0;i&&a<r.activeTargetIds.length;++a)i=pe(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(g(lo,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),po=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.mv=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(g(lo,"Failed to parse online state: "+e),null)},t}(),vo=function(){function t(){this.activeTargetIds=tn()}return t.prototype.gv=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.bv=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.pv=function(){var t={activeTargetIds:this.activeTargetIds.tt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),go=function(){function t(e,n,r,i,o){if(this.Aa=e,this.platform=n,this.persistenceKey=r,this.yv=i,this.tv=null,this._d=null,this.vu=null,this._v={},this.Iv=this.Tv.bind(this),this.mh=!1,this.Ev=[],!t.Hs(this.platform))throw new A(I.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.Rv=io(this.persistenceKey,this.yv),this.Av=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this._v[this.yv]=new vo,this.Dv=new RegExp("^"+ro+"_"+a+"_([^_]*)$"),this.Pv=new RegExp("^"+oo+"_"+a+"_(\\d+)(?:_(.*))?$"),this.Sv=new RegExp("^"+so+"_"+a+"_(\\d+)$"),this.Cv=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.platform.window.addEventListener("storage",this.Iv)}return t.Hs=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return a.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,u,l,c,h,f=this;return a.__generator(this,(function(a){switch(a.label){case 0:return _(!this.mh,"WebStorageSharedClientState already started"),_(null!==this.tv,"syncEngine property must be set before calling start()"),_(null!==this._d,"onlineStateHandler property must be set before calling start()"),[4,this.tv.uc()];case 1:for(t=a.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.yv&&(i=this.getItem(io(this.persistenceKey,r)))&&(o=fo.mv(r,i))&&(this._v[o.clientId]=o);for(this.kv(),(s=this.storage.getItem(this.Cv))&&(u=this.Vv(s))&&this.Nv(u),l=0,c=this.Ev;l<c.length;l++)h=c[l],this.Tv(h);return this.Ev=[],this.platform.window.addEventListener("unload",(function(){return f.shutdown()})),this.mh=!0,[2]}}))}))},t.prototype.pu=function(t){this.setItem(this.Av,JSON.stringify(t))},t.prototype.Ov=function(){var t=tn();return B(this._v,(function(e,n){t=t.qt(n.activeTargetIds)})),t},t.prototype.Fv=function(t){for(var e in this._v)if(this._v.hasOwnProperty(e)&&this._v[e].activeTargetIds.has(t))return!0;return!1},t.prototype.Uv=function(t){this.xv(t,"pending")},t.prototype.jv=function(t,e,n){this.xv(t,e,n),this.Lv(t)},t.prototype.Bv=function(t){var e="not-current";if(this.Fv(t)){var n=this.storage.getItem(uo(this.persistenceKey,t));if(n){var r=ho.mv(t,n);r&&(e=r.state)}}return this.Mv.gv(t),this.kv(),e},t.prototype.qv=function(t){this.Mv.bv(t),this.kv()},t.prototype.Qv=function(t){return this.Mv.activeTargetIds.has(t)},t.prototype.Gv=function(t){this.removeItem(uo(this.persistenceKey,t))},t.prototype.Wv=function(t,e,n){this.zv(t,e,n)},t.prototype.Dh=function(t,e,n){var r=this;e.forEach((function(t){r.Lv(t)})),this.currentUser=t,n.forEach((function(t){r.Uv(t)}))},t.prototype.Kv=function(t){this.Hv(t)},t.prototype.shutdown=function(){this.mh&&(this.platform.window.removeEventListener("storage",this.Iv),this.removeItem(this.Rv),this.mh=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return v(lo,"READ",t,e),e},t.prototype.setItem=function(t,e){v(lo,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){v(lo,"REMOVE",t),this.storage.removeItem(t)},t.prototype.Tv=function(t){var e=this;if(t.storageArea===this.storage){if(v(lo,"EVENT",t.key,t.newValue),t.key===this.Rv)return void g("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Aa.xu((function(){return a.__awaiter(e,void 0,void 0,(function(){var e,n,r,i,o,s;return a.__generator(this,(function(a){if(!this.mh)return this.Ev.push(t),[2];if(null===t.key)return[2];if(this.Dv.test(t.key)){if(null==t.newValue)return n=this.Jv(t.key),[2,this.Yv(n,null)];if(e=this.Xv(t.key,t.newValue))return[2,this.Yv(e.clientId,e)]}else if(this.Pv.test(t.key)){if(null!==t.newValue&&(r=this.$v(t.key,t.newValue)))return[2,this.Zv(r)]}else if(this.Sv.test(t.key)){if(null!==t.newValue&&(i=this.tw(t.key,t.newValue)))return[2,this.nw(i)]}else if(t.key===this.Cv){if(null!==t.newValue&&(o=this.Vv(t.newValue)))return[2,this.Nv(o)]}else t.key===this.Av&&(_(!!this.vu,"Missing sequenceNumberHandler"),(s=function(t){var e=Ln.gu;if(null!=t)try{var n=JSON.parse(t);_("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(t){g(lo,"Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==Ln.gu&&this.vu(s));return[2]}))}))}))}},Object.defineProperty(t.prototype,"Mv",{get:function(){return this._v[this.yv]},enumerable:!0,configurable:!0}),t.prototype.kv=function(){this.setItem(this.Rv,this.Mv.pv())},t.prototype.xv=function(t,e,n){var r=new co(this.currentUser,t,e,n),i=ao(this.persistenceKey,this.currentUser,t);this.setItem(i,r.pv())},t.prototype.Lv=function(t){var e=ao(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Hv=function(t){var e={clientId:this.yv,onlineState:t};this.storage.setItem(this.Cv,JSON.stringify(e))},t.prototype.zv=function(t,e,n){var r=uo(this.persistenceKey,t),i=new ho(t,e,n);this.setItem(r,i.pv())},t.prototype.Jv=function(t){var e=this.Dv.exec(t);return e?e[1]:null},t.prototype.Xv=function(t,e){var n=this.Jv(t);return _(null!==n,"Cannot parse client state key '"+t+"'"),fo.mv(n,e)},t.prototype.$v=function(t,e){var n=this.Pv.exec(t);_(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return co.mv(new T(i),r,e)},t.prototype.tw=function(t,e){var n=this.Sv.exec(t);_(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return ho.mv(r,e)},t.prototype.Vv=function(t){return po.mv(t)},t.prototype.Zv=function(t){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){return t.user.uid!==this.currentUser.uid?(v(lo,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.tv.iw(t.batchId,t.state,t.error)]}))}))},t.prototype.nw=function(t){return this.tv.ew(t.targetId,t.state,t.error)},t.prototype.Yv=function(t,e){var n=this,r=this.Ov();e?this._v[t]=e:delete this._v[t];var i=this.Ov(),o=[],s=[];return i.forEach((function(t){return a.__awaiter(n,void 0,void 0,(function(){return a.__generator(this,(function(e){return r.has(t)||o.push(t),[2]}))}))})),r.forEach((function(t){return a.__awaiter(n,void 0,void 0,(function(){return a.__generator(this,(function(e){return i.has(t)||s.push(t),[2]}))}))})),this.tv.rw(o,s)},t.prototype.Nv=function(t){this._v[t.clientId]&&this._d(t.onlineState)},t}(),yo=function(){function t(){this.uw=new vo,this.sw={},this.tv=null,this._d=null,this.vu=null}return t.prototype.Uv=function(t){},t.prototype.jv=function(t,e,n){},t.prototype.Bv=function(t){return this.uw.gv(t),this.sw[t]||"not-current"},t.prototype.Wv=function(t,e,n){this.sw[t]=e},t.prototype.qv=function(t){this.uw.bv(t)},t.prototype.Qv=function(t){return this.uw.activeTargetIds.has(t)},t.prototype.Gv=function(t){delete this.sw[t]},t.prototype.Ov=function(){return this.uw.activeTargetIds},t.prototype.Fv=function(t){return this.uw.activeTargetIds.has(t)},t.prototype.start=function(){return this.uw=new vo,Promise.resolve()},t.prototype.Dh=function(t,e,n){},t.prototype.Kv=function(t){},t.prototype.shutdown=function(){},t.prototype.pu=function(t){},t}(),mo=function(t){this.key=t},_o=function(t){this.key=t},bo=function(){function t(t,e){this.query=t,this.ow=e,this.hw=null,this.ue=!1,this.cw=Je(),this.Ji=Je(),this.aw=new an(t.di.bind(t))}return Object.defineProperty(t.prototype,"fw",{get:function(){return this.ow},enumerable:!0,configurable:!0}),t.prototype.lw=function(t,e){var n=this,r=e?e.dw:new ln,i=e?e.aw:this.aw,o=e?e.Ji:this.Ji,a=i,s=!1,u=this.query.gi()&&i.size===this.query.limit?i.last():null,l=this.query.bi()&&i.size===this.query.limit?i.first():null;if(t.pt((function(t,e){var c=i.get(t),h=e instanceof oe?e:null;h&&(_(t.isEqual(h.key),"Mismatching keys found in document changes: "+t+" != "+h.key),h=n.query.matches(h)?h:null);var f=!!c&&n.Ji.has(c.key),p=!!h&&(h.un||n.Ji.has(h.key)&&h.hasCommittedMutations),d=!1;c&&h?c.data().isEqual(h.data())?f!==p&&(r.track({type:en.Qi,doc:h}),d=!0):n.vw(c,h)||(r.track({type:en.qi,doc:h}),d=!0,(u&&n.query.di(h,u)>0||l&&n.query.di(h,l)<0)&&(s=!0)):!c&&h?(r.track({type:en.Bi,doc:h}),d=!0):c&&!h&&(r.track({type:en.Mi,doc:c}),d=!0,(u||l)&&(s=!0)),d&&(h?(a=a.add(h),o=p?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),this.query.gi()||this.query.bi())for(;a.size>this.query.limit;){var c=this.query.gi()?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:en.Mi,doc:c})}return _(!s||!e,"View was refilled using docs that themselves needed refilling."),{aw:a,dw:r,gf:s,Ji:o}},t.prototype.vw=function(t,e){return t.un&&e.hasCommittedMutations&&!e.un},t.prototype.qs=function(t,e,n){var r=this;_(!t.gf,"Cannot apply changes that need a refill");var i=this.aw;this.aw=t.aw,this.Ji=t.Ji;var o=t.dw.Ki();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case en.Bi:return 1;case en.qi:case en.Qi:return 2;case en.Mi:return 0;default:return m("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.di(t.doc,e.doc)})),this.ww(n);var a=e?this.mw():[],s=0===this.cw.size&&this.ue?rn.Wi:rn.Gi,u=s!==this.hw;return this.hw=s,0!==o.length||u?{snapshot:new cn(this.query,t.aw,i,o,t.Ji,s===rn.Gi,u,!1),pw:a}:{pw:a}},t.prototype.gw=function(t){return this.ue&&"Offline"===t?(this.ue=!1,this.qs({aw:this.aw,dw:new ln,Ji:this.Ji,gf:!1},!1)):{pw:[]}},t.prototype.bw=function(t){return!this.ow.has(t)&&!!this.aw.has(t)&&!this.aw.get(t).un},t.prototype.ww=function(t){var e=this;t&&(t.se.forEach((function(t){return e.ow=e.ow.add(t)})),t.oe.forEach((function(t){return _(e.ow.has(t),"Modified document "+t+" not found in view.")})),t.he.forEach((function(t){return e.ow=e.ow.delete(t)})),this.ue=t.ue)},t.prototype.mw=function(){var t=this;if(!this.ue)return[];var e=this.cw;this.cw=Je(),this.aw.forEach((function(e){t.bw(e.key)&&(t.cw=t.cw.add(e.key))}));var n=[];return e.forEach((function(e){t.cw.has(e)||n.push(new _o(e))})),this.cw.forEach((function(t){e.has(t)||n.push(new mo(t))})),n},t.prototype.yw=function(t){this.ow=t.ec,this.cw=Je();var e=this.lw(t.documents);return this.qs(e,!0)},t.prototype._w=function(){return cn.$i(this.query,this.aw,this.Ji,this.hw===rn.Gi)},t}(),wo=function(){function t(t,e,n,r){this.Pu=t,this.Iw=e,this.updateFunction=n,this.Vu=r,this.Tw=5,this.ul=new Ci(this.Pu,On.Du)}return t.prototype.run=function(){this.Ew()},t.prototype.Ew=function(){var t=this;this.ul.Jf((function(){return a.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return a.__generator(this,(function(r){return t=this.Iw.dv(),(e=this.Rw(t))&&e.then((function(e){n.Pu.xu((function(){return t.commit().then((function(){n.Vu.resolve(e)})).catch((function(t){n.Aw(t)}))}))})).catch((function(t){n.Aw(t)})),[2]}))}))}))},t.prototype.Rw=function(t){try{var e=this.updateFunction(t);return!fe(e)&&e.catch&&e.then?e:(this.Vu.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Vu.reject(t),null}},t.prototype.Aw=function(t){var e=this;this.Tw>0&&this.Dw(t)?(this.Tw-=1,this.Pu.xu((function(){return e.Ew(),Promise.resolve()}))):this.Vu.reject(t)},t.prototype.Dw=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ue(e)}return!1},t}(),xo=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Eo=function(t){this.key=t,this.Pw=!1},So=function(){function t(t,e,n,r){this.Nc=t,this.Iw=e,this.Sw=n,this.currentUser=r,this.Cw=null,this.kw=new $n((function(t){return t.canonicalId()})),this.Vw={},this.Nw=new dt(pt.G),this.Ow={},this.Fw=new Gn,this.Uw={},this.xw=new Map,this.jw=dr.Ko(),this.isPrimary=void 0,this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"Lw",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){_(null!==t,"SyncEngine listener cannot be null"),_(null===this.Cw,"SyncEngine already has a subscriber."),this.Cw=t},t.prototype.listen=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,o;return a.__generator(this,(function(a){switch(a.label){case 0:return this.Bw("listen()"),(r=this.kw.get(t))?(e=r.targetId,this.Sw.Bv(e),n=r.view._w(),[3,4]):[3,1];case 1:return[4,this.Nc.Yh(t.li())];case 2:return i=a.sent(),o=this.Sw.Bv(i.targetId),e=i.targetId,[4,this.Mw(t,e,"current"===o)];case 3:n=a.sent(),this.isPrimary&&this.Iw.listen(i),a.label=4;case 4:return this.Cw.Il([n]),[2,e]}}))}))},t.prototype.Mw=function(t,e,n){return a.__awaiter(this,void 0,void 0,(function(){var r,i,o,s,u,l;return a.__generator(this,(function(a){switch(a.label){case 0:return[4,this.Nc.nc(t,!0)];case 1:return r=a.sent(),i=new bo(t,r.ec),o=i.lw(r.documents),s=fn.re(e,n&&"Offline"!==this.onlineState),_(0===(u=i.qs(o,!0===this.isPrimary,s)).pw.length,"View returned limbo docs before target ack from the server."),_(!!u.snapshot,"applyChanges for new view should always return a snapshot"),l=new xo(t,e,i),this.kw.set(t,l),this.Vw[e]||(this.Vw[e]=[]),this.Vw[e].push(t),[2,u.snapshot]}}))}))},t.prototype.qw=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e,n;return a.__generator(this,(function(r){switch(r.label){case 0:return[4,this.Nc.nc(t.query,!0)];case 1:return e=r.sent(),n=t.view.yw(e),this.isPrimary&&this.Qw(t.targetId,n.pw),[2,n]}}))}))},t.prototype.$d=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return a.__generator(this,(function(i){switch(i.label){case 0:return this.Bw("unlisten()"),_(!!(e=this.kw.get(t)),"Trying to unlisten on query not found:"+t),(n=this.Vw[e.targetId]).length>1?(this.Vw[e.targetId]=n.filter((function(e){return!e.isEqual(t)})),this.kw.delete(t),[2]):this.isPrimary?(this.Sw.qv(e.targetId),this.Sw.Fv(e.targetId)?[3,2]:[4,this.Nc.tc(e.targetId,!1).then((function(){r.Sw.Gv(e.targetId),r.Iw.$d(e.targetId),r.Gw(e.targetId)})).catch(_r)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.Gw(e.targetId),[4,this.Nc.tc(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return a.__awaiter(this,void 0,void 0,(function(){var n;return a.__generator(this,(function(r){switch(r.label){case 0:return this.Bw("write()"),[4,this.Nc.kh(t)];case 1:return n=r.sent(),this.Sw.Uv(n.batchId),this.Ww(n.batchId,e),[4,this.zw(n.Ns)];case 2:return r.sent(),[4,this.Iw.Hd()];case 3:return r.sent(),[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new wo(t,this.Iw,e,n).run()},t.prototype.jh=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e,n=this;return a.__generator(this,(function(r){switch(r.label){case 0:this.Bw("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Nc.jh(t)];case 2:return e=r.sent(),B(t.Zi,(function(t,e){var r=n.Ow[Number(t)];r&&(_(e.se.size+e.oe.size+e.he.size<=1,"Limbo resolution for single document contains multiple changes."),e.se.size>0?r.Pw=!0:e.oe.size>0?_(r.Pw,"Received change for limbo target document without add."):e.he.size>0&&(_(r.Pw,"Received remove for limbo target document without add."),r.Pw=!1))})),[4,this.zw(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,_r(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.gw=function(t,e){if(this.isPrimary&&e===ye.Ri||!this.isPrimary&&e===ye.Ai){this.Bw("applyOnlineStateChange()");var n=[];this.kw.forEach((function(e,r){var i=r.view.gw(t);_(0===i.pw.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)})),this.Cw.Kw(t),this.Cw.Il(n),this.onlineState=t,this.isPrimary&&this.Sw.Kv(t)}},t.prototype.ev=function(t,e){return a.__awaiter(this,void 0,void 0,(function(){var n,r,i,o,s,u=this;return a.__generator(this,(function(a){switch(a.label){case 0:return this.Bw("rejectListens()"),this.Sw.Wv(t,"rejected",e),n=this.Ow[t],(r=n&&n.key)?(this.Nw=this.Nw.remove(r),delete this.Ow[t],i=(i=new dt(pt.G)).lt(r,new ae(r,ut.B())),o=Je().add(r),s=new hn(ut.MIN,{},new mt(w),i,o),[2,this.jh(s)]):[3,1];case 1:return[4,this.Nc.tc(t,!1).then((function(){return u.Gw(t,e)})).catch(_r)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))},t.prototype.iw=function(t,e,n){return a.__awaiter(this,void 0,void 0,(function(){var r;return a.__generator(this,(function(i){switch(i.label){case 0:return this.Bw("applyBatchState()"),[4,this.Nc.Vh(t)];case 1:return null===(r=i.sent())?(v("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.Iw.Hd()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.Hw(t,n||null),this.Nc.sc(t)):m("Unknown batchState: "+e),i.label=4;case 4:return[4,this.zw(r)];case 5:return i.sent(),[2]}}))}))},t.prototype.cv=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e,n;return a.__generator(this,(function(r){switch(r.label){case 0:this.Bw("applySuccessfulWrite()"),e=t.batch.batchId,this.Hw(e,null),this.Jw(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Nc.bo(t)];case 2:return n=r.sent(),this.Sw.jv(e,"acknowledged"),[4,this.zw(n)];case 3:return r.sent(),[3,6];case 4:return[4,_r(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.lv=function(t,e){return a.__awaiter(this,void 0,void 0,(function(){var n;return a.__generator(this,(function(r){switch(r.label){case 0:this.Bw("rejectFailedWrite()"),this.Hw(t,e),this.Jw(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Nc.Uh(t)];case 2:return n=r.sent(),this.Sw.jv(t,"rejected",e),[4,this.zw(n)];case 3:return r.sent(),[3,6];case 4:return[4,_r(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Yw=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e,n;return a.__generator(this,(function(r){switch(r.label){case 0:return this.Iw.Fd()||v("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.Nc.Co()];case 1:return-1===(e=r.sent())?(t.resolve(),[2]):((n=this.xw.get(e)||[]).push(t),this.xw.set(e,n),[2])}}))}))},t.prototype.Jw=function(t){(this.xw.get(t)||[]).forEach((function(t){t.resolve()})),this.xw.delete(t)},t.prototype.Xw=function(t){this.xw.forEach((function(e){e.forEach((function(e){e.reject(new A(I.CANCELLED,t))}))})),this.xw.clear()},t.prototype.Ww=function(t,e){var n=this.Uw[this.currentUser.v()];n||(n=new dt(w)),n=n.lt(t,e),this.Uw[this.currentUser.v()]=n},t.prototype.Hw=function(t,e){var n=this.Uw[this.currentUser.v()];if(n){var r=n.get(t);r&&(_(t===n.vt(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.Uw[this.currentUser.v()]=n}},t.prototype.Gw=function(t,e){var n=this;void 0===e&&(e=null),this.Sw.qv(t),_(this.Vw[t]&&0!==this.Vw[t].length,"There are no queries mapped to target id "+t);for(var r=0,i=this.Vw[t];r<i.length;r++){var o=i[r];this.kw.delete(o),e&&this.Cw.$w(o,e)}if(delete this.Vw[t],this.isPrimary){var a=this.Fw.gs(t);this.Fw.ms(t),a.forEach((function(t){n.Fw.bs(t)||n.Zw(t)}))}},t.prototype.Zw=function(t){var e=this.Nw.get(t);null!==e&&(this.Iw.$d(e),this.Nw=this.Nw.remove(t),delete this.Ow[e])},t.prototype.Qw=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof mo?(this.Fw.fs(i.key,t),this.tm(i)):i instanceof _o?(v("SyncEngine","Document no longer in limbo: "+i.key),this.Fw.ds(i.key,t),this.Fw.bs(i.key)||this.Zw(i.key)):m("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.tm=function(t){var e=t.key;if(!this.Nw.get(e)){v("SyncEngine","New document in limbo: "+e);var n=this.jw.next(),r=_e.ti(e.path);this.Ow[n]=new Eo(e),this.Iw.listen(new Be(r.li(),n,Oe.ki,Ln.gu)),this.Nw=this.Nw.lt(e,n)}},t.prototype.nm=function(){return this.Nw},t.prototype.zw=function(t,e){return a.__awaiter(this,void 0,void 0,(function(){var n,r,i,o=this;return a.__generator(this,(function(a){switch(a.label){case 0:return n=[],r=[],i=[],this.kw.forEach((function(a,s){i.push(Promise.resolve().then((function(){var e=s.view.lw(t);return e.gf?o.Nc.nc(s.query,!1).then((function(t){var n=t.documents;return s.view.lw(n,e)})):e})).then((function(t){var i=e&&e.Zi[s.targetId],a=s.view.qs(t,!0===o.isPrimary,i);if(o.Qw(s.targetId,a.pw),a.snapshot){o.isPrimary&&o.Sw.Wv(s.targetId,a.snapshot.fromCache?"not-current":"current"),n.push(a.snapshot);var u=gr.ah(s.targetId,a.snapshot);r.push(u)}})))})),[4,Promise.all(i)];case 1:return a.sent(),this.Cw.Il(n),[4,this.Nc.Kh(r)];case 2:return a.sent(),[2]}}))}))},t.prototype.Bw=function(t){_(null!==this.Cw,"Trying to call "+t+" before calling subscribe().")},t.prototype.vv=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e,n;return a.__generator(this,(function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.Xw("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.Nc.Dh(t)]):[3,3];case 1:return n=r.sent(),this.Sw.Dh(t,n.Sh,n.Ch),[4,this.zw(n.Ph)];case 2:r.sent(),r.label=3;case 3:return[4,this.Iw.vv()];case 4:return r.sent(),[2]}}))}))},t.prototype.wv=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,o,s,u=this;return a.__generator(this,(function(a){switch(a.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.Iw.wv(!0)]);case 1:return a.sent(),o=this.Sw.Ov(),[4,this.im(o.tt())];case 2:for(e=a.sent(),n=0,r=e;n<r.length;n++)i=r[n],this.Iw.listen(i);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,o=[],s=Promise.resolve(),j(this.Vw,(function(t,e){u.Sw.Qv(t)?o.push(t):s=s.then((function(){return u.Gw(t),u.Nc.tc(t,!0)})),u.Iw.$d(t)})),[4,s]);case 4:return a.sent(),[4,this.im(o)];case 5:return a.sent(),this.em(),[4,this.Iw.wv(!1)];case 6:a.sent(),a.label=7;case 7:return[2]}}))}))},t.prototype.em=function(){var t=this;j(this.Ow,(function(e){t.Iw.$d(e)})),this.Fw.ps(),this.Ow=[],this.Nw=new dt(pt.G)},t.prototype.im=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,o,s,u,l,c,h,f,p,d;return a.__generator(this,(function(a){switch(a.label){case 0:e=[],n=[],r=0,i=t,a.label=1;case 1:return r<i.length?(o=i[r],s=void 0,(u=this.Vw[o])&&0!==u.length?[4,this.Nc.tc(o,!0)]:[3,8]):[3,14];case 2:return a.sent(),[4,this.Nc.Yh(u[0].li())];case 3:s=a.sent(),l=0,c=u,a.label=4;case 4:return l<c.length?(h=c[l],_(!!(f=this.kw.get(h)),"No query view found for "+h),[4,this.qw(f)]):[3,7];case 5:(p=a.sent()).snapshot&&n.push(p.snapshot),a.label=6;case 6:return l++,[3,4];case 7:return[3,12];case 8:return _(!0===this.isPrimary,"A secondary tab should never have an active target without an active query."),[4,this.Nc.ac(o)];case 9:return _(!!(d=a.sent()),"Target for id "+o+" not found"),[4,this.Nc.Yh(d)];case 10:return s=a.sent(),[4,this.Mw(this.rm(d),o,!1)];case 11:a.sent(),a.label=12;case 12:e.push(s),a.label=13;case 13:return r++,[3,1];case 14:return this.Cw.Il(n),[2,e]}}))}))},t.prototype.rm=function(t){return new _e(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,de.Kn,t.startAt,t.endAt)},t.prototype.uc=function(){return this.Nc.uc()},t.prototype.ew=function(t,e,n){return a.__awaiter(this,void 0,void 0,(function(){var r,i;return a.__generator(this,(function(o){switch(o.label){case 0:if(this.isPrimary)return v("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.Vw[t])return[3,7];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.Nc.fc()];case 2:return r=o.sent(),i=hn.ee(t,"current"===e),[4,this.zw(r,i)];case 3:return o.sent(),[3,7];case 4:return[4,this.Nc.tc(t,!0)];case 5:return o.sent(),this.Gw(t,n),[3,7];case 6:m("Unexpected target state: "+e),o.label=7;case 7:return[2]}}))}))},t.prototype.rw=function(t,e){return a.__awaiter(this,void 0,void 0,(function(){var n,r,i,o,s,u,l,c,h,f=this;return a.__generator(this,(function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,p.label=1;case 1:return n<r.length?(h=r[n],_(!this.Vw[h],"Trying to add an already active target"),[4,this.Nc.ac(h)]):[3,6];case 2:return _(!!(i=p.sent()),"Query data for active target "+h+" not found"),[4,this.Nc.Yh(i)];case 3:return o=p.sent(),[4,this.Mw(this.rm(i),o.targetId,!1)];case 4:p.sent(),this.Iw.listen(o),p.label=5;case 5:return n++,[3,1];case 6:s=function(t){return a.__generator(this,(function(e){switch(e.label){case 0:return u.Vw[t]?[4,u.Nc.tc(t,!1).then((function(){f.Iw.$d(t),f.Gw(t)})).catch(_r)]:[2,"continue"];case 1:return e.sent(),[2]}}))},u=this,l=0,c=e,p.label=7;case 7:return l<c.length?(h=c[l],[5,s(h)]):[3,10];case 8:p.sent(),p.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))},t.prototype.enableNetwork=function(){return this.Nc.oc(!0),this.Iw.enableNetwork()},t.prototype.disableNetwork=function(){return this.Nc.oc(!1),this.Iw.disableNetwork()},t.prototype.Je=function(t){var e=this.Ow[t];if(e&&e.Pw)return Je().add(e.key);var n=Je(),r=this.Vw[t];if(!r)return n;for(var i=0,o=r;i<o.length;i++){var a=o[i],s=this.kw.get(a);_(!!s,"No query view found for "+a),n=n.qt(s.view.fw)}return n},t}(),Co=function(){this.um=null,this.targetId=0,this.listeners=[]},ko=function(){function t(t){this.tv=t,this.sm=new $n((function(t){return t.canonicalId()})),this.onlineState="Unknown",this.om=new Set,this.tv.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.sm.get(e);return r||(n=!0,r=new Co,this.sm.set(e,r)),r.listeners.push(t),_(!t.gw(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),r.um&&t.hm(r.um)&&this.cm(),n?this.tv.listen(e).then((function(t){return r.targetId=t,t})):Promise.resolve(r.targetId)},t.prototype.$d=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e,n,r,i;return a.__generator(this,(function(o){return e=t.query,n=!1,(r=this.sm.get(e))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.sm.delete(e),[2,this.tv.$d(e)]):[2]}))}))},t.prototype.Il=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=i.query,a=this.sm.get(o);if(a){for(var s=0,u=a.listeners;s<u.length;s++)u[s].hm(i)&&(e=!0);a.um=i}}e&&this.cm()},t.prototype.$w=function(t,e){var n=this.sm.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.sm.delete(t)},t.prototype.Kw=function(t){this.onlineState=t;var e=!1;this.sm.forEach((function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].gw(t)&&(e=!0)})),e&&this.cm()},t.prototype.am=function(t){this.om.add(t),t.next()},t.prototype.fm=function(t){this.om.delete(t)},t.prototype.cm=function(){this.om.forEach((function(t){t.next()}))},t}(),To=function(){function t(t,e,n){this.query=t,this.lm=e,this.dm=!1,this.vm=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.hm=function(t){if(_(t.docChanges.length>0||t.Yi,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==en.Qi&&e.push(i)}t=new cn(t.query,t.docs,t.Hi,e,t.Ji,t.fromCache,t.Yi,!0)}var o=!1;return this.dm?this.wm(t)&&(this.lm.next(t),o=!0):this.mm(t,this.onlineState)&&(this.pm(t),o=!0),this.vm=t,o},t.prototype.onError=function(t){this.lm.error(t)},t.prototype.gw=function(t){this.onlineState=t;var e=!1;return this.vm&&!this.dm&&this.mm(this.vm,t)&&(this.pm(this.vm),e=!0),e},t.prototype.mm=function(t,e){if(_(!this.dm,"Determining whether to raise first event but already had first event"),!t.fromCache)return!0;var n="Offline"!==e;return this.options.gm&&n?(_(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.J()||"Offline"===e},t.prototype.wm=function(t){if(t.docChanges.length>0)return!0;var e=this.vm&&this.vm.hasPendingWrites!==t.hasPendingWrites;return!(!t.Yi&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.pm=function(t){_(!this.dm,"Trying to raise initial events for second time"),t=cn.$i(t.query,t.docs,t.Ji,t.fromCache),this.dm=!0,this.lm.next(t)},t}(),Io=function(){function t(t,e){this.cacheSizeBytes=t,this.synchronizeTabs=e}return t.prototype.ja=function(){return Er.Rc(this.cacheSizeBytes)},t}(),Ao=function(){},Mo=function(){function t(t,e,n,r){this.platform=t,this.bm=e,this.credentials=n,this.Pu=r,this.clientId=b.u()}return t.prototype.start=function(t){var e=this;this.ym();var n=new Fn,r=new Fn,i=!1;return this.credentials.T((function(o){i?e.Pu.xu((function(){return e.vv(o)})):(i=!0,e._m(t,r,o).then((function(t){return e.Im(o,t)})).then(n.resolve,n.reject))})),this.Pu.xu((function(){return n.promise})),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.ym(),this.Pu.enqueue((function(){return t.tv.enableNetwork()}))},t.prototype._m=function(t,e,n){var r=this;return t instanceof Io?this.Tm(n,t).then((function(t){return e.resolve(),t})).catch((function(t){if(e.reject(t),!r.Em(t))throw t;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),r.Rm()})):(e.resolve(),this.Rm())},t.prototype.Em=function(t){return t instanceof A?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.ym=function(){if(this.Pu.Gu)throw new A(I.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Tm=function(t,e){var n=this,r=ci.af(this.bm),i=new Tn(this.bm.s,{Ze:!0});return Promise.resolve().then((function(){return a.__awaiter(n,void 0,void 0,(function(){var n,o;return a.__generator(this,(function(a){switch(a.label){case 0:if(e.synchronizeTabs&&!go.Hs(this.platform))throw new A(I.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=e.ja(),this.Sw=e.synchronizeTabs?new go(this.Pu,this.platform,r,this.clientId,t):new yo,[4,ci.xa({allowTabSynchronization:e.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,Aa:this.Pu,serializer:i,ja:n,Da:this.Sw})];case 1:return o=a.sent(),this.persistence=o,[2,o.vo.Vc]}}))}))}))},t.prototype.Rm=function(){return this.persistence=wi.Nf(this.clientId),this.Sw=new yo,Promise.resolve(null)},t.prototype.Im=function(t,e){var n=this;return v("FirestoreClient","Initializing. user=",t.uid),this.platform.Am(this.bm).then((function(r){return a.__awaiter(n,void 0,void 0,(function(){var n,i,o,s,u,l,c=this;return a.__generator(this,(function(h){switch(h.label){case 0:return n=new yi,this.Nc=new mr(this.persistence,n,t),[4,this.Nc.start()];case 1:return h.sent(),e&&(this.Dm=new Sr(e,this.Pu,this.Nc)),i=this.platform.Pm(),o=this.platform.Sm(this.bm.s),s=new Pi(this.Pu,r,this.credentials,o),u=function(t){return c.tv.gw(t,ye.Ri)},l=function(t){return c.tv.gw(t,ye.Ai)},this.Iw=new no(this.Nc,s,this.Pu,u,i),this.tv=new So(this.Nc,this.Iw,this.Sw,t),this.Sw._d=l,this.Iw.tv=this.tv,this.Sw.tv=this.tv,this.Cm=new ko(this.tv),[4,this.Sw.start()];case 2:return h.sent(),[4,this.Iw.start()];case 3:return h.sent(),[4,this.persistence.Wa((function(t){return a.__awaiter(c,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return[4,this.tv.wv(t)];case 1:return e.sent(),this.Dm&&(t&&!this.Dm.mh?this.Dm.start():t||this.Dm.stop()),[2]}}))}))}))];case 4:return h.sent(),[4,this.persistence.za((function(){return a.__awaiter(c,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))}))];case 5:return h.sent(),[2]}}))}))}))},t.prototype.vv=function(t){return this.Pu.$u(),v("FirestoreClient","Credential Changed. Current user: "+t.uid),this.tv.vv(t)},t.prototype.disableNetwork=function(){var t=this;return this.ym(),this.Pu.enqueue((function(){return t.tv.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.Pu.Ju((function(){return a.__awaiter(t,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return this.Dm&&this.Dm.stop(),[4,this.Iw.shutdown()];case 1:return t.sent(),[4,this.Sw.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.R(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.ym();var e=new Fn;return this.Pu.xu((function(){return t.tv.Yw(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.ym();var i=new To(t,e,n);return this.Pu.xu((function(){return r.Cm.listen(i)})),i},t.prototype.$d=function(t){var e=this;this.km||this.Pu.xu((function(){return e.Cm.$d(t)}))},t.prototype.Vm=function(t){var e=this;return this.ym(),this.Pu.enqueue((function(){return e.Nc.Jh(t)})).then((function(t){if(t instanceof oe)return t;if(t instanceof ae)return null;throw new A(I.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},t.prototype.Nm=function(t){var e=this;return this.ym(),this.Pu.enqueue((function(){return a.__awaiter(e,void 0,void 0,(function(){var e,n,r;return a.__generator(this,(function(i){switch(i.label){case 0:return[4,this.Nc.nc(t,!0)];case 1:return e=i.sent(),n=new bo(t,e.ec),r=n.lw(e.documents),[2,n.qs(r,!1).snapshot]}}))}))}))},t.prototype.write=function(t){var e=this;this.ym();var n=new Fn;return this.Pu.xu((function(){return e.tv.write(t,n)})),n.promise},t.prototype.s=function(){return this.bm.s},t.prototype.am=function(t){var e=this;this.ym(),this.Pu.xu((function(){return e.Cm.am(t),Promise.resolve()}))},t.prototype.fm=function(t){this.km||this.Cm.fm(t)},Object.defineProperty(t.prototype,"km",{get:function(){return this.Pu.Gu},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.ym();var n=new Fn;return this.Pu.xu((function(){return e.tv.runTransaction(e.Pu,t,n),Promise.resolve()})),n.promise},t}(),Po=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.Om(this.observer.next,t)},t.prototype.error=function(t){this.Om(this.observer.error,t)},t.prototype.Fm=function(){this.muted=!0},t.prototype.Om=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function Oo(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var No=Er.Pc,Do=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new A(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else Y("settings","non-empty string","host",t.host),this.host=t.host,$("settings","boolean","ssl",t.ssl),this.ssl=F(t.ssl,!0);if(et("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),$("settings","object","credentials",t.credentials),this.credentials=t.credentials,$("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?g("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&g("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=F(t.timestampsInSnapshots,!0),$("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Er.Cc;else{if(t.cacheSizeBytes!==No&&t.cacheSizeBytes<Er.Sc)throw new A(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Er.Sc);this.cacheSizeBytes=t.cacheSizeBytes}$("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0!==t.experimentalForceLongPolling&&t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Ro=function(){function t(e,n){var r=this;if(this.Um=null,this.xm=new Bn,this.INTERNAL={delete:function(){return a.__awaiter(r,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return this.jm(),[4,this.Lm.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var i=e;this.Um=i,this.Bm=t.Mm(i),this.qm=i.name,this.Qm=new O(n)}else{var o=e;if(!o.projectId)throw new A(I.INVALID_ARGUMENT,"Must provide projectId");this.Bm=new k(o.projectId,o.database),this.qm="[DEFAULT]",this.Qm=new P}this.Gm=new Do({}),this.Wm=this.zm(this.Bm)}return t.prototype.settings=function(t){if(q("Firestore.settings",arguments,1),W("Firestore.settings","object",1,t),L(t,"persistence"))throw new A(I.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new Do(t);if(this.Lm&&!this.Gm.isEqual(e))throw new A(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.Gm=e,void 0!==e.credentials&&(this.Qm=R(e.credentials))},t.prototype.enableNetwork=function(){return this.jm(),this.Lm.enableNetwork()},t.prototype.disableNetwork=function(){return this.jm(),this.Lm.disableNetwork()},t.prototype.enablePersistence=function(t){if(this.Lm)throw new A(I.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&g("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),e=F(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,!1)),this.Km(new Io(this.Gm.cacheSizeBytes,e))},t.prototype.clearPersistence=function(){var t=this,e=ci.af(this.Hm()),n=new Fn;return this.xm.Wu((function(){return a.__awaiter(t,void 0,void 0,(function(){var t;return a.__generator(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this.Lm&&!this.Lm.km)throw new A(I.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,ci.clearPersistence(e)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"Jm",{get:function(){return this.jm(),this.Lm.km},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.jm(),this.Lm.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){if(this.jm(),Oo(t))return this.Ym(t);W("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return this.Ym(e)},t.prototype.Ym=function(t){var e=this,n=new Po({next:function(){t.next&&t.next()},error:function(t){throw m("Uncaught Error in onSnapshotsInSync")}});return this.Lm.am(n),function(){n.Fm(),e.Lm.fm(n)}},t.prototype.jm=function(){return this.Lm||this.Km(new Ao),this.Lm},t.prototype.Hm=function(){return new S(this.Bm,this.qm,this.Gm.host,this.Gm.ssl,this.Gm.forceLongPolling)},t.prototype.Km=function(t){_(!!this.Gm.host,"FirestoreSettings.host is not set"),_(!this.Lm,"configureClient() called multiple times");var e=this.Hm();return this.Lm=new Mo(In.t(),e,this.Qm,this.xm),this.Lm.start(t)},t.prototype.zm=function(t){return new Yi((function(e){if(e instanceof jo){var n=t,r=e.firestore.Bm;if(!r.isEqual(n))throw new A(I.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new Gi(t,e.Xm)}return e}))},t.Mm=function(t){var e=t.options;if(!L(e,"projectId"))throw new A(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new A(I.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new k(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Um)throw new A(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Um},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return q("Firestore.collection",arguments,1),W("Firestore.collection","non-empty string",1,t),this.jm(),new Ho(ct.it(t),this)},t.prototype.doc=function(t){return q("Firestore.doc",arguments,1),W("Firestore.doc","non-empty string",1,t),this.jm(),jo.$m(ct.it(t),this)},t.prototype.collectionGroup=function(t){if(q("Firestore.collectionGroup",arguments,1),W("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new A(I.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.jm(),new qo(new _e(ct.et,t),this)},t.prototype.runTransaction=function(t){var e=this;return q("Firestore.runTransaction",arguments,1),W("Firestore.runTransaction","function",1,t),this.jm().transaction((function(n){return t(new Lo(e,n))}))},t.prototype.batch=function(){return this.jm(),new Fo(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(p()){case i.DEBUG:return"debug";case i.ERROR:return"error";case i.SILENT:return"silent";default:return m("Unknown log level: "+p())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(q("Firestore.setLogLevel",arguments,1),W("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":d(i.DEBUG);break;case"error":d(i.ERROR);break;case"silent":d(i.SILENT);break;default:throw new A(I.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype.Zm=function(){return this.Gm.timestampsInSnapshots},t}(),Lo=function(){function t(t,e){this.tp=t,this.np=e}return t.prototype.get=function(t){var e=this;q("Transaction.get",arguments,1);var n=$o("Transaction.get",t,this.tp);return this.np.lookup([n.Xm]).then((function(t){if(!t||1!==t.length)return m("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof ae)return new Vo(e.tp,n.Xm,null,!1,!1,n.ip);if(r instanceof oe)return new Vo(e.tp,n.Xm,r,!1,!1,n.ip);throw m("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)}))},t.prototype.set=function(t,e,n){H("Transaction.set",arguments,2,3);var r=$o("Transaction.set",t,this.tp);n=Wo("Transaction.set",n);var i=Qo(r.ip,e,"Transaction.set"),o=i[0],a=i[1],s=n.merge||n.mergeFields?this.tp.Wm.nd(a,o,n.mergeFields):this.tp.Wm.Zl(a,o);return this.np.set(r.Xm,s),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof e||e instanceof Oi?(z("Transaction.update",arguments,3),r=$o("Transaction.update",t,this.tp),i=this.tp.Wm.ud("Transaction.update",e,n,o)):(q("Transaction.update",arguments,2),r=$o("Transaction.update",t,this.tp),i=this.tp.Wm.ed("Transaction.update",e)),this.np.update(r.Xm,i),this},t.prototype.delete=function(t){q("Transaction.delete",arguments,1);var e=$o("Transaction.delete",t,this.tp);return this.np.delete(e.Xm),this},t}(),Fo=function(){function t(t){this.tp=t,this.ep=[],this.rp=!1}return t.prototype.set=function(t,e,n){H("WriteBatch.set",arguments,2,3),this.up();var r=$o("WriteBatch.set",t,this.tp);n=Wo("WriteBatch.set",n);var i=Qo(r.ip,e,"WriteBatch.set"),o=i[0],a=i[1],s=n.merge||n.mergeFields?this.tp.Wm.nd(a,o,n.mergeFields):this.tp.Wm.Zl(a,o);return this.ep=this.ep.concat(s.Ll(r.Xm,Dt.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.up(),"string"==typeof e||e instanceof Oi?(z("WriteBatch.update",arguments,3),r=$o("WriteBatch.update",t,this.tp),i=this.tp.Wm.ud("WriteBatch.update",e,n,o)):(q("WriteBatch.update",arguments,2),r=$o("WriteBatch.update",t,this.tp),i=this.tp.Wm.ed("WriteBatch.update",e)),this.ep=this.ep.concat(i.Ll(r.Xm,Dt.exists(!0))),this},t.prototype.delete=function(t){q("WriteBatch.delete",arguments,1),this.up();var e=$o("WriteBatch.delete",t,this.tp);return this.ep=this.ep.concat(new Bt(e.Xm,Dt.NONE)),this},t.prototype.commit=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){return this.up(),this.rp=!0,this.ep.length>0?[2,this.tp.jm().write(this.ep)]:[2]}))}))},t.prototype.up=function(){if(this.rp)throw new A(I.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),jo=function(){function t(t,e,n){this.Xm=t,this.firestore=e,this.ip=n,this.Lm=this.firestore.jm()}return t.$m=function(e,n,r){if(e.length%2!=0)throw new A(I.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.nt()+" has "+e.length);return new t(new pt(e),n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this.Xm.path.X()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ho(this.Xm.path.H(),this.firestore,this.ip)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Xm.path.nt()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(q("DocumentReference.collection",arguments,1),W("DocumentReference.collection","non-empty string",1,t),!t)throw new A(I.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=ct.it(t);return new Ho(this.Xm.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw nt("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.Xm.isEqual(e.Xm)&&this.ip===e.ip},t.prototype.set=function(t,e){H("DocumentReference.set",arguments,1,2),e=Wo("DocumentReference.set",e);var n=Qo(this.ip,t,"DocumentReference.set"),r=n[0],i=n[1],o=e.merge||e.mergeFields?this.firestore.Wm.nd(i,r,e.mergeFields):this.firestore.Wm.Zl(i,r);return this.Lm.write(o.Ll(this.Xm,Dt.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof Oi?(z("DocumentReference.update",arguments,2),n=this.firestore.Wm.ud("DocumentReference.update",t,e,r)):(q("DocumentReference.update",arguments,1),n=this.firestore.Wm.ed("DocumentReference.update",t)),this.Lm.write(n.Ll(this.Xm,Dt.exists(!0)))},t.prototype.delete=function(){return q("DocumentReference.delete",arguments,0),this.Lm.write([new Bt(this.Xm,Dt.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];H("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Oo(t[i])||(et("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),$("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Oo(t[i])?n=t[i]:(W("DocumentReference.onSnapshot","function",i,t[i]),G("DocumentReference.onSnapshot","function",i+1,t[i+1]),G("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.sp(o,n)},t.prototype.sp=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Po({next:function(t){if(e.next){_(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n.Xm);e.next(new Vo(n.firestore,n.Xm,r,t.fromCache,t.hasPendingWrites,n.ip))}},error:r}),o=this.Lm.listen(_e.ti(this.Xm.path),i,t);return function(){i.Fm(),n.Lm.$d(o)}},t.prototype.get=function(t){var e=this;return H("DocumentReference.get",arguments,0,1),Yo("DocumentReference.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.jm().Vm(e.Xm).then((function(t){n(new Vo(e.firestore,e.Xm,t,!0,t instanceof oe&&t.un,e.ip))}),r):e.hp(n,r,t)}))},t.prototype.hp=function(t,e,n){var r=this.sp({includeMetadataChanges:!0,gm:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new A(I.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new A(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t.prototype.withConverter=function(e){return new t(this.Xm,this.firestore,e)},t}(),Bo=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Vo=function(){function t(t,e,n,r,i,o){this.tp=t,this.Xm=e,this.cp=n,this.ap=r,this.fp=i,this.ip=o}return t.prototype.data=function(t){if(H("DocumentSnapshot.data",arguments,0,1),t=Go("DocumentSnapshot.data",t),this.cp){if(this.ip){var e=new Uo(this.tp,this.Xm,this.cp,this.ap,this.fp);return this.ip.fromFirestore(e,t)}return this.lp(this.cp.data(),Ut.Cn(t,this.tp.Zm()))}},t.prototype.get=function(t,e){if(H("DocumentSnapshot.get",arguments,1,2),e=Go("DocumentSnapshot.get",e),this.cp){var n=this.cp.data().field(Qi("DocumentSnapshot.get",t));if(null!==n)return this.dp(n,Ut.Cn(e,this.tp.Zm()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this.Xm.path.X()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new jo(this.Xm,this.tp,this.ip)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.cp},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Bo(this.fp,this.ap)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw nt("isEqual","DocumentSnapshot",1,e);return this.tp===e.tp&&this.ap===e.ap&&this.Xm.isEqual(e.Xm)&&(null===this.cp?null===e.cp:this.cp.isEqual(e.cp))&&this.ip===e.ip},t.prototype.lp=function(t,e){var n=this,r={};return t.forEach((function(t,i){r[t]=n.dp(i,e)})),r},t.prototype.dp=function(t,e){if(t instanceof ee)return this.lp(t,e);if(t instanceof re)return this.vp(t,e);if(t instanceof Zt){var n=t.value(e),r=this.tp.jm().s();return t.s.isEqual(r)||g("Document "+this.Xm.path+" contains a document reference within a different database ("+t.s.projectId+"/"+t.s.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new jo(n,this.tp,this.ip)}return t.value(e)},t.prototype.vp=function(t,e){var n=this;return t.Ht.map((function(t){return n.dp(t,e)}))},t}(),Uo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return _(void 0!==n,"Document in a QueryDocumentSnapshot should exist"),n},e}(Vo),qo=function(){function t(t,e,n){this.wp=t,this.firestore=e,this.ip=n}return t.prototype.where=function(e,n,r){q("Query.where",arguments,3),tt("Query.where",3,r);var i,o=["<","<=","==",">=",">","array-contains","in","array-contains-any"];Q("Query.where",o,2,n);var a=Qi("Query.where",e),s=be.it(n);if(a.ut()){if(s===be.ARRAY_CONTAINS||s===be.ARRAY_CONTAINS_ANY)throw new A(I.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s.toString()+"' queries on FieldPath.documentId().");if(s===be.IN){this.mp(r,s);for(var u=[],l=0,c=r;l<c.length;l++){var h=c[l];u.push(this.pp(h))}i=new re(u)}else i=this.pp(r)}else s!==be.IN&&s!==be.ARRAY_CONTAINS_ANY||this.mp(r,s),i=this.firestore.Wm.sd("Query.where",r,s===be.IN);var f=we.create(a,s,i);return this.gp(f),new t(this.wp.ei(f),this.firestore,this.ip)},t.prototype.orderBy=function(e,n){var r;if(H("Query.orderBy",arguments,1,2),G("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=Te.ASCENDING;else{if("desc"!==n)throw new A(I.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Te.DESCENDING}if(null!==this.wp.startAt)throw new A(I.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.wp.endAt)throw new A(I.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=Qi("Query.orderBy",e),o=new Ae(i,r);return this.bp(o),new t(this.wp.ui(o),this.firestore,this.ip)},t.prototype.limit=function(e){return q("Query.limit",arguments,1),W("Query.limit","number",1,e),rt("Query.limit",1,e),new t(this.wp.si(e),this.firestore,this.ip)},t.prototype.limitToLast=function(e){return q("Query.limitToLast",arguments,1),W("Query.limitToLast","number",1,e),rt("Query.limitToLast",1,e),new t(this.wp.oi(e),this.firestore,this.ip)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];z("Query.startAt",arguments,1);var i=this.yp("Query.startAt",e,n,!0);return new t(this.wp.hi(i),this.firestore,this.ip)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];z("Query.startAfter",arguments,1);var i=this.yp("Query.startAfter",e,n,!1);return new t(this.wp.hi(i),this.firestore,this.ip)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];z("Query.endBefore",arguments,1);var i=this.yp("Query.endBefore",e,n,!0);return new t(this.wp.ci(i),this.firestore,this.ip)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];z("Query.endAt",arguments,1);var i=this.yp("Query.endAt",e,n,!1);return new t(this.wp.ci(i),this.firestore,this.ip)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw nt("isEqual","Query",1,e);return this.firestore===e.firestore&&this.wp.isEqual(e.wp)},t.prototype.withConverter=function(e){return new t(this.wp,this.firestore,e)},t.prototype.yp=function(t,e,n,r){if(tt(t,1,e),e instanceof Vo){if(n.length>0)throw new A(I.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new A(I.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this._p(t,i.cp,r)}var o=[e].concat(n);return this.Ip(t,o,r)},t.prototype._p=function(t,e,n){for(var r=[],i=0,o=this.wp.orderBy;i<o.length;i++){var a=o[i];if(a.field.ut())r.push(new Zt(this.firestore.Bm,e.key));else{var s=e.field(a.field);if(s instanceof Kt)throw new A(I.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var u=a.field.nt();throw new A(I.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new Ie(r,n)},t.prototype.Ip=function(t,e,n){var r=this.wp.Jn;if(e.length>r.length)throw new A(I.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.ut()){if("string"!=typeof a)throw new A(I.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(!this.wp._i()&&-1!==a.indexOf("/"))throw new A(I.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this.wp.path.child(ct.it(a));if(!pt.ht(s))throw new A(I.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new pt(s);i.push(new Zt(this.firestore.Bm,u))}else{var l=this.firestore.Wm.sd(t,a);i.push(l)}}return new Ie(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];H("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||Oo(t[i])||(et("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),$("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Oo(t[i])?n=t[i]:(W("Query.onSnapshot","function",i,t[i]),G("Query.onSnapshot","function",i+1,t[i+1]),G("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.Tp(this.wp),this.sp(r,n)},t.prototype.sp=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Po({next:function(t){e.next&&e.next(new zo(n.firestore,n.wp,t,n.ip))},error:r}),o=this.firestore.jm(),a=o.listen(this.wp,i,t);return function(){i.Fm(),o.$d(a)}},t.prototype.Tp=function(t){if(t.bi()&&0===t.Jn.length)throw new A(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var e=this;return H("Query.get",arguments,0,1),Yo("Query.get",t),this.Tp(this.wp),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.jm().Nm(e.wp).then((function(t){n(new zo(e.firestore,e.wp,t,e.ip))}),r):e.hp(n,r,t)}))},t.prototype.hp=function(t,e,n){var r=this.sp({includeMetadataChanges:!0,gm:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new A(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.pp=function(t){if("string"==typeof t){if(""===t)throw new A(I.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.wp._i()&&-1!==t.indexOf("/"))throw new A(I.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.wp.path.child(ct.it(t));if(!pt.ht(e))throw new A(I.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return new Zt(this.firestore.Bm,new pt(e))}if(t instanceof jo){var n=t;return new Zt(this.firestore.Bm,n.Xm)}throw new A(I.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Z(t)+".")},t.prototype.mp=function(t,e){if(!Array.isArray(t)||0===t.length)throw new A(I.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new A(I.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new A(I.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new A(I.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.gp=function(t){if(t instanceof we){var e=[be.ARRAY_CONTAINS,be.ARRAY_CONTAINS_ANY],n=[be.IN,be.ARRAY_CONTAINS_ANY],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.ri()){var o=this.wp.ni();if(null!==o&&!o.isEqual(t.field))throw new A(I.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var a=this.wp.ii();null!==a&&this.Ep(t.field,a)}else if(i||r){var s=null;if(i&&(s=this.wp.yi(n)),null===s&&r&&(s=this.wp.yi(e)),null!=s)throw s===t.op?new A(I.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new A(I.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+s.toString()+"' filters.")}}},t.prototype.bp=function(t){if(null===this.wp.ii()){var e=this.wp.ni();null!==e&&this.Ep(e,t.field)}},t.prototype.Ep=function(t,e){if(!e.isEqual(t))throw new A(I.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),zo=function(){function t(t,e,n,r){this.tp=t,this.Rp=e,this.Ap=n,this.ip=r,this.Dp=null,this.Pp=null,this.metadata=new Bo(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Ap.docs.J()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Ap.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;H("QuerySnapshot.forEach",arguments,1,2),W("QuerySnapshot.forEach","function",1,t),this.Ap.docs.forEach((function(r){t.call(e,n.Sp(r))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new qo(this.Rp,this.tp,this.ip)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(et("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),$("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.Ap.Xi)throw new A(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Dp&&this.Pp===e||(this.Dp=function(t,e,n,r){if(n.Hi.J()){var i,o=0;return n.docChanges.map((function(e){var a=new Uo(t,e.doc.key,e.doc,n.fromCache,n.Ji.has(e.doc.key),r);return _(e.type===en.Bi,"Invalid event type for first snapshot"),_(!i||n.query.di(i,e.doc)<0,"Got added events in wrong order"),i=e.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}}))}var a=n.Hi;return n.docChanges.filter((function(t){return e||t.type!==en.Qi})).map((function(e){var i=new Uo(t,e.doc.key,e.doc,n.fromCache,n.Ji.has(e.doc.key),r),o=-1,s=-1;return e.type!==en.Bi&&(_((o=a.indexOf(e.doc.key))>=0,"Index for document not found"),a=a.delete(e.doc.key)),e.type!==en.Mi&&(s=(a=a.add(e.doc)).indexOf(e.doc.key)),{type:Xo(e.type),doc:i,oldIndex:o,newIndex:s}}))}(this.tp,e,this.Ap,this.ip),this.Pp=e),this.Dp},t.prototype.isEqual=function(e){if(!(e instanceof t))throw nt("isEqual","QuerySnapshot",1,e);return this.tp===e.tp&&this.Rp.isEqual(e.Rp)&&this.Ap.isEqual(e.Ap)&&this.ip===e.ip},t.prototype.Sp=function(t){return new Uo(this.tp,t.key,t,this.metadata.fromCache,this.Ap.Ji.has(t.key),this.ip)},t}();a.__spreadArrays(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(t){try{Object.defineProperty(zo.prototype.docChanges,t,{get:function(){return function(){throw new A(I.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}}));var Ho=function(t){function e(e,n,r){var i=t.call(this,_e.ti(e),n,r)||this;if(i.Cp=e,e.length%2!=1)throw new A(I.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.nt()+" has "+e.length);return i}return a.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.wp.path.X()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.wp.path.H();return t.J()?null:new jo(new pt(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.wp.path.nt()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(H("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=b.u()),W("CollectionReference.doc","non-empty string",1,t),""===t)throw new A(I.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=ct.it(t);return jo.$m(this.wp.path.child(e),this.firestore,this.ip)},e.prototype.add=function(t){q("CollectionReference.add",arguments,1);var e=this.ip?this.ip.toFirestore(t):t;W("CollectionReference.add","object",1,e);var n=this.doc();return n.set(t).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.Cp,this.firestore,t)},e}(qo);function Wo(t,e){if(void 0===e)return{merge:!1};if(et(t,e,["merge","mergeFields"]),$(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new A(I.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+Z(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new A(I.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be "+n+", but the value at index "+o+" was: "+Z(r[o]))}(t,e,n,r,i)}(t,"mergeFields","a string or a FieldPath",e.mergeFields,(function(t){return"string"==typeof t||t instanceof Oi})),void 0!==e.mergeFields&&void 0!==e.merge)throw new A(I.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Go(t,e){return void 0===e?{}:(et(t,e,["serverTimestamps"]),X(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Yo(t,e){G(t,"object",1,e),e&&(et(t,e,["source"]),X(t,0,"source",e.source,["default","server","cache"]))}function $o(t,e,n){if(e instanceof jo){if(e.firestore!==n)throw new A(I.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw nt(t,"DocumentReference",1,e)}function Xo(t){switch(t){case en.Bi:return"added";case en.qi:case en.Qi:return"modified";case en.Mi:return"removed";default:return m("Unknown change type: "+t)}}function Qo(t,e,n){var r;return t?(r=t.toFirestore(e),n="toFirestore() in "+n):r=e,[r,n]}var Ko=An(Ro,"Use firebase.firestore() instead."),Jo=An(Lo,"Use firebase.firestore().runTransaction() instead."),Zo=An(Fo,"Use firebase.firestore().batch() instead."),ta=An(jo,"Use firebase.firestore().doc() instead."),ea=An(Vo),na=An(Uo),ra=An(qo),ia=An(zo),oa=An(Ho,"Use firebase.firestore().collection() instead."),aa={Firestore:Ko,GeoPoint:at,Timestamp:st,Blob:Rn,Transaction:Jo,WriteBatch:Zo,DocumentReference:ta,DocumentSnapshot:ea,Query:ra,QueryDocumentSnapshot:na,QuerySnapshot:ia,CollectionReference:oa,FieldPath:Oi,FieldValue:Vi,setLogLevel:Ro.setLogLevel,CACHE_SIZE_UNLIMITED:No};var sa=function(){function t(){}return t.prototype.Od=function(t){},t.prototype.shutdown=function(){},t}(),ua=function(){function t(){var t=this;this.kp=function(){return t.Vp()},this.Np=function(){return t.Op()},this.Fp=[],this.Up()}return t.prototype.Od=function(t){this.Fp.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.kp),window.removeEventListener("offline",this.Np)},t.prototype.Up=function(){window.addEventListener("online",this.kp),window.addEventListener("offline",this.Np)},t.prototype.Vp=function(){v("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Fp;t<e.length;t++)(0,e[t])(0)},t.prototype.Op=function(){v("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Fp;t<e.length;t++)(0,e[t])(1)},t.Hs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),la=function(){function t(t){this.xp=t.xp,this.jp=t.jp}return t.prototype.yl=function(t){_(!this.Lp,"Called onOpen on stream twice!"),this.Lp=t},t.prototype.wl=function(t){_(!this.Bp,"Called onClose on stream twice!"),this.Bp=t},t.prototype.onMessage=function(t){_(!this.Mp,"Called onMessage on stream twice!"),this.Mp=t},t.prototype.close=function(){this.jp()},t.prototype.send=function(t){this.xp(t)},t.prototype.qp=function(){_(void 0!==this.Lp,"Cannot call onOpen because no callback was set"),this.Lp()},t.prototype.Qp=function(t){_(void 0!==this.Bp,"Cannot call onClose because no callback was set"),this.Bp(t)},t.prototype.Gp=function(t){_(void 0!==this.Mp,"Cannot call onMessage because no callback was set"),this.Mp(t)},t}(),ca={BatchGetDocuments:"batchGet",Commit:"commit"},ha="gl-js/ fire/"+h,fa=function(){function t(t){this.s=t.s;var e=t.ssl?"https":"http";this.Wp=e+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.zp=function(t,e){if(e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n]);t["X-Goog-Api-Client"]=ha},t.prototype.Vl=function(t,e,n){var r=this,i=this.Kp(t);return new Promise((function(o,s){var u=new c.XhrIo;u.listenOnce(c.EventType.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case c.ErrorCode.NO_ERROR:var e=u.getResponseJson();v("Connection","XHR received:",JSON.stringify(e)),o(e);break;case c.ErrorCode.TIMEOUT:v("Connection",'RPC "'+t+'" timed out'),s(new A(I.DEADLINE_EXCEEDED,"Request time out"));break;case c.ErrorCode.HTTP_ERROR:var n=u.getStatus();if(v("Connection",'RPC "'+t+'" failed with status:',n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var i=(a=r.status.toLowerCase().replace("_","-"),Object.values(I).indexOf(a)>=0?a:I.UNKNOWN);s(new A(i,r.message))}else s(new A(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else v("Connection",'RPC "'+t+'" failed'),s(new A(I.UNAVAILABLE,"Connection failed."));break;default:m('RPC "'+t+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{v("Connection",'RPC "'+t+'" completed.')}var a}));var l=a.__assign({},e);delete l.database;var h=JSON.stringify(l);v("Connection","XHR sending: ",i+" "+h);var f={"Content-Type":"text/plain"};r.zp(f,n),u.send(i,"POST",h,f,15)}))},t.prototype.Nl=function(t,e,n){return this.Vl(t,e,n)},t.prototype._l=function(t,e){var n=[this.Wp,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=c.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.zp(i.initMessageHeaders,e),u.isMobileCordova()||u.isReactNative()||u.isElectron()||u.isIE()||u.isUWP()||u.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");v("Connection","Creating WebChannel: "+o+" "+i);var a=r.createWebChannel(o,i),s=!1,l=!1,h=new la({xp:function(t){l?v("Connection","Not sending because WebChannel is closed:",t):(s||(v("Connection","Opening WebChannel transport."),a.open(),s=!0),v("Connection","WebChannel sending:",t),a.send(t))},jp:function(){return a.close()}}),f=function(t,e){a.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(c.WebChannel.EventType.OPEN,(function(){l||v("Connection","WebChannel transport opened.")})),f(c.WebChannel.EventType.CLOSE,(function(){l||(l=!0,v("Connection","WebChannel transport closed"),h.Qp())})),f(c.WebChannel.EventType.ERROR,(function(t){l||(l=!0,v("Connection","WebChannel transport errored:",t),h.Qp(new A(I.UNAVAILABLE,"The operation could not be completed")))})),f(c.WebChannel.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];_(!!n,"Got a webchannel message without data.");var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){v("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=Fe[t];if(void 0!==e)return qe(e)}(o),u=i.message;void 0===s&&(s=I.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),l=!0,h.Qp(new A(s,u)),a.close()}else v("Connection","WebChannel received:",n),h.Gp(n)}})),setTimeout((function(){h.qp()}),0),h},t.prototype.Kp=function(t){var e=ca[t];return _(void 0!==e,"Unknown REST mapping for: "+t),this.Wp+"/v1/projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents:"+e},t}(),pa=function(){function t(){this.du="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.Am=function(t){return Promise.resolve(new fa(t))},t.prototype.Pm=function(){return ua.Hs()?new ua:new sa},t.prototype.Sm=function(t){return new Tn(t,{Ze:!0})},t.prototype.i=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}();In.lu(new pa);function da(t){(function(t){var e;t.INTERNAL.registerComponent(new l.Component("firestore",(function(t){var e=t.getProvider("app").getImmediate();return new Ro(e,t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps((_((e=aa)&&"object"==typeof e,"shallowCopy() expects object parameter."),a.__assign({},e))))})(t),t.registerVersion("@firebase/firestore","1.11.2")}da(o),e.__PRIVATE_registerFirestore=da}).call(this,n(41))},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return d})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return m})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return x})),n.d(e,"__importDefault",(function(){return E}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function m(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(t){s("next",t)}function l(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function x(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"ErrorCode",(function(){return ur})),n.d(e,"EventType",(function(){return lr})),n.d(e,"WebChannel",(function(){return cr})),n.d(e,"XhrIo",(function(){return hr})),n.d(e,"createWebChannelTransport",(function(){return sr}));var r,i="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},o=o||{},a=i;function s(t){return"string"==typeof t}function u(t){return"number"==typeof t}function l(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function c(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function f(t){return"array"==h(t)}function p(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:m).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function x(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function E(){this.j=this.j,this.i=this.i}E.prototype.j=!1,E.prototype.la=function(){if(!this.j&&(this.j=!0,this.G(),0))this[v]||(this[v]=++g)},E.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var S=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(s(t))return s(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},C=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=s(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function k(t){return Array.prototype.concat.apply([],arguments)}function T(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function I(t){return/^[\s\xa0]*$/.test(t)}var A,M=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function P(t,e){return-1!=t.indexOf(e)}function O(t,e){return t<e?-1:t>e?1:0}t:{var N=a.navigator;if(N){var D=N.userAgent;if(D){A=D;break t}}A=""}function R(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function L(t){var e,n={};for(e in t)n[e]=t[e];return n}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<F.length;o++)n=F[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function B(t){return B[" "](t),t}B[" "]=c;var V,U=P(A,"Opera"),q=P(A,"Trident")||P(A,"MSIE"),z=P(A,"Edge"),H=z||q,W=P(A,"Gecko")&&!(P(A.toLowerCase(),"webkit")&&!P(A,"Edge"))&&!(P(A,"Trident")||P(A,"MSIE"))&&!P(A,"Edge"),G=P(A.toLowerCase(),"webkit")&&!P(A,"Edge");function Y(){var t=a.document;return t?t.documentMode:void 0}t:{var $="",X=function(){var t=A;return W?/rv:([^\);]+)(\)|;)/.exec(t):z?/Edge\/([\d\.]+)/.exec(t):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):G?/WebKit\/(\S+)/.exec(t):U?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(X&&($=X?X[1]:""),q){var Q=Y();if(null!=Q&&Q>parseFloat($)){V=String(Q);break t}}V=$}var K,J={};function Z(t){return function(t,e){var n=J;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=M(String(V)).split("."),r=M(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=O(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||O(0==a[2].length,0==s[2].length)||O(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}var tt=a.document;K=tt&&q?Y()||("CSS1Compat"==tt.compatMode?parseInt(V,10):5):void 0;var et=!q||9<=Number(K),nt=q&&!Z("9"),rt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",c,e),a.removeEventListener("test",c,e)}catch(n){}return t}();function it(t,e){this.type=t,this.a=this.target=e,this.Ia=!0}function ot(t,e){if(it.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(W){t:{try{B(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=s(t.pointerType)?t.pointerType:at[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}it.prototype.b=function(){this.Ia=!1},x(ot,it);var at={2:"touch",3:"pen",4:"mouse"};ot.prototype.b=function(){ot.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,nt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var st="closure_listenable_"+(1e6*Math.random()|0),ut=0;function lt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++ut,this.X=this.Z=!1}function ct(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function ht(t){this.src=t,this.a={},this.b=0}function ft(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=S(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ct(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function pt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}ht.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=pt(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new lt(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var dt="closure_lm_"+(1e6*Math.random()|0),vt={};function gt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(f(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=St(r),e&&e[st]?e.Aa(n,r,d(i)?!!i.capture:!!i,o):yt(e,n,r,!0,i,o)}(t,e,n,r,i);if(f(e)){for(var o=0;o<e.length;o++)gt(t,e[o],n,r,i);return null}return n=St(n),t&&t[st]?t.za(e,n,d(r)?!!r.capture:!!r,i):yt(t,e,n,!1,r,i)}function yt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=d(i)?!!i.capture:!!i;if(a&&!et)return null;var s=xt(t);if(s||(t[dt]=s=new ht(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=wt,e=et?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)rt||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_t(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function mt(t){if(!u(t)&&t&&!t.X){var e=t.src;if(e&&e[st])ft(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_t(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=xt(e))?(ft(n,t),0==n.b&&(n.src=null,e[dt]=null)):ct(t)}}}function _t(t){return t in vt?vt[t]:vt[t]="on"+t}function bt(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&mt(t),n.call(r,e)}function wt(t,e){return!!t.X||(et?bt(t,new ot(e,this)):bt(t,e=new ot(e||l("window.event"),this)))}function xt(t){return(t=t[dt])instanceof ht?t:null}var Et="__closure_events_fn_"+(1e9*Math.random()>>>0);function St(t){return"function"==h(t)?t:(t[Et]||(t[Et]=function(e){return t.handleEvent(e)}),t[Et])}function Ct(){E.call(this),this.c=new ht(this),this.J=this,this.B=null}function kt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.X&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&ft(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Ia}x(Ct,E),Ct.prototype[st]=!0,(r=Ct.prototype).addEventListener=function(t,e,n,r){gt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(f(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=d(i)?!!i.capture:!!i,r=St(r),e&&e[st]?(e=e.c,(n=String(n).toString())in e.a&&(-1<(r=pt(a=e.a[n],r,i,o))&&(ct(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--)))):e&&(e=xt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=pt(n,r,i,o)),(r=-1<e?n[e]:null)&&mt(r))}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(s(t))t=new it(t,n);else if(t instanceof it)t.target=t.target||n;else{var i=t;j(t=new it(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=kt(a,r,!0,t)&&i}if(i=kt(a=t.a=n,r,!0,t)&&i,i=kt(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=kt(a=t.a=e[o],r,!1,t)&&i;return i},r.G=function(){if(Ct.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ct(n[r]);delete e.a[t],e.b--}}this.B=null},r.za=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Aa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Tt=a.JSON.stringify;function It(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function At(){this.b=this.a=null}It.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Mt,Pt=new It((function(){return new Nt}),(function(t){t.reset()}));function Ot(){var t=Ft,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Nt(){this.next=this.b=this.a=null}function Dt(t){a.setTimeout((function(){throw t}),0)}function Rt(t,e){Mt||function(){var t=a.Promise.resolve(void 0);Mt=function(){t.then(jt)}}(),Lt||(Mt(),Lt=!0),Ft.add(t,e)}At.prototype.add=function(t,e){var n=Pt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Nt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Nt.prototype.reset=function(){this.next=this.b=this.a=null};var Lt=!1,Ft=new At;function jt(){for(var t;t=Ot();){try{t.a.call(t.b)}catch(n){Dt(n)}var e=Pt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Lt=!1}function Bt(t,e){Ct.call(this),this.b=t||1,this.a=e||a,this.f=_(this.gb,this),this.g=w()}function Vt(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Ut(t,e,n){if("function"==h(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function qt(t,e,n){E.call(this),this.f=null!=n?_(t,n):t,this.c=e,this.b=_(this.$a,this),this.a=[]}function zt(t){t.U=Ut(t.b,t.c),t.f.apply(null,t.a)}function Ht(t){E.call(this),this.b=t,this.a={}}x(Bt,Ct),(r=Bt.prototype).ba=!1,r.L=null,r.gb=function(){if(this.ba){var t=w()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Vt(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=w())},r.G=function(){Bt.N.G.call(this),Vt(this),delete this.a},x(qt,E),(r=qt.prototype).ea=!1,r.U=null,r.Ta=function(t){this.a=arguments,this.U?this.ea=!0:zt(this)},r.G=function(){qt.N.G.call(this),this.U&&(a.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.$a=function(){this.U=null,this.ea&&(this.ea=!1,zt(this))},x(Ht,E);var Wt=[];function Gt(t,e,n,r){f(n)||(n&&(Wt[0]=n.toString()),n=Wt);for(var i=0;i<n.length;i++){var o=gt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Yt(t){R(t.a,(function(t,e){this.a.hasOwnProperty(e)&&mt(t)}),t),t.a={}}function $t(){}Ht.prototype.G=function(){Ht.N.G.call(this),Yt(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xt=new Ct;function Qt(t){it.call(this,"serverreachability",t)}function Kt(t){Xt.dispatchEvent(new Qt(Xt,t))}function Jt(t){it.call(this,"statevent",t)}function Zt(t){Xt.dispatchEvent(new Jt(Xt,t))}function te(t){it.call(this,"timingevent",t)}function ee(t,e){if("function"!=h(t))throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){t()}),e)}x(Qt,it),x(Jt,it),x(te,it);var ne={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,La:7,TIMEOUT:8,sb:9},re={jb:"complete",wb:"success",Ma:"error",La:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function ie(){}function oe(t){var e;return(e=t.a)||(e=t.a={}),e}function ae(){}ie.prototype.a=null;var se,ue={OPEN:"a",ib:"b",Ma:"c",rb:"d"};function le(){it.call(this,"d")}function ce(){it.call(this,"c")}function he(){}function fe(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new Ht(this),this.O=pe,t=H?125:void 0,this.P=new Bt(t),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}x(le,it),x(ce,it),x(he,ie),se=new he;var pe=45e3,de={},ve={};function ge(t,e,n){t.F=1,t.f=Ue(De(e)),t.l=n,t.H=!0,me(t,null)}function ye(t,e,n,r){t.F=1,t.f=Ue(De(e)),t.l=null,t.H=n,me(t,r)}function me(t,e){t.v=w(),we(t),t.D=De(t.f),Ve(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new qt(_(t.Ja,t,t.a),t.J)),Gt(t.I,t.a,"readystatechange",t.cb),e=t.h?L(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),Kt(1)}function _e(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var i=be(t,n);if(i==ve){4==e&&(t.c=4,Zt(14),r=!1);break}if(i==de){t.c=4,Zt(15),r=!1;break}ke(t,i)}4==e&&0==n.length&&(t.c=1,Zt(16),r=!1),t.b=t.b&&r,r||(Ce(t),Se(t))}function be(t,e){var n=t.A,r=e.indexOf("\n",n);return-1==r?ve:(n=Number(e.substring(n,r)),isNaN(n)?de:(r+=1)+n>e.length?ve:(e=e.substr(r,n),t.A=r+n,e))}function we(t){t.R=w()+t.O,xe(t,t.O)}function xe(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ee(_(t.ab,t),e)}function Ee(t){t.i&&(a.clearTimeout(t.i),t.i=null)}function Se(t){t.g.Ca()||t.m||t.g.na(t)}function Ce(t){Ee(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,Vt(t.P),Yt(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function ke(t,e){try{t.g.Fa(t,e),Kt(4)}catch(n){}}function Te(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||s(t))C(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(p(t)||s(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(s(t))return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ie(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ie)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ae(t,e){Pe(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Me(t))}function Me(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Pe(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Pe(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Pe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=fe.prototype).setTimeout=function(t){this.O=t},r.cb=function(t){t=t.target;var e=this.B;e&&3==Dn(t)?e.Ta():this.Ja(t)},r.Ja=function(t){try{if(t==this.a)t:{var e=Dn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>e||3==e&&!H&&!this.a.aa())){this.m||4!=e||7==n||Kt(8==n||0>=r?3:2),Ee(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){e:{if(this.a){var a=Rn(this.a,"X-HTTP-Initial-Response");if(a&&!I(a)){var s=a;break e}}s=null}if(!s){this.b=!1,this.c=3,Zt(12),Ce(this),Se(this);break t}this.s=!0,ke(this,s)}this.H?(_e(this,e,o),H&&this.b&&3==e&&(Gt(this.I,this.P,"tick",this.bb),this.P.start())):ke(this,o),4==e&&Ce(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,we(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,Zt(12)):(this.c=0,Zt(13)),Ce(this),Se(this)}}}catch(u){}},r.bb=function(){if(this.a){var t=Dn(this.a),e=this.a.aa();this.A<e.length&&(Ee(this),_e(this,t,e),this.b&&4!=t&&we(this))}},r.cancel=function(){this.m=!0,Ce(this)},r.ab=function(){this.i=null;var t=w();0<=t-this.R?(2!=this.F&&(Kt(3),Zt(17)),Ce(this),this.c=2,Se(this)):xe(this,this.R-t)},(r=Ie.prototype).C=function(){Me(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.K=function(){return Me(this),this.a.concat()},r.get=function(t,e){return Pe(this.b,t)?this.b[t]:e},r.set=function(t,e){Pe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Oe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ne(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Ne?(this.h=void 0!==e?e:t.h,Re(this,t.f),this.j=t.j,Le(this,t.b),Fe(this,t.i),this.a=t.a,je(this,en(t.c)),this.g=t.g):t&&(n=String(t).match(Oe))?(this.h=!!e,Re(this,n[1]||"",!0),this.j=qe(n[2]||""),Le(this,n[3]||"",!0),Fe(this,n[4]),this.a=qe(n[5]||"",!0),je(this,n[6]||"",!0),this.g=qe(n[7]||"")):(this.h=!!e,this.c=new Qe(null,this.h))}function De(t){return new Ne(t)}function Re(t,e,n){t.f=n?qe(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Le(t,e,n){t.b=n?qe(e,!0):e}function Fe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function je(t,e,n){e instanceof Qe?(t.c=e,function(t,e){e&&!t.f&&(Ke(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Je(this,e),tn(this,n,t))}),t)),t.f=e}(t.c,t.h)):(n||(e=ze(e,$e)),t.c=new Qe(e,t.h))}function Be(t,e,n){t.c.set(e,n)}function Ve(t,e,n){f(n)||(n=[String(n)]),tn(t.c,e,n)}function Ue(t){return Be(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),t}function qe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ze(t,e,n){return s(t)?(t=encodeURI(t).replace(e,He),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function He(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ne.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ze(e,We,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ze(e,We,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(ze(n,"/"==n.charAt(0)?Ye:Ge,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",ze(n,Xe)),t.join("")},Ne.prototype.resolve=function(t){var e=De(this),n=!!t.f;n?Re(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Le(e,t.b):n=null!=t.i;var r=t.a;if(n)Fe(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(P(i,"./")||P(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?je(e,en(t.c)):n=!!t.g,n&&(e.g=t.g),e};var We=/[#\/\?@]/g,Ge=/[#\?:]/g,Ye=/[#\?]/g,$e=/[#\?@]/g,Xe=/#/g;function Qe(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ke(t){t.a||(t.a=new Ie,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Je(t,e){Ke(t),e=nn(t,e),Pe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ae(t.a,e))}function Ze(t,e){return Ke(t),e=nn(t,e),Pe(t.a.b,e)}function tn(t,e,n){Je(t,e),0<n.length&&(t.c=null,t.a.set(nn(t,e),T(n)),t.b+=n.length)}function en(t){var e=new Qe;return e.c=t.c,t.a&&(e.a=new Ie(t.a),e.b=t.b),e}function nn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function rn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function on(t){var e=t.a.F.a;if(null!=e)Zt(4),e?(Zt(10),Yn(t.a,t,!1)):(Zt(11),Yn(t.a,t,!0));else{t.b=new fe(t,void 0,void 0),t.b.h=t.h,e=Jn(e=t.a,e.Y()?t.f:null,t.i),Zt(4),Ve(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.I;n&&r&&Be(e,n,r),ye(t.b,e,!1,t.f)}}function an(){this.a=this.b=null}function sn(){this.a=new Ie}function un(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[v]||(t[v]=++g)):e.charAt(0)+t}function ln(t,e){this.b=t,this.a=e}function cn(t){this.g=t||hn,a.PerformanceNavigationTiming?t=0<(t=a.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(a.ka&&a.ka.Da&&a.ka.Da()&&a.ka.Da().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new sn),this.b=null,this.c=[]}(r=Qe.prototype).add=function(t,e){Ke(this),this.c=null,t=nn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.forEach=function(t,e){Ke(this),this.a.forEach((function(n,r){C(n,(function(n){t.call(e,n,r,this)}),this)}),this)},r.K=function(){Ke(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.C=function(t){Ke(this);var e=[];if(s(t))Ze(this,t)&&(e=k(e,this.a.get(nn(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=k(e,t[n])}return e},r.set=function(t,e){return Ke(this),this.c=null,Ze(this,t=nn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")},x((function(){}),(function(){})),(r=rn.prototype).M=null,r.$=function(t){return this.a.$(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Ca=function(){return!1},r.Fa=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Rn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Rn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(i){return(e=this.a).m=this.c,void Qn(e,2)}this.f=r[0]}else(e=this.a).m=this.c,Qn(e,2)}else 1==this.M&&(this.g?Zt(6):"11111"==e?(Zt(5),this.g=!0,(!q||10<=Number(K))&&(this.c=200,this.b.cancel(),Zt(11),Yn(this.a,this,!0))):(Zt(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,on(this)):1==this.M&&(this.g?(Zt(11),Yn(this.a,this,!0)):(Zt(10),Yn(this.a,this,!1)));else{0==this.M?Zt(8):1==this.M&&Zt(9);var t=this.a;t.m=this.c,Qn(t,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},sn.prototype.add=function(t){this.a.set(un(t),t)},sn.prototype.C=function(){return this.a.C()};var hn=10;function fn(t,e){!t.a&&(P(e,"spdy")||P(e,"quic")||P(e,"h2"))&&(t.f=t.g,t.a=new sn,t.b&&(gn(t,t.b),t.b=null))}function pn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function dn(t){return t.b?1:t.a?t.a.a.c:0}function vn(t,e){return t.b?t=t.b==e:t.a?(e=un(e),t=Pe(t.a.a.b,e)):t=!1,t}function gn(t,e){t.a?t.a.add(e):t.b=e}function yn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=un(e),n=Pe(t.a.a.b,n)),n&&Ae(t.a.a,un(e)))}function mn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return C(t.a.C(),(function(t){e=e.concat(t.j)})),e}return T(t.c)}function _n(){}function bn(){this.a=new _n}function wn(t,e,n){var r=n||"";try{Te(t,(function(t,n){var i=t;d(t)&&(i=Tt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function xn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}cn.prototype.cancel=function(){var t;this.c=mn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(C(this.a.C(),(function(t){t.cancel()})),(t=this.a.a).b={},t.a.length=0,t.c=0)},_n.prototype.stringify=function(t){return a.JSON.stringify(t,void 0)},_n.prototype.parse=function(t){return a.JSON.parse(t,void 0)};var En=a.JSON.parse;function Sn(t){Ct.call(this),this.headers=new Ie,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Cn,this.D=this.F=!1}x(Sn,Ct);var Cn="",kn=/^https?$/i,Tn=["POST","PUT"];function In(t){return"content-type"==t.toLowerCase()}function An(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Mn(t),On(t)}function Mn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Pn(t){if(t.b&&"undefined"!=typeof o&&(!t.s[1]||4!=Dn(t)||2!=t.T()))if(t.l&&4==Dn(t))Ut(t.Ea,0,t);else if(t.dispatchEvent("readystatechange"),4==Dn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.A).match(Oe)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!kn.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var l=2<Dn(t)?t.a.statusText:""}catch(c){l=""}t.f=l+" ["+t.T()+"]",Mn(t)}}finally{On(t)}}}function On(t,e){if(t.a){Nn(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Nn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(a.clearTimeout(t.m),t.m=null)}function Dn(t){return t.a?t.a.readyState:0}function Rn(t,e){return t.a?t.a.getResponseHeader(e):null}function Ln(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return R(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),s(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return Be(t,e,n),t}function Fn(t){this.f=[],this.F=new an,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Qa=this.P=0,this.Oa=!!l("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Na=l("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Ra=l("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Pa=l("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=l("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.Ka=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new cn(t&&t.concurrentRequestLimit),this.ja=new bn,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function jn(t){if(Bn(t),3==t.u){var e=t.P++,n=De(t.B);Be(n,"SID",t.H),Be(n,"RID",e),Be(n,"TYPE","terminate"),zn(t,n),(e=new fe(t,e,void 0)).F=2,e.f=Ue(De(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(e.f.toString(),"")),!n&&a.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=w(),we(e)}Kn(t)}function Bn(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(a.clearTimeout(t.l),t.l=null),$n(t),t.b.cancel(),t.h&&(u(t.h)&&a.clearTimeout(t.h),t.h=null)}function Vn(t,e){t.f.push(new ln(t.Qa++,e)),3==t.u&&Un(t)}function Un(t){pn(t.b)||t.h||(t.h=!0,Rt(t.Ha,t),t.A=0)}function qn(t,e){var n;n=e?e.W:t.P++;var r=De(t.B);Be(r,"SID",t.H),Be(r,"RID",n),Be(r,"AID",t.O),zn(t,r),t.g&&t.i&&Ln(r,t.g,t.i),n=new fe(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=Hn(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),gn(t.b,n),ge(n,r,e)}function zn(t,e){t.c&&Te({},(function(t,n){Be(e,n,t)}))}function Hn(t,e,n){n=Math.min(t.f.length,n);var r=t.c?_(t.c.Sa,t.c,t):null;t:for(var i=t.f,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var l=i[u].b,c=i[u].a;if(0>(l-=o))o=Math.max(0,i[u].b-100),s=!1;else try{wn(c,a,"req"+l+"_")}catch(h){r&&r(c)}}if(s){r=a.join("&");break t}}return t=t.f.splice(0,n),e.j=t,r}function Wn(t){t.a||t.l||(t.S=1,Rt(t.Ga,t),t.v=0)}function Gn(t){return!(t.a||t.l||3<=t.v)&&(t.S++,t.l=ee(_(t.Ga,t),Xn(t,t.v)),t.v++,!0)}function Yn(t,e,n){var r=e.l;r&&fn(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=Jn(t,null,t.ha),Un(t)}function $n(t){null!=t.s&&(a.clearTimeout(t.s),t.s=null)}function Xn(t,e){var n=t.Na+Math.floor(Math.random()*t.Ra);return t.ma()||(n*=2),n*e}function Qn(t,e){if(2==e){var n=null;t.c&&(n=null);var r=_(t.eb,t);n||(n=new Ne("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Re(n,"https"),Ue(n)),function(t,e){var n=new $t;if(a.Image){var r=new Image;r.onload=b(xn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=b(xn,n,r,"TestLoadImage: error",!1,e),r.onabort=b(xn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=b(xn,n,r,"TestLoadImage: timeout",!1,e),a.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Zt(2);t.u=0,t.c&&t.c.ta(e),Kn(t),Bn(t)}function Kn(t){t.u=0,t.m=-1,t.c&&(0==mn(t.b).length&&0==t.f.length||(t.b.c.length=0,T(t.f),t.f.length=0),t.c.sa())}function Jn(t,e,n){var r=function(t){return t instanceof Ne?De(t):new Ne(t,void 0)}(n);if(""!=r.b)e&&Le(r,e+"."+r.b),Fe(r,r.i);else{var i,o=a.location;i=e?e+"."+o.hostname:o.hostname,r=function(t,e,n,r){var i=new Ne(null,void 0);return t&&Re(i,t),e&&Le(i,e),n&&Fe(i,n),r&&(i.a=r),i}(o.protocol,i,+o.port,n)}return t.V&&R(t.V,(function(t,e){Be(r,e,t)})),e=t.j,n=t.I,e&&n&&Be(r,e,n),Be(r,"VER",t.wa),zn(t,r),r}function Zn(){}function tr(){if(q&&!(10<=Number(K)))throw Error("Environmental error: no available transport.")}function er(t,e){Ct.call(this),this.a=new Fn(e),this.g=t,this.m=e&&e.fb?e.fb:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];if(0==i.lastIndexOf("/",0))e=i;else(r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!I(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!I(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new ir(this)}function nr(t){le.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function rr(){ce.call(this),this.status=1}function ir(t){this.a=t}(r=Sn.prototype).ca=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?oe(this.H):oe(se),this.a.onreadystatechange=_(this.Ea,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void An(this,o)}t=n||"";var i=new Ie(this.headers);r&&Te(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=In,n=t.length,r=s(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:s(t)?t.charAt(e):t[e]}(i.K()),n=a.FormData&&t instanceof a.FormData,!(0<=S(Tn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Nn(this),0<this.o&&((this.D=function(t){return q&&Z(9)&&u(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=_(this.Ba,this)):this.m=Ut(this.Ba,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){An(this,o)}},r.Ba=function(){"undefined"!=typeof o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),On(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),On(this,!0)),Sn.N.G.call(this)},r.Ea=function(){this.j||(this.w||this.l||this.g?Pn(this):this.Za())},r.Za=function(){Pn(this)},r.T=function(){try{return 2<Dn(this)?this.a.status:-1}catch(t){return-1}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},r.Ua=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),En(e)}},r.ya=function(){return this.h},r.Xa=function(){return s(this.f)?this.f:String(this.f)},(r=Fn.prototype).wa=8,r.u=1,r.Ca=function(){return 0==this.u},r.Ha=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new fe(this,t=this.P++,void 0),r=this.i;if(this.J&&(r?j(r=L(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&s(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Hn(this,n,e),Be(i=De(this.B),"RID",t),Be(i,"CVER",22),this.o&&this.j&&Be(i,"X-HTTP-Session-Id",this.j),zn(this,i),this.g&&r&&Ln(i,this.g,r),gn(this.b,n),this.W?(Be(i,"$req",e),Be(i,"SID","null"),n.S=!0,ge(n,i,null)):ge(n,i,e),this.u=2}}else 3==this.u&&(t?qn(this,t):0==this.f.length||pn(this.b)||qn(this))},r.Ga=function(){this.l=null,this.a=new fe(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=De(this.pa);Be(t,"RID","rpc"),Be(t,"SID",this.H),Be(t,"CI",this.ia?"0":"1"),Be(t,"AID",this.O),zn(this,t),Be(t,"TYPE","xmlhttp"),this.g&&this.i&&Ln(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),ye(this.a,t,!0,this.ga)},r.Fa=function(t,e){if(0!=this.u&&(this.a==t||vn(this.b,t)))if(this.m=t.o,!t.s&&vn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(o){n=null}if(f(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;$n(this),this.a.cancel(),this.a=null}Gn(this),Zt(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ee(_(this.Ya,this),6e3));if(1>=dn(this.b)&&this.fa){try{this.fa()}catch(o){}this.fa=void 0}}else Qn(this,11)}else if((t.s||this.a==t)&&$n(this),!I(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&u(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((i=Rn(r,"X-Client-Wire-Protocol"))&&fn(this.b,i),this.j&&(r=Rn(r,"X-HTTP-Session-Id")))&&(this.I=r,Be(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=Jn(this,this.Y()?this.ga:null,this.ha),r.s?(yn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(Ee(r),we(r)),this.a=r):Wn(this),0<this.f.length&&Un(this)}else"stop"!=r[0]&&"close"!=r[0]||Qn(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Qn(this,7):jn(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Ya=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Gn(this),Zt(19))},r.na=function(t){var e=null;if(this.a==t){$n(this),this.a=null;var n=2}else{if(!vn(this.b,t))return;e=t.j,yn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=w()-t.v,Xt.dispatchEvent(new te(Xt,t.l?t.l.length:0,e,this.A)),Un(this)):Wn(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&function(t,e){return!(dn(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.f=e.j.concat(t.f),!0):!(1==t.u||2==t.u||t.A>=(t.Oa?0:t.Pa))&&(t.h=ee(_(t.Ha,t,e),Xn(t,t.A)),t.A++,!0))}(this,t)||2==n&&Gn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:Qn(this,5);break;case 4:Qn(this,10);break;case 3:Qn(this,6);break;default:Qn(this,2)}}},r.eb=function(t){Zt(t?2:1)},r.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Sn(this.Ka)).F=this.R,t},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=Zn.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Sa=function(){},tr.prototype.a=function(t,e){return new er(t,e)},x(er,Ct),(r=er.prototype).addEventListener=function(t,e,n,r){er.N.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){er.N.removeEventListener.call(this,t,e,n,r)},r.Va=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;Zt(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new rn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Ln(e,t.g,t.i)),(t=t.w).i=n,e=Jn(t.a,null,t.i),Zt(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,on(t)):(Ve(e,"MODE","init"),!t.a.o&&t.a.j&&Ve(e,"X-HTTP-Session-Id",t.a.j),t.b=new fe(t,void 0,void 0),t.b.h=t.h,ye(t.b,e,!1,null),t.M=0)},r.close=function(){jn(this.a)},r.Wa=function(t){if(s(t)){var e={};e.__data__=t,Vn(this.a,e)}else this.h?((e={}).__data__=Tt(t),Vn(this.a,e)):Vn(this.a,t)},r.G=function(){this.a.c=null,delete this.f,jn(this.a),delete this.a,er.N.G.call(this)},x(nr,le),x(rr,ce),x(ir,Zn),ir.prototype.va=function(){this.a.dispatchEvent("a")},ir.prototype.ua=function(t){this.a.dispatchEvent(new nr(t))},ir.prototype.ta=function(t){this.a.dispatchEvent(new rr(t))},ir.prototype.sa=function(){this.a.dispatchEvent("b")};var or=b((function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r}),tr);tr.prototype.createWebChannel=tr.prototype.a,er.prototype.send=er.prototype.Wa,er.prototype.open=er.prototype.Va,er.prototype.close=er.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,re.COMPLETE="complete",ae.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",Ct.prototype.listen=Ct.prototype.za,Sn.prototype.listenOnce=Sn.prototype.Aa,Sn.prototype.getLastError=Sn.prototype.Xa,Sn.prototype.getLastErrorCode=Sn.prototype.ya,Sn.prototype.getStatus=Sn.prototype.T,Sn.prototype.getResponseJson=Sn.prototype.Ua,Sn.prototype.getResponseText=Sn.prototype.aa,Sn.prototype.send=Sn.prototype.ca;var ar={createWebChannelTransport:or,ErrorCode:ne,EventType:re,WebChannel:ae,XhrIo:Sn},sr=ar.createWebChannelTransport,ur=ar.ErrorCode,lr=ar.EventType,cr=ar.WebChannel,hr=ar.XhrIo;e.default=ar}.call(this,n(24))},function(t,e,n){"use strict";var r,i=(r=n(2))&&"object"===typeof r&&"default"in r?r.default:r,o=n(73),a=n(10),s={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},u=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return o.__extends(e,t),e}(Error);var l=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(e){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e;return o.__generator(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();function c(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var h=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"===typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"===typeof t||"object"===typeof t)return c(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"===typeof t||"object"===typeof t?c(t,(function(t){return e.decode(t)})):t},t}();var f=function(){function t(t,e,n,r){var i=this;void 0===r&&(r="us-central1"),this.app_=t,this.region_=r,this.serializer=new h,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return i.deleteService()}},this.contextProvider=new l(e,n),this.cancelAllRequests=new Promise((function(t){i.deleteService=function(){return t()}}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId,n=this.region_;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+n+"/"+t:"https://"+n+"-"+e+".cloudfunctions.net/"+t},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i;return o.__generator(this,(function(o){switch(o.label){case 0:n.append("Content-Type","application/json"),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},t.prototype.call=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,a,l,c,h,f,p;return o.__generator(this,(function(o){switch(o.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},a=new Headers,[4,this.contextProvider.getContext()];case 1:return(l=o.sent()).authToken&&a.append("Authorization","Bearer "+l.authToken),l.instanceIdToken&&a.append("Firebase-Instance-ID-Token",l.instanceIdToken),c=n.timeout||7e4,[4,Promise.race([this.postJSON(r,i,a),(d=c,new Promise((function(t,e){setTimeout((function(){e(new u("deadline-exceeded","deadline-exceeded"))}),d)}))),this.cancelAllRequests])];case 2:if(!(h=o.sent()))throw new u("cancelled","Firebase Functions instance was deleted.");if(f=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var l=a.status;if("string"===typeof l){if(!s[l])return new u("internal","internal");r=s[l],i=l}var c=a.message;"string"===typeof c&&(i=c),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(h){}return"ok"===r?null:new u(r,i,o)}(h.status,h.json,this.serializer))throw f;if(!h.json)throw new u("internal","Response is not valid JSON object.");if("undefined"===typeof(p=h.json.data)&&(p=h.json.result),"undefined"===typeof p)throw new u("internal","Response is missing data field.");return[2,{data:this.serializer.decode(p)}]}var d}))}))},t}();function p(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("messaging");return new f(n,r,i,e)}!function(t){var e={Functions:f};t.INTERNAL.registerComponent(new a.Component("functions",p,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(i),i.registerVersion("@firebase/functions","0.4.36")},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return d})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return m})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return x})),n.d(e,"__importDefault",(function(){return E}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function m(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(t){s("next",t)}function l(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function x(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n(2))&&"object"===typeof r&&"default"in r?r.default:r;n(29);var o,a,s,u,l=n(75),c=n(12),h=n(25),f=n(10),p=((o={})["trace started"]="Trace {$traceName} was started before.",o["trace stopped"]="Trace {$traceName} is not running.",o["no window"]="Window is not available.",o["no app id"]="App id is not available.",o["no project id"]="Project id is not available.",o["no api key"]="Api key is not available.",o["invalid cc log"]="Attempted to queue invalid cc event",o["FB not default"]="Performance can only start when Firebase app instance is the default one.",o["RC response not ok"]="RC response is not ok",o["invalid attribute name"]="Attribute name {$attributeName} is invalid.",o["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",o["invalide custom metric name"]="Custom metric name {$customMetricName} is invalid",o),d=new c.ErrorFactory("performance","Performance",p),v=function(){function t(t){if(this.window=t,!t)throw d.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!!(fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===a&&(a=new t(s)),a},t}();var g,y,m=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw d.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw d.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw d.create("no api key");return t},t.getInstance=function(){return void 0===u&&(u=new t),u},t}();function _(){return g}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(y||(y={}));var b=["firebase_","google_","ga_"],w=new RegExp("^[a-zA-Z]\\w*$");function x(){var t=v.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function E(){switch(v.getInstance().document.visibilityState){case"visible":return y.VISIBLE;case"hidden":return y.HIDDEN;default:return y.UNKNOWN}}function S(){var t=v.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var C=new h.Logger("Performance");C.logLevel=h.LogLevel.INFO;var k=!0;function T(t){var e=function(){var t=v.getInstance().localStorage;if(!t)return;var e=t.getItem("@firebase/performance/configexpire");if(!e||(n=e,!(Number(n)>Date.now())))return;var n;var r=t.getItem("@firebase/performance/config");if(!r)return;try{return JSON.parse(r)}catch(o){return}}();return e?(I(e),Promise.resolve()):function(t){return function(){var t=m.getInstance().installationsService.getToken();return t.then((function(t){})),t}().then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+m.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+m.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:m.getInstance().getAppId(),app_version:"0.2.34",sdk_version:"0.0.1"})});return fetch(r).then((function(t){if(t.ok)return t.json();throw d.create("RC response not ok")}))})).catch((function(){C.info("Could not fetch config, will use default configs")}))}(t).then((function(t){return I(t)})).then((function(t){return function(t){var e=v.getInstance().localStorage;if(!t||!e)return;e.setItem("@firebase/performance/config",JSON.stringify(t)),e.setItem("@firebase/performance/configexpire",String(Date.now()+60*m.getInstance().configTimeToLive*60*1e3))}(t)}),(function(){}))}function I(t){if(!t)return t;var e=m.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled="true"===String(n.fpr_enabled):e.loggingEnabled=k,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=A(e.tracesSamplingRate),e.logNetworkAfterSampling=A(e.networkRequestsSamplingRate),t}function A(t){return Math.random()<=t}var M,P=1;function O(){return P=2,M=M||function(){var t=v.getInstance().document;return new Promise((function(e){t&&"complete"!==t.readyState?t.addEventListener("readystatechange",(function n(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())})):e()}))}().then((function(){return function(){var t=m.getInstance().installationsService.getId();return t.then((function(t){g=t})),t}()})).then((function(t){return T(t)})).then((function(){return N()}),(function(){return N()}))}function N(){P=3}var D,R=3,L=[],F=!1;function j(){F||(!function t(e){setTimeout((function(){if(0!==R){if(!L.length)return t(1e4);var e=l.__spreadArrays(L);L=[];var n=e.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}})),r={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:m.getInstance().logSource,log_event:n};fetch(m.getInstance().logEndPointUrl,{method:"POST",body:JSON.stringify(r)}).then((function(t){return t.ok||C.info("Call to Firebase backend failed."),t.json()})).then((function(e){var n=Number(e.next_request_wait_millis),r=isNaN(n)?1e4:Math.max(1e4,n);R=3,t(r)})).catch((function(){L=l.__spreadArrays(e,L),R--,C.info("Tries left: "+R+"."),t(1e4)}))}}),e)}(5500),F=!0)}function B(t){if(!t.eventTime||!t.message)throw d.create("invalid cc log");L=l.__spreadArrays(L,[t])}function V(t,e){D||(D=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);B({message:r,eventTime:Date.now()})}}(z)),D(t,e)}function U(t){var e=m.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&v.getInstance().requiredApisAvailable()&&(t.isAuto&&E()!==y.VISIBLE||e.loggingEnabled&&e.logTraceAfterSampling&&(3===P?q(t):O().then((function(){return q(t)}),(function(){return q(t)}))))}function q(t){_()&&setTimeout((function(){return V(t,1)}),0)}function z(t,e){return 0===e?function(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:H(),network_request_metric:e};return JSON.stringify(n)}(t):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:H(),trace_metric:e};return JSON.stringify(r)}(t)}function H(){return{google_app_id:m.getInstance().getAppId(),app_instance_id:_(),web_app_info:{sdk_version:"0.2.34",page_url:v.getInstance().getUrl(),service_worker_status:x(),visibility_state:E(),effective_connection_type:S()},application_process_state:0}}var W=["_fp","_fcp","_fid"];var G=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=v.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw d.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw d.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),U(this)},t.prototype.record=function(t,e,n){if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=l.__assign({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}U(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]&&this.putMetric(t,0),this.counters[t]+=e},t.prototype.putMetric=function(t,e){if(!function(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith("_wt_")&&W.indexOf(t)>-1||!t.startsWith("_"))}(t,this.name))throw d.create("invalide custom metric name",{customMetricName:t});this.counters[t]=e},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=function(t){return!(0===t.length||t.length>40)&&(!b.some((function(e){return t.startsWith(e)}))&&!!t.match(w))}(t),r=function(t){return 0!==t.length&&t.length<=100}(e);if(n&&r)this.customAttributes[t]=e;else{if(!n)throw d.create("invalid attribute name",{attributeName:t});if(!r)throw d.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return l.__assign({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=v.getInstance().getUrl();if(i){var o=new t("_wt_"+i,!0),a=Math.floor(1e3*v.getInstance().getTimeOrigin());o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd)));if(n){var s=n.find((function(t){return"first-paint"===t.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(t){return"first-contentful-paint"===t.name}));u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}U(o)}},t.createUserTimingTrace=function(e){U(new t(e,!1,e))},t}();function Y(t){var e=t;if(e&&void 0!==e.responseStart){var n=v.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=m.getInstance();e.instrumentationEnabled&&t.url!==e.logEndPointUrl.split("?")[0]&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return V(t,0)}),0)}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function $(){_()&&(setTimeout((function(){return function(){var t=v.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){G.createOobTrace(e,n),r=void 0}),5e3);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),G.createOobTrace(e,n,t))}))}else G.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=v.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){Y(r[n])}t.setupObserver("resource",Y)}()}),0),setTimeout((function(){return function(){for(var t=v.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){X(r[n])}t.setupObserver("measure",X)}()}),0))}function X(t){var e=t.name;"FB-PERF-TRACE-MEASURE"!==e.substring(0,"FB-PERF-TRACE-MEASURE".length)&&G.createUserTimingTrace(e)}var Q=function(){function t(t){this.app=t,v.getInstance().requiredApisAvailable()?(j(),O().then($,$)):C.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled.")}return t.prototype.trace=function(t){return new G(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return m.getInstance().instrumentationEnabled},set:function(t){m.getInstance().instrumentationEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return m.getInstance().dataCollectionEnabled},set:function(t){m.getInstance().dataCollectionEnabled=t},enumerable:!0,configurable:!0}),t}();function K(t){var e=function(t,e){if("[DEFAULT]"!==t.name)throw d.create("FB not default");if("undefined"===typeof window)throw d.create("no window");return function(t){s=t}(window),m.getInstance().firebaseAppInstance=t,m.getInstance().installationsService=e,new Q(t)};t.INTERNAL.registerComponent(new f.Component("performance",(function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();return e(n,r)}),"PUBLIC")),t.registerVersion("@firebase/performance","0.2.34")}K(i),e.registerPerformance=K},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return d})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return m})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return x})),n.d(e,"__importDefault",(function(){return E}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function m(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(t){s("next",t)}function l(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function x(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n(2))&&"object"===typeof r&&"default"in r?r.default:r;n(29);var o,a=n(77),s=n(12),u=n(25),l=n(10),c=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,o;return a.__generator(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=a.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},t}(),h=((o={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",o["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",o["registration-api-key"]="Undefined API key. Check Firebase app initialization.",o["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",o["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",o["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",o["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",o["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",o["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",o["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',o["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',o["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",o["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",o),f=new s.ErrorFactory("remoteconfig","Remote Config",h);var p=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,o,s,u,l,c,h,p,d,v,g,y,m,_,b,w;return a.__generator(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=a.sent(),n=e[0],r=e[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},u={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===x&&(x=navigator),x.languages&&x.languages[0]||x.language)},l={method:"POST",headers:s,body:JSON.stringify(u)},c=fetch(o,l),h=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),a.label=2;case 2:return a.trys.push([2,5,,6]),[4,Promise.race([c,h])];case 3:return a.sent(),[4,c];case 4:return p=a.sent(),[3,6];case 5:throw d=a.sent(),v="fetch-client-network","AbortError"===d.name&&(v="fetch-timeout"),f.create(v,{originalErrorMessage:d.message});case 6:if(g=p.status,y=p.headers.get("ETag")||void 0,200!==p.status)return[3,11];b=void 0,a.label=7;case 7:return a.trys.push([7,9,,10]),[4,p.json()];case 8:return b=a.sent(),[3,10];case 9:throw w=a.sent(),f.create("fetch-client-parse",{originalErrorMessage:w.message});case 10:m=b.entries,_=b.state,a.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===_?g=500:"NO_CHANGE"===_?g=304:"NO_TEMPLATE"!==_&&"EMPTY_CONFIG"!==_||(m={}),304!==g&&200!==g)throw f.create("fetch-status",{httpStatus:g});return[2,{status:g,eTag:y,config:m}]}var x}))}))},t}(),d=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),v=["1","true","t","yes","y","on"],g=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&v.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),y=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=u.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=u.LogLevel.SILENT;break;default:this._logger.logLevel=u.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!0,configurable:!0}),t.prototype.activate=function(){return a.__awaiter(this,void 0,void 0,(function(){var t,e,n;return a.__generator(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),e=t[0],n=t[1],e&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return a.__awaiter(this,void 0,void 0,(function(){var t,e,n,r=this;return a.__generator(this,(function(i){switch(i.label){case 0:t=new d,setTimeout((function(){return a.__awaiter(r,void 0,void 0,(function(){return a.__generator(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),u="fetch-throttle",n=(o=e)instanceof s.FirebaseError&&-1!==o.code.indexOf(u)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}var o,u}))}))},t.prototype.fetchAndActivate=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t=this;return function(t,e){void 0===t&&(t={});void 0===e&&(e={});return Object.keys(a.__assign(a.__assign({},t),e))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(e,n){return e[n]=t.getValue(n),e}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new g("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new g("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new g("static"))},t}();function m(t,e){var n=t.target.error||void 0;return f.create(e,{originalErrorMessage:n&&n.message})}var _=function(){function t(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(m(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e,n=this;return a.__generator(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),a=n.createCompositeKey(t);try{var s=o.get(a);s.onerror=function(t){i(m(t,"storage-get"))},s.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(u){i(f.create("storage-get",{originalErrorMessage:u&&u.message}))}}))]}}))}))},t.prototype.set=function(t,e){return a.__awaiter(this,void 0,void 0,(function(){var n,r=this;return a.__generator(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=r.createCompositeKey(t);try{var u=a.put({compositeKey:s,value:e});u.onerror=function(t){o(m(t,"storage-set"))},u.onsuccess=function(){i()}}catch(l){o(f.create("storage-set",{originalErrorMessage:l&&l.message}))}}))]}}))}))},t.prototype.delete=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e,n=this;return a.__generator(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=n.createCompositeKey(t);try{var s=o.delete(a);s.onerror=function(t){i(m(t,"storage-delete"))},s.onsuccess=function(){r()}}catch(u){i(f.create("storage-delete",{originalErrorMessage:u&&u.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),b=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return a.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,i,o;return a.__generator(this,(function(a){switch(a.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function w(t){var e=1e3*Math.pow(2,t),n=Math.round(.5*e*(Math.random()-.5)*2);return Math.min(144e5,e+n)}function x(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(f.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var E=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e;return a.__generator(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return a.__awaiter(this,void 0,void 0,(function(){var e,i,o;return a.__generator(this,(function(a){switch(a.label){case 0:return[4,x(t.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof s.FirebaseError))return!1;var e=Number(t.httpStatus);return 429===e||500===e||503===e||504===e}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+w(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}}))}))},t}(),S="@firebase/remote-config";function C(t){t.INTERNAL.registerComponent(new l.Component("remoteConfig",(function(e,n){var r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw f.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,l=o.appId;if(!a)throw f.create("registration-project-id");if(!s)throw f.create("registration-api-key");if(!l)throw f.create("registration-app-id");n=n||"firebase";var h=new _(l,r.name,n),d=new b(h),v=new u.Logger(S);v.logLevel=u.LogLevel.ERROR;var g=new p(i,t.SDK_VERSION,n,a,s,l),m=new E(g,h),w=new c(m,h,d,v),x=new y(r,w,d,h,v);return x.ensureInitialized(),x}),"PUBLIC").setMultipleInstances(!0)),t.registerVersion(S,"0.1.15")}C(i),e.registerRemoteConfig=C},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return d})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return m})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return x})),n.d(e,"__importDefault",(function(){return E}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function m(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(t){s("next",t)}function l(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function x(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n,r){var i=e&&e.prototype instanceof c?e:c,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return S()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}t.wrap=s;var l={};function c(){}function h(){}function f(){}var p={};p[i]=function(){return this};var d=Object.getPrototypeOf,v=d&&d(d(E([])));v&&v!==e&&n.call(v,i)&&(p=v);var g=f.prototype=c.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function m(t){var e;this._invoke=function(r,i){function o(){return new Promise((function(e,o){!function e(r,i,o,a){var s=u(t[r],t,i);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"===typeof c&&n.call(c,"__await")?Promise.resolve(c.__await).then((function(t){e("next",t,o,a)}),(function(t){e("throw",t,o,a)})):Promise.resolve(c).then((function(t){l.value=t,o(l)}),(function(t){return e("throw",t,o,a)}))}a(s.arg)}(r,i,e,o)}))}return e=e?e.then(o,o):o()}}function _(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=g.constructor=f,f.constructor=h,f[a]=h.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(m.prototype),m.prototype[o]=function(){return this},t.AsyncIterator=m,t.async=function(e,n,r,i){var o=new m(s(e,n,r,i));return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},y(g),g[a]="Generator",g[i]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=E,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},,function(t,e,n){"use strict";n.r(e);var r=n(2),i=n.n(r),o=(n(29),n(10));var a=function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function l(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function c(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var h,f=n(12),p=n(20),d=((h={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',h["only-available-in-window"]="This method is available in a Window context.",h["only-available-in-sw"]="This method is available in a service worker context.",h["permission-default"]="The notification permission was not granted and dismissed instead.",h["permission-blocked"]="The notification permission was not granted and blocked instead.",h["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",h["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",h["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$errorInfo}",h["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",h["token-unsubscribe-failed"]="A problem occured while unsubscribing the user from FCM: {$errorInfo}",h["token-update-failed"]="A problem occured while updating the user from FCM: {$errorInfo}",h["token-update-no-token"]="FCM returned no token when updating the user to push.",h["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",h["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",h["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",h["invalid-vapid-key"]="The public VAPID key must be a string.",h["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",h),v=new f.ErrorFactory("messaging","Messaging",d);function g(t){return v.create("missing-app-config-values",{valueName:t})}function y(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}(e))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function m(t){return s(this,void 0,void 0,(function(){var e,n,r=this;return u(this,(function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=i.sent(),!e.map((function(t){return t.name})).includes("fcm_token_details_db"))return[2,null];i.label=2;case 2:return n=null,[4,Object(p.openDb)("fcm_token_details_db",5,(function(e){return s(r,void 0,void 0,(function(){var r,i,o,a;return u(this,(function(s){switch(s.label){case 0:return e.oldVersion<2?[2]:e.objectStoreNames.contains("fcm_token_object_Store")?[4,(r=e.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(t)]:[2];case 1:return i=s.sent(),[4,r.clear()];case 2:if(s.sent(),!i)return[2];if(2===e.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];n={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:y(o.vapidKey)}}}else(3===e.oldVersion||4===e.oldVersion)&&(n={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:y(o.auth),p256dh:y(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:y(o.vapidKey)}});return[2]}}))}))}))];case 3:return i.sent().close(),[4,Object(p.deleteDb)("fcm_token_details_db")];case 4:return i.sent(),[4,Object(p.deleteDb)("fcm_vapid_details_db")];case 5:return i.sent(),[4,Object(p.deleteDb)("undefined")];case 6:return i.sent(),[2,_(n)?n:null]}}))}))}function _(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"===typeof t.createTime&&t.createTime>0&&"string"===typeof t.token&&t.token.length>0&&"string"===typeof e.auth&&e.auth.length>0&&"string"===typeof e.p256dh&&e.p256dh.length>0&&"string"===typeof e.endpoint&&e.endpoint.length>0&&"string"===typeof e.swScope&&e.swScope.length>0&&"string"===typeof e.vapidKey&&e.vapidKey.length>0}var b="firebase-messaging-store",w=null;function x(){return w||(w=Object(p.openDb)("firebase-messaging-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(b)}}))),w}function E(t){return s(this,void 0,void 0,(function(){var e,n,r;return u(this,(function(i){switch(i.label){case 0:return e=k(t),[4,x()];case 1:return[4,i.sent().transaction(b).objectStore(b).get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,m(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,S(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function S(t,e){return s(this,void 0,void 0,(function(){var n,r,i;return u(this,(function(o){switch(o.label){case 0:return n=k(t),[4,x()];case 1:return r=o.sent(),[4,(i=r.transaction(b,"readwrite")).objectStore(b).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function C(t){return s(this,void 0,void 0,(function(){var e,n,r;return u(this,(function(i){switch(i.label){case 0:return e=k(t),[4,x()];case 1:return n=i.sent(),[4,(r=n.transaction(b,"readwrite")).objectStore(b).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function k(t){return t.appConfig.appId}var T="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";function I(t,e){return s(this,void 0,void 0,(function(){var n,r,i,o,a,s;return u(this,(function(u){switch(u.label){case 0:return[4,O(t)];case 1:n=u.sent(),r=N(e),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(P(t.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),v.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,v.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw v.create("token-subscribe-no-token");return[2,o.token]}}))}))}function A(t,e){return s(this,void 0,void 0,(function(){var n,r,i,o,a,s;return u(this,(function(u){switch(u.label){case 0:return[4,O(t)];case 1:n=u.sent(),r=N(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(P(t.appConfig)+"/"+e.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),v.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,v.create("token-update-failed",{errorInfo:s});if(!o.token)throw v.create("token-update-no-token");return[2,o.token]}}))}))}function M(t,e){return s(this,void 0,void 0,(function(){var n,r,i,o,a;return u(this,(function(s){switch(s.label){case 0:return[4,O(t)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(P(t.appConfig)+"/"+e,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,v.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),v.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function P(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function O(t){var e=t.appConfig,n=t.installations;return s(this,void 0,void 0,(function(){var t;return u(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function N(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==T&&(o.web.applicationPubKey=i),o}var D;function R(t,e,n){return s(this,void 0,void 0,(function(){var r,i,o,a;return u(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw v.create("permission-blocked");return[4,B(e,n)];case 1:return r=s.sent(),[4,E(t)];case 2:return i=s.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:y(r.getKey("auth")),p256dh:y(r.getKey("p256dh"))},i?[3,3]:[2,j(t,o)];case 3:if(function(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}(i.subscriptionOptions,o))return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,M(t,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,j(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,F({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}}))}))}function L(t,e){return s(this,void 0,void 0,(function(){var n,r;return u(this,(function(i){switch(i.label){case 0:return[4,E(t)];case 1:return(n=i.sent())?[4,M(t,n.token)]:[3,4];case 2:return i.sent(),[4,C(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function F(t,e,n){return s(this,void 0,void 0,(function(){var r,i,o;return u(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,A(e,t)];case 1:return r=s.sent(),i=a({token:r,createTime:Date.now()},t),[4,S(e,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,L(e,n)];case 4:throw s.sent(),o;case 5:return[2]}}))}))}function j(t,e){return s(this,void 0,void 0,(function(){var n,r;return u(this,(function(i){switch(i.label){case 0:return[4,I(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,S(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function B(t,e){return s(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e})]}}))}))}function V(t){return"object"===typeof t&&!!t&&"google.c.a.c_id"in t}!function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(D||(D={}));var U=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!0,configurable:!0}),t.prototype.getToken=function(){return s(this,void 0,void 0,(function(){var t;return u(this,(function(e){switch(e.label){case 0:return this.vapidKey||(this.vapidKey=T),[4,this.getServiceWorkerRegistration()];case 1:return t=e.sent(),"default"!==Notification.permission?[3,3]:[4,Notification.requestPermission()];case 2:e.sent(),e.label=3;case 3:if("granted"!==Notification.permission)throw v.create("permission-blocked");return[2,R(this.firebaseDependencies,t,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return s(this,void 0,void 0,(function(){var t;return u(this,(function(e){switch(e.label){case 0:return[4,this.getServiceWorkerRegistration()];case 1:return t=e.sent(),[2,L(this.firebaseDependencies,t)]}}))}))},t.prototype.requestPermission=function(){return s(this,void 0,void 0,(function(){var t;return u(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?v.create("permission-blocked"):v.create("permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw v.create("use-vapid-key-after-get-token");if("string"!==typeof t||0===t.length)throw v.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw v.create("invalid-sw-registration");if(this.swRegistration)throw v.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback="function"===typeof t?t:t.next,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw v.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.getServiceWorkerRegistration=function(){return s(this,void 0,void 0,(function(){var t,e;return u(this,(function(n){switch(n.label){case 0:if(this.swRegistration)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 2:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,4];case 3:throw e=n.sent(),v.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 4:return[2,this.swRegistration]}}))}))},t.prototype.messageEventListener=function(t){var e;return s(this,void 0,void 0,(function(){var n,r,i,o;return u(this,(function(a){switch(a.label){case 0:return(null===(e=t.data)||void 0===e?void 0:e.firebaseMessaging)?(n=t.data.firebaseMessaging,r=n.type,i=n.payload,this.onMessageCallback&&r===D.PUSH_RECEIVED&&this.onMessageCallback(i),V(o=i.data)&&"1"===o["google.c.a.e"]?[4,this.logEvent(r,o)]:[3,2]):[2];case 1:a.sent(),a.label=2;case 2:return[2]}}))}))},t.prototype.logEvent=function(t,e){return s(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case D.NOTIFICATION_CLICKED:return"notification_open";case D.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();var q=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!0,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(!t||"function"!==typeof t)throw v.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.getToken=function(){var t,e;return s(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,E(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:T,r.label=2;case 2:return[2,R(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return L(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw v.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw v.create("use-vapid-key-after-get-token");if("string"!==typeof t||0===t.length)throw v.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw v.create("only-available-in-window")},t.prototype.onMessage=function(){throw v.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw v.create("only-available-in-window")},t.prototype.onPush=function(t){return s(this,void 0,void 0,(function(){var e,n,r;return u(this,(function(i){switch(i.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,W()]:[2];case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(n=i.sent())?[2,H(n,e)]:(r=function(t){var e;if(!t||"object"!==typeof t.notification)return;var n=a({},t.notification);return n.data=a(a({},t.notification.data),((e={}).FCM_MSG=t,e)),n}(e))?[4,Y(r)]:[3,3];case 2:return i.sent(),[3,5];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(e)]:[3,5];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return s(this,void 0,void 0,(function(){var r;return u(this,(function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,L(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,E(this.firebaseDependencies)];case 3:return r=i.sent(),[4,L(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,R(this.firebaseDependencies,self.registration,null!==(n=null===(e=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:T)];case 5:return i.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return s(this,void 0,void 0,(function(){var r,i,o,a;return u(this,(function(s){switch(s.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r,i=null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action;if(i)return i;return V(t.data)?self.location.origin:null}(r))?[4,z(i)]:[2]):[2];case 1:return(o=s.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return o=s.sent(),[4,(u=3e3,new Promise((function(t){setTimeout(t,u)})))];case 3:return s.sent(),[3,6];case 4:return[4,o.focus()];case 5:o=s.sent(),s.label=6;case 6:return o?(a=G(D.NOTIFICATION_CLICKED,r),[2,o.postMessage(a)]):[2]}var u}))}))},t}();function z(t){return s(this,void 0,void 0,(function(){var e,n,r,i,o,a,s;return u(this,(function(u){switch(u.label){case 0:return e=new URL(t,self.location.href).href,[4,W()];case 1:n=u.sent();try{for(r=l(n),i=r.next();!i.done;i=r.next())if(o=i.value,new URL(o.url,self.location.href).href===e)return[2,o]}catch(c){a={error:c}}finally{try{i&&!i.done&&(s=r.return)&&s.call(r)}finally{if(a)throw a.error}}return[2,null]}}))}))}function H(t,e){var n,r,i=G(D.PUSH_RECEIVED,e);try{for(var o=l(t),a=o.next();!a.done;a=o.next()){a.value.postMessage(i)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function W(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function G(t,e){return{firebaseMessaging:{type:t,payload:e}}}function Y(t){var e,n=null!==(e=t.title)&&void 0!==e?e:"",r=t.actions,i=Notification.maxActions;return r&&i&&r.length>i&&console.warn("This browser only supports "+i+" actions. The remaining actions will not be displayed."),self.registration.showNotification(n,t)}var $={isSupported:X};function X(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}i.a.INTERNAL.registerComponent(new o.Component("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw g("App Configuration Object");if(!t.name)throw g("App Name");var r=t.options;try{for(var i=l(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw g(a)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!X())throw v.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new q(n):new U(n)}),"PUBLIC").setServiceProps($))},function(t,e,n){"use strict";n.r(e);var r=n(2),i=n.n(r);function o(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function a(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var s=n(10);n.d(e,"registerStorage",(function(){return ye}));var u=function(){function t(t,e){this.code_=I(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return I(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),l="unknown",c="object-not-found",h="quota-exceeded",f="unauthenticated",p="unauthorized",d="retry-limit-exceeded",v="canceled",g="invalid-url",y="invalid-default-bucket",m="no-default-bucket",_="cannot-slice-blob",b="server-file-wrong-size",w="no-download-url",x="invalid-argument",E="invalid-argument-count",S="app-deleted",C="invalid-root-operation",k="invalid-format",T="internal-error";function I(t){return"storage/"+t}function A(){return new u(l,"An unknown error occurred, please check the error payload for server response.")}function M(){return new u(v,"User canceled the upload/download.")}function P(){return new u(_,"Cannot slice blob for upload. Please retry the upload.")}function O(){return new u(w,"The given file does not have any download URLs.")}function N(t,e,n){return new u(x,"Invalid argument in `"+e+"` at index "+t+": "+n)}function D(){return new u(S,"The Firebase app was deleted.")}function R(t,e){return new u(k,"String does not match format '"+t+"': "+e)}function L(t){throw new u(T,"Internal error: "+t)}var F={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function j(t){switch(t){case F.RAW:case F.BASE64:case F.BASE64URL:case F.DATA_URL:return;default:throw"Expected one of the event types: ["+F.RAW+", "+F.BASE64+", "+F.BASE64URL+", "+F.DATA_URL+"]."}}var B=function(t,e){this.data=t,this.contentType=e||null};function V(t,e){switch(t){case F.RAW:return new B(U(e));case F.BASE64:case F.BASE64URL:return new B(q(t,e));case F.DATA_URL:return new B(function(t){var e=new z(t);return e.base64?q(F.BASE64,e.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw R(F.DATA_URL,"Malformed data URL.")}return U(e)}(e.rest)}(e),new z(e).contentType)}throw A()}function U(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<t.length-1&&56320===(64512&t.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else e.push(239,191,189);else 56320===(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function q(t,e){switch(t){case F.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw R(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case F.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw R(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(l){throw R(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var z=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw R(F.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1);var r,i};var H,W={STATE_CHANGED:"state_changed"},G="running",Y="pausing",$="paused",X="success",Q="canceling",K="canceled",J="error",Z={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function tt(t){switch(t){case G:case Y:case Q:return Z.RUNNING;case $:return Z.PAUSED;case X:return Z.SUCCESS;case K:return Z.CANCELED;case J:default:return Z.ERROR}}function et(t){return null!=t}function nt(t){return void 0!==t}function rt(t){return"function"===typeof t}function it(t){return"object"===typeof t}function ot(t){return it(t)&&null!==t}function at(t){return"string"===typeof t||t instanceof String}function st(t){return ut(t)&&Number.isInteger(t)}function ut(t){return"number"===typeof t||t instanceof Number}function lt(t){return ct()&&t instanceof Blob}function ct(){return"undefined"!==typeof Blob}!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(H||(H={}));var ht=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=H.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=H.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=H.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw L("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),et(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return et(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw L("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw L("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw L("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){et(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){et(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),ft=function(){function t(){}return t.prototype.createXhrIo=function(){return new ht},t}();function pt(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function dt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=pt();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(ct())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var vt=function(){function t(t,e){var n=0,r="";lt(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(lt(this.data_)){var r=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===r?null:new t(r)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(ct()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(dt.apply(null,r))}var i=e.map((function(t){return at(t)?V(F.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]})),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}(),gt=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new u(y,"Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null;var r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");for(var i="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),o=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+i+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(t){t.path_=decodeURIComponent(t.path)}}],a=0;a<o.length;a++){var s=o[a],l=s.regex.exec(e);if(l){var c=l[s.indices.bucket],h=l[s.indices.path];h||(h=""),n=new t(c,h),s.postModify(n);break}}if(null==n)throw function(t){return new u(g,"Invalid URL '"+t+"'.")}(e);return n},t}();function yt(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return it(n=e)&&!Array.isArray(n)?e:null}function mt(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function _t(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function bt(t){return"https://firebasestorage.googleapis.com/v0"+t}function wt(t){var e=encodeURIComponent,n="?";for(var r in t){if(t.hasOwnProperty(r))n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1)}function xt(t,e){return e}var Et=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||xt},St=null;function Ct(){if(St)return St;var t=[];t.push(new Et("bucket")),t.push(new Et("generation")),t.push(new Et("metageneration")),t.push(new Et("name","fullPath",!0));var e=new Et("name");e.xform=function(t,e){return function(t){return!at(t)||t.length<2?t:_t(t)}(e)},t.push(e);var n=new Et("size");return n.xform=function(t,e){return et(e)?Number(e):e},t.push(n),t.push(new Et("timeCreated")),t.push(new Et("updated")),t.push(new Et("md5Hash",null,!0)),t.push(new Et("cacheControl",null,!0)),t.push(new Et("contentDisposition",null,!0)),t.push(new Et("contentEncoding",null,!0)),t.push(new Et("contentLanguage",null,!0)),t.push(new Et("contentType",null,!0)),t.push(new Et("metadata","customMetadata",!0)),St=t}function kt(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,i=new gt(n,r);return e.makeStorageReference(i)}})}(r,t),r}function Tt(t,e,n){var r=yt(e);return null===r?null:kt(t,r,n)}function It(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function At(t){if(!it(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!it(n))throw"Expected object for 'customMetadata' mapping."}else if(ot(n))throw"Mapping for '"+e+"' cannot be an object."}}function Mt(t,e){var n={prefixes:[],items:[],nextPageToken:e.nextPageToken},r=t.bucket();if(null===r)throw new u(m,"No default bucket found. Did you set the 'storageBucket' property when initializing the app?");if(e.prefixes)for(var i=0,o=e.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t.makeStorageReference(new gt(r,a));n.prefixes.push(s)}if(e.items)for(var l=0,c=e.items;l<c.length;l++){var h=c[l];s=t.makeStorageReference(new gt(r,h.name));n.items.push(s)}return n}function Pt(t){if(!it(t)||!t)throw"Expected ListOptions object.";for(var e in t)if("maxResults"===e){if(!st(t.maxResults)||t.maxResults<=0)throw"Expected maxResults to be a positive number.";if(t.maxResults>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if("pageToken"!==e)throw"Unknown option: "+e;if(t.pageToken&&!at(t.pageToken))throw"Expected pageToken to be string."}}var Ot=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Nt(t){if(!t)throw A()}function Dt(t,e){return function(n,r){var i=Tt(t,r,e);return Nt(null!==i),i}}function Rt(t){return function(e,n){var r=function(t,e){var n=yt(e);return null===n?null:Mt(t,n)}(t,n);return Nt(null!==r),r}}function Lt(t,e){return function(n,r){var i=Tt(t,r,e);return Nt(null!==i),function(t,e){var n=yt(e);if(null===n)return null;if(!at(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.bucket,r=t.fullPath;return bt("/b/"+i(n)+"/o/"+i(r))+wt({alt:"media",token:e})}))[0]}(i,r)}}function Ft(t){return function(e,n){var r,i,o;return 401===e.getStatus()?r=new u(f,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new u(h,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,r=new u(p,"User does not have permission to access '"+i+"'.")):r=n,r.setServerResponseProp(n.serverResponseProp()),r}}function jt(t){var e=Ft(t);return function(n,r){var i,o=e(n,r);return 404===n.getStatus()&&(i=t.path,o=new u(c,"Object '"+i+"' does not exist.")),o.setServerResponseProp(r.serverResponseProp()),o}}function Bt(t,e,n){var r=bt(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new Ot(r,"GET",Dt(t,n),i);return o.errorHandler=jt(e),o}function Vt(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=bt(e.bucketOnlyServerUrl()),s=t.maxOperationRetryTime(),u=new Ot(a,"GET",Rt(t),s);return u.urlParams=o,u.errorHandler=Ft(e),u}function Ut(t,e,n){var r=bt(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new Ot(r,"GET",Lt(t,n),i);return o.errorHandler=jt(e),o}function qt(t,e,n,r){var i=bt(e.fullServerUrl()),o=It(n,r),a=t.maxOperationRetryTime(),s=new Ot(i,"PATCH",Dt(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=jt(e),s}function zt(t,e){var n=bt(e.fullServerUrl()),r=t.maxOperationRetryTime();var i=new Ot(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=jt(e),i}function Ht(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}var Wt=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function Gt(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){Nt(!1)}return Nt(!!n&&-1!==(e||["active"]).indexOf(n)),n}function Yt(t,e,n,r,i,o,a,s){var l=new Wt(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new u(b,"Server recorded incorrect upload file size, please retry the upload.");var c=l.total-l.current,h=c;i>0&&(h=Math.min(h,i));var f=l.current,p=f+h,d={"X-Goog-Upload-Command":h===c?"upload, finalize":"upload","X-Goog-Upload-Offset":l.current},v=r.slice(f,p);if(null===v)throw P();var g=e.maxUploadRetryTime(),y=new Ot(n,"POST",(function(t,n){var i,a=Gt(t,["active","final"]),s=l.current+h,u=r.size();return i="final"===a?Dt(e,o)(t,n):null,new Wt(s,u,"final"===a,i)}),g);return y.headers=d,y.body=v.uploadData(),y.progressCallback=s||null,y.errorHandler=Ft(t),y}var $t=function(t,e,n){if(rt(t)||et(e)||et(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},Xt=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};function Qt(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}if(!(r<=n.length&&n.length<=i))throw function(t,e,n,r){var i,o;return t===e?(i=t,o=1===t?"argument":"arguments"):(i="between "+t+" and "+e,o="arguments"),new u(E,"Invalid argument count in `"+n+"`: Expected "+i+" "+o+", received "+r+".")}(r,i,t,n.length);for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(a){throw a instanceof Error?N(o,t,a.message):N(o,t,a)}}var Kt=function(t,e){var n=this;this.validator=function(e){n.optional&&!nt(e)||t(e)},this.optional=!!e};function Jt(t,e){function n(t){if(!at(t))throw"Expected string."}var r,i,o;return t?(i=n,o=t,r=function(t){i(t),o(t)}):r=n,new Kt(r,e)}function Zt(){return new Kt((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||ct()&&t instanceof Blob))throw"Expected Blob or File."}))}function te(t){return new Kt(At,t)}function ee(t){return new Kt(Pt,t)}function ne(){return new Kt((function(t){if(!(ut(t)&&t>=0))throw"Expected a number 0 or greater."}))}function re(t,e){return new Kt((function(e){if(!(null===e||et(e)&&e instanceof Object))throw"Expected an Object.";void 0!==t&&null!==t&&t(e)}),e)}function ie(t){return new Kt((function(t){if(!(null===t||rt(t)))throw"Expected a Function."}),t)}function oe(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var ae=function(){function t(t,e,n,r,i,o){var a=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=G,this.errorHandler_=function(t){a.request_=null,a.chunkMultiplier_=1,t.codeEquals(v)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=t,a.transition_(J))},this.metadataErrorHandler_=function(t){a.request_=null,t.codeEquals(v)?a.completeTransitions_():(a.error_=t,a.transition_(J))},this.promise_=new Promise((function(t,e){a.resolve_=t,a.reject_=e,a.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===G&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then((function(n){switch(e.state_){case G:t(n);break;case Q:e.transition_(K);break;case Y:e.transition_($)}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=Ht(e,r,i),s={name:a.fullPath},u=bt(o),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},c=It(a,n),h=t.maxUploadRetryTime(),f=new Ot(u,"POST",(function(t){var e;Gt(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){Nt(!1)}return Nt(at(e)),e}),h);return f.urlParams=s,f.headers=l,f.body=c,f.errorHandler=Ft(e),f}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=function(t,e,n,r){var i=t.maxUploadRetryTime(),o=new Ot(n,"POST",(function(t){var e=Gt(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Nt(!1)}n||Nt(!1);var i=Number(n);return Nt(!isNaN(i)),new Wt(i,r.size(),"final"===e)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Ft(e),o}(t.authWrapper_,t.location_,e,t.blob_),i=t.authWrapper_.makeRequest(r,n);t.request_=i,i.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new Wt(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=Yt(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(s){return t.error_=s,void t.transition_(J)}var a=t.authWrapper_.makeRequest(o,i);t.request_=a,a.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(X)):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=Bt(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_(X)}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=Ht(e,r,i),l="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+It(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",c="\r\n--"+s+"--",h=vt.getBlob(l,r,c);if(null===h)throw P();var f={name:u.fullPath},p=bt(o),d=t.maxUploadRetryTime(),v=new Ot(p,"POST",Dt(t,n),d);return v.urlParams=f,v.headers=a,v.body=h.uploadData(),v.errorHandler=Ft(e),v}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(X)}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case Q:case Y:this.state_=t,null!==this.request_&&this.request_.cancel();break;case G:var e=this.state_===$;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case $:this.state_=t,this.notifyObservers_();break;case K:this.error_=M(),this.state_=t,this.notifyObservers_();break;case J:case X:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case Y:this.transition_($);break;case Q:this.transition_(K);break;case G:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=tt(this.state_);return new Xt(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(){if(t!==W.STATE_CHANGED)throw"Expected one of the event types: ["+W.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",a=ie(!0).validator,s=re(null,!0).validator;function u(t){try{return void a(t)}catch(e){}try{if(s(t),!(nt(t.next)||nt(t.error)||nt(t.complete)))throw"";return}catch(e){throw o}}var l=[Jt(i),re(u,!0),ie(!0),ie(!0)];Qt("on",l,arguments);var c=this;function h(t){return function(e,n,i){null!==t&&Qt("on",t,arguments);var o=new $t(e,n,r);return c.addObserver_(o),function(){c.removeObserver_(o)}}}function f(t){if(null===t)throw o;u(t)}var p=[re(f),ie(!0),ie(!0)],d=!(nt(e)||nt(n)||nt(r));return d?h(p):h(null)(e,n,r)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(tt(this.state_)){case Z.SUCCESS:oe(this.resolve_.bind(null,this.snapshot))();break;case Z.CANCELED:case Z.ERROR:oe(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(tt(this.state_)){case Z.RUNNING:case Z.PAUSED:t.next&&oe(t.next.bind(t,this.snapshot))();break;case Z.SUCCESS:t.complete&&oe(t.complete.bind(t))();break;case Z.CANCELED:case Z.ERROR:t.error&&oe(t.error.bind(t,this.error_))();break;default:t.error&&oe(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){Qt("resume",[],arguments);var t=this.state_===$||this.state_===Y;return t&&this.transition_(G),t},t.prototype.pause=function(){Qt("pause",[],arguments);var t=this.state_===G;return t&&this.transition_(Y),t},t.prototype.cancel=function(){Qt("cancel",[],arguments);var t=this.state_===G||this.state_===Y;return t&&this.transition_(Q),t},t}(),se=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof gt?e:gt.makeFromUrl(e)}return t.prototype.toString=function(){return Qt("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return Ct()},t.prototype.child=function(t){Qt("child",[Jt()],arguments);var e=mt(this.location.path,t),n=new gt(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new gt(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new gt(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return _t(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),Qt("put",[Zt(),te(!0)],arguments),this.throwIfRoot_("put"),new ae(this,this.authWrapper,this.location,this.mappings(),new vt(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=F.RAW),Qt("putString",[Jt(),Jt(j,!0),te(!0)],arguments),this.throwIfRoot_("putString");var r=V(e,t),i=Object.assign({},n);return!et(i.contentType)&&et(r.contentType)&&(i.contentType=r.contentType),new ae(this,this.authWrapper,this.location,this.mappings(),new vt(r.data,!0),i)},t.prototype.delete=function(){var t=this;return Qt("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then((function(e){var n=zt(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){Qt("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return n=this,r=void 0,a=function(){var n,r,i,a;return o(this,(function(o){switch(o.label){case 0:return n={pageToken:e},[4,this.list(n)];case 1:return r=o.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(a=t.items).push.apply(a,r.items),null==r.nextPageToken?[3,3]:[4,this.listAllHelper(t,r.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))},new((i=void 0)||(i=Promise))((function(t,e){function o(t){try{u(a.next(t))}catch(n){e(n)}}function s(t){try{u(a.throw(t))}catch(n){e(n)}}function u(e){e.done?t(e.value):new i((function(t){t(e.value)})).then(o,s)}u((a=a.apply(n,r||[])).next())}));var n,r,i,a},t.prototype.list=function(t){Qt("list",[ee(!0)],arguments);var e=this;return this.authWrapper.getAuthToken().then((function(n){var r=t||{},i=Vt(e.authWrapper,e.location,"/",r.pageToken,r.maxResults);return e.authWrapper.makeRequest(i,n).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return Qt("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then((function(e){var n=Bt(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return Qt("updateMetadata",[te()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then((function(n){var r=qt(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return Qt("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then((function(e){var n=Ut(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw O();return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new u(C,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),ue=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),le=function(){function t(){this.map=new Map,this.id=-9007199254740991}return t.prototype.addRequest=function(t){var e=this,n=this.id;this.id++,this.map.set(n,t),t.getPromise().then((function(){return e.map.delete(n)}),(function(){return e.map.delete(n)}))},t.prototype.clear=function(){this.map.forEach((function(t){t&&t.cancel(!0)})),this.map.clear()},t}(),ce=function(){function t(e,n,r,i,o,a){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var s=this.app_.options;et(s)&&(this.bucket_=t.extractBucket_(s))}this.authProvider_=n,this.storageRefMaker_=r,this.requestMaker_=i,this.pool_=a,this.service_=o,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requestMap_=new le}return t.extractBucket_=function(t){var e=t.storageBucket||null;return null==e?null:gt.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){var t=this.authProvider_.getImmediate({optional:!0});return t?t.getToken().then((function(t){return null!==t?t.accessToken:null}),(function(){return null})):Promise.resolve(null)},t.prototype.bucket=function(){if(this.deleted_)throw D();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new ue(D());var n=this.requestMaker_(t,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}();var he=function(){function t(t,e,n,r,i,o,a,s,u,l,c){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=l,this.timeout_=u,this.pool_=c,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());nt(s)?i(s):i()}catch(l){o(l)}else null!==a?((r=A()).setServerResponseProp(a.getResponseText()),t.errorCallback_?o(t.errorCallback_(a,r)):o(r)):n.canceled?o(r=t.appDelete_?D():M()):o(r=new u(d,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new fe(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,i=null,o=!1,s=0;function u(){return 2===s}var l=!1;function c(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];l||(l=!0,e.apply(null,t))}function h(e){i=setTimeout((function(){i=null,t(f,u())}),e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!l)if(t)c.call.apply(c,a([null,t],e));else{var i,f=u()||o;if(f)c.call.apply(c,a([null,t],e));else r<64&&(r*=2),1===s?(s=2,i=0):i=1e3*(r+Math.random()),h(i)}}var p=!1;function d(t){p||(p=!0,l||(null!==i?(t||(s=2),clearTimeout(i),h(0)):t||(s=1)))}return h(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(e,n){if(n)e(!1,new fe(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===H.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new fe(a,n))}else{var s=n.getErrorCode()===H.ABORT;e(!1,new fe(!1,null,s))}}))}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),fe=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function pe(t,e,n){var r=wt(t.urlParams),o=t.url+r,a=Object.assign({},t.headers);return function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,e),function(t){var e="undefined"!==typeof i.a?i.a.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}(a),new he(o,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n)}var de=function(){function t(t,e,n,r){if(this.bucket_=null,this.authWrapper_=new ce(t,e,(function(t,e){return new se(t,e)}),pe,this,n),this.app_=t,null!=r)this.bucket_=gt.makeFromBucketSpec(r);else{var i=this.authWrapper_.bucket();null!=i&&(this.bucket_=new gt(i,""))}this.internals_=new ve(this)}return t.prototype.ref=function(t){function e(t){if("string"!==typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(Qt("ref",[Jt(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new se(this.authWrapper_,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if("string"!==typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{gt.makeFromUrl(t)}catch(e){throw"Expected valid full URL but got an invalid one."}}return Qt("refFromURL",[Jt(e,!1)],arguments),new se(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){Qt("setMaxUploadRetryTime",[ne()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},t.prototype.setMaxOperationRetryTime=function(t){Qt("setMaxOperationRetryTime",[ne()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),ve=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},t}();function ge(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new de(n,r,new ft,e)}function ye(t){var e={TaskState:Z,TaskEvent:W,StringFormat:F,Storage:de,Reference:se};t.INTERNAL.registerComponent(new s.Component("storage",ge,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.3.28")}ye(i.a)},function(t,e,n){"use strict";n.r(e);var r=n(2),i=n.n(r);n(29);var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var s=n(12),u=n(10);n.d(e,"factory",(function(){return C})),n.d(e,"registerAnalytics",(function(){return k})),n.d(e,"resetGlobalVars",(function(){return E})),n.d(e,"settings",(function(){return S}));var l,c,h,f="https://www.googletagmanager.com/gtag/js";function p(t,e,n){return r=this,i=void 0,s=function(){var r,i;return a(this,(function(o){switch(o.label){case 0:return[4,e.getId()];case 1:return r=o.sent(),n("js",new Date),n(l.CONFIG,t.options.measurementId,((i={}).firebase_id=r,i.origin="firebase",i.update=!0,i)),[2]}}))},new((o=void 0)||(o=Promise))((function(t,e){function n(t){try{u(s.next(t))}catch(n){e(n)}}function a(t){try{u(s.throw(t))}catch(n){e(n)}}function u(e){e.done?t(e.value):new o((function(t){t(e.value)})).then(n,a)}u((s=s.apply(r,i||[])).next())}));var r,i,o,s}function d(t,e,n){var r=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];window[e].push(arguments)};return window[n]&&"function"===typeof window[n]&&(r=window[n]),window[n]=function(t,e){return function(n,r,i){if(n===l.EVENT){var o=[];if(i&&i.send_to){var a=i.send_to;Array.isArray(a)||(a=[a]);for(var s=0,u=a;s<u.length;s++){var c=u[s],h=e[c];if(!h){o=[];break}o.push(h)}}if(0===o.length)for(var f=0,p=Object.values(e);f<p.length;f++){var d=p[f];o.push(d)}Promise.all(o).then((function(){return t(l.EVENT,r,i||{})})).catch((function(t){return console.error(t)}))}else if(n===l.CONFIG){(e[r]||Promise.resolve()).then((function(){t(l.CONFIG,r,i)})).catch((function(t){return console.error(t)}))}else t(l.SET,r)}}(r,t),{gtagCore:r,wrappedGtag:window[n]}}!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(l||(l={})),function(t){t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(c||(c={}));var v,g,y=((h={})["no-ga-id"]='"measurementId" field is empty in Firebase config. Firebase Analytics requires this field to contain a valid measurement ID.',h["already-exists"]="A Firebase Analytics instance with the measurement ID ${id}  already exists. Only one Firebase Analytics instance can be created for each measurement ID.",h["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",h["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate",h),m=new s.ErrorFactory("analytics","Analytics",y),_={},b="dataLayer",w="gtag",x=!1;function E(t,e){void 0===t&&(t=!1),void 0===e&&(e={}),x=t,_=e,b="dataLayer",w="gtag"}function S(t){if(x)throw m.create("already-initialized");t.dataLayerName&&(b=t.dataLayerName),t.gtagName&&(w=t.gtagName)}function C(t,e){var n=t.options.measurementId;if(!n)throw m.create("no-ga-id");if(null!=_[n])throw m.create("already-exists",{id:n});if(!x){(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(f))return r}return null})()||function(t){var e=document.createElement("script");e.src=f+"?l="+t,e.async=!0,document.head.appendChild(e)}(b),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(b);var r=d(_,b,w),i=r.wrappedGtag,a=r.gtagCore;g=i,v=a,x=!0}return _[n]=p(t,e,v),{app:t,logEvent:function(t,e,r){return function(t,e,n,r,i){var a=r||{};i&&i.global||(a=o(o({},r),{send_to:e})),t(l.EVENT,n,a||{})}(g,n,t,e,r)},setCurrentScreen:function(t,e){return function(t,e,n,r){r&&r.global?t(l.SET,{screen_name:n}):t(l.CONFIG,e,{update:!0,screen_name:n})}(g,n,t,e)},setUserId:function(t,e){return function(t,e,n,r){r&&r.global?t(l.SET,{user_id:n}):t(l.CONFIG,e,{update:!0,user_id:n})}(g,n,t,e)},setUserProperties:function(t,e){return function(t,e,n,r){if(r&&r.global){for(var i={},o=0,a=Object.keys(n);o<a.length;o++){var s=a[o];i["user_properties."+s]=n[s]}t(l.SET,i)}else t(l.CONFIG,e,{update:!0,user_properties:n})}(g,n,t,e)},setAnalyticsCollectionEnabled:function(t){return function(t,e){window["ga-disable-"+t]=!e}(n,t)}}}function k(t){t.INTERNAL.registerComponent(new u.Component("analytics",(function(t){return C(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:S,EventName:c})),t.INTERNAL.registerComponent(new u.Component("analytics-internal",(function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(e){throw m.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.2.15")}k(i.a)}]]);
//# sourceMappingURL=2.bc6d27f2.chunk.js.map